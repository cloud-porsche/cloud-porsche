const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ParkingSpotComponent-ro9gV-sV.js","assets/index-DMErBD80.js","assets/index-BfOFdoXM.css","assets/index-BSuDuOJR.js","assets/VDataTable-ttm56Upm.js","assets/VPagination-DB2FKth0.js","assets/VPagination-osFSi_du.css","assets/VSelect-D-yUOLsg.js","assets/VChip-BrkZGLBe.js","assets/VChip-DsRJUznz.css","assets/VSelect-CgvyrPNl.css","assets/VDataTable-DXmHtqsb.css","assets/VRow-BI6NCeNf.js","assets/ParkingSpotComponent-fg3jnu13.css"])))=>i.map(i=>d[i]);
import{_ as st}from"./ProTier-pe_4Pmwg.js";import{b0 as _e,r as H,f as c,h as Ge,az as ut,g as ct,b6 as dt,d as He,_ as Ke,o as z,c as G,w as N,b as X,t as fe,l as o,B as me,aZ as oe,z as xe,aX as vt,aU as mt,Q as ft,ae as pt,j as B,u as St,b7 as gt,b8 as bt,a4 as ie,b9 as yt,ba as ht,bb as Oe,a9 as Ae,bc as j,bd as kt,be as wt,b5 as Je,a5 as We,a8 as ge,aD as Ct,aK as Xe,bf as Vt,bg as _t,ab as be,b4 as $,p as K,aF as xt,bh as Ye,v as Et,bi as Ft,bj as Tt,bk as Ne,bl as Pt,al as Ze,ap as Ee,aq as Qe,at as pe,P as ae,bm as Rt,aw as Fe,bn as At,bo as Mt,bp as zt,as as Dt,aB as Ot,Z as $e,bq as Nt,$ as Te,k as W,m as It,I as se,n as Lt,V as Bt,L as re,a3 as Ut,A as Ie,ai as qt,a1 as ue,E as jt,q as Le,J as le,a_ as Be,C as Gt,T as Q,br as Ht}from"./index-DMErBD80.js";import{V as Kt}from"./VChip-BrkZGLBe.js";import{t as Me,w as Jt,a as Wt,b as et,i as tt,n as Xt,c as Yt}from"./index-BSuDuOJR.js";import{m as Zt,a as Ue,V as Qt}from"./VSelect-D-yUOLsg.js";import{V as $t}from"./VPagination-DB2FKth0.js";const Pe=tt?window:void 0,el=tt?window.document:void 0;function Re(e){var l;const a=Me(e);return(l=a==null?void 0:a.$el)!=null?l:a}function Se(...e){let l,a,t,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,t,s]=e,l=Pe):[l,a,t,s]=e,!l)return Xt;Array.isArray(a)||(a=[a]),Array.isArray(t)||(t=[t]);const d=[],S=()=>{d.forEach(g=>g()),d.length=0},r=(g,b,k,y)=>(g.addEventListener(b,k,y),()=>g.removeEventListener(b,k,y)),f=Ge(()=>[Re(l),Me(s)],([g,b])=>{if(S(),!g)return;const k=Yt(b)?{...b}:b;d.push(...a.flatMap(y=>t.map(F=>r(g,y,F,k))))},{immediate:!0,flush:"post"}),h=()=>{f(),S()};return et(h),h}function tl(){const e=H(!1),l=dt();return l&&ct(()=>{e.value=!0},l),e}function ll(e){const l=tl();return c(()=>(l.value,!!e()))}const ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de="__vueuse_ssr_handlers__",al=nl();function nl(){return de in ce||(ce[de]=ce[de]||{}),ce[de]}function rl(e,l){return al[e]||l}function ol(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const il={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},qe="vueuse-storage";function ve(e,l,a,t={}){var s;const{flush:d="pre",deep:S=!0,listenToStorageChanges:r=!0,writeDefaults:f=!0,mergeDefaults:h=!1,shallow:g,window:b=Pe,eventFilter:k,onError:y=u=>{console.error(u)},initOnMounted:F}=t,_=(g?_e:H)(typeof l=="function"?l():l);if(!a)try{a=rl("getDefaultStorage",()=>{var u;return(u=Pe)==null?void 0:u.localStorage})()}catch(u){y(u)}if(!a)return _;const x=Me(l),i=ol(x),w=(s=t.serializer)!=null?s:il[i],{pause:P,resume:L}=Jt(_,()=>C(_.value),{flush:d,deep:S,eventFilter:k});b&&r&&Wt(()=>{a instanceof Storage?Se(b,"storage",V):Se(b,qe,E),F&&V()}),F||V();function T(u,m){if(b){const v={key:e,oldValue:u,newValue:m,storageArea:a};b.dispatchEvent(a instanceof Storage?new StorageEvent("storage",v):new CustomEvent(qe,{detail:v}))}}function C(u){try{const m=a.getItem(e);if(u==null)T(m,null),a.removeItem(e);else{const v=w.write(u);m!==v&&(a.setItem(e,v),T(m,v))}}catch(m){y(m)}}function M(u){const m=u?u.newValue:a.getItem(e);if(m==null)return f&&x!=null&&a.setItem(e,w.write(x)),x;if(!u&&h){const v=w.read(m);return typeof h=="function"?h(v,x):i==="object"&&!Array.isArray(v)?{...x,...v}:v}else return typeof m!="string"?m:w.read(m)}function V(u){if(!(u&&u.storageArea!==a)){if(u&&u.key==null){_.value=x;return}if(!(u&&u.key!==e)){P();try{(u==null?void 0:u.newValue)!==w.write(_.value)&&(_.value=M(u))}catch(m){y(m)}finally{u?ut(L):L()}}}}function E(u){V(u.detail)}return _}const je=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function sl(e,l={}){const{document:a=el,autoExit:t=!1}=l,s=c(()=>{var i;return(i=Re(e))!=null?i:a==null?void 0:a.querySelector("html")}),d=H(!1),S=c(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(i=>a&&i in a||s.value&&i in s.value)),r=c(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(i=>a&&i in a||s.value&&i in s.value)),f=c(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(i=>a&&i in a||s.value&&i in s.value)),h=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(i=>a&&i in a),g=ll(()=>s.value&&a&&S.value!==void 0&&r.value!==void 0&&f.value!==void 0),b=()=>h?(a==null?void 0:a[h])===s.value:!1,k=()=>{if(f.value){if(a&&a[f.value]!=null)return a[f.value];{const i=s.value;if((i==null?void 0:i[f.value])!=null)return!!i[f.value]}}return!1};async function y(){if(!(!g.value||!d.value)){if(r.value)if((a==null?void 0:a[r.value])!=null)await a[r.value]();else{const i=s.value;(i==null?void 0:i[r.value])!=null&&await i[r.value]()}d.value=!1}}async function F(){if(!g.value||d.value)return;k()&&await y();const i=s.value;S.value&&(i==null?void 0:i[S.value])!=null&&(await i[S.value](),d.value=!0)}async function _(){await(d.value?y():F())}const x=()=>{const i=k();(!i||i&&b())&&(d.value=i)};return Se(a,je,x,!1),Se(()=>Re(s),je,x,!1),t&&et(y),{isSupported:g,isFullscreen:d,enter:F,exit:y,toggle:_}}const ul=He({__name:"CounterCard",props:{name:{type:String,required:!0},current:{type:Number,required:!0},total:{type:Number,required:!1},colors:{type:String,required:!0}},setup(e,{expose:l}){l();function a(s,d,S){if(!(!S||d==="none"))return s===0||S===0?d==="invert"?"tomato":void 0:s===S?d==="invert"?void 0:"tomato":(d==="invert"?s>=S/.65:s>=S/1.35)?"darkgoldenrod":"green"}const t={getCountColor:a};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),cl={class:"pb-1"};function dl(e,l,a,t,s,d){return z(),G(xe,{style:oe({backgroundColor:t.getCountColor(a.current,a.colors,a.total),color:t.getCountColor(a.current,a.colors,a.total)?"white":void 0}),class:"pa-4 d-flex flex-column justify-space-evenly align-center text-center"},{default:N(()=>[X("b",cl,fe(a.name),1),X("span",null,[o(Kt,{class:"larger"},{default:N(()=>[me(fe(a.current+(a.total?" / "+a.total:"")),1)]),_:1})])]),_:1},8,["style"])}const vl=Ke(ul,[["render",dl],["__scopeId","data-v-fafb61d2"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/CounterCard.vue"]]),he=-100,ke=150,we=-1200,Ce=300,ml=He({__name:"[id]",async setup(e,{expose:l}){l();let a,t;const s=gt(()=>bt(()=>import("./ParkingSpotComponent-ro9gV-sV.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),d=vt("fullscreen"),{isFullscreen:S,toggle:r}=sl(d),f=mt(),h=ft(),g=c(()=>h.params.id),b=c(()=>h.params.tenantId);[a,t]=pt(()=>f.fetchSimulationStatus(g.value)),await a,t();const[k,y,F,_]=[!1,40,-100,80],x=ve("view-settings-iso",k),i=ve("view-settings-x",y),w=ve("view-settings-y",F),P=ve("view-settings-zoom",_);function L(){x.value=k,i.value=y,w.value=F,P.value=_}const T=H(!1),C=c(()=>f.properties.find(n=>n.id===g.value)),M=c(()=>f.simulationActive.includes(g.value));let V=H("normal");Ge(V,async()=>{f.simulationActive.includes(g.value)&&await f.updateSimulationSpeed(g.value,V.value)});const E=H(1),u=c(()=>{var n,p;return(p=(n=C.value)==null?void 0:n.layers)==null?void 0:p[E.value-1]}),m=c(()=>{var n;return(n=C.value)==null?void 0:n.layers.flatMap(p=>p.parkingSpots).filter(p=>!p.placeholder)}),v=c(()=>{var n;return((n=m.value)==null?void 0:n.length)??0}),I=c(()=>{var n;return((n=m.value)==null?void 0:n.filter(p=>p.state===B.ParkingSpotState.FREE))??[]}),A=c(()=>{var n;return((n=m.value)==null?void 0:n.filter(p=>p.state===B.ParkingSpotState.OCCUPIED||p.state===B.ParkingSpotState.CHARGING))??[]}),D=c(()=>{var n;return((n=m.value)==null?void 0:n.filter(p=>p.state===B.ParkingSpotState.RESERVED))??[]}),U=c(()=>{var n;return((n=m.value)==null?void 0:n.filter(p=>p.state===B.ParkingSpotState.OUT_OF_ORDER))??[]}),q=c(()=>{var n;return((n=m.value)==null?void 0:n.filter(p=>p.electricCharging))??[]}),ee=c(()=>{var n;return((n=m.value)==null?void 0:n.filter(p=>p.state===B.ParkingSpotState.CHARGING))??[]}),ne=c(()=>{var n;return((n=C.value)==null?void 0:n.customers)??[]}),O=[{id:"Electric",state:B.ParkingSpotState.FREE,electricCharging:!0,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Electric charging spot"},{id:"Charging",state:B.ParkingSpotState.CHARGING,electricCharging:!0,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Electric charging spot that is currently charging"},{id:"Free",state:B.ParkingSpotState.FREE,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Free spot"},{id:"Occupied",state:B.ParkingSpotState.OCCUPIED,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Occupied spot"},{id:"Reserved",state:B.ParkingSpotState.RESERVED,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Reserved spot"},{id:"Out of Order",state:B.ParkingSpotState.OUT_OF_ORDER,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Spot out of order"}];function R(n){n.button!==2||!x.value||(T.value=!0)}function J(n){!T.value||!x.value||(i.value+=n.movementX/8,w.value+=n.movementY,i.value<he&&(i.value=he),i.value>ke&&(i.value=ke),w.value<we&&(w.value=we),w.value>Ce&&(w.value=Ce))}function Y(n){T.value=!1}function te(n,p){f.updateParkingSpot(g.value,n,{id:n,state:p})}const Z={ParkingSpotComponent:s,fullscreenRef:d,isFullscreen:S,toggle:r,propertyStore:f,route:h,id:g,tenantId:b,isoDefault:k,xDefault:y,yDefault:F,zoomDefault:_,isometric:x,xTranslate:i,yTranslate:w,zoom:P,resetViewSettings:L,dragActive:T,property:C,simulationState:M,get selectedSpeed(){return V},set selectedSpeed(n){V=n},page:E,currentLayer:u,allSpots:m,totalSpots:v,freeSpots:I,occupiedSpots:A,reservedSpots:D,outOfOrderSpots:U,electricSpots:q,chargingSpots:ee,customers:ne,exampleSpots:O,xMin:he,xMax:ke,yMin:we,yMax:Ce,dragStart:R,dragMove:J,dragEnd:Y,updateSpotState:te,CounterCard:vl,get useAppStore(){return St}};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),ze=Symbol.for("vuetify:v-slider");function fl(e,l,a){const t=a==="vertical",s=l.getBoundingClientRect(),d="touches"in e?e.touches[0]:e;return t?d.clientY-(s.top+s.height/2):d.clientX-(s.left+s.width/2)}function pl(e,l){return"touches"in e&&e.touches.length?e.touches[0][l]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][l]:e[l]}const Sl=ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...yt(),...ht({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),gl=e=>{const l=c(()=>parseFloat(e.min)),a=c(()=>parseFloat(e.max)),t=c(()=>+e.step>0?parseFloat(e.step):0),s=c(()=>Math.max(Oe(t.value),Oe(l.value)));function d(S){if(S=parseFloat(S),t.value<=0)return S;const r=Je(S,l.value,a.value),f=l.value%t.value,h=Math.round((r-f)/t.value)*t.value+f;return parseFloat(Math.min(h,a.value).toFixed(s.value))}return{min:l,max:a,step:t,decimals:s,roundValue:d}},bl=e=>{let{props:l,steps:a,onSliderStart:t,onSliderMove:s,onSliderEnd:d,getActiveThumb:S}=e;const{isRtl:r}=Ae(),f=j(l,"reverse"),h=c(()=>l.direction==="vertical"),g=c(()=>h.value!==f.value),{min:b,max:k,step:y,decimals:F,roundValue:_}=a,x=c(()=>parseInt(l.thumbSize,10)),i=c(()=>parseInt(l.tickSize,10)),w=c(()=>parseInt(l.trackSize,10)),P=c(()=>(k.value-b.value)/y.value),L=j(l,"disabled"),T=c(()=>l.error||l.disabled?void 0:l.thumbColor??l.color),C=c(()=>l.error||l.disabled?void 0:l.trackColor??l.color),M=c(()=>l.error||l.disabled?void 0:l.trackFillColor??l.color),V=_e(!1),E=_e(0),u=H(),m=H();function v(n){var De;const p=l.direction==="vertical",lt=p?"top":"left",at=p?"height":"width",nt=p?"clientY":"clientX",{[lt]:rt,[at]:ot}=(De=u.value)==null?void 0:De.$el.getBoundingClientRect(),it=pl(n,nt);let ye=Math.min(Math.max((it-rt-E.value)/ot,0),1)||0;return(p?g.value:g.value!==r.value)&&(ye=1-ye),_(b.value+ye*(k.value-b.value))}const I=n=>{d({value:v(n)}),V.value=!1,E.value=0},A=n=>{m.value=S(n),m.value&&(m.value.focus(),V.value=!0,m.value.contains(n.target)?E.value=fl(n,m.value,l.direction):(E.value=0,s({value:v(n)})),t({value:v(n)}))},D={passive:!0,capture:!0};function U(n){s({value:v(n)})}function q(n){n.stopPropagation(),n.preventDefault(),I(n),window.removeEventListener("mousemove",U,D),window.removeEventListener("mouseup",q)}function ee(n){var p;I(n),window.removeEventListener("touchmove",U,D),(p=n.target)==null||p.removeEventListener("touchend",ee)}function ne(n){var p;A(n),window.addEventListener("touchmove",U,D),(p=n.target)==null||p.addEventListener("touchend",ee,{passive:!1})}function O(n){n.preventDefault(),A(n),window.addEventListener("mousemove",U,D),window.addEventListener("mouseup",q,{passive:!1})}const R=n=>{const p=(n-b.value)/(k.value-b.value)*100;return Je(isNaN(p)?0:p,0,100)},J=j(l,"showTicks"),Y=c(()=>J.value?l.ticks?Array.isArray(l.ticks)?l.ticks.map(n=>({value:n,position:R(n),label:n.toString()})):Object.keys(l.ticks).map(n=>({value:parseFloat(n),position:R(parseFloat(n)),label:l.ticks[n]})):P.value!==1/0?kt(P.value+1).map(n=>{const p=b.value+n*y.value;return{value:p,position:R(p)}}):[]:[]),te=c(()=>Y.value.some(n=>{let{label:p}=n;return!!p})),Z={activeThumbRef:m,color:j(l,"color"),decimals:F,disabled:L,direction:j(l,"direction"),elevation:j(l,"elevation"),hasLabels:te,isReversed:f,indexFromEnd:g,min:b,max:k,mousePressed:V,numTicks:P,onSliderMousedown:O,onSliderTouchstart:ne,parsedTicks:Y,parseMouseMove:v,position:R,readonly:j(l,"readonly"),rounded:j(l,"rounded"),roundValue:_,showTicks:J,startOffset:E,step:y,thumbSize:x,thumbColor:T,thumbLabel:j(l,"thumbLabel"),ticks:j(l,"ticks"),tickSize:i,trackColor:C,trackContainerRef:u,trackFillColor:M,trackSize:w,vertical:h};return wt(ze,Z),Z},yl=ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...We()},"VSliderThumb"),hl=ge()({name:"VSliderThumb",directives:{Ripple:Ct},props:yl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a,emit:t}=l;const s=Xe(ze),{isRtl:d,rtlClasses:S}=Ae();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:r,step:f,disabled:h,thumbSize:g,thumbLabel:b,direction:k,isReversed:y,vertical:F,readonly:_,elevation:x,mousePressed:i,decimals:w,indexFromEnd:P}=s,L=c(()=>h.value?void 0:x.value),{elevationClasses:T}=Vt(L),{textColorClasses:C,textColorStyles:M}=_t(r),{pageup:V,pagedown:E,end:u,home:m,left:v,right:I,down:A,up:D}=Ft,U=[V,E,u,m,v,I,A,D],q=c(()=>f.value?[1,2,3]:[1,5,10]);function ee(O,R){if(!U.includes(O.key))return;O.preventDefault();const J=f.value||.1,Y=(e.max-e.min)/J;if([v,I,A,D].includes(O.key)){const Z=(F.value?[d.value?v:I,y.value?A:D]:P.value!==d.value?[v,D]:[I,D]).includes(O.key)?1:-1,n=O.shiftKey?2:O.ctrlKey?1:0;R=R+Z*J*q.value[n]}else if(O.key===m)R=e.min;else if(O.key===u)R=e.max;else{const te=O.key===E?1:-1;R=R-te*J*(Y>100?Y/10:10)}return Math.max(e.min,Math.min(e.max,R))}function ne(O){const R=ee(O,e.modelValue);R!=null&&t("update:modelValue",R)}return be(()=>{const O=$(P.value?100-e.position:e.position,"%");return o("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&i.value},e.class,S.value],style:[{"--v-slider-thumb-position":O,"--v-slider-thumb-size":$(g.value)},e.style],role:"slider",tabindex:h.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!_.value,"aria-orientation":k.value,onKeydown:_.value?void 0:ne},[o("div",{class:["v-slider-thumb__surface",C.value,T.value],style:{...M.value}},null),K(o("div",{class:["v-slider-thumb__ripple",C.value],style:M.value},null),[[xt("ripple"),e.ripple,null,{circle:!0,center:!0}]]),o(Ye,{origin:"bottom center"},{default:()=>{var R;return[K(o("div",{class:"v-slider-thumb__label-container"},[o("div",{class:["v-slider-thumb__label"]},[o("div",null,[((R=a["thumb-label"])==null?void 0:R.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(f.value?w.value:1)])])]),[[Et,b.value&&e.focused||b.value==="always"]])]}})])}),{}}}),kl=ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},...We()},"VSliderTrack"),wl=ge()({name:"VSliderTrack",props:kl(),emits:{},setup(e,l){let{slots:a}=l;const t=Xe(ze);if(!t)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:d,rounded:S,showTicks:r,tickSize:f,trackColor:h,trackFillColor:g,trackSize:b,vertical:k,min:y,max:F,indexFromEnd:_}=t,{roundedClasses:x}=Tt(S),{backgroundColorClasses:i,backgroundColorStyles:w}=Ne(g),{backgroundColorClasses:P,backgroundColorStyles:L}=Ne(h),T=c(()=>`inset-${k.value?"block":"inline"}-${_.value?"end":"start"}`),C=c(()=>k.value?"height":"width"),M=c(()=>({[T.value]:"0%",[C.value]:"100%"})),V=c(()=>e.stop-e.start),E=c(()=>({[T.value]:$(e.start,"%"),[C.value]:$(V.value,"%")})),u=c(()=>r.value?(k.value?d.value.slice().reverse():d.value).map((v,I)=>{var D;const A=v.value!==y.value&&v.value!==F.value?$(v.position,"%"):void 0;return o("div",{key:v.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":v.position>=e.start&&v.position<=e.stop,"v-slider-track__tick--first":v.value===y.value,"v-slider-track__tick--last":v.value===F.value}],style:{[T.value]:A}},[(v.label||a["tick-label"])&&o("div",{class:"v-slider-track__tick-label"},[((D=a["tick-label"])==null?void 0:D.call(a,{tick:v,index:I}))??v.label])])}):[]);return be(()=>o("div",{class:["v-slider-track",x.value,e.class],style:[{"--v-slider-track-size":$(b.value),"--v-slider-tick-size":$(f.value)},e.style]},[o("div",{class:["v-slider-track__background",P.value,{"v-slider-track__background--opacity":!!s.value||!g.value}],style:{...M.value,...L.value}},null),o("div",{class:["v-slider-track__fill",i.value],style:{...E.value,...w.value}},null),r.value&&o("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":r.value==="always"}]},[u.value])])),{}}}),Cl=ie({...Pt(),...Sl(),...Ze(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ve=ge()({name:"VSlider",props:Cl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,l){let{slots:a,emit:t}=l;const s=H(),{rtlClasses:d}=Ae(),S=gl(e),r=Ee(e,"modelValue",void 0,C=>S.roundValue(C??S.min.value)),{min:f,max:h,mousePressed:g,roundValue:b,onSliderMousedown:k,onSliderTouchstart:y,trackContainerRef:F,position:_,hasLabels:x,readonly:i}=bl({props:e,steps:S,onSliderStart:()=>{t("start",r.value)},onSliderEnd:C=>{let{value:M}=C;const V=b(M);r.value=V,t("end",V)},onSliderMove:C=>{let{value:M}=C;return r.value=b(M)},getActiveThumb:()=>{var C;return(C=s.value)==null?void 0:C.$el}}),{isFocused:w,focus:P,blur:L}=Qe(e),T=c(()=>_(r.value));return be(()=>{const C=pe.filterProps(e),M=!!(e.label||a.label||a.prepend);return o(pe,Fe({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||x.value,"v-slider--focused":w.value,"v-slider--pressed":g.value,"v-slider--disabled":e.disabled},d.value,e.class],style:e.style},C,{focused:w.value}),{...a,prepend:M?V=>{var E,u;return o(ae,null,[((E=a.label)==null?void 0:E.call(a,V))??(e.label?o(Rt,{id:V.id.value,class:"v-slider__label",text:e.label},null):void 0),(u=a.prepend)==null?void 0:u.call(a,V)])}:void 0,default:V=>{let{id:E,messagesId:u}=V;return o("div",{class:"v-slider__container",onMousedown:i.value?void 0:k,onTouchstartPassive:i.value?void 0:y},[o("input",{id:E.value,name:e.name||E.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:r.value},null),o(wl,{ref:F,start:0,stop:T.value},{"tick-label":a["tick-label"]}),o(hl,{ref:s,"aria-describedby":u.value,focused:w.value,min:f.value,max:h.value,modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,position:T.value,elevation:e.elevation,onFocus:P,onBlur:L,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),Vl=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ze(),...Zt()},"VSwitch"),_l=ge()({name:"VSwitch",inheritAttrs:!1,props:Vl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const s=Ee(e,"indeterminate"),d=Ee(e,"modelValue"),{loaderClasses:S}=At(e),{isFocused:r,focus:f,blur:h}=Qe(e),g=H(),b=Mt&&window.matchMedia("(forced-colors: active)").matches,k=c(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),y=zt(),F=c(()=>e.id||`switch-${y}`);function _(){s.value&&(s.value=!1)}function x(i){var w,P;i.stopPropagation(),i.preventDefault(),(P=(w=g.value)==null?void 0:w.input)==null||P.click()}return be(()=>{const[i,w]=Dt(a),P=pe.filterProps(e),L=Ue.filterProps(e);return o(pe,Fe({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":s.value},S.value,e.class]},i,P,{modelValue:d.value,"onUpdate:modelValue":T=>d.value=T,id:F.value,focused:r.value,style:e.style}),{...t,default:T=>{let{id:C,messagesId:M,isDisabled:V,isReadonly:E,isValid:u}=T;const m={model:d,isValid:u};return o(Ue,Fe({ref:g},L,{modelValue:d.value,"onUpdate:modelValue":[v=>d.value=v,_],id:C.value,"aria-describedby":M.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:V.value,readonly:E.value,onFocus:f,onBlur:h},w),{...t,default:v=>{let{backgroundColorClasses:I,backgroundColorStyles:A}=v;return o("div",{class:["v-switch__track",b?void 0:I.value],style:A.value,onClick:x},[t["track-true"]&&o("div",{key:"prepend",class:"v-switch__track-true"},[t["track-true"](m)]),t["track-false"]&&o("div",{key:"append",class:"v-switch__track-false"},[t["track-false"](m)])])},input:v=>{let{inputNode:I,icon:A,backgroundColorClasses:D,backgroundColorStyles:U}=v;return o(ae,null,[I,o("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":A||e.loading},e.inset||b?void 0:D.value],style:e.inset?void 0:U.value},[t.thumb?o(Ot,{defaults:{VIcon:{icon:A,size:"x-small"}}},{default:()=>[t.thumb({...m,icon:A})]}):o(Ye,null,{default:()=>[e.loading?o(Nt,{name:"v-switch",active:!0,color:u.value===!1?void 0:k.value},{default:q=>t.loader?t.loader(q):o(Te,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):A&&o($e,{key:String(A),icon:A,size:"x-small"},null)]})])])}})}})}),{}}}),xl={class:"pa-2 pr-8"},El={class:"d-flex align-center ga-2"},Fl={class:"property-main"},Tl={class:"d-flex align-center justify-space-evenly"};function Pl(e,l,a,t,s,d){const S=st;return z(),W("div",{ref:"fullscreen",onMouseup:l[14]||(l[14]=r=>t.dragEnd(r)),style:oe(t.dragActive?{cursor:"all-scroll"}:{})},[t.property?(z(),G(It,{key:0,density:"compact",class:"d-flex align-center pa-1 pl-4 pr-4"},{default:N(()=>[X("span",xl,[X("b",null,"Id: "+fe(t.property.id??"Unknown"),1)]),o(le,{vertical:"",inset:""}),K(o(re,{class:"ml-4",density:"comfortable",to:`/${t.tenantId}/defects/${t.property.id}`,icon:"mdi-hammer-screwdriver"},null,8,["to"]),[[Q,"Defects"]]),K(o(re,{class:"ml-4",density:"comfortable",icon:"mdi-sync",onClick:l[0]||(l[0]=r=>{t.propertyStore.fetchProperty(t.property.id),t.propertyStore.fetchSimulationStatus(t.property.id)})},null,512),[[Q,"Refresh"]]),K(o(re,{class:"ml-4 mr-4",icon:t.isFullscreen?"mdi-fullscreen-exit":"mdi-fullscreen",onClick:t.toggle,density:"comfortable"},null,8,["icon","onClick"]),[[Q,"Toggle Fullscreen Spot View"]]),o(le,{vertical:"",inset:""}),o(Le),o(S,null,{default:N(()=>[X("div",El,[o(Ut,{disabled:t.useAppStore().hasAdminAccess,activator:"parent",text:"Admin only"},null,8,["disabled"]),o(Qt,{label:"Simulation Speed",items:["normal","fast","slow"],modelValue:t.selectedSpeed,"onUpdate:modelValue":l[1]||(l[1]=r=>t.selectedSpeed=r),disabled:!t.useAppStore().wsStatus||!t.useAppStore().hasAdminAccess,density:"compact","hide-details":"","min-width":"150px"},null,8,["modelValue","disabled"]),o(re,{disabled:!t.useAppStore().wsStatus||!t.useAppStore().hasAdminAccess,"append-icon":t.simulationState?"mdi-pause":"mdi-play",text:"Simulation",onClick:l[2]||(l[2]=r=>t.simulationState?t.propertyStore.setSimulationInactive(t.property.id):t.propertyStore.setSimulationActive(t.property.id,t.selectedSpeed))},null,8,["disabled","append-icon"])])]),_:1})]),_:1})):se("",!0),o(Lt,{indeterminate:t.propertyStore.loading,color:t.propertyStore.error?"error":void 0},null,8,["indeterminate","color"]),t.property?(z(),G(Bt,{key:1},{default:N(()=>[X("div",Fl,[o(t.CounterCard,{name:"FREE",current:t.freeSpots.length,total:t.totalSpots,colors:"invert"},null,8,["current","total"]),o(t.CounterCard,{name:"OCCUPIED",current:t.occupiedSpots.length,total:t.totalSpots,colors:"default"},null,8,["current","total"]),o(t.CounterCard,{name:"RESERVED",current:t.reservedSpots.length,total:t.totalSpots,colors:"none"},null,8,["current","total"]),o(t.CounterCard,{name:"CHARGING",current:t.chargingSpots.length,total:t.electricSpots.length,colors:"none"},null,8,["current","total"]),o(t.CounterCard,{name:"OUT OF ORDER",current:t.outOfOrderSpots.length,colors:"none"},null,8,["current"]),K(o(t.CounterCard,{name:"CUSTOMERS",current:t.customers.length,colors:"none"},null,8,["current"]),[[Q,"Count of total daily customers","bottom"]]),o(xe,{class:"legend"},{default:N(()=>[o(Ie,{class:"d-flex ga-2 align-center"},{default:N(()=>[l[16]||(l[16]=me("Legend ")),K((z(),G($e,{size:"sm"},{default:N(()=>l[15]||(l[15]=[me("mdi-information-outline ")])),_:1})),[[Q,"Hover to see what each spot represents","top"]])]),_:1}),o(qt,null,{default:N(()=>[X("span",Tl,[(z(),W(ae,null,ue(t.exampleSpots,r=>o(t.ParkingSpotComponent,{key:r.id,spot:r,explanation:r.explanation},null,8,["spot","explanation"])),64))])]),_:1})]),_:1}),t.currentLayer?(z(),G(xe,{key:0,class:"full-grid-row",onMousedown:l[10]||(l[10]=r=>t.dragStart(r)),onMousemove:l[11]||(l[11]=r=>t.dragMove(r)),onMouseup:l[12]||(l[12]=r=>t.dragEnd(r)),onContextmenu:l[13]||(l[13]=jt(()=>{},["prevent"]))},{default:N(()=>[o(Ie,{class:"d-flex align-center spot-title"},{default:N(()=>[me(fe(t.property.name)+" ",1),o(Le),o(le,{vertical:"",inset:"",class:"ma-4"}),o(S,{class:"d-flex align-center flex-grow-1",modelValue:t.isometric,"onUpdate:modelValue":l[8]||(l[8]=r=>t.isometric=r)},{default:N(()=>[K(o(_l,{label:"Isometric",flat:"",color:t.isometric?"primary":"default",modelValue:t.isometric,"onUpdate:modelValue":l[3]||(l[3]=r=>t.isometric=r),"hide-details":""},null,8,["color","modelValue"]),[[Q,"Toggle Isometric View"]]),K(o(re,{class:"ml-2",icon:"mdi-backup-restore",density:"comfortable",flat:"",onClick:l[4]||(l[4]=r=>t.resetViewSettings())},null,512),[[Q,"Reset View Settings to defaults","bottom"]]),o(le,{vertical:"",inset:"",class:"ma-4"}),o(Ve,{modelValue:t.zoom,"onUpdate:modelValue":l[5]||(l[5]=r=>t.zoom=r),min:20,max:120,step:1,"prepend-icon":"mdi-magnify-minus","append-icon":"mdi-magnify-plus",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"]),o(Ve,{modelValue:t.xTranslate,"onUpdate:modelValue":l[6]||(l[6]=r=>t.xTranslate=r),min:t.xMin,max:t.xMax,step:1,"prepend-icon":"mdi-axis-x-arrow",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"]),o(Ve,{modelValue:t.yTranslate,"onUpdate:modelValue":l[7]||(l[7]=r=>t.yTranslate=r),min:t.yMin,max:t.yMax,step:1,"prepend-icon":"mdi-axis-z-arrow",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"])]),_:1},8,["modelValue"]),o(le,{vertical:"",inset:"",class:"ma-4"}),o($t,{modelValue:t.page,"onUpdate:modelValue":l[9]||(l[9]=r=>t.page=r),length:t.property.layers.length,variant:"outlined","total-visible":"5",density:"comfortable"},null,8,["modelValue","length"])]),_:1}),o(le),t.property.layers.length>0?(z(),W("div",{key:0,style:oe(t.isometric?{transform:`translate3d(${t.xTranslate}%, ${t.yTranslate}px, 0)`}:{})},[t.isometric?t.isometric?(z(!0),W(ae,{key:1},ue(t.property.layers,r=>(z(),W("div",{id:"spot-container",ref_for:!0,ref:"spot-container",class:Ht(["isometric",r.floor===t.currentLayer.floor?"preferred-isometric":""]),style:oe({gridTemplateColumns:`repeat(${r.columns}, minmax(2em, 1fr))`,top:`${r.floor*100}px`,zIndex:r.floor,zoom:`${t.zoom}%`})},[(z(),G(Be,null,{fallback:N(()=>[o(Te,{indeterminate:""})]),default:N(()=>[(z(!0),W(ae,null,ue(r.parkingSpots,f=>(z(),G(t.ParkingSpotComponent,{key:f.id,spot:f,onStateChange:h=>t.updateSpotState(f.id,h)},null,8,["spot","onStateChange"]))),128))]),_:2},1024))],6))),256)):se("",!0):(z(),W("div",{key:0,id:"spot-container",ref:"spot-container",style:oe(t.currentLayer?{gridTemplateColumns:`repeat(${t.currentLayer.columns}, minmax(2em, 1fr))`}:{})},[(z(),G(Be,null,{fallback:N(()=>[o(Te,{indeterminate:""})]),default:N(()=>[(z(!0),W(ae,null,ue(t.currentLayer.parkingSpots,r=>(z(),G(t.ParkingSpotComponent,{key:r.id,spot:r,onStateChange:f=>t.updateSpotState(r.id,f)},null,8,["spot","onStateChange"]))),128))]),_:1}))],4))],4)):(z(),G(Gt,{key:1,class:"pa-4"},{default:N(()=>l[17]||(l[17]=[X("i",null,"No parking spots yet.",-1)])),_:1}))]),_:1})):se("",!0)])]),_:1})):se("",!0)],36)}const Nl=Ke(ml,[["render",Pl],["__scopeId","data-v-81669d33"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/pages/[tenantId]/property/[id].vue"]]);export{Nl as default};
