import Ne from"./ParkingSpotComponent-5fb4auxW.js";import{_ as Be}from"./ProTier-D_-wzBL4.js";import{a4 as F,a8 as ee,ao as Ee,ab as te,l as t,aB as ce,s as w,aC as Oe,aD as qe,aE as Fe,f as P,p as z,aF as We,aG as je,aj as Ge,Z as Ke,aH as q,aI as He,aJ as Me,aK as ze,ap as Je,aw as oe,aL as Qe,aM as Ye,aN as Ze,aO as Xe,aP as $e,N as Ae,aQ as et,aR as ve,aS as tt,aT as ye,P as Z,x as X,d as lt,Q as nt,aU as ge,e as at,u as Ve,ae as rt,aV as ot,r as R,j as I,aW as it,aX as dt,h as st,_ as ut,A as pt,k as M,w as a,V as mt,M as Pe,o as m,b as i,D as g,q as Se,T as J,B as ne,C as ke,a1 as ae,K as Q,c as b,F as se,G as re,I as Y,t as f,J as ft,at as ct,m as be,aY as we,E as vt,L as yt,aZ as Ce,a_ as gt,$ as Vt}from"./index-CiNuP3ky.js";import{m as Pt,V as Te,a as St,b as xe}from"./VWindowItem-C28ohWFn.js";import{V as _,a as c}from"./VRow-CTDBY3_n.js";import{V as kt}from"./VTextarea-UUjhtOLr.js";import{V as Ie}from"./VSelect-DRBV7XU1.js";import{V as ue}from"./VChip-CZvYldw7.js";import{V as _e}from"./VDataTable-cKSkzwYJ.js";import"./index-DiVE-scv.js";import"./VPagination-TvB457B8.js";const De=F({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),bt=ee()({name:"VStepperActions",props:De(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(r,l){let{emit:o,slots:e}=l;const{t:v}=Ee();function V(){o("click:prev")}function y(){o("click:next")}return te(()=>{const p={onClick:V},S={onClick:y};return t("div",{class:"v-stepper-actions"},[t(ce,{defaults:{VBtn:{disabled:["prev",!0].includes(r.disabled),text:v(r.prevText),variant:"text"}}},{default:()=>{var n;return[((n=e.prev)==null?void 0:n.call(e,{props:p}))??t(w,p,null)]}}),t(ce,{defaults:{VBtn:{color:r.color,disabled:["next",!0].includes(r.disabled),text:v(r.nextText),variant:"tonal"}}},{default:()=>{var n;return[((n=e.next)==null?void 0:n.call(e,{props:S}))??t(w,S,null)]}})])}),{}}}),pe=Symbol.for("vuetify:v-stepper"),wt=F({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:q,default:"$complete"},editable:Boolean,editIcon:{type:q,default:"$edit"},error:Boolean,errorIcon:{type:q,default:"$error"},icon:q,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),Ct=F({...wt(),...Oe()},"VStepperItem"),Tt=ee()({name:"VStepperItem",directives:{Ripple:qe},props:Ct(),emits:{"group:selected":r=>!0},setup(r,l){let{slots:o}=l;const e=Fe(r,pe,!0),v=P(()=>(e==null?void 0:e.value.value)??r.value),V=P(()=>r.rules.every(N=>N()===!0)),y=P(()=>!r.disabled&&r.editable),p=P(()=>!r.disabled&&r.editable),S=P(()=>r.error||!V.value),n=P(()=>r.complete||r.rules.length>0&&V.value),d=P(()=>S.value?r.errorIcon:n.value?r.completeIcon:e.isSelected.value&&r.editable?r.editIcon:r.icon),C=P(()=>({canEdit:p.value,hasError:S.value,hasCompleted:n.value,title:r.title,subtitle:r.subtitle,step:v.value,value:r.value}));return te(()=>{var L,h,A;const N=(!e||e.isSelected.value||n.value||p.value)&&!S.value&&!r.disabled,W=!!(r.title!=null||o.title),B=!!(r.subtitle!=null||o.subtitle);function j(){e==null||e.toggle()}return z(t("button",{class:["v-stepper-item",{"v-stepper-item--complete":n.value,"v-stepper-item--disabled":r.disabled,"v-stepper-item--error":S.value},e==null?void 0:e.selectedClass.value],disabled:!r.editable,onClick:j},[y.value&&je(!0,"v-stepper-item"),t(Ge,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:N?r.color:void 0,size:24},{default:()=>{var k;return[((k=o.icon)==null?void 0:k.call(o,C.value))??(d.value?t(Ke,{icon:d.value},null):v.value)]}}),t("div",{class:"v-stepper-item__content"},[W&&t("div",{key:"title",class:"v-stepper-item__title"},[((L=o.title)==null?void 0:L.call(o,C.value))??r.title]),B&&t("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((h=o.subtitle)==null?void 0:h.call(o,C.value))??r.subtitle]),(A=o.default)==null?void 0:A.call(o,C.value)])]),[[We("ripple"),r.ripple&&r.editable,null]])}),{}}}),xt=He("v-stepper-header"),It=F({...Me(Pt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),Le=ee()({name:"VStepperWindow",props:It(),emits:{"update:modelValue":r=>!0},setup(r,l){let{slots:o}=l;const e=ze(pe,null),v=Je(r,"modelValue"),V=P({get(){var y;return v.value!=null||!e?v.value:(y=e.items.value.find(p=>e.selected.value.includes(p.id)))==null?void 0:y.value},set(y){v.value=y}});return te(()=>{const y=Te.filterProps(r);return t(Te,oe({_as:"VStepperWindow"},y,{modelValue:V.value,"onUpdate:modelValue":p=>V.value=p,class:["v-stepper-window",r.class],style:r.style,mandatory:!1,touch:!1}),o)}),{}}}),_t=F({...St()},"VStepperWindowItem"),$=ee()({name:"VStepperWindowItem",props:_t(),setup(r,l){let{slots:o}=l;return te(()=>{const e=xe.filterProps(r);return t(xe,oe({_as:"VStepperWindowItem"},e,{class:["v-stepper-window-item",r.class],style:r.style}),o)}),{}}}),At=F({altLabels:Boolean,bgColor:String,completeIcon:q,editIcon:q,editable:Boolean,errorIcon:q,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Qe()},"Stepper"),Dt=F({...At(),...Ye({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Ze(),...Xe(De(),["prevText","nextText"])},"VStepper"),Lt=ee()({name:"VStepper",props:Dt(),emits:{"update:modelValue":r=>!0},setup(r,l){let{slots:o}=l;const{items:e,next:v,prev:V,selected:y}=$e(r,pe),{displayClasses:p,mobile:S}=Ae(r),{completeIcon:n,editIcon:d,errorIcon:C,color:N,editable:W,prevText:B,nextText:j}=et(r),L=P(()=>r.items.map((k,E)=>{const G=ve(k,r.itemTitle,k),O=ve(k,r.itemValue,E+1);return{title:G,value:O,raw:k}})),h=P(()=>e.value.findIndex(k=>y.value.includes(k.id))),A=P(()=>r.disabled?r.disabled:h.value===0?"prev":h.value===e.value.length-1?"next":!1);return tt({VStepperItem:{editable:W,errorIcon:C,completeIcon:n,editIcon:d,prevText:B,nextText:j},VStepperActions:{color:N,disabled:A,prevText:B,nextText:j}}),te(()=>{const k=ye.filterProps(r),E=!!(o.header||r.items.length),G=r.items.length>0,O=!r.hideActions&&!!(G||o.actions);return t(ye,oe(k,{color:r.bgColor,class:["v-stepper",{"v-stepper--alt-labels":r.altLabels,"v-stepper--flat":r.flat,"v-stepper--non-linear":r.nonLinear,"v-stepper--mobile":S.value},p.value,r.class],style:r.style}),{default:()=>{var U,x;return[E&&t(xt,{key:"stepper-header"},{default:()=>[L.value.map((D,K)=>{let{raw:H,...le}=D;return t(Z,null,[!!K&&t(X,null,null),t(Tt,le,{default:o[`header-item.${le.value}`]??o.header,icon:o.icon,title:o.title,subtitle:o.subtitle})])})]}),G&&t(Le,{key:"stepper-window"},{default:()=>[L.value.map(D=>t($,{value:D.value},{default:()=>{var K,H;return((K=o[`item.${D.value}`])==null?void 0:K.call(o,D))??((H=o.item)==null?void 0:H.call(o,D))}}))]}),(U=o.default)==null?void 0:U.call(o,{prev:V,next:v}),O&&(((x=o.actions)==null?void 0:x.call(o,{next:v,prev:V}))??t(bt,{key:"stepper-actions","onClick:prev":V,"onClick:next":v},o))]}})}),{prev:V,next:v}}}),ht=lt({__name:"index",async setup(r,{expose:l}){l();let o,e;const v=nt(),V=P(()=>v.params.tenantId),y=Ae().mobile,p=ge(),S=at(),n=Ve();[o,e]=rt(()=>S.fetchMonitoringData()),await o,e();const{parkingSpots:d}=ot(p),C=s=>!!s||"This field is required.",N=P(()=>s=>x.value.length>0||"At least one layer must exist."),W=R(!1),B=R("");function j(s){const u=p.properties.find(T=>T.name===s);u?p.deleteProperty(u.id):p.error=!0,B.value="",W.value=!1}const L=P(()=>["General Information","Parking Spots",...x.value.map(s=>`Layer ${s.floor}`),"Confirm"]),h=R(!1),A=R(1),k=R(!1),E=R(!1),G=()=>{k.value&&(A.value===L.value.length?me():A.value+=1)},O={name:"",location:"",description:"",pricePerHour:1,parkingType:I.ParkingPropertyType.TRACK_INDIVIDUAL};let U=it({...O}),x=R([]);const D=dt("layer-form");st(x,()=>{D.value&&D.value.validate()});function K(s){A.value===2?x.value.map(u=>{u.parkingSpots=H(u.spotCount)}):A.value+1===L.value.length&&U.parkingType===I.ParkingPropertyType.TRACK_INDIVIDUAL&&x.value.forEach(u=>u.parkingSpots.map((T,de)=>(T.id=T.placeholder?crypto.randomUUID():u.idPattern.replace("${index}",de.toString()).replace("${layer}",u.floor.toString()),T))),s()}function H(s){return Array.from({length:s},u=>({id:crypto.randomUUID(),state:I.ParkingSpotState.FREE,electricCharging:!1,placeholder:!1,customer:null,lastStateChange:new Date}))}function le(s,u){if(u.electricCharging=!1,u.placeholder)s.parkingSpots=s.parkingSpots.filter(T=>T.placeholder||T.id!==u.id),u.placeholder=!u.placeholder;else{const T=Object.assign({},u);u.placeholder=!u.placeholder,s.parkingSpots.push(T)}}const ie=R(!1);async function me(){E.value=!0,ie.value=!0;const s={...U,lastModified:new Date,layers:x.value,defects:[],tenantId:"",simulationState:I.SimulationState.OFF};await p.addProperty(s),h.value=!1,U={...O},x.value=[],A.value=1,ie.value=!1,E.value=!1}function he(s){const u=ge().parkingSpots(s.id);if(u.length<=0)return;const T=u.filter(de=>de.state===I.ParkingSpotState.OCCUPIED).length;return T===u.length?"tomato":T>=u.length*.65?"darkgoldenrod":"green"}function Ue(s){switch(s){case I.ParkingPropertyType.TRACK_INDIVIDUAL:return"Individual";case I.ParkingPropertyType.TRACK_TOTAL:return"Total";default:return"Unknown"}}function Re(){var s;switch((s=n.tenant.info)==null?void 0:s.tier){case I.TenantTier.FREE:return p.properties.length>=1;case I.TenantTier.PRO:return p.properties.length>=5;case I.TenantTier.ENTERPRISE:return!1;default:return!0}}window.onbeforeunload=()=>{if(h.value)return"Progress will be lost! Are you sure?"};const fe={route:v,tenantId:V,mobile:y,propertyStore:p,monitoringStore:S,appStore:n,parkingSpots:d,required:C,minimumOneLayerExists:N,deleteDialog:W,toDelete:B,deleteProperty:j,stepperPages:L,newPropertyDialog:h,step:A,valid:k,savingProcess:E,validateForm:G,startingNewProperty:O,get newProperty(){return U},set newProperty(s){U=s},get newLayers(){return x},set newLayers(s){x=s},formRef:D,nextOrGenerate:K,generateParkingSpots:H,togglePlaceholder:le,newLoading:ie,saveNewProperty:me,getStateColor:he,toParkingTypeText:Ue,propertyLimitReached:Re,get ParkingPropertyType(){return I.ParkingPropertyType},get ParkingSpotState(){return I.ParkingSpotState},get useAppStore(){return Ve}};return Object.defineProperty(fe,"__isScriptSetup",{enumerable:!1,value:!0}),fe}}),Ut={class:"d-flex pa-4"},Rt={id:"property-panel-container"},Nt={key:0,class:"d-flex pb-8 w-100 h-100 align-center justify-center"},Bt={class:"pl-2 pb-8 text-h6"},Et={class:"d-flex justify-space-between pa-4"};function Ot(r,l,o,e,v,V){const y=pt("v-number-input"),p=Be,S=Ne;return m(),M("div",null,[t(mt,{id:"property-management-page"},{default:a(()=>[i("h1",null,[i("span",Ut,[l[21]||(l[21]=g("Property Management Page ")),t(Se),z(t(w,{class:"ml-4",icon:"mdi-plus",onClick:l[0]||(l[0]=n=>e.newPropertyDialog=!0),disabled:!e.appStore.hasAdminAccess||e.propertyLimitReached()},null,8,["disabled"]),[[J,e.useAppStore().hasAdminAccess?e.propertyLimitReached()?"Maximum Properties Reached!":"Add new Property":"Admin only!"]]),z(t(w,{class:"ml-4",icon:"mdi-delete",color:"error",disabled:e.propertyStore.properties.length<=0||!e.appStore.hasAdminAccess,onClick:l[1]||(l[1]=n=>e.deleteDialog=!0)},null,8,["disabled"]),[[J,e.useAppStore().hasAdminAccess?"Delete":"Admin only!"]]),z(t(w,{class:"ml-4",icon:"mdi-refresh",color:e.propertyStore.error?"error":void 0,onClick:l[2]||(l[2]=n=>e.propertyStore.fetchProperties())},null,8,["color"]),[[J,"Refresh"]])])]),t(X,{class:"pa-4"}),t(ne,{loading:e.propertyStore.loading||e.newLoading},{default:a(()=>[t(ke,null,{default:a(()=>l[22]||(l[22]=[g("Your Properties:")])),_:1}),i("div",Rt,[(m(!0),M(Z,null,ae(e.propertyStore.properties,n=>(m(),b(ne,{key:n.id,to:`/${e.tenantId}/property/${n.id}`,value:n.id,style:Ce({backgroundColor:e.getStateColor(n),color:e.getStateColor(n)?"white":void 0}),class:"pa-4 d-flex flex-column justify-space-evenly align-center"},{default:a(()=>[i("b",null,f(n.name),1),i("small",null,f(n.location),1),t(ue,null,{default:a(()=>[g(f(e.parkingSpots(n.id).filter(d=>d.state===e.ParkingSpotState.OCCUPIED||d.state===e.ParkingSpotState.CHARGING).length)+" / "+f(e.parkingSpots(n.id).length),1)]),_:2},1024)]),_:2},1032,["to","value","style"]))),128))]),e.propertyStore.properties.length<=0?(m(),M("div",Nt," No Property present. ")):Q("",!0)]),_:1},8,["loading"])]),_:1}),t(Pe,{modelValue:e.newPropertyDialog,"onUpdate:modelValue":l[16]||(l[16]=n=>e.newPropertyDialog=n),persistent:e.step!==1},{default:a(()=>[t(Lt,{modelValue:e.step,"onUpdate:modelValue":l[15]||(l[15]=n=>e.step=n),items:e.stepperPages,mobile:e.mobile,"show-actions":""},{actions:a(({next:n,prev:d})=>[i("span",Et,[e.step>1?(m(),b(w,{key:0,onClick:d},{default:a(()=>l[36]||(l[36]=[g("Previous")])),_:2},1032,["onClick"])):e.step<=1?(m(),b(w,{key:1,onClick:l[13]||(l[13]=C=>e.newPropertyDialog=!1)},{default:a(()=>l[37]||(l[37]=[g("Cancel ")])),_:1})):Q("",!0),e.step<e.stepperPages.length?(m(),b(w,{key:2,disabled:!e.valid,onClick:C=>e.nextOrGenerate(n)},{default:a(()=>l[38]||(l[38]=[g("Next")])),_:2},1032,["disabled","onClick"])):e.step>=e.stepperPages.length?(m(),b(w,{key:3,disabled:!e.valid||e.savingProcess,onClick:l[14]||(l[14]=C=>e.saveNewProperty())},{default:a(()=>l[39]||(l[39]=[g("Save")])),_:1},8,["disabled"])):Q("",!0)])]),default:a(()=>[t(Le,null,{default:a(()=>[t($,{value:1},{default:a(()=>[t(se,{class:"pa-2",modelValue:e.valid,"onUpdate:modelValue":l[8]||(l[8]=n=>e.valid=n),onSubmit:re(e.validateForm,["prevent"])},{default:a(()=>[t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(Y,{modelValue:e.newProperty.name,"onUpdate:modelValue":l[3]||(l[3]=n=>e.newProperty.name=n),label:"Name",required:"",variant:"outlined",rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(c,null,{default:a(()=>[t(Y,{modelValue:e.newProperty.location,"onUpdate:modelValue":l[4]||(l[4]=n=>e.newProperty.location=n),label:"Location",required:"",variant:"outlined",rules:[e.required]},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(kt,{modelValue:e.newProperty.description,"onUpdate:modelValue":l[5]||(l[5]=n=>e.newProperty.description=n),label:"Description",variant:"outlined",rules:[]},null,8,["modelValue"])]),_:1})]),_:1}),t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(y,{modelValue:e.newProperty.pricePerHour,"onUpdate:modelValue":l[6]||(l[6]=n=>e.newProperty.pricePerHour=n),label:"Price per Hour",min:1,variant:"outlined",rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),t(c,null,{default:a(()=>[t(Ie,{modelValue:e.newProperty.parkingType,"onUpdate:modelValue":l[7]||(l[7]=n=>e.newProperty.parkingType=n),label:"Parking Type - Track each spot or total",items:[e.ParkingPropertyType.TRACK_INDIVIDUAL,e.ParkingPropertyType.TRACK_TOTAL],density:"comfortable",variant:"outlined",rules:[]},{selection:a(({item:n})=>[t(ue,null,{default:a(()=>[g(f(e.toParkingTypeText(n.raw)),1)]),_:2},1024)]),item:a(({props:n,item:d})=>[t(ft,oe(n,{title:""}),{default:a(()=>[t(ue,null,{default:a(()=>[g(f(e.toParkingTypeText(d.raw)),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","items"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t($,{value:2},{default:a(()=>[t(se,{class:"pa-2","validate-on":"eager",modelValue:e.valid,"onUpdate:modelValue":l[11]||(l[11]=n=>e.valid=n),ref:"layer-form",onSubmit:re(e.validateForm,["prevent"])},{default:a(()=>[e.newLayers.length<=0?(m(),b(ct,{key:0,class:"pb-2 d-flex justify-center align-center",rules:[e.minimumOneLayerExists],disabled:""},null,8,["rules"])):Q("",!0),(m(!0),M(Z,null,ae(e.newLayers,n=>(m(),b(_,{key:n.floor},{default:a(()=>[t(c,{class:"d-flex flex-grow-0 text-no-wrap justify-center align-center"},{default:a(()=>[i("span",Bt,"Layer "+f(n.floor),1)]),_:2},1024),t(c,null,{default:a(()=>[t(Y,{modelValue:n.name,"onUpdate:modelValue":d=>n.name=d,label:"Name",required:"",variant:"outlined",rules:[e.required],"hide-details":""},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),t(c,null,{default:a(()=>[t(Y,{modelValue:n.description,"onUpdate:modelValue":d=>n.description=d,label:"Description",variant:"outlined",rules:[],"hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(c,null,{default:a(()=>[t(y,{modelValue:n.columns,"onUpdate:modelValue":d=>n.columns=d,label:"Number of columns",required:"",variant:"outlined",rules:[e.required],"hide-details":"",min:1},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),t(c,null,{default:a(()=>[t(y,{modelValue:n.spotCount,"onUpdate:modelValue":d=>n.spotCount=d,label:"Number of spots in this layer",required:"",variant:"outlined",rules:[e.required],"validate-on":"eager",min:1},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),t(c,{class:"flex-grow-0 align-center"},{default:a(()=>[z(t(w,{icon:"mdi-delete",variant:"outlined",color:"error",onClick:d=>e.newLayers.splice(e.newLayers.indexOf(n),1)},null,8,["onClick"]),[[J,"Delete this layer","bottom"]])]),_:2},1024)]),_:2},1024))),128)),t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[e.newLayers.length>0?(m(),b(X,{key:0})):Q("",!0)]),_:1})]),_:1}),t(_,null,{default:a(()=>[t(c,{class:"d-flex justify-center"},{default:a(()=>[e.newLayers.length>0?(m(),b(p,{key:0},{default:a(()=>[t(w,{"prepend-icon":"mdi-plus",onClick:l[9]||(l[9]=n=>e.newLayers.push({floor:e.newLayers.length+1,name:"",description:"",spotCount:100,columns:25,idPattern:"${layer}-${index}",parkingSpots:[]}))},{default:a(()=>l[23]||(l[23]=[g(" Add Layer ")])),_:1})]),_:1})):(m(),b(w,{key:1,"prepend-icon":"mdi-plus",onClick:l[10]||(l[10]=n=>e.newLayers.push({floor:e.newLayers.length+1,name:"",description:"",spotCount:100,columns:25,idPattern:"${layer}-${index}",parkingSpots:[]}))},{default:a(()=>l[24]||(l[24]=[g(" Add Layer ")])),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),(m(!0),M(Z,null,ae(e.newLayers,n=>(m(),b($,{key:n.floor,name:"Layer "+n.floor,value:n.floor+2},{default:a(()=>[t(se,{class:"pa-2",modelValue:e.valid,"onUpdate:modelValue":l[12]||(l[12]=d=>e.valid=d),onSubmit:re(e.validateForm,["prevent"])},{default:a(()=>[t(_,null,{default:a(()=>[z((m(),b(c,null,{default:a(()=>[t(Y,{disabled:e.newProperty.parkingType===e.ParkingPropertyType.TRACK_TOTAL,modelValue:n.idPattern,"onUpdate:modelValue":d=>n.idPattern=d,label:"Spot Id Generation Pattern (f.e. 'PS-${index}', '${index}')",required:"",variant:"outlined",rules:[e.required]},null,8,["disabled","modelValue","onUpdate:modelValue","rules"])]),_:2},1024)),[[J,e.newProperty.parkingType===e.ParkingPropertyType.TRACK_TOTAL?"This field is disabled when tracking total parking spots.":void 0,"bottom"]])]),_:2},1024),t(p,null,{default:a(()=>[t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(X),l[25]||(l[25]=i("small",{class:"pa-2 d-flex justify-center align-center text-grey text-center"},[g("Left click a spot to replace it with a placeholder."),i("br"),g(" Right click to mark it as electric charger. ")],-1))]),_:1})]),_:1}),t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[i("div",{id:"spot-container",style:Ce({gridTemplateColumns:`repeat(${n.columns}, 1fr)`})},[(m(),b(gt,null,{fallback:a(()=>[t(Vt,{indeterminate:""})]),default:a(()=>[(m(!0),M(Z,null,ae(n.parkingSpots,d=>(m(),b(S,{key:d.id,spot:d,"disable-dialog":"",onClick:C=>e.togglePlaceholder(n,d),onContextmenu:re(C=>d.electricCharging=!d.electricCharging,["prevent"])},null,8,["spot","onClick","onContextmenu"]))),128))]),_:2},1024))],4)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1032,["name","value"]))),128)),t($,{value:e.stepperPages.length},{default:a(()=>[t(ne,{loading:e.newLoading},{default:a(()=>[t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(_e,{items:Object.entries(e.newProperty),density:"compact","disable-sort":"","hide-default-header":"","hide-default-footer":"",dense:""},{top:a(()=>[t(be,{flat:"",rounded:""},{default:a(()=>[t(we,null,{default:a(()=>l[26]||(l[26]=[g("Property Details")])),_:1})]),_:1})]),"body.prepend":a(()=>l[27]||(l[27]=[i("tr",null,[i("th",null,"Attribute"),i("th",null,"Value")],-1)])),body:a(()=>[i("tr",null,[l[28]||(l[28]=i("td",null,"Name",-1)),i("td",null,f(e.newProperty.name),1)]),i("tr",null,[l[29]||(l[29]=i("td",null,"Description",-1)),i("td",null,f(e.newProperty.description),1)]),i("tr",null,[l[30]||(l[30]=i("td",null,"Location",-1)),i("td",null,f(e.newProperty.location),1)]),i("tr",null,[l[31]||(l[31]=i("td",null,"Price / h",-1)),i("td",null,f(e.newProperty.pricePerHour)+" €",1)]),i("tr",null,[l[32]||(l[32]=i("td",null,"Spot counting",-1)),i("td",null,f(e.toParkingTypeText(e.newProperty.parkingType)),1)])]),_:1},8,["items"])]),_:1})]),_:1}),t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(_e,{items:e.newLayers,"hide-default-header":"","hide-default-footer":"",dense:""},{top:a(()=>[t(be,{flat:"",rounded:""},{default:a(()=>[t(we,null,{default:a(()=>l[33]||(l[33]=[g("Layers")])),_:1})]),_:1})]),"body.prepend":a(()=>l[34]||(l[34]=[i("tr",null,[i("th",null,"Layer"),i("th",null,"Name"),i("th",null,"Description"),i("th",null,"Columns"),i("th",null,"Spot Count")],-1)])),item:a(({item:n})=>[i("tr",null,[i("td",null,f(n.floor),1),i("td",null,f(n.name),1),i("td",null,f(n.description),1),i("td",null,f(n.columns),1),i("td",null,f(n.spotCount),1)])]),"body.append":a(()=>[t(X),i("tr",null,[i("td",null,f(e.newLayers.length)+" layers in total ",1),l[35]||(l[35]=i("td",{colspan:"3"},null,-1)),i("td",null,f(e.newLayers.reduce((n,d)=>n+d.spotCount,0))+" spots in total ",1)])]),_:1},8,["items"])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["value"])]),_:1})]),_:1},8,["modelValue","items","mobile"])]),_:1},8,["modelValue","persistent"]),t(Pe,{modelValue:e.deleteDialog,"onUpdate:modelValue":l[20]||(l[20]=n=>e.deleteDialog=n),"max-width":"50%"},{default:a(()=>[t(ne,null,{default:a(()=>[t(ke,null,{default:a(()=>l[40]||(l[40]=[g("Delete Properties")])),_:1}),t(vt,null,{default:a(()=>[t(_,null,{default:a(()=>[t(c,null,{default:a(()=>[t(Ie,{modelValue:e.toDelete,"onUpdate:modelValue":l[17]||(l[17]=n=>e.toDelete=n),items:e.propertyStore.properties.map(n=>n.name),label:"Select Property to delete"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(yt,null,{default:a(()=>{var n;return[t(Se),t(w,{variant:"tonal",onClick:l[18]||(l[18]=d=>{e.deleteDialog=!1,e.toDelete=""})},{default:a(()=>l[41]||(l[41]=[g("Cancel ")])),_:1}),t(w,{variant:"tonal",color:"error",disabled:((n=e.toDelete)==null?void 0:n.length)<=0,onClick:l[19]||(l[19]=d=>e.deleteProperty(e.toDelete))},{default:a(()=>l[42]||(l[42]=[g(" Delete ")])),_:1},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["modelValue"])])}const Yt=ut(ht,[["render",Ot],["__scopeId","data-v-9353a205"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/pages/[tenantId]/property/index.vue"]]);export{Yt as default};
