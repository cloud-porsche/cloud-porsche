const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C3pvQnK5.js","assets/ProTier-Bmn9hluC.js","assets/ProTier-BrOU4x1Z.css","assets/VSelect-DdYazRlL.js","assets/VChip-BvSJCJiQ.js","assets/VChip-DsRJUznz.css","assets/VSelect-CgvyrPNl.css","assets/index-DIzVoQOD.css","assets/_id_-DwgLZj0m.js","assets/VRow-Ci5jsXW5.js","assets/VTextarea-FcFp01aD.js","assets/VTextarea-BAE0bsJs.css","assets/VFileInput-B_TLEQpi.js","assets/VFileInput-CdScEAjv.css","assets/index-CrD7LfuA.js","assets/VDataTable-fWDR98ig.js","assets/VPagination-C_WxDlwY.js","assets/VPagination-osFSi_du.css","assets/VDataTable-DXmHtqsb.css","assets/_id_-9yaKboVv.css","assets/profile-CzyzVD3k.js","assets/profile-2i62Ype7.css","assets/index-QHzyKTj5.js","assets/ParkingSpotComponent-CKgdd5nV.js","assets/ParkingSpotComponent-fg3jnu13.css","assets/VWindowItem-D7sHr1J7.js","assets/VWindowItem-ByIod57Y.css","assets/index-DZVE8zpk.css","assets/_id_-CFtO0KLj.js","assets/_id_-b_2o9LjS.css","assets/settings-Bhg3-uIG.js","assets/settings-Cbn6FGsH.css"])))=>i.map(i=>d[i]);
var HF=Object.defineProperty;var WF=(t,e,n)=>e in t?HF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lt=(t,e,n)=>WF(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function No(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ft=Object.freeze({}),Vc=Object.freeze([]),$i=()=>{},zF=()=>!1,Fd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),_m=t=>t.startsWith("onUpdate:"),gn=Object.assign,S_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},GF=Object.prototype.hasOwnProperty,Yt=(t,e)=>GF.call(t,e),st=Array.isArray,Cl=t=>Bd(t)==="[object Map]",s1=t=>Bd(t)==="[object Set]",qF=t=>Bd(t)==="[object RegExp]",ct=t=>typeof t=="function",hn=t=>typeof t=="string",Lo=t=>typeof t=="symbol",Zt=t=>t!==null&&typeof t=="object",Mg=t=>(Zt(t)||ct(t))&&ct(t.then)&&ct(t.catch),r1=Object.prototype.toString,Bd=t=>r1.call(t),k_=t=>Bd(t).slice(8,-1),o1=t=>Bd(t)==="[object Object]",I_=t=>hn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gh=No(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),KF=No("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Dg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},YF=/-(\w)/g,_i=Dg(t=>t.replace(YF,(e,n)=>n?n.toUpperCase():"")),XF=/\B([A-Z])/g,Mr=Dg(t=>t.replace(XF,"-$1").toLowerCase()),So=Dg(t=>t.charAt(0).toUpperCase()+t.slice(1)),pl=Dg(t=>t?`on${So(t)}`:""),Zi=(t,e)=>!Object.is(t,e),ba=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},wm=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Nb=t=>{const e=parseFloat(t);return isNaN(e)?t:e},a1=t=>{const e=hn(t)?Number(t):NaN;return isNaN(e)?t:e};let wE;const jd=()=>wE||(wE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ng(t){if(st(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=hn(i)?eB(i):Ng(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(hn(t)||Zt(t))return t}const JF=/;(?![^(]*\))/g,QF=/:([^]+)/,ZF=/\/\*[^]*?\*\//g;function eB(t){const e={};return t.replace(ZF,"").split(JF).forEach(n=>{if(n){const i=n.split(QF);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Lg(t){let e="";if(hn(t))e=t;else if(st(t))for(let n=0;n<t.length;n++){const i=Lg(t[n]);i&&(e+=i+" ")}else if(Zt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function gee(t){if(!t)return null;let{class:e,style:n}=t;return e&&!hn(e)&&(t.class=Lg(e)),n&&(t.style=Ng(n)),t}const tB="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",nB="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",iB="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",sB=No(tB),rB=No(nB),oB=No(iB),aB="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lB=No(aB);function l1(t){return!!t||t===""}const c1=t=>!!(t&&t.__v_isRef===!0),Nl=t=>hn(t)?t:t==null?"":st(t)||Zt(t)&&(t.toString===r1||!ct(t.toString))?c1(t)?Nl(t.value):JSON.stringify(t,u1,2):String(t),u1=(t,e)=>c1(e)?u1(t,e.value):Cl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[Nv(i,r)+" =>"]=s,n),{})}:s1(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Nv(n))}:Lo(e)?Nv(e):Zt(e)&&!st(e)&&!o1(e)?String(e):e,Nv=(t,e="")=>{var n;return Lo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fs(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let Gi;class h1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Gi,!e&&Gi&&(this.index=(Gi.scopes||(Gi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Gi;try{return Gi=this,e()}finally{Gi=n}}else Fs("cannot run an inactive effect scope.")}on(){Gi=this}off(){Gi=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function mu(t){return new h1(t)}function d1(){return Gi}function ws(t,e=!1){Gi?Gi.cleanups.push(t):e||Fs("onScopeDispose() is called when there is no active effect scope to be associated with.")}let sn;const Lv=new WeakSet;class f1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Gi&&Gi.active&&Gi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Lv.has(this)&&(Lv.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||m1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,CE(this),g1(this);const e=sn,n=ar;sn=this,ar=!0;try{return this.fn()}finally{sn!==this&&Fs("Active effect was not restored correctly - this is likely a Vue internal bug."),y1(this),sn=e,ar=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)O_(e);this.deps=this.depsTail=void 0,CE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Lv.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lb(this)&&this.run()}get dirty(){return Lb(this)}}let p1=0,qh,Kh;function m1(t,e=!1){if(t.flags|=8,e){t.next=Kh,Kh=t;return}t.next=qh,qh=t}function A_(){p1++}function P_(){if(--p1>0)return;if(Kh){let e=Kh;for(Kh=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;qh;){let e=qh;for(qh=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function g1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function y1(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),O_(i),cB(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Lb(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(v1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function v1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===hd))return;t.globalVersion=hd;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Lb(t)){t.flags&=-3;return}const n=sn,i=ar;sn=t,ar=!0;try{g1(t);const s=t.fn(t._value);(e.version===0||Zi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{sn=n,ar=i,y1(t),t.flags&=-3}}function O_(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subsHead===t&&(n.subsHead=s),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)O_(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function cB(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let ar=!0;const b1=[];function Vo(){b1.push(ar),ar=!1}function Fo(){const t=b1.pop();ar=t===void 0?!0:t}function CE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=sn;sn=void 0;try{e()}finally{sn=n}}}let hd=0;class uB{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vg{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.subsHead=void 0}track(e){if(!sn||!ar||sn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==sn)n=this.activeLink=new uB(sn,this),sn.deps?(n.prevDep=sn.depsTail,sn.depsTail.nextDep=n,sn.depsTail=n):sn.deps=sn.depsTail=n,_1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=sn.depsTail,n.nextDep=void 0,sn.depsTail.nextDep=n,sn.depsTail=n,sn.deps===n&&(sn.deps=i)}return sn.onTrack&&sn.onTrack(gn({effect:sn},e)),n}trigger(e){this.version++,hd++,this.notify(e)}notify(e){A_();try{for(let n=this.subsHead;n;n=n.nextSub)n.sub.onTrigger&&!(n.sub.flags&8)&&n.sub.onTrigger(gn({effect:n.sub},e));for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{P_()}}}function _1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)_1(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subsHead===void 0&&(t.dep.subsHead=t),t.dep.subs=t}}const Cm=new WeakMap,xl=Symbol("Object iterate"),Vb=Symbol("Map keys iterate"),dd=Symbol("Array iterate");function yi(t,e,n){if(ar&&sn){let i=Cm.get(t);i||Cm.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Vg),s.map=i,s.key=n),s.track({target:t,type:e,key:n})}}function wr(t,e,n,i,s,r){const a=Cm.get(t);if(!a){hd++;return}const l=h=>{h&&h.trigger({target:t,type:e,key:n,newValue:i,oldValue:s,oldTarget:r})};if(A_(),e==="clear")a.forEach(l);else{const h=st(t),d=h&&I_(n);if(h&&n==="length"){const p=Number(i);a.forEach((f,v)=>{(v==="length"||v===dd||!Lo(v)&&v>=p)&&l(f)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),d&&l(a.get(dd)),e){case"add":h?d&&l(a.get("length")):(l(a.get(xl)),Cl(t)&&l(a.get(Vb)));break;case"delete":h||(l(a.get(xl)),Cl(t)&&l(a.get(Vb)));break;case"set":Cl(t)&&l(a.get(xl));break}}P_()}function hB(t,e){const n=Cm.get(t);return n&&n.get(e)}function yc(t){const e=Ze(t);return e===t?e:(yi(e,"iterate",dd),Xi(t)?e:e.map(Vi))}function Fg(t){return yi(t=Ze(t),"iterate",dd),t}const dB={__proto__:null,[Symbol.iterator](){return Vv(this,Symbol.iterator,Vi)},concat(...t){return yc(this).concat(...t.map(e=>st(e)?yc(e):e))},entries(){return Vv(this,"entries",t=>(t[1]=Vi(t[1]),t))},every(t,e){return oo(this,"every",t,e,void 0,arguments)},filter(t,e){return oo(this,"filter",t,e,n=>n.map(Vi),arguments)},find(t,e){return oo(this,"find",t,e,Vi,arguments)},findIndex(t,e){return oo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return oo(this,"findLast",t,e,Vi,arguments)},findLastIndex(t,e){return oo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return oo(this,"forEach",t,e,void 0,arguments)},includes(...t){return Fv(this,"includes",t)},indexOf(...t){return Fv(this,"indexOf",t)},join(t){return yc(this).join(t)},lastIndexOf(...t){return Fv(this,"lastIndexOf",t)},map(t,e){return oo(this,"map",t,e,void 0,arguments)},pop(){return Ch(this,"pop")},push(...t){return Ch(this,"push",t)},reduce(t,...e){return xE(this,"reduce",t,e)},reduceRight(t,...e){return xE(this,"reduceRight",t,e)},shift(){return Ch(this,"shift")},some(t,e){return oo(this,"some",t,e,void 0,arguments)},splice(...t){return Ch(this,"splice",t)},toReversed(){return yc(this).toReversed()},toSorted(t){return yc(this).toSorted(t)},toSpliced(...t){return yc(this).toSpliced(...t)},unshift(...t){return Ch(this,"unshift",t)},values(){return Vv(this,"values",Vi)}};function Vv(t,e,n){const i=Fg(t),s=i[e]();return i!==t&&!Xi(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const fB=Array.prototype;function oo(t,e,n,i,s,r){const a=Fg(t),l=a!==t&&!Xi(t),h=a[e];if(h!==fB[e]){const f=h.apply(t,r);return l?Vi(f):f}let d=n;a!==t&&(l?d=function(f,v){return n.call(this,Vi(f),v,t)}:n.length>2&&(d=function(f,v){return n.call(this,f,v,t)}));const p=h.call(a,d,i);return l&&s?s(p):p}function xE(t,e,n,i){const s=Fg(t);let r=n;return s!==t&&(Xi(t)?n.length>3&&(r=function(a,l,h){return n.call(this,a,l,h,t)}):r=function(a,l,h){return n.call(this,a,Vi(l),h,t)}),s[e](r,...i)}function Fv(t,e,n){const i=Ze(t);yi(i,"iterate",dd);const s=i[e](...n);return(s===-1||s===!1)&&fd(n[0])?(n[0]=Ze(n[0]),i[e](...n)):s}function Ch(t,e,n=[]){Vo(),A_();const i=Ze(t)[e].apply(t,n);return P_(),Fo(),i}const pB=No("__proto__,__v_isRef,__isVue"),w1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Lo));function mB(t){Lo(t)||(t=String(t));const e=Ze(this);return yi(e,"has",t),e.hasOwnProperty(t)}class C1{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?I1:k1:r?S1:T1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=st(e);if(!s){let h;if(a&&(h=dB[n]))return h;if(n==="hasOwnProperty")return mB}const l=Reflect.get(e,n,Gt(e)?e:i);return(Lo(n)?w1.has(n):pB(n))||(s||yi(e,"get",n),r)?l:Gt(l)?a&&I_(n)?l:l.value:Zt(l)?s?gu(l):oi(l):l}}class x1 extends C1{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const h=ko(r);if(!Xi(i)&&!ko(i)&&(r=Ze(r),i=Ze(i)),!st(e)&&Gt(r)&&!Gt(i))return h?!1:(r.value=i,!0)}const a=st(e)&&I_(n)?Number(n)<e.length:Yt(e,n),l=Reflect.set(e,n,i,Gt(e)?e:s);return e===Ze(s)&&(a?Zi(i,r)&&wr(e,"set",n,i,r):wr(e,"add",n,i)),l}deleteProperty(e,n){const i=Yt(e,n),s=e[n],r=Reflect.deleteProperty(e,n);return r&&i&&wr(e,"delete",n,void 0,s),r}has(e,n){const i=Reflect.has(e,n);return(!Lo(n)||!w1.has(n))&&yi(e,"has",n),i}ownKeys(e){return yi(e,"iterate",st(e)?"length":xl),Reflect.ownKeys(e)}}class E1 extends C1{constructor(e=!1){super(!0,e)}set(e,n){return Fs(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0}deleteProperty(e,n){return Fs(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}}const gB=new x1,yB=new E1,vB=new x1(!0),bB=new E1(!0),Fb=t=>t,Cp=t=>Reflect.getPrototypeOf(t);function _B(t,e,n){return function(...i){const s=this.__v_raw,r=Ze(s),a=Cl(r),l=t==="entries"||t===Symbol.iterator&&a,h=t==="keys"&&a,d=s[t](...i),p=n?Fb:e?Bb:Vi;return!e&&yi(r,"iterate",h?Vb:xl),{next(){const{value:f,done:v}=d.next();return v?{value:f,done:v}:{value:l?[p(f[0]),p(f[1])]:p(f),done:v}},[Symbol.iterator](){return this}}}}function xp(t){return function(...e){{const n=e[0]?`on key "${e[0]}" `:"";Fs(`${So(t)} operation ${n}failed: target is readonly.`,Ze(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function wB(t,e){const n={get(s){const r=this.__v_raw,a=Ze(r),l=Ze(s);t||(Zi(s,l)&&yi(a,"get",s),yi(a,"get",l));const{has:h}=Cp(a),d=e?Fb:t?Bb:Vi;if(h.call(a,s))return d(r.get(s));if(h.call(a,l))return d(r.get(l));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&yi(Ze(s),"iterate",xl),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=Ze(r),l=Ze(s);return t||(Zi(s,l)&&yi(a,"has",s),yi(a,"has",l)),s===l?r.has(s):r.has(s)||r.has(l)},forEach(s,r){const a=this,l=a.__v_raw,h=Ze(l),d=e?Fb:t?Bb:Vi;return!t&&yi(h,"iterate",xl),l.forEach((p,f)=>s.call(r,d(p),d(f),a))}};return gn(n,t?{add:xp("add"),set:xp("set"),delete:xp("delete"),clear:xp("clear")}:{add(s){!e&&!Xi(s)&&!ko(s)&&(s=Ze(s));const r=Ze(this);return Cp(r).has.call(r,s)||(r.add(s),wr(r,"add",s,s)),this},set(s,r){!e&&!Xi(r)&&!ko(r)&&(r=Ze(r));const a=Ze(this),{has:l,get:h}=Cp(a);let d=l.call(a,s);d?EE(a,l,s):(s=Ze(s),d=l.call(a,s));const p=h.call(a,s);return a.set(s,r),d?Zi(r,p)&&wr(a,"set",s,r,p):wr(a,"add",s,r),this},delete(s){const r=Ze(this),{has:a,get:l}=Cp(r);let h=a.call(r,s);h?EE(r,a,s):(s=Ze(s),h=a.call(r,s));const d=l?l.call(r,s):void 0,p=r.delete(s);return h&&wr(r,"delete",s,void 0,d),p},clear(){const s=Ze(this),r=s.size!==0,a=Cl(s)?new Map(s):new Set(s),l=s.clear();return r&&wr(s,"clear",void 0,void 0,a),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=_B(s,t,e)}),n}function Bg(t,e){const n=wB(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Yt(n,s)&&s in i?n:i,s,r)}const CB={get:Bg(!1,!1)},xB={get:Bg(!1,!0)},EB={get:Bg(!0,!1)},TB={get:Bg(!0,!0)};function EE(t,e,n){const i=Ze(n);if(i!==n&&e.call(t,i)){const s=k_(t);Fs(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const T1=new WeakMap,S1=new WeakMap,k1=new WeakMap,I1=new WeakMap;function SB(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kB(t){return t.__v_skip||!Object.isExtensible(t)?0:SB(k_(t))}function oi(t){return ko(t)?t:jg(t,!1,gB,CB,T1)}function A1(t){return jg(t,!1,vB,xB,S1)}function gu(t){return jg(t,!0,yB,EB,k1)}function Er(t){return jg(t,!0,bB,TB,I1)}function jg(t,e,n,i,s){if(!Zt(t))return Fs(`value cannot be made ${e?"readonly":"reactive"}: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=kB(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return s.set(t,l),l}function lr(t){return ko(t)?lr(t.__v_raw):!!(t&&t.__v_isReactive)}function ko(t){return!!(t&&t.__v_isReadonly)}function Xi(t){return!!(t&&t.__v_isShallow)}function fd(t){return t?!!t.__v_raw:!1}function Ze(t){const e=t&&t.__v_raw;return e?Ze(e):t}function vo(t){return!Yt(t,"__v_skip")&&Object.isExtensible(t)&&wm(t,"__v_skip",!0),t}const Vi=t=>Zt(t)?oi(t):t,Bb=t=>Zt(t)?gu(t):t;function Gt(t){return t?t.__v_isRef===!0:!1}function Ke(t){return P1(t,!1)}function ft(t){return P1(t,!0)}function P1(t,e){return Gt(t)?t:new IB(t,e)}class IB{constructor(e,n){this.dep=new Vg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ze(e),this._value=n?e:Vi(e),this.__v_isShallow=n}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Xi(e)||ko(e);e=i?e:Ze(e),Zi(e,n)&&(this._rawValue=e,this._value=i?e:Vi(e),this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:n}))}}function bi(t){return Gt(t)?t.value:t}const AB={get:(t,e,n)=>e==="__v_raw"?t:bi(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Gt(s)&&!Gt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function O1(t){return lr(t)?t:new Proxy(t,AB)}class PB{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Vg,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function OB(t){return new PB(t)}function pd(t){fd(t)||Fs("toRefs() expects a reactive object but received a plain one.");const e=st(t)?new Array(t.length):{};for(const n in t)e[n]=R1(t,n);return e}class RB{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hB(Ze(this._object),this._key)}}class MB{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function wt(t,e,n){return Gt(t)?t:ct(t)?new MB(t):Zt(t)&&arguments.length>1?R1(t,e,n):Ke(t)}function R1(t,e,n){const i=t[e];return Gt(i)?i:new RB(t,e,n)}class DB{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Vg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hd-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&sn!==this)return m1(this,!0),!0}get value(){const e=this.dep.track({target:this,type:"get",key:"value"});return v1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):Fs("Write operation failed: computed value is readonly")}}function NB(t,e,n=!1){let i,s;return ct(t)?i=t:(i=t.get,s=t.set),new DB(i,s,n)}const Ep={},xm=new WeakMap;let ml;function LB(t,e=!1,n=ml){if(n){let i=xm.get(n);i||xm.set(n,i=[]),i.push(t)}else e||Fs("onWatcherCleanup() was called when there was no active watcher to associate with.")}function VB(t,e,n=Ft){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:l,call:h}=n,d=V=>{(n.onWarn||Fs)("Invalid watch source: ",V,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},p=V=>s?V:Xi(V)||s===!1||s===0?po(V,1):po(V);let f,v,_,y,b=!1,x=!1;if(Gt(t)?(v=()=>t.value,b=Xi(t)):lr(t)?(v=()=>p(t),b=!0):st(t)?(x=!0,b=t.some(V=>lr(V)||Xi(V)),v=()=>t.map(V=>{if(Gt(V))return V.value;if(lr(V))return p(V);if(ct(V))return h?h(V,2):V();d(V)})):ct(t)?e?v=h?()=>h(t,2):t:v=()=>{if(_){Vo();try{_()}finally{Fo()}}const V=ml;ml=f;try{return h?h(t,3,[y]):t(y)}finally{ml=V}}:(v=$i,d(t)),e&&s){const V=v,P=s===!0?1/0:s;v=()=>po(V(),P)}const k=d1(),I=()=>{f.stop(),k&&k.active&&S_(k.effects,f)};if(r&&e){const V=e;e=(...P)=>{V(...P),I()}}let D=x?new Array(t.length).fill(Ep):Ep;const N=V=>{if(!(!(f.flags&1)||!f.dirty&&!V))if(e){const P=f.run();if(s||b||(x?P.some((T,R)=>Zi(T,D[R])):Zi(P,D))){_&&_();const T=ml;ml=f;try{const R=[P,D===Ep?void 0:x&&D[0]===Ep?[]:D,y];h?h(e,3,R):e(...R),D=P}finally{ml=T}}}else f.run()};return l&&l(N),f=new f1(v),f.scheduler=a?()=>a(N,!1):N,y=V=>LB(V,!1,f),_=f.onStop=()=>{const V=xm.get(f);if(V){if(h)h(V,4);else for(const P of V)P();xm.delete(f)}},f.onTrack=n.onTrack,f.onTrigger=n.onTrigger,e?i?N(!0):D=f.run():a?a(N.bind(null,!0),!0):f.run(),I.pause=f.pause.bind(f),I.resume=f.resume.bind(f),I.stop=I,I}function po(t,e=1/0,n){if(e<=0||!Zt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Gt(t))po(t.value,e,n);else if(st(t))for(let i=0;i<t.length;i++)po(t[i],e,n);else if(s1(t)||Cl(t))t.forEach(i=>{po(i,e,n)});else if(o1(t)){for(const i in t)po(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&po(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const El=[];function Yh(t){El.push(t)}function Xh(){El.pop()}let Bv=!1;function Pe(t,...e){if(Bv)return;Bv=!0,Vo();const n=El.length?El[El.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=FB();if(i)yu(i,n,11,[t+e.map(r=>{var a,l;return(l=(a=r.toString)==null?void 0:a.call(r))!=null?l:JSON.stringify(r)}).join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${Kg(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${t}`,...e];s.length&&r.push(`
`,...BB(s)),console.warn(...r)}Fo(),Bv=!1}function FB(){let t=El[El.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function BB(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...jB(n))}),e}function jB({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,s=` at <${Kg(t.component,t.type,i)}`,r=">"+n;return t.props?[s,...$B(t.props),r]:[s+r]}function $B(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...M1(i,t[i]))}),n.length>3&&e.push(" ..."),e}function M1(t,e,n){return hn(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:Gt(e)?(e=M1(t,Ze(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):ct(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ze(e),n?e:[`${t}=`,e])}function D1(t,e){t!==void 0&&(typeof t!="number"?Pe(`${e} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&Pe(`${e} is NaN - the duration expression might be incorrect.`))}const R_={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function yu(t,e,n,i){try{return i?t(...i):t()}catch(s){Yl(s,e,n)}}function hr(t,e,n,i){if(ct(t)){const s=yu(t,e,n,i);return s&&Mg(s)&&s.catch(r=>{Yl(r,e,n)}),s}if(st(t)){const s=[];for(let r=0;r<t.length;r++)s.push(hr(t[r],e,n,i));return s}else Pe(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof t}`)}function Yl(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Ft;if(e){let l=e.parent;const h=e.proxy,d=R_[n];for(;l;){const p=l.ec;if(p){for(let f=0;f<p.length;f++)if(p[f](t,h,d)===!1)return}l=l.parent}if(r){Vo(),yu(r,null,10,[t,h,d]),Fo();return}}UB(t,n,s,i,a)}function UB(t,e,n,i=!0,s=!1){{const r=R_[e];if(n&&Yh(n),Pe(`Unhandled error${r?` during execution of ${r}`:""}`),n&&Xh(),i)throw t;console.error(t)}}const qi=[];let br=-1;const Fc=[];let ma=null,Tc=0;const N1=Promise.resolve();let Em=null;const HB=100;function li(t){const e=Em||N1;return t?e.then(this?t.bind(this):t):e}function WB(t){let e=br+1,n=qi.length;for(;e<n;){const i=e+n>>>1,s=qi[i],r=md(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function $g(t){if(!(t.flags&1)){const e=md(t),n=qi[qi.length-1];!n||!(t.flags&2)&&e>=md(n)?qi.push(t):qi.splice(WB(e),0,t),t.flags|=1,L1()}}function L1(){Em||(Em=N1.then(F1))}function Tm(t){st(t)?Fc.push(...t):ma&&t.id===-1?ma.splice(Tc+1,0,t):t.flags&1||(Fc.push(t),t.flags|=1),L1()}function TE(t,e,n=br+1){for(e=e||new Map;n<qi.length;n++){const i=qi[n];if(i&&i.flags&2){if(t&&i.id!==t.uid||M_(e,i))continue;qi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function V1(t){if(Fc.length){const e=[...new Set(Fc)].sort((n,i)=>md(n)-md(i));if(Fc.length=0,ma){ma.push(...e);return}for(ma=e,t=t||new Map,Tc=0;Tc<ma.length;Tc++){const n=ma[Tc];M_(t,n)||(n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2)}ma=null,Tc=0}}const md=t=>t.id==null?t.flags&2?-1:1/0:t.id;function F1(t){t=t||new Map;const e=n=>M_(t,n);try{for(br=0;br<qi.length;br++){const n=qi[br];if(n&&!(n.flags&8)){if(e(n))continue;n.flags&4&&(n.flags&=-2),yu(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2)}}}finally{for(;br<qi.length;br++){const n=qi[br];n&&(n.flags&=-2)}br=-1,qi.length=0,V1(t),Em=null,(qi.length||Fc.length)&&F1(t)}}function M_(t,e){const n=t.get(e)||0;if(n>HB){const i=e.i,s=i&&vd(i.type);return Yl(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return t.set(e,n+1),!1}let ir=!1;const Kp=new Map;jd().__VUE_HMR_RUNTIME__={createRecord:jv(B1),rerender:jv(qB),reload:jv(KB)};const Ll=new Map;function zB(t){const e=t.type.__hmrId;let n=Ll.get(e);n||(B1(e,t.type),n=Ll.get(e)),n.instances.add(t)}function GB(t){Ll.get(t.type.__hmrId).instances.delete(t)}function B1(t,e){return Ll.has(t)?!1:(Ll.set(t,{initialDef:Sm(e),instances:new Set}),!0)}function Sm(t){return OA(t)?t.__vccOpts:t}function qB(t,e){const n=Ll.get(t);n&&(n.initialDef.render=e,[...n.instances].forEach(i=>{e&&(i.render=e,Sm(i.type).render=e),i.renderCache=[],ir=!0,i.update(),ir=!1}))}function KB(t,e){const n=Ll.get(t);if(!n)return;e=Sm(e),SE(n.initialDef,e);const i=[...n.instances];for(let s=0;s<i.length;s++){const r=i[s],a=Sm(r.type);let l=Kp.get(a);l||(a!==n.initialDef&&SE(a,e),Kp.set(a,l=new Set)),l.add(r),r.appContext.propsCache.delete(r.type),r.appContext.emitsCache.delete(r.type),r.appContext.optionsCache.delete(r.type),r.ceReload?(l.add(r),r.ceReload(e.styles),l.delete(r)):r.parent?$g(()=>{ir=!0,r.parent.update(),ir=!1,l.delete(r)}):r.appContext.reload?r.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),r.root.ce&&r!==r.root&&r.root.ce._removeChildStyle(a)}Tm(()=>{Kp.clear()})}function SE(t,e){gn(t,e);for(const n in t)n!=="__file"&&!(n in e)&&delete t[n]}function jv(t){return(e,n)=>{try{return t(e,n)}catch(i){console.error(i),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Cr,Nh=[],jb=!1;function $d(t,...e){Cr?Cr.emit(t,...e):jb||Nh.push({event:t,args:e})}function j1(t,e){var n,i;Cr=t,Cr?(Cr.enabled=!0,Nh.forEach(({event:s,args:r})=>Cr.emit(s,...r)),Nh=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{j1(r,e)}),setTimeout(()=>{Cr||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,jb=!0,Nh=[])},3e3)):(jb=!0,Nh=[])}function YB(t,e){$d("app:init",t,e,{Fragment:Pt,Text:Xl,Comment:Mn,Static:Xp})}function XB(t){$d("app:unmount",t)}const $b=D_("component:added"),$1=D_("component:updated"),JB=D_("component:removed"),QB=t=>{Cr&&typeof Cr.cleanupBuffer=="function"&&!Cr.cleanupBuffer(t)&&JB(t)};/*! #__NO_SIDE_EFFECTS__ */function D_(t){return e=>{$d(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const ZB=U1("perf:start"),ej=U1("perf:end");function U1(t){return(e,n,i)=>{$d(t,e.appContext.app,e.uid,e,n,i)}}function tj(t,e,n){$d("component:emit",t.appContext.app,t,e,n)}let Wn=null,H1=null;function km(t){const e=Wn;return Wn=t,H1=t&&t.type.__scopeId||null,e}function Et(t,e=Wn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&HE(-1);const r=km(e);let a;try{a=t(...s)}finally{km(r),i._d&&HE(1)}return $1(e),a};return i._n=!0,i._c=!0,i._d=!0,i}function W1(t){KF(t)&&Pe("Do not use built-in directive ids as custom directive id: "+t)}function Pi(t,e){if(Wn===null)return Pe("withDirectives can only be used inside render functions."),t;const n=qg(Wn),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,l,h=Ft]=e[s];r&&(ct(r)&&(r={mounted:r,updated:r}),r.deep&&po(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:l,modifiers:h}))}return t}function ll(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const l=s[a];r&&(l.oldValue=r[a].value);let h=l.dir[i];h&&(Vo(),hr(h,n,8,[t.el,l,t,e]),Fo())}}const z1=Symbol("_vte"),G1=t=>t.__isTeleport,Tl=t=>t&&(t.disabled||t.disabled===""),kE=t=>t&&(t.defer||t.defer===""),IE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,AE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Ub=(t,e)=>{const n=t&&t.to;if(hn(n))if(e){const i=e(n);return!i&&!Tl(t)&&Pe(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),i}else return Pe("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!n&&!Tl(t)&&Pe(`Invalid Teleport target: ${n}`),n},q1={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,l,h,d){const{mc:p,pc:f,pbc:v,o:{insert:_,querySelector:y,createText:b,createComment:x}}=d,k=Tl(e.props);let{shapeFlag:I,children:D,dynamicChildren:N}=e;if(ir&&(h=!1,N=null),t==null){const V=e.el=x("teleport start"),P=e.anchor=x("teleport end");_(V,n,i),_(P,n,i);const T=(L,B)=>{I&16&&(s&&s.isCE&&(s.ce._teleportTarget=L),p(D,L,B,s,r,a,l,h))},R=()=>{const L=e.target=Ub(e.props,y),B=K1(L,e,b,_);L?(a!=="svg"&&IE(L)?a="svg":a!=="mathml"&&AE(L)&&(a="mathml"),k||(T(L,B),Yp(e,!1))):k||Pe("Invalid Teleport target on mount:",L,`(${typeof L})`)};k&&(T(n,P),Yp(e,!0)),kE(e.props)?ri(()=>{R(),e.el.__isMounted=!0},r):R()}else{if(kE(e.props)&&!t.el.__isMounted){ri(()=>{q1.process(t,e,n,i,s,r,a,l,h,d),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const V=e.anchor=t.anchor,P=e.target=t.target,T=e.targetAnchor=t.targetAnchor,R=Tl(t.props),L=R?n:P,B=R?V:T;if(a==="svg"||IE(P)?a="svg":(a==="mathml"||AE(P))&&(a="mathml"),N?(v(t.dynamicChildren,N,L,s,r,a,l),Mm(t,e,!0)):h||f(t,e,L,B,s,r,a,l,!1),k)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Tp(e,n,V,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=Ub(e.props,y);U?Tp(e,U,null,d,0):Pe("Invalid Teleport target on update:",P,`(${typeof P})`)}else R&&Tp(e,P,T,d,1);Yp(e,k)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:l,anchor:h,targetStart:d,targetAnchor:p,target:f,props:v}=t;if(f&&(s(d),s(p)),r&&s(h),a&16){const _=r||!Tl(v);for(let y=0;y<l.length;y++){const b=l[y];i(b,e,n,_,!!b.dynamicChildren)}}},move:Tp,hydrate:nj};function Tp(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:l,shapeFlag:h,children:d,props:p}=t,f=r===2;if(f&&i(a,e,n),(!f||Tl(p))&&h&16)for(let v=0;v<d.length;v++)s(d[v],e,n,2);f&&i(l,e,n)}function nj(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:l,querySelector:h,insert:d,createText:p}},f){const v=e.target=Ub(e.props,h);if(v){const _=Tl(e.props),y=v._lpa||v.firstChild;if(e.shapeFlag&16)if(_)e.anchor=f(a(t),e,l(t),n,i,s,r),e.targetStart=y,e.targetAnchor=y&&a(y);else{e.anchor=a(t);let b=y;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,v._lpa=e.targetAnchor&&a(e.targetAnchor);break}}b=a(b)}e.targetAnchor||K1(v,e,p,d),f(y&&a(y),e,v,n,i,s,r)}Yp(e,_)}return e.anchor&&a(e.anchor)}const ij=q1;function Yp(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function K1(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[z1]=r,t&&(i(s,t),i(r,t)),r}const ga=Symbol("_leaveCb"),Sp=Symbol("_enterCb");function Y1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cs(()=>{t.isMounted=!0}),Ci(()=>{t.isUnmounting=!0}),t}const As=[Function,Array],X1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:As,onEnter:As,onAfterEnter:As,onEnterCancelled:As,onBeforeLeave:As,onLeave:As,onAfterLeave:As,onLeaveCancelled:As,onBeforeAppear:As,onAppear:As,onAfterAppear:As,onAppearCancelled:As},J1=t=>{const e=t.subTree;return e.component?J1(e.component):e},sj={name:"BaseTransition",props:X1,setup(t,{slots:e}){const n=Hs(),i=Y1();return()=>{const s=e.default&&N_(e.default(),!0);if(!s||!s.length)return;const r=Q1(s),a=Ze(t),{mode:l}=a;if(l&&l!=="in-out"&&l!=="out-in"&&l!=="default"&&Pe(`invalid <transition> mode: ${l}`),i.isLeaving)return $v(r);const h=PE(r);if(!h)return $v(r);let d=gd(h,a,i,n,f=>d=f);h.type!==Mn&&Pa(h,d);let p=n.subTree&&PE(n.subTree);if(p&&p.type!==Mn&&!tr(h,p)&&J1(n).type!==Mn){let f=gd(p,a,i,n);if(Pa(p,f),l==="out-in"&&h.type!==Mn)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,p=void 0},$v(r);l==="in-out"&&h.type!==Mn?f.delayLeave=(v,_,y)=>{const b=Z1(i,p);b[String(p.key)]=p,v[ga]=()=>{_(),v[ga]=void 0,delete d.delayedLeave,p=void 0},d.delayedLeave=()=>{y(),delete d.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return r}}};function Q1(t){let e=t[0];if(t.length>1){let n=!1;for(const i of t)if(i.type!==Mn){if(n){Pe("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}e=i,n=!0}}return e}const rj=sj;function Z1(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function gd(t,e,n,i,s){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:h,onEnter:d,onAfterEnter:p,onEnterCancelled:f,onBeforeLeave:v,onLeave:_,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:x,onAppear:k,onAfterAppear:I,onAppearCancelled:D}=e,N=String(t.key),V=Z1(n,t),P=(L,B)=>{L&&hr(L,i,9,B)},T=(L,B)=>{const U=B[1];P(L,B),st(L)?L.every(z=>z.length<=1)&&U():L.length<=1&&U()},R={mode:a,persisted:l,beforeEnter(L){let B=h;if(!n.isMounted)if(r)B=x||h;else return;L[ga]&&L[ga](!0);const U=V[N];U&&tr(t,U)&&U.el[ga]&&U.el[ga](),P(B,[L])},enter(L){let B=d,U=p,z=f;if(!n.isMounted)if(r)B=k||d,U=I||p,z=D||f;else return;let H=!1;const q=L[Sp]=Z=>{H||(H=!0,Z?P(z,[L]):P(U,[L]),R.delayedLeave&&R.delayedLeave(),L[Sp]=void 0)};B?T(B,[L,q]):q()},leave(L,B){const U=String(t.key);if(L[Sp]&&L[Sp](!0),n.isUnmounting)return B();P(v,[L]);let z=!1;const H=L[ga]=q=>{z||(z=!0,B(),q?P(b,[L]):P(y,[L]),L[ga]=void 0,V[U]===t&&delete V[U])};V[U]=t,_?T(_,[L,H]):H()},clone(L){const B=gd(L,e,n,i,s);return s&&s(B),B}};return R}function $v(t){if(vu(t))return t=Bs(t),t.children=null,t}function PE(t){if(!vu(t))return G1(t.type)&&t.children?Q1(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ct(n.default))return n.default()}}function Pa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function N_(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===Pt?(a.patchFlag&128&&s++,i=i.concat(N_(a.children,e,l))):(e||a.type!==Mn)&&i.push(l!=null?Bs(a,{key:l}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Bo(t,e){return ct(t)?gn({name:t.name},e,{setup:t}):t}function L_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const eA=new WeakSet;function yee(t){const e=Hs(),n=ft(null);if(e){const s=e.refs===Ft?e.refs={}:e.refs;let r;(r=Object.getOwnPropertyDescriptor(s,t))&&!r.configurable?Pe(`useTemplateRef('${t}') already exists.`):Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:a=>n.value=a})}else Pe("useTemplateRef() is called when there is no active component instance to be associated with.");const i=gu(n);return eA.add(i),i}function Im(t,e,n,i,s=!1){if(st(t)){t.forEach((y,b)=>Im(y,e&&(st(e)?e[b]:e),n,i,s));return}if(Sl(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Im(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?qg(i.component):i.el,a=s?null:r,{i:l,r:h}=t;if(!l){Pe("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const d=e&&e.r,p=l.refs===Ft?l.refs={}:l.refs,f=l.setupState,v=Ze(f),_=f===Ft?()=>!1:y=>(Yt(v,y)&&!Gt(v[y])&&Pe(`Template ref "${y}" used on a non-ref value. It will not work in the production build.`),eA.has(v[y])?!1:Yt(v,y));if(d!=null&&d!==h&&(hn(d)?(p[d]=null,_(d)&&(f[d]=null)):Gt(d)&&(d.value=null)),ct(h))yu(h,l,12,[a,p]);else{const y=hn(h),b=Gt(h);if(y||b){const x=()=>{if(t.f){const k=y?_(h)?f[h]:p[h]:h.value;s?st(k)&&S_(k,r):st(k)?k.includes(r)||k.push(r):y?(p[h]=[r],_(h)&&(f[h]=p[h])):(h.value=[r],t.k&&(p[t.k]=h.value))}else y?(p[h]=a,_(h)&&(f[h]=a)):b?(h.value=a,t.k&&(p[t.k]=a)):Pe("Invalid template ref type:",h,`(${typeof h})`)};a?(x.id=-1,ri(x,n)):x()}else Pe("Invalid template ref type:",h,`(${typeof h})`)}}const OE=t=>t.nodeType===8;jd().requestIdleCallback;jd().cancelIdleCallback;function oj(t,e){if(OE(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(OE(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const Sl=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function vee(t){ct(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,hydrate:r,timeout:a,suspensible:l=!0,onError:h}=t;let d=null,p,f=0;const v=()=>(f++,d=null,_()),_=()=>{let y;return d||(y=d=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),h)return new Promise((x,k)=>{h(b,()=>x(v()),()=>k(b),f+1)});throw b}).then(b=>{if(y!==d&&d)return d;if(b||Pe("Async component loader resolved to undefined. If you are using retry(), make sure to return its return value."),b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),b&&!Zt(b)&&!ct(b))throw new Error(`Invalid async component load result: ${b}`);return p=b,b}))};return Bo({name:"AsyncComponentWrapper",__asyncLoader:_,__asyncHydrate(y,b,x){const k=r?()=>{const I=r(x,D=>oj(y,D));I&&(b.bum||(b.bum=[])).push(I)}:x;p?k():_().then(()=>!b.isUnmounted&&k())},get __asyncResolved(){return p},setup(){const y=Hn;if(L_(y),p)return()=>Uv(p,y);const b=D=>{d=null,Yl(D,y,13,!i)};if(l&&y.suspense||Qc)return _().then(D=>()=>Uv(D,y)).catch(D=>(b(D),()=>i?Q(i,{error:D}):null));const x=Ke(!1),k=Ke(),I=Ke(!!s);return s&&setTimeout(()=>{I.value=!1},s),a!=null&&setTimeout(()=>{if(!x.value&&!k.value){const D=new Error(`Async component timed out after ${a}ms.`);b(D),k.value=D}},a),_().then(()=>{x.value=!0,y.parent&&vu(y.parent.vnode)&&y.parent.update()}).catch(D=>{b(D),k.value=D}),()=>{if(x.value&&p)return Uv(p,y);if(k.value&&i)return Q(i,{error:k.value});if(n&&!I.value)return Q(n)}}})}function Uv(t,e){const{ref:n,props:i,children:s,ce:r}=e.vnode,a=Q(t,i,s);return a.ref=n,a.ce=r,delete e.vnode.ce,a}const vu=t=>t.type.__isKeepAlive,aj={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Hs(),i=n.ctx;if(!i.renderer)return()=>{const I=e.default&&e.default();return I&&I.length===1?I[0]:I};const s=new Map,r=new Set;let a=null;n.__v_cache=s;const l=n.suspense,{renderer:{p:h,m:d,um:p,o:{createElement:f}}}=i,v=f("div");i.activate=(I,D,N,V,P)=>{const T=I.component;d(I,D,N,0,l),h(T.vnode,I,D,N,T,l,V,I.slotScopeIds,P),ri(()=>{T.isDeactivated=!1,T.a&&ba(T.a);const R=I.props&&I.props.onVnodeMounted;R&&Ps(R,T.parent,I)},l),$b(T)},i.deactivate=I=>{const D=I.component;Dm(D.m),Dm(D.a),d(I,v,null,1,l),ri(()=>{D.da&&ba(D.da);const N=I.props&&I.props.onVnodeUnmounted;N&&Ps(N,D.parent,I),D.isDeactivated=!0},l),$b(D)};function _(I){Hv(I),p(I,n,l,!0)}function y(I){s.forEach((D,N)=>{const V=vd(D.type);V&&!I(V)&&b(N)})}function b(I){const D=s.get(I);D&&(!a||!tr(D,a))?_(D):a&&Hv(a),s.delete(I),r.delete(I)}ht(()=>[t.include,t.exclude],([I,D])=>{I&&y(N=>Lh(I,N)),D&&y(N=>!Lh(D,N))},{flush:"post",deep:!0});let x=null;const k=()=>{x!=null&&(Lm(n.subTree.type)?ri(()=>{s.set(x,kp(n.subTree))},n.subTree.suspense):s.set(x,kp(n.subTree)))};return Cs(k),Hg(k),Ci(()=>{s.forEach(I=>{const{subTree:D,suspense:N}=n,V=kp(D);if(I.type===V.type&&I.key===V.key){Hv(V);const P=V.component.da;P&&ri(P,N);return}_(I)})}),()=>{if(x=null,!e.default)return a=null;const I=e.default(),D=I[0];if(I.length>1)return Pe("KeepAlive should contain exactly one component child."),a=null,I;if(!Io(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return a=null,D;let N=kp(D);if(N.type===Mn)return a=null,N;const V=N.type,P=vd(Sl(N)?N.type.__asyncResolved||{}:V),{include:T,exclude:R,max:L}=t;if(T&&(!P||!Lh(T,P))||R&&P&&Lh(R,P))return N.shapeFlag&=-257,a=N,D;const B=N.key==null?V:N.key,U=s.get(B);return N.el&&(N=Bs(N),D.shapeFlag&128&&(D.ssContent=N)),x=B,U?(N.el=U.el,N.component=U.component,N.transition&&Pa(N,N.transition),N.shapeFlag|=512,r.delete(B),r.add(B)):(r.add(B),L&&r.size>parseInt(L,10)&&b(r.values().next().value)),N.shapeFlag|=256,a=N,Lm(D.type)?D:N}}},lj=aj;function Lh(t,e){return st(t)?t.some(n=>Lh(n,e)):hn(t)?t.split(",").includes(e):qF(t)?(t.lastIndex=0,t.test(e)):!1}function tA(t,e){nA(t,"a",e)}function V_(t,e){nA(t,"da",e)}function nA(t,e,n=Hn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ug(e,i,n),n){let s=n.parent;for(;s&&s.parent;)vu(s.parent.vnode)&&cj(i,e,n,s),s=s.parent}}function cj(t,e,n,i){const s=Ug(e,t,i,!0);iA(()=>{S_(i[e],s)},n)}function Hv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function kp(t){return t.shapeFlag&128?t.ssContent:t}function Ug(t,e,n=Hn,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{Vo();const l=Vl(n),h=hr(e,n,t,a);return l(),Fo(),h});return i?s.unshift(r):s.push(r),r}else{const s=pl(R_[t].replace(/ hook$/,""));Pe(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const jo=t=>(e,n=Hn)=>{(!Qc||t==="sp")&&Ug(t,(...i)=>e(...i),n)},Ud=jo("bm"),Cs=jo("m"),uj=jo("bu"),Hg=jo("u"),Ci=jo("bum"),iA=jo("um"),hj=jo("sp"),dj=jo("rtg"),fj=jo("rtc");function pj(t,e=Hn){Ug("ec",t,e)}const Am="components",mj="directives";function sA(t,e){return B_(Am,t,!0,e)||t}const F_=Symbol.for("v-ndc");function rA(t){return hn(t)?B_(Am,t,!1)||t:t||F_}function Hd(t){return B_(mj,t)}function B_(t,e,n=!0,i=!1){const s=Wn||Hn;if(s){const r=s.type;if(t===Am){const l=vd(r,!1);if(l&&(l===e||l===_i(e)||l===So(_i(e))))return r}const a=RE(s[t]||r[t],e)||RE(s.appContext[t],e);if(!a&&i)return r;if(n&&!a){const l=t===Am?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";Pe(`Failed to resolve ${t.slice(0,-1)}: ${e}${l}`)}return a}else Pe(`resolve${So(t.slice(0,-1))} can only be used in render() or setup().`)}function RE(t,e){return t&&(t[e]||t[_i(e)]||t[So(_i(e))])}function Hb(t,e,n,i){let s;const r=n,a=st(t);if(a||hn(t)){const l=a&&lr(t);let h=!1;l&&(h=!Xi(t),t=Fg(t)),s=new Array(t.length);for(let d=0,p=t.length;d<p;d++)s[d]=e(h?Vi(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){Number.isInteger(t)||Pe(`The v-for range expect an integer value but got ${t}.`),s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,r)}else if(Zt(t))if(t[Symbol.iterator])s=Array.from(t,(l,h)=>e(l,h,void 0,r));else{const l=Object.keys(t);s=new Array(l.length);for(let h=0,d=l.length;h<d;h++){const p=l[h];s[h]=e(t[p],p,h,r)}}else s=[];return s}function bee(t,e,n={},i,s){if(Wn.ce||Wn.parent&&Sl(Wn.parent)&&Wn.parent.ce)return en(),Rn(Pt,null,[Q("slot",n,i)],64);let r=t[e];r&&r.length>1&&(Pe("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),r=()=>[]),r&&r._c&&(r._d=!1),en();const a=r&&oA(r(n)),l=n.key||a&&a.key,h=Rn(Pt,{key:(l&&!Lo(l)?l:`_${e}`)+(!a&&i?"_fb":"")},a||[],a&&t._===1?64:-2);return r&&r._c&&(r._d=!0),h}function oA(t){return t.some(e=>Io(e)?!(e.type===Mn||e.type===Pt&&!oA(e.children)):!0)?t:null}const Wb=t=>t?AA(t)?qg(t):Wb(t.parent):null,kl=gn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>Er(t.props),$attrs:t=>Er(t.attrs),$slots:t=>Er(t.slots),$refs:t=>Er(t.refs),$parent:t=>Wb(t.parent),$root:t=>Wb(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>$_(t),$forceUpdate:t=>t.f||(t.f=()=>{$g(t.update)}),$nextTick:t=>t.n||(t.n=li.bind(t.proxy)),$watch:t=>Yj.bind(t)}),j_=t=>t==="_"||t==="$",Wv=(t,e)=>t!==Ft&&!t.__isScriptSetup&&Yt(t,e),aA={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:l,appContext:h}=t;if(e==="__isVue")return!0;let d;if(e[0]!=="$"){const _=a[e];if(_!==void 0)switch(_){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(Wv(i,e))return a[e]=1,i[e];if(s!==Ft&&Yt(s,e))return a[e]=2,s[e];if((d=t.propsOptions[0])&&Yt(d,e))return a[e]=3,r[e];if(n!==Ft&&Yt(n,e))return a[e]=4,n[e];zb&&(a[e]=0)}}const p=kl[e];let f,v;if(p)return e==="$attrs"?(yi(t.attrs,"get",""),Nm()):e==="$slots"&&yi(t,"get",e),p(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==Ft&&Yt(n,e))return a[e]=4,n[e];if(v=h.config.globalProperties,Yt(v,e))return v[e];Wn&&(!hn(e)||e.indexOf("__v")!==0)&&(s!==Ft&&j_(e[0])&&Yt(s,e)?Pe(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===Wn&&Pe(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return Wv(s,e)?(s[e]=n,!0):s.__isScriptSetup&&Yt(s,e)?(Pe(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):i!==Ft&&Yt(i,e)?(i[e]=n,!0):Yt(t.props,e)?(Pe(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(Pe(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(r,e,{enumerable:!0,configurable:!0,value:n}):r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let l;return!!n[a]||t!==Ft&&Yt(t,a)||Wv(e,a)||(l=r[0])&&Yt(l,a)||Yt(i,a)||Yt(kl,a)||Yt(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Yt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};aA.ownKeys=t=>(Pe("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function gj(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(kl).forEach(n=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:()=>kl[n](t),set:$i})}),e}function yj(t){const{ctx:e,propsOptions:[n]}=t;n&&Object.keys(n).forEach(i=>{Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>t.props[i],set:$i})})}function vj(t){const{ctx:e,setupState:n}=t;Object.keys(Ze(n)).forEach(i=>{if(!n.__isScriptSetup){if(j_(i[0])){Pe(`setup() return property ${JSON.stringify(i)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>n[i],set:$i})}})}function Pm(t){return st(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function _ee(t,e){return!t||!e?t||e:st(t)&&st(e)?t.concat(e):gn({},Pm(t),Pm(e))}function wee(t){const e=Hs();e||Pe("withAsyncContext called without active current instance. This is likely a bug.");let n=t();return Qb(),Mg(n)&&(n=n.catch(i=>{throw Vl(e),i})),[n,()=>Vl(e)]}function bj(){const t=Object.create(null);return(e,n)=>{t[n]?Pe(`${e} property "${n}" is already defined in ${t[n]}.`):t[n]=e}}let zb=!0;function _j(t){const e=$_(t),n=t.proxy,i=t.ctx;zb=!1,e.beforeCreate&&ME(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:l,provide:h,inject:d,created:p,beforeMount:f,mounted:v,beforeUpdate:_,updated:y,activated:b,deactivated:x,beforeDestroy:k,beforeUnmount:I,destroyed:D,unmounted:N,render:V,renderTracked:P,renderTriggered:T,errorCaptured:R,serverPrefetch:L,expose:B,inheritAttrs:U,components:z,directives:H,filters:q}=e,Z=bj();{const[oe]=t.propsOptions;if(oe)for(const ae in oe)Z("Props",ae)}if(d&&wj(d,i,Z),a)for(const oe in a){const ae=a[oe];ct(ae)?(Object.defineProperty(i,oe,{value:ae.bind(n),configurable:!0,enumerable:!0,writable:!0}),Z("Methods",oe)):Pe(`Method "${oe}" has type "${typeof ae}" in the component definition. Did you reference the function correctly?`)}if(s){ct(s)||Pe("The data option must be a function. Plain object usage is no longer supported.");const oe=s.call(n,n);if(Mg(oe)&&Pe("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Zt(oe))Pe("data() should return an object.");else{t.data=oi(oe);for(const ae in oe)Z("Data",ae),j_(ae[0])||Object.defineProperty(i,ae,{configurable:!0,enumerable:!0,get:()=>oe[ae],set:$i})}}if(zb=!0,r)for(const oe in r){const ae=r[oe],ye=ct(ae)?ae.bind(n,n):ct(ae.get)?ae.get.bind(n,n):$i;ye===$i&&Pe(`Computed property "${oe}" has no getter.`);const we=!ct(ae)&&ct(ae.set)?ae.set.bind(n):()=>{Pe(`Write operation failed: computed property "${oe}" is readonly.`)},_e=re({get:ye,set:we});Object.defineProperty(i,oe,{enumerable:!0,configurable:!0,get:()=>_e.value,set:Ce=>_e.value=Ce}),Z("Computed",oe)}if(l)for(const oe in l)lA(l[oe],i,n,oe);if(h){const oe=ct(h)?h.call(n):h;Reflect.ownKeys(oe).forEach(ae=>{wi(ae,oe[ae])})}p&&ME(p,t,"c");function se(oe,ae){st(ae)?ae.forEach(ye=>oe(ye.bind(n))):ae&&oe(ae.bind(n))}if(se(Ud,f),se(Cs,v),se(uj,_),se(Hg,y),se(tA,b),se(V_,x),se(pj,R),se(fj,P),se(dj,T),se(Ci,I),se(iA,N),se(hj,L),st(B))if(B.length){const oe=t.exposed||(t.exposed={});B.forEach(ae=>{Object.defineProperty(oe,ae,{get:()=>n[ae],set:ye=>n[ae]=ye})})}else t.exposed||(t.exposed={});V&&t.render===$i&&(t.render=V),U!=null&&(t.inheritAttrs=U),z&&(t.components=z),H&&(t.directives=H),L&&L_(t)}function wj(t,e,n=$i){st(t)&&(t=Gb(t));for(const i in t){const s=t[i];let r;Zt(s)?"default"in s?r=qt(s.from||i,s.default,!0):r=qt(s.from||i):r=qt(s),Gt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r,n("Inject",i)}}function ME(t,e,n){hr(st(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function lA(t,e,n,i){let s=i.includes(".")?_A(n,i):()=>n[i];if(hn(t)){const r=e[t];ct(r)?ht(s,r):Pe(`Invalid watch handler specified by key "${t}"`,r)}else if(ct(t))ht(s,t.bind(n));else if(Zt(t))if(st(t))t.forEach(r=>lA(r,e,n,i));else{const r=ct(t.handler)?t.handler.bind(n):e[t.handler];ct(r)?ht(s,r,t):Pe(`Invalid watch handler specified by key "${t.handler}"`,r)}else Pe(`Invalid watch option: "${i}"`,t)}function $_(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,l=r.get(e);let h;return l?h=l:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(d=>Om(h,d,a,!0)),Om(h,e,a)),Zt(e)&&r.set(e,h),h}function Om(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Om(t,r,n,!0),s&&s.forEach(a=>Om(t,a,n,!0));for(const a in e)if(i&&a==="expose")Pe('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const l=Cj[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const Cj={data:DE,props:NE,emits:NE,methods:Vh,computed:Vh,beforeCreate:zi,created:zi,beforeMount:zi,mounted:zi,beforeUpdate:zi,updated:zi,beforeDestroy:zi,beforeUnmount:zi,destroyed:zi,unmounted:zi,activated:zi,deactivated:zi,errorCaptured:zi,serverPrefetch:zi,components:Vh,directives:Vh,watch:Ej,provide:DE,inject:xj};function DE(t,e){return e?t?function(){return gn(ct(t)?t.call(this,this):t,ct(e)?e.call(this,this):e)}:e:t}function xj(t,e){return Vh(Gb(t),Gb(e))}function Gb(t){if(st(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zi(t,e){return t?[...new Set([].concat(t,e))]:e}function Vh(t,e){return t?gn(Object.create(null),t,e):e}function NE(t,e){return t?st(t)&&st(e)?[...new Set([...t,...e])]:gn(Object.create(null),Pm(t),Pm(e??{})):e}function Ej(t,e){if(!t)return e;if(!e)return t;const n=gn(Object.create(null),t);for(const i in e)n[i]=zi(t[i],e[i]);return n}function cA(){return{app:null,config:{isNativeTag:zF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tj=0;function Sj(t,e){return function(i,s=null){ct(i)||(i=gn({},i)),s!=null&&!Zt(s)&&(Pe("root props passed to app.mount() must be an object."),s=null);const r=cA(),a=new WeakSet,l=[];let h=!1;const d=r.app={_uid:Tj++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:WE,get config(){return r.config},set config(p){Pe("app.config cannot be replaced. Modify individual options instead.")},use(p,...f){return a.has(p)?Pe("Plugin has already been applied to target app."):p&&ct(p.install)?(a.add(p),p.install(d,...f)):ct(p)?(a.add(p),p(d,...f)):Pe('A plugin must either be a function or an object with an "install" function.'),d},mixin(p){return r.mixins.includes(p)?Pe("Mixin has already been applied to target app"+(p.name?`: ${p.name}`:"")):r.mixins.push(p),d},component(p,f){return Zb(p,r.config),f?(r.components[p]&&Pe(`Component "${p}" has already been registered in target app.`),r.components[p]=f,d):r.components[p]},directive(p,f){return W1(p),f?(r.directives[p]&&Pe(`Directive "${p}" has already been registered in target app.`),r.directives[p]=f,d):r.directives[p]},mount(p,f,v){if(h)Pe("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{p.__vue_app__&&Pe("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const _=d._ceVNode||Q(i,s);return _.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),r.reload=()=>{t(Bs(_),p,v)},f&&e?e(_,p):t(_,p,v),h=!0,d._container=p,p.__vue_app__=d,d._instance=_.component,YB(d,WE),qg(_.component)}},onUnmount(p){typeof p!="function"&&Pe(`Expected function as first argument to app.onUnmount(), but got ${typeof p}`),l.push(p)},unmount(){h?(hr(l,d._instance,16),t(null,d._container),d._instance=null,XB(d),delete d._container.__vue_app__):Pe("Cannot unmount an app that is not mounted.")},provide(p,f){return p in r.provides&&Pe(`App already provides property with key "${String(p)}". It will be overwritten with the new value.`),r.provides[p]=f,d},runWithContext(p){const f=Il;Il=d;try{return p()}finally{Il=f}}};return d}}let Il=null;function wi(t,e){if(!Hn)Pe("provide() can only be used inside setup().");else{let n=Hn.provides;const i=Hn.parent&&Hn.parent.provides;i===n&&(n=Hn.provides=Object.create(i)),n[t]=e}}function qt(t,e,n=!1){const i=Hn||Wn;if(i||Il){const s=Il?Il._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ct(e)?e.call(i&&i.proxy):e;Pe(`injection "${String(t)}" not found.`)}else Pe("inject() can only be used inside setup() or functional components.")}function kj(){return!!(Hn||Wn||Il)}const uA={},hA=()=>Object.create(uA),dA=t=>Object.getPrototypeOf(t)===uA;function Ij(t,e,n,i=!1){const s={},r=hA();t.propsDefaults=Object.create(null),fA(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);mA(e||{},s,t),n?t.props=i?s:A1(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function Aj(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function Pj(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,l=Ze(s),[h]=t.propsOptions;let d=!1;if(!Aj(t)&&(i||a>0)&&!(a&16)){if(a&8){const p=t.vnode.dynamicProps;for(let f=0;f<p.length;f++){let v=p[f];if(zg(t.emitsOptions,v))continue;const _=e[v];if(h)if(Yt(r,v))_!==r[v]&&(r[v]=_,d=!0);else{const y=_i(v);s[y]=qb(h,l,y,_,t,!1)}else _!==r[v]&&(r[v]=_,d=!0)}}}else{fA(t,e,s,r)&&(d=!0);let p;for(const f in l)(!e||!Yt(e,f)&&((p=Mr(f))===f||!Yt(e,p)))&&(h?n&&(n[f]!==void 0||n[p]!==void 0)&&(s[f]=qb(h,l,f,void 0,t,!0)):delete s[f]);if(r!==l)for(const f in r)(!e||!Yt(e,f))&&(delete r[f],d=!0)}d&&wr(t.attrs,"set",""),mA(e||{},s,t)}function fA(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,l;if(e)for(let h in e){if(Gh(h))continue;const d=e[h];let p;s&&Yt(s,p=_i(h))?!r||!r.includes(p)?n[p]=d:(l||(l={}))[p]=d:zg(t.emitsOptions,h)||(!(h in i)||d!==i[h])&&(i[h]=d,a=!0)}if(r){const h=Ze(n),d=l||Ft;for(let p=0;p<r.length;p++){const f=r[p];n[f]=qb(s,h,f,d[f],t,!Yt(d,f))}}return a}function qb(t,e,n,i,s,r){const a=t[n];if(a!=null){const l=Yt(a,"default");if(l&&i===void 0){const h=a.default;if(a.type!==Function&&!a.skipFactory&&ct(h)){const{propsDefaults:d}=s;if(n in d)i=d[n];else{const p=Vl(s);i=d[n]=h.call(null,e),p()}}else i=h;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!l?i=!1:a[1]&&(i===""||i===Mr(n))&&(i=!0))}return i}const Oj=new WeakMap;function pA(t,e,n=!1){const i=n?Oj:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},l=[];let h=!1;if(!ct(t)){const p=f=>{h=!0;const[v,_]=pA(f,e,!0);gn(a,v),_&&l.push(..._)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!r&&!h)return Zt(t)&&i.set(t,Vc),Vc;if(st(r))for(let p=0;p<r.length;p++){hn(r[p])||Pe("props must be strings when using array syntax.",r[p]);const f=_i(r[p]);LE(f)&&(a[f]=Ft)}else if(r){Zt(r)||Pe("invalid props options",r);for(const p in r){const f=_i(p);if(LE(f)){const v=r[p],_=a[f]=st(v)||ct(v)?{type:v}:gn({},v),y=_.type;let b=!1,x=!0;if(st(y))for(let k=0;k<y.length;++k){const I=y[k],D=ct(I)&&I.name;if(D==="Boolean"){b=!0;break}else D==="String"&&(x=!1)}else b=ct(y)&&y.name==="Boolean";_[0]=b,_[1]=x,(b||Yt(_,"default"))&&l.push(f)}}}const d=[a,l];return Zt(t)&&i.set(t,d),d}function LE(t){return t[0]!=="$"&&!Gh(t)?!0:(Pe(`Invalid prop name: "${t}" is a reserved property.`),!1)}function Rj(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function mA(t,e,n){const i=Ze(e),s=n.propsOptions[0],r=Object.keys(t).map(a=>_i(a));for(const a in s){let l=s[a];l!=null&&Mj(a,i[a],l,Er(i),!r.includes(a))}}function Mj(t,e,n,i,s){const{type:r,required:a,validator:l,skipCheck:h}=n;if(a&&s){Pe('Missing required prop: "'+t+'"');return}if(!(e==null&&!a)){if(r!=null&&r!==!0&&!h){let d=!1;const p=st(r)?r:[r],f=[];for(let v=0;v<p.length&&!d;v++){const{valid:_,expectedType:y}=Nj(e,p[v]);f.push(y||""),d=_}if(!d){Pe(Lj(t,e,f));return}}l&&!l(e,i)&&Pe('Invalid prop: custom validator check failed for prop "'+t+'".')}}const Dj=No("String,Number,Boolean,Function,Symbol,BigInt");function Nj(t,e){let n;const i=Rj(e);if(i==="null")n=t===null;else if(Dj(i)){const s=typeof t;n=s===i.toLowerCase(),!n&&s==="object"&&(n=t instanceof e)}else i==="Object"?n=Zt(t):i==="Array"?n=st(t):n=t instanceof e;return{valid:n,expectedType:i}}function Lj(t,e,n){if(n.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let i=`Invalid prop: type check failed for prop "${t}". Expected ${n.map(So).join(" | ")}`;const s=n[0],r=k_(e),a=VE(e,s),l=VE(e,r);return n.length===1&&FE(s)&&!Vj(s,r)&&(i+=` with value ${a}`),i+=`, got ${r} `,FE(r)&&(i+=`with value ${l}.`),i}function VE(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function FE(t){return["string","number","boolean"].some(n=>t.toLowerCase()===n)}function Vj(...t){return t.some(e=>e.toLowerCase()==="boolean")}const gA=t=>t[0]==="_"||t==="$stable",U_=t=>st(t)?t.map(Rs):[Rs(t)],Fj=(t,e,n)=>{if(e._n)return e;const i=Et((...s)=>(Hn&&(!n||n.root===Hn.root)&&Pe(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),U_(e(...s))),n);return i._c=!1,i},yA=(t,e,n)=>{const i=t._ctx;for(const s in t){if(gA(s))continue;const r=t[s];if(ct(r))e[s]=Fj(s,r,i);else if(r!=null){Pe(`Non-function value encountered for slot "${s}". Prefer function slots for better performance.`);const a=U_(r);e[s]=()=>a}}},vA=(t,e)=>{vu(t.vnode)||Pe("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=U_(e);t.slots.default=()=>n},Kb=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},Bj=(t,e,n)=>{const i=t.slots=hA();if(t.vnode.shapeFlag&32){const s=e._;s?(Kb(i,e,n),n&&wm(i,"_",s,!0)):yA(e,i)}else e&&vA(t,e)},jj=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=Ft;if(i.shapeFlag&32){const l=e._;l?ir?(Kb(s,e,n),wr(t,"set","$slots")):n&&l===1?r=!1:Kb(s,e,n):(r=!e.$stable,yA(e,s)),a=e}else e&&(vA(t,e),a={default:1});if(r)for(const l in s)!gA(l)&&a[l]==null&&delete s[l]};let xh,_a;function co(t,e){t.appContext.config.performance&&Rm()&&_a.mark(`vue-${e}-${t.uid}`),ZB(t,e,Rm()?_a.now():Date.now())}function uo(t,e){if(t.appContext.config.performance&&Rm()){const n=`vue-${e}-${t.uid}`,i=n+":end";_a.mark(i),_a.measure(`<${Kg(t,t.type)}> ${e}`,n,i),_a.clearMarks(n),_a.clearMarks(i)}ej(t,e,Rm()?_a.now():Date.now())}function Rm(){return xh!==void 0||(typeof window<"u"&&window.performance?(xh=!0,_a=window.performance):xh=!1),xh}function $j(){const t=[];if(t.length){const e=t.length>1;console.warn(`Feature flag${e?"s":""} ${t.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const ri=o$;function Uj(t){return Hj(t)}function Hj(t,e){$j();const n=jd();n.__VUE__=!0,j1(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:i,remove:s,patchProp:r,createElement:a,createText:l,createComment:h,setText:d,setElementText:p,parentNode:f,nextSibling:v,setScopeId:_=$i,insertStaticContent:y}=t,b=(ie,ce,ve,Ee=null,ke=null,Ie=null,je=void 0,Ve=null,Le=ir?!1:!!ce.dynamicChildren)=>{if(ie===ce)return;ie&&!tr(ie,ce)&&(Ee=Se(ie),Oe(ie,ke,Ie,!0),ie=null),ce.patchFlag===-2&&(Le=!1,ce.dynamicChildren=null);const{type:Me,ref:qe,shapeFlag:We}=ce;switch(Me){case Xl:x(ie,ce,ve,Ee);break;case Mn:k(ie,ce,ve,Ee);break;case Xp:ie==null?I(ce,ve,Ee,je):D(ie,ce,ve,je);break;case Pt:H(ie,ce,ve,Ee,ke,Ie,je,Ve,Le);break;default:We&1?P(ie,ce,ve,Ee,ke,Ie,je,Ve,Le):We&6?q(ie,ce,ve,Ee,ke,Ie,je,Ve,Le):We&64||We&128?Me.process(ie,ce,ve,Ee,ke,Ie,je,Ve,Le,pt):Pe("Invalid VNode type:",Me,`(${typeof Me})`)}qe!=null&&ke&&Im(qe,ie&&ie.ref,Ie,ce||ie,!ce)},x=(ie,ce,ve,Ee)=>{if(ie==null)i(ce.el=l(ce.children),ve,Ee);else{const ke=ce.el=ie.el;ce.children!==ie.children&&d(ke,ce.children)}},k=(ie,ce,ve,Ee)=>{ie==null?i(ce.el=h(ce.children||""),ve,Ee):ce.el=ie.el},I=(ie,ce,ve,Ee)=>{[ie.el,ie.anchor]=y(ie.children,ce,ve,Ee,ie.el,ie.anchor)},D=(ie,ce,ve,Ee)=>{if(ce.children!==ie.children){const ke=v(ie.anchor);V(ie),[ce.el,ce.anchor]=y(ce.children,ve,ke,Ee)}else ce.el=ie.el,ce.anchor=ie.anchor},N=({el:ie,anchor:ce},ve,Ee)=>{let ke;for(;ie&&ie!==ce;)ke=v(ie),i(ie,ve,Ee),ie=ke;i(ce,ve,Ee)},V=({el:ie,anchor:ce})=>{let ve;for(;ie&&ie!==ce;)ve=v(ie),s(ie),ie=ve;s(ce)},P=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le)=>{ce.type==="svg"?je="svg":ce.type==="math"&&(je="mathml"),ie==null?T(ce,ve,Ee,ke,Ie,je,Ve,Le):B(ie,ce,ke,Ie,je,Ve,Le)},T=(ie,ce,ve,Ee,ke,Ie,je,Ve)=>{let Le,Me;const{props:qe,shapeFlag:We,transition:Xe,dirs:tt}=ie;if(Le=ie.el=a(ie.type,Ie,qe&&qe.is,qe),We&8?p(Le,ie.children):We&16&&L(ie.children,Le,null,Ee,ke,zv(ie,Ie),je,Ve),tt&&ll(ie,null,Ee,"created"),R(Le,ie,ie.scopeId,je,Ee),qe){for(const jt in qe)jt!=="value"&&!Gh(jt)&&r(Le,jt,null,qe[jt],Ie,Ee);"value"in qe&&r(Le,"value",null,qe.value,Ie),(Me=qe.onVnodeBeforeMount)&&Ps(Me,Ee,ie)}wm(Le,"__vnode",ie,!0),wm(Le,"__vueParentComponent",Ee,!0),tt&&ll(ie,null,Ee,"beforeMount");const kt=Wj(ke,Xe);kt&&Xe.beforeEnter(Le),i(Le,ce,ve),((Me=qe&&qe.onVnodeMounted)||kt||tt)&&ri(()=>{Me&&Ps(Me,Ee,ie),kt&&Xe.enter(Le),tt&&ll(ie,null,Ee,"mounted")},ke)},R=(ie,ce,ve,Ee,ke)=>{if(ve&&_(ie,ve),Ee)for(let Ie=0;Ie<Ee.length;Ie++)_(ie,Ee[Ie]);if(ke){let Ie=ke.subTree;if(Ie.patchFlag>0&&Ie.patchFlag&2048&&(Ie=Gg(Ie.children)||Ie),ce===Ie||Lm(Ie.type)&&(Ie.ssContent===ce||Ie.ssFallback===ce)){const je=ke.vnode;R(ie,je,je.scopeId,je.slotScopeIds,ke.parent)}}},L=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le=0)=>{for(let Me=Le;Me<ie.length;Me++){const qe=ie[Me]=Ve?ya(ie[Me]):Rs(ie[Me]);b(null,qe,ce,ve,Ee,ke,Ie,je,Ve)}},B=(ie,ce,ve,Ee,ke,Ie,je)=>{const Ve=ce.el=ie.el;Ve.__vnode=ce;let{patchFlag:Le,dynamicChildren:Me,dirs:qe}=ce;Le|=ie.patchFlag&16;const We=ie.props||Ft,Xe=ce.props||Ft;let tt;if(ve&&cl(ve,!1),(tt=Xe.onVnodeBeforeUpdate)&&Ps(tt,ve,ce,ie),qe&&ll(ce,ie,ve,"beforeUpdate"),ve&&cl(ve,!0),ir&&(Le=0,je=!1,Me=null),(We.innerHTML&&Xe.innerHTML==null||We.textContent&&Xe.textContent==null)&&p(Ve,""),Me?(U(ie.dynamicChildren,Me,Ve,ve,Ee,zv(ce,ke),Ie),Mm(ie,ce)):je||ye(ie,ce,Ve,null,ve,Ee,zv(ce,ke),Ie,!1),Le>0){if(Le&16)z(Ve,We,Xe,ve,ke);else if(Le&2&&We.class!==Xe.class&&r(Ve,"class",null,Xe.class,ke),Le&4&&r(Ve,"style",We.style,Xe.style,ke),Le&8){const kt=ce.dynamicProps;for(let jt=0;jt<kt.length;jt++){const $t=kt[jt],xi=We[$t],Sn=Xe[$t];(Sn!==xi||$t==="value")&&r(Ve,$t,xi,Sn,ke,ve)}}Le&1&&ie.children!==ce.children&&p(Ve,ce.children)}else!je&&Me==null&&z(Ve,We,Xe,ve,ke);((tt=Xe.onVnodeUpdated)||qe)&&ri(()=>{tt&&Ps(tt,ve,ce,ie),qe&&ll(ce,ie,ve,"updated")},Ee)},U=(ie,ce,ve,Ee,ke,Ie,je)=>{for(let Ve=0;Ve<ce.length;Ve++){const Le=ie[Ve],Me=ce[Ve],qe=Le.el&&(Le.type===Pt||!tr(Le,Me)||Le.shapeFlag&70)?f(Le.el):ve;b(Le,Me,qe,null,Ee,ke,Ie,je,!0)}},z=(ie,ce,ve,Ee,ke)=>{if(ce!==ve){if(ce!==Ft)for(const Ie in ce)!Gh(Ie)&&!(Ie in ve)&&r(ie,Ie,ce[Ie],null,ke,Ee);for(const Ie in ve){if(Gh(Ie))continue;const je=ve[Ie],Ve=ce[Ie];je!==Ve&&Ie!=="value"&&r(ie,Ie,Ve,je,ke,Ee)}"value"in ve&&r(ie,"value",ce.value,ve.value,ke)}},H=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le)=>{const Me=ce.el=ie?ie.el:l(""),qe=ce.anchor=ie?ie.anchor:l("");let{patchFlag:We,dynamicChildren:Xe,slotScopeIds:tt}=ce;(ir||We&2048)&&(We=0,Le=!1,Xe=null),tt&&(Ve=Ve?Ve.concat(tt):tt),ie==null?(i(Me,ve,Ee),i(qe,ve,Ee),L(ce.children||[],ve,qe,ke,Ie,je,Ve,Le)):We>0&&We&64&&Xe&&ie.dynamicChildren?(U(ie.dynamicChildren,Xe,ve,ke,Ie,je,Ve),Mm(ie,ce)):ye(ie,ce,ve,qe,ke,Ie,je,Ve,Le)},q=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le)=>{ce.slotScopeIds=Ve,ie==null?ce.shapeFlag&512?ke.ctx.activate(ce,ve,Ee,je,Le):Z(ce,ve,Ee,ke,Ie,je,Le):se(ie,ce,Le)},Z=(ie,ce,ve,Ee,ke,Ie,je)=>{const Ve=ie.component=f$(ie,Ee,ke);if(Ve.type.__hmrId&&zB(Ve),Yh(ie),co(Ve,"mount"),vu(ie)&&(Ve.ctx.renderer=pt),co(Ve,"init"),m$(Ve,!1,je),uo(Ve,"init"),Ve.asyncDep){if(ir&&(ie.el=null),ke&&ke.registerDep(Ve,oe,je),!ie.el){const Le=Ve.subTree=Q(Mn);k(null,Le,ce,ve)}}else oe(Ve,ie,ce,ve,ke,Ie,je);Xh(),uo(Ve,"mount")},se=(ie,ce,ve)=>{const Ee=ce.component=ie.component;if(Zj(ie,ce,ve))if(Ee.asyncDep&&!Ee.asyncResolved){Yh(ce),ae(Ee,ce,ve),Xh();return}else Ee.next=ce,Ee.update();else ce.el=ie.el,Ee.vnode=ce},oe=(ie,ce,ve,Ee,ke,Ie,je)=>{const Ve=()=>{if(ie.isMounted){let{next:We,bu:Xe,u:tt,parent:kt,vnode:jt}=ie;{const qn=bA(ie);if(qn){We&&(We.el=jt.el,ae(ie,We,je)),qn.asyncDep.then(()=>{ie.isUnmounted||Ve()});return}}let $t=We,xi;Yh(We||ie.vnode),cl(ie,!1),We?(We.el=jt.el,ae(ie,We,je)):We=jt,Xe&&ba(Xe),(xi=We.props&&We.props.onVnodeBeforeUpdate)&&Ps(xi,kt,We,jt),cl(ie,!0),co(ie,"render");const Sn=Gv(ie);uo(ie,"render");const Dn=ie.subTree;ie.subTree=Sn,co(ie,"patch"),b(Dn,Sn,f(Dn.el),Se(Dn),ie,ke,Ie),uo(ie,"patch"),We.el=Sn.el,$t===null&&H_(ie,Sn.el),tt&&ri(tt,ke),(xi=We.props&&We.props.onVnodeUpdated)&&ri(()=>Ps(xi,kt,We,jt),ke),$1(ie),Xh()}else{let We;const{el:Xe,props:tt}=ce,{bm:kt,m:jt,parent:$t,root:xi,type:Sn}=ie,Dn=Sl(ce);if(cl(ie,!1),kt&&ba(kt),!Dn&&(We=tt&&tt.onVnodeBeforeMount)&&Ps(We,$t,ce),cl(ie,!0),Xe&&ut){const qn=()=>{co(ie,"render"),ie.subTree=Gv(ie),uo(ie,"render"),co(ie,"hydrate"),ut(Xe,ie.subTree,ie,ke,null),uo(ie,"hydrate")};Dn&&Sn.__asyncHydrate?Sn.__asyncHydrate(Xe,ie,qn):qn()}else{xi.ce&&xi.ce._injectChildStyle(Sn),co(ie,"render");const qn=ie.subTree=Gv(ie);uo(ie,"render"),co(ie,"patch"),b(null,qn,ve,Ee,ie,ke,Ie),uo(ie,"patch"),ce.el=qn.el}if(jt&&ri(jt,ke),!Dn&&(We=tt&&tt.onVnodeMounted)){const qn=ce;ri(()=>Ps(We,$t,qn),ke)}(ce.shapeFlag&256||$t&&Sl($t.vnode)&&$t.vnode.shapeFlag&256)&&ie.a&&ri(ie.a,ke),ie.isMounted=!0,$b(ie),ce=ve=Ee=null}};ie.scope.on();const Le=ie.effect=new f1(Ve);ie.scope.off();const Me=ie.update=Le.run.bind(Le),qe=ie.job=Le.runIfDirty.bind(Le);qe.i=ie,qe.id=ie.uid,Le.scheduler=()=>$g(qe),cl(ie,!0),Le.onTrack=ie.rtc?We=>ba(ie.rtc,We):void 0,Le.onTrigger=ie.rtg?We=>ba(ie.rtg,We):void 0,Me()},ae=(ie,ce,ve)=>{ce.component=ie;const Ee=ie.vnode.props;ie.vnode=ce,ie.next=null,Pj(ie,ce.props,Ee,ve),jj(ie,ce.children,ve),Vo(),TE(ie),Fo()},ye=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le=!1)=>{const Me=ie&&ie.children,qe=ie?ie.shapeFlag:0,We=ce.children,{patchFlag:Xe,shapeFlag:tt}=ce;if(Xe>0){if(Xe&128){_e(Me,We,ve,Ee,ke,Ie,je,Ve,Le);return}else if(Xe&256){we(Me,We,ve,Ee,ke,Ie,je,Ve,Le);return}}tt&8?(qe&16&&pe(Me,ke,Ie),We!==Me&&p(ve,We)):qe&16?tt&16?_e(Me,We,ve,Ee,ke,Ie,je,Ve,Le):pe(Me,ke,Ie,!0):(qe&8&&p(ve,""),tt&16&&L(We,ve,Ee,ke,Ie,je,Ve,Le))},we=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le)=>{ie=ie||Vc,ce=ce||Vc;const Me=ie.length,qe=ce.length,We=Math.min(Me,qe);let Xe;for(Xe=0;Xe<We;Xe++){const tt=ce[Xe]=Le?ya(ce[Xe]):Rs(ce[Xe]);b(ie[Xe],tt,ve,null,ke,Ie,je,Ve,Le)}Me>qe?pe(ie,ke,Ie,!0,!1,We):L(ce,ve,Ee,ke,Ie,je,Ve,Le,We)},_e=(ie,ce,ve,Ee,ke,Ie,je,Ve,Le)=>{let Me=0;const qe=ce.length;let We=ie.length-1,Xe=qe-1;for(;Me<=We&&Me<=Xe;){const tt=ie[Me],kt=ce[Me]=Le?ya(ce[Me]):Rs(ce[Me]);if(tr(tt,kt))b(tt,kt,ve,null,ke,Ie,je,Ve,Le);else break;Me++}for(;Me<=We&&Me<=Xe;){const tt=ie[We],kt=ce[Xe]=Le?ya(ce[Xe]):Rs(ce[Xe]);if(tr(tt,kt))b(tt,kt,ve,null,ke,Ie,je,Ve,Le);else break;We--,Xe--}if(Me>We){if(Me<=Xe){const tt=Xe+1,kt=tt<qe?ce[tt].el:Ee;for(;Me<=Xe;)b(null,ce[Me]=Le?ya(ce[Me]):Rs(ce[Me]),ve,kt,ke,Ie,je,Ve,Le),Me++}}else if(Me>Xe)for(;Me<=We;)Oe(ie[Me],ke,Ie,!0),Me++;else{const tt=Me,kt=Me,jt=new Map;for(Me=kt;Me<=Xe;Me++){const ei=ce[Me]=Le?ya(ce[Me]):Rs(ce[Me]);ei.key!=null&&(jt.has(ei.key)&&Pe("Duplicate keys found during update:",JSON.stringify(ei.key),"Make sure keys are unique."),jt.set(ei.key,Me))}let $t,xi=0;const Sn=Xe-kt+1;let Dn=!1,qn=0;const Vn=new Array(Sn);for(Me=0;Me<Sn;Me++)Vn[Me]=0;for(Me=tt;Me<=We;Me++){const ei=ie[Me];if(xi>=Sn){Oe(ei,ke,Ie,!0);continue}let nn;if(ei.key!=null)nn=jt.get(ei.key);else for($t=kt;$t<=Xe;$t++)if(Vn[$t-kt]===0&&tr(ei,ce[$t])){nn=$t;break}nn===void 0?Oe(ei,ke,Ie,!0):(Vn[nn-kt]=Me+1,nn>=qn?qn=nn:Dn=!0,b(ei,ce[nn],ve,null,ke,Ie,je,Ve,Le),xi++)}const Jr=Dn?zj(Vn):Vc;for($t=Jr.length-1,Me=Sn-1;Me>=0;Me--){const ei=kt+Me,nn=ce[ei],Go=ei+1<qe?ce[ei+1].el:Ee;Vn[Me]===0?b(null,nn,ve,Go,ke,Ie,je,Ve,Le):Dn&&($t<0||Me!==Jr[$t]?Ce(nn,ve,Go,2):$t--)}}},Ce=(ie,ce,ve,Ee,ke=null)=>{const{el:Ie,type:je,transition:Ve,children:Le,shapeFlag:Me}=ie;if(Me&6){Ce(ie.component.subTree,ce,ve,Ee);return}if(Me&128){ie.suspense.move(ce,ve,Ee);return}if(Me&64){je.move(ie,ce,ve,pt);return}if(je===Pt){i(Ie,ce,ve);for(let We=0;We<Le.length;We++)Ce(Le[We],ce,ve,Ee);i(ie.anchor,ce,ve);return}if(je===Xp){N(ie,ce,ve);return}if(Ee!==2&&Me&1&&Ve)if(Ee===0)Ve.beforeEnter(Ie),i(Ie,ce,ve),ri(()=>Ve.enter(Ie),ke);else{const{leave:We,delayLeave:Xe,afterLeave:tt}=Ve,kt=()=>i(Ie,ce,ve),jt=()=>{We(Ie,()=>{kt(),tt&&tt()})};Xe?Xe(Ie,kt,jt):jt()}else i(Ie,ce,ve)},Oe=(ie,ce,ve,Ee=!1,ke=!1)=>{const{type:Ie,props:je,ref:Ve,children:Le,dynamicChildren:Me,shapeFlag:qe,patchFlag:We,dirs:Xe,cacheIndex:tt}=ie;if(We===-2&&(ke=!1),Ve!=null&&Im(Ve,null,ve,ie,!0),tt!=null&&(ce.renderCache[tt]=void 0),qe&256){ce.ctx.deactivate(ie);return}const kt=qe&1&&Xe,jt=!Sl(ie);let $t;if(jt&&($t=je&&je.onVnodeBeforeUnmount)&&Ps($t,ce,ie),qe&6)ze(ie.component,ve,Ee);else{if(qe&128){ie.suspense.unmount(ve,Ee);return}kt&&ll(ie,null,ce,"beforeUnmount"),qe&64?ie.type.remove(ie,ce,ve,pt,Ee):Me&&!Me.hasOnce&&(Ie!==Pt||We>0&&We&64)?pe(Me,ce,ve,!1,!0):(Ie===Pt&&We&384||!ke&&qe&16)&&pe(Le,ce,ve),Ee&&He(ie)}(jt&&($t=je&&je.onVnodeUnmounted)||kt)&&ri(()=>{$t&&Ps($t,ce,ie),kt&&ll(ie,null,ce,"unmounted")},ve)},He=ie=>{const{type:ce,el:ve,anchor:Ee,transition:ke}=ie;if(ce===Pt){ie.patchFlag>0&&ie.patchFlag&2048&&ke&&!ke.persisted?ie.children.forEach(je=>{je.type===Mn?s(je.el):He(je)}):at(ve,Ee);return}if(ce===Xp){V(ie);return}const Ie=()=>{s(ve),ke&&!ke.persisted&&ke.afterLeave&&ke.afterLeave()};if(ie.shapeFlag&1&&ke&&!ke.persisted){const{leave:je,delayLeave:Ve}=ke,Le=()=>je(ve,Ie);Ve?Ve(ie.el,Ie,Le):Le()}else Ie()},at=(ie,ce)=>{let ve;for(;ie!==ce;)ve=v(ie),s(ie),ie=ve;s(ce)},ze=(ie,ce,ve)=>{ie.type.__hmrId&&GB(ie);const{bum:Ee,scope:ke,job:Ie,subTree:je,um:Ve,m:Le,a:Me}=ie;Dm(Le),Dm(Me),Ee&&ba(Ee),ke.stop(),Ie&&(Ie.flags|=8,Oe(je,ie,ce,ve)),Ve&&ri(Ve,ce),ri(()=>{ie.isUnmounted=!0},ce),ce&&ce.pendingBranch&&!ce.isUnmounted&&ie.asyncDep&&!ie.asyncResolved&&ie.suspenseId===ce.pendingId&&(ce.deps--,ce.deps===0&&ce.resolve()),QB(ie)},pe=(ie,ce,ve,Ee=!1,ke=!1,Ie=0)=>{for(let je=Ie;je<ie.length;je++)Oe(ie[je],ce,ve,Ee,ke)},Se=ie=>{if(ie.shapeFlag&6)return Se(ie.component.subTree);if(ie.shapeFlag&128)return ie.suspense.next();const ce=v(ie.anchor||ie.el),ve=ce&&ce[z1];return ve?v(ve):ce};let Ne=!1;const Ge=(ie,ce,ve)=>{ie==null?ce._vnode&&Oe(ce._vnode,null,null,!0):b(ce._vnode||null,ie,ce,null,null,null,ve),ce._vnode=ie,Ne||(Ne=!0,TE(),V1(),Ne=!1)},pt={p:b,um:Oe,m:Ce,r:He,mt:Z,mc:L,pc:ye,pbc:U,n:Se,o:t};let Re,ut;return{render:Ge,hydrate:Re,createApp:Sj(Ge,Re)}}function zv({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function cl({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Wj(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Mm(t,e,n=!1){const i=t.children,s=e.children;if(st(i)&&st(s))for(let r=0;r<i.length;r++){const a=i[r];let l=s[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[r]=ya(s[r]),l.el=a.el),!n&&l.patchFlag!==-2&&Mm(a,l)),l.type===Xl&&(l.el=a.el),l.type===Mn&&!l.el&&(l.el=a.el)}}function zj(t){const e=t.slice(),n=[0];let i,s,r,a,l;const h=t.length;for(i=0;i<h;i++){const d=t[i];if(d!==0){if(s=n[n.length-1],t[s]<d){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)l=r+a>>1,t[n[l]]<d?r=l+1:a=l;d<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function bA(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:bA(e)}function Dm(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Gj=Symbol.for("v-scx"),qj=()=>{{const t=qt(Gj);return t||Pe("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Ji(t,e){return Wg(t,null,e)}function Kj(t,e){return Wg(t,null,gn({},e,{flush:"sync"}))}function ht(t,e,n){return ct(e)||Pe("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Wg(t,e,n)}function Wg(t,e,n=Ft){const{immediate:i,deep:s,flush:r,once:a}=n;e||(i!==void 0&&Pe('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),s!==void 0&&Pe('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),a!==void 0&&Pe('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=gn({},n);l.onWarn=Pe;const h=e&&i||!e&&r!=="post";let d;if(Qc){if(r==="sync"){const _=qj();d=_.__watcherHandles||(_.__watcherHandles=[])}else if(!h){const _=()=>{};return _.stop=$i,_.resume=$i,_.pause=$i,_}}const p=Hn;l.call=(_,y,b)=>hr(_,p,y,b);let f=!1;r==="post"?l.scheduler=_=>{ri(_,p&&p.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(_,y)=>{y?_():$g(_)}),l.augmentJob=_=>{e&&(_.flags|=4),f&&(_.flags|=2,p&&(_.id=p.uid,_.i=p))};const v=VB(t,e,l);return Qc&&(d?d.push(v):h&&v()),v}function Yj(t,e,n){const i=this.proxy,s=hn(t)?t.includes(".")?_A(i,t):()=>i[t]:t.bind(i,i);let r;ct(e)?r=e:(r=e.handler,n=e);const a=Vl(this),l=Wg(s,r.bind(i),n);return a(),l}function _A(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Cee(t,e,n=Ft){const i=Hs();if(!i)return Pe("useModel() called without active instance."),Ke();const s=_i(e);if(!i.propsOptions[0][s])return Pe(`useModel() called with prop "${e}" which is not declared.`),Ke();const r=Mr(e),a=wA(t,s),l=OB((h,d)=>{let p,f=Ft,v;return Kj(()=>{const _=t[s];Zi(p,_)&&(p=_,d())}),{get(){return h(),n.get?n.get(p):p},set(_){const y=n.set?n.set(_):_;if(!Zi(y,p)&&!(f!==Ft&&Zi(_,f)))return;const b=i.vnode.props;b&&(e in b||s in b||r in b)&&(`onUpdate:${e}`in b||`onUpdate:${s}`in b||`onUpdate:${r}`in b)||(p=_,d()),i.emit(`update:${e}`,y),Zi(_,y)&&Zi(_,f)&&!Zi(y,v)&&d(),f=_,v=y}}});return l[Symbol.iterator]=()=>{let h=0;return{next(){return h<2?{value:h++?a||Ft:l,done:!1}:{done:!0}}}},l}const wA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${_i(e)}Modifiers`]||t[`${Mr(e)}Modifiers`];function Xj(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Ft;{const{emitsOptions:p,propsOptions:[f]}=t;if(p)if(!(e in p))(!f||!(pl(_i(e))in f))&&Pe(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${pl(_i(e))}" prop.`);else{const v=p[e];ct(v)&&(v(...n)||Pe(`Invalid event arguments: event validation failed for event "${e}".`))}}let s=n;const r=e.startsWith("update:"),a=r&&wA(i,e.slice(7));a&&(a.trim&&(s=n.map(p=>hn(p)?p.trim():p)),a.number&&(s=n.map(Nb))),tj(t,e,s);{const p=e.toLowerCase();p!==e&&i[pl(p)]&&Pe(`Event "${p}" is emitted in component ${Kg(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${Mr(e)}" instead of "${e}".`)}let l,h=i[l=pl(e)]||i[l=pl(_i(e))];!h&&r&&(h=i[l=pl(Mr(e))]),h&&hr(h,t,6,s);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,hr(d,t,6,s)}}function CA(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},l=!1;if(!ct(t)){const h=d=>{const p=CA(d,e,!0);p&&(l=!0,gn(a,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!r&&!l?(Zt(t)&&i.set(t,null),null):(st(r)?r.forEach(h=>a[h]=null):gn(a,r),Zt(t)&&i.set(t,a),a)}function zg(t,e){return!t||!Fd(e)?!1:(e=e.slice(2).replace(/Once$/,""),Yt(t,e[0].toLowerCase()+e.slice(1))||Yt(t,Mr(e))||Yt(t,e))}let Yb=!1;function Nm(){Yb=!0}function Gv(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:l,emit:h,render:d,renderCache:p,props:f,data:v,setupState:_,ctx:y,inheritAttrs:b}=t,x=km(t);let k,I;Yb=!1;try{if(n.shapeFlag&4){const V=s||i,P=_.__isScriptSetup?new Proxy(V,{get(T,R,L){return Pe(`Property '${String(R)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(T,R,L)}}):V;k=Rs(d.call(P,V,p,Er(f),_,v,y)),I=l}else{const V=e;l===f&&Nm(),k=Rs(V.length>1?V(Er(f),{get attrs(){return Nm(),Er(l)},slots:a,emit:h}):V(Er(f),null)),I=e.props?l:Jj(l)}}catch(V){Jh.length=0,Yl(V,t,1),k=Q(Mn)}let D=k,N;if(k.patchFlag>0&&k.patchFlag&2048&&([D,N]=xA(k)),I&&b!==!1){const V=Object.keys(I),{shapeFlag:P}=D;if(V.length){if(P&7)r&&V.some(_m)&&(I=Qj(I,r)),D=Bs(D,I,!1,!0);else if(!Yb&&D.type!==Mn){const T=Object.keys(l),R=[],L=[];for(let B=0,U=T.length;B<U;B++){const z=T[B];Fd(z)?_m(z)||R.push(z[2].toLowerCase()+z.slice(3)):L.push(z)}L.length&&Pe(`Extraneous non-props attributes (${L.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),R.length&&Pe(`Extraneous non-emits event listeners (${R.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(BE(D)||Pe("Runtime directive used on component with non-element root node. The directives will not function as intended."),D=Bs(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(BE(D)||Pe("Component inside <Transition> renders non-element root node that cannot be animated."),Pa(D,n.transition)),N?N(D):k=D,km(x),k}const xA=t=>{const e=t.children,n=t.dynamicChildren,i=Gg(e,!1);if(i){if(i.patchFlag>0&&i.patchFlag&2048)return xA(i)}else return[t,void 0];const s=e.indexOf(i),r=n?n.indexOf(i):-1,a=l=>{e[s]=l,n&&(r>-1?n[r]=l:l.patchFlag>0&&(t.dynamicChildren=[...n,l]))};return[Rs(i),a]};function Gg(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(Io(s)){if(s.type!==Mn||s.children==="v-if"){if(n)return;if(n=s,e&&n.patchFlag>0&&n.patchFlag&2048)return Gg(n.children)}}else return}return n}const Jj=t=>{let e;for(const n in t)(n==="class"||n==="style"||Fd(n))&&((e||(e={}))[n]=t[n]);return e},Qj=(t,e)=>{const n={};for(const i in t)(!_m(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n},BE=t=>t.shapeFlag&7||t.type===Mn;function Zj(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:l,patchFlag:h}=e,d=r.emitsOptions;if((s||l)&&ir||e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?jE(i,a,d):!!a;if(h&8){const p=e.dynamicProps;for(let f=0;f<p.length;f++){const v=p[f];if(a[v]!==i[v]&&!zg(d,v))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?jE(i,a,d):!0:!!a;return!1}function jE(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!zg(n,r))return!0}return!1}function H_({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Lm=t=>t.__isSuspense;let Xb=0;const e$={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,a,l,h,d){if(t==null)n$(e,n,i,s,r,a,l,h,d);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}i$(t,e,n,i,s,a,l,h,d)}},hydrate:s$,normalize:r$},t$=e$;function yd(t,e){const n=t.props&&t.props[e];ct(n)&&n()}function n$(t,e,n,i,s,r,a,l,h){const{p:d,o:{createElement:p}}=h,f=p("div"),v=t.suspense=EA(t,s,i,e,f,n,r,a,l,h);d(null,v.pendingBranch=t.ssContent,f,null,i,v,r,a),v.deps>0?(yd(t,"onPending"),yd(t,"onFallback"),d(null,t.ssFallback,e,n,i,null,r,a),Bc(v,t.ssFallback)):v.resolve(!1,!0)}function i$(t,e,n,i,s,r,a,l,{p:h,um:d,o:{createElement:p}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const v=e.ssContent,_=e.ssFallback,{activeBranch:y,pendingBranch:b,isInFallback:x,isHydrating:k}=f;if(b)f.pendingBranch=v,tr(v,b)?(h(b,v,f.hiddenContainer,null,s,f,r,a,l),f.deps<=0?f.resolve():x&&(k||(h(y,_,n,i,s,null,r,a,l),Bc(f,_)))):(f.pendingId=Xb++,k?(f.isHydrating=!1,f.activeBranch=b):d(b,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=p("div"),x?(h(null,v,f.hiddenContainer,null,s,f,r,a,l),f.deps<=0?f.resolve():(h(y,_,n,i,s,null,r,a,l),Bc(f,_))):y&&tr(v,y)?(h(y,v,n,i,s,f,r,a,l),f.resolve(!0)):(h(null,v,f.hiddenContainer,null,s,f,r,a,l),f.deps<=0&&f.resolve()));else if(y&&tr(v,y))h(y,v,n,i,s,f,r,a,l),Bc(f,v);else if(yd(e,"onPending"),f.pendingBranch=v,v.shapeFlag&512?f.pendingId=v.component.suspenseId:f.pendingId=Xb++,h(null,v,f.hiddenContainer,null,s,f,r,a,l),f.deps<=0)f.resolve();else{const{timeout:I,pendingId:D}=f;I>0?setTimeout(()=>{f.pendingId===D&&f.fallback(_)},I):I===0&&f.fallback(_)}}let $E=!1;function EA(t,e,n,i,s,r,a,l,h,d,p=!1){$E||($E=!0,console[console.info?"info":"log"]("<Suspense> is an experimental feature and its API will likely change."));const{p:f,m:v,um:_,n:y,o:{parentNode:b,remove:x}}=d;let k;const I=a$(t);I&&e&&e.pendingBranch&&(k=e.pendingId,e.deps++);const D=t.props?a1(t.props.timeout):void 0;D1(D,"Suspense timeout");const N=r,V={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:Xb++,timeout:typeof D=="number"?D:-1,activeBranch:null,pendingBranch:null,isInFallback:!p,isHydrating:p,isUnmounted:!1,effects:[],resolve(P=!1,T=!1){{if(!P&&!V.pendingBranch)throw new Error("suspense.resolve() is called without a pending branch.");if(V.isUnmounted)throw new Error("suspense.resolve() is called on an already unmounted suspense boundary.")}const{vnode:R,activeBranch:L,pendingBranch:B,pendingId:U,effects:z,parentComponent:H,container:q}=V;let Z=!1;V.isHydrating?V.isHydrating=!1:P||(Z=L&&B.transition&&B.transition.mode==="out-in",Z&&(L.transition.afterLeave=()=>{U===V.pendingId&&(v(B,q,r===N?y(L):r,0),Tm(z))}),L&&(b(L.el)===q&&(r=y(L)),_(L,H,V,!0)),Z||v(B,q,r,0)),Bc(V,B),V.pendingBranch=null,V.isInFallback=!1;let se=V.parent,oe=!1;for(;se;){if(se.pendingBranch){se.effects.push(...z),oe=!0;break}se=se.parent}!oe&&!Z&&Tm(z),V.effects=[],I&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),yd(R,"onResolve")},fallback(P){if(!V.pendingBranch)return;const{vnode:T,activeBranch:R,parentComponent:L,container:B,namespace:U}=V;yd(T,"onFallback");const z=y(R),H=()=>{V.isInFallback&&(f(null,P,B,z,L,null,U,l,h),Bc(V,P))},q=P.transition&&P.transition.mode==="out-in";q&&(R.transition.afterLeave=H),V.isInFallback=!0,_(R,L,null,!0),q||H()},move(P,T,R){V.activeBranch&&v(V.activeBranch,P,T,R),V.container=P},next(){return V.activeBranch&&y(V.activeBranch)},registerDep(P,T,R){const L=!!V.pendingBranch;L&&V.deps++;const B=P.vnode.el;P.asyncDep.catch(U=>{Yl(U,P,0)}).then(U=>{if(P.isUnmounted||V.isUnmounted||V.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:z}=P;Yh(z),e0(P,U,!1),B&&(z.el=B);const H=!B&&P.subTree.el;T(P,z,b(B||P.subTree.el),B?null:y(P.subTree),V,a,R),H&&x(H),H_(P,z.el),Xh(),L&&--V.deps===0&&V.resolve()})},unmount(P,T){V.isUnmounted=!0,V.activeBranch&&_(V.activeBranch,n,P,T),V.pendingBranch&&_(V.pendingBranch,n,P,T)}};return V}function s$(t,e,n,i,s,r,a,l,h){const d=e.suspense=EA(e,i,n,t.parentNode,document.createElement("div"),null,s,r,a,l,!0),p=h(t,d.pendingBranch=e.ssContent,n,d,r,a);return d.deps===0&&d.resolve(!1,!0),p}function r$(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=UE(i?n.default:n),t.ssFallback=i?UE(n.fallback):Q(Mn)}function UE(t){let e;if(ct(t)){const n=Xc&&t._c;n&&(t._d=!1,en()),t=t(),n&&(t._d=!0,e=ts,TA())}if(st(t)){const n=Gg(t);!n&&t.filter(i=>i!==F_).length>0&&Pe("<Suspense> slots expect a single root node."),t=n}return t=Rs(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function o$(t,e){e&&e.pendingBranch?st(t)?e.effects.push(...t):e.effects.push(t):Tm(t)}function Bc(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,H_(i,s))}function a$(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Pt=Symbol.for("v-fgt"),Xl=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),Xp=Symbol.for("v-stc"),Jh=[];let ts=null;function en(t=!1){Jh.push(ts=t?null:[])}function TA(){Jh.pop(),ts=Jh[Jh.length-1]||null}let Xc=1;function HE(t,e=!1){Xc+=t,t<0&&ts&&e&&(ts.hasOnce=!0)}function SA(t){return t.dynamicChildren=Xc>0?ts||Vc:null,TA(),Xc>0&&ts&&ts.push(t),t}function Jc(t,e,n,i,s,r){return SA(Ki(t,e,n,i,s,r,!0))}function Rn(t,e,n,i,s){return SA(Q(t,e,n,i,s,!0))}function Io(t){return t?t.__v_isVNode===!0:!1}function tr(t,e){if(e.shapeFlag&6&&t.component){const n=Kp.get(e.type);if(n&&n.has(t.component))return t.shapeFlag&=-257,e.shapeFlag&=-513,!1}return t.type===e.type&&t.key===e.key}const l$=(...t)=>c$(...t),kA=({key:t})=>t??null,Jp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?hn(t)||Gt(t)||ct(t)?{i:Wn,r:t,k:e,f:!!n}:t:null);function Ki(t,e=null,n=null,i=0,s=null,r=t===Pt?0:1,a=!1,l=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kA(e),ref:e&&Jp(e),scopeId:H1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wn};return l?(W_(h,n),r&128&&t.normalize(h)):n&&(h.shapeFlag|=hn(n)?8:16),h.key!==h.key&&Pe("VNode created with invalid key (NaN). VNode type:",h.type),Xc>0&&!a&&ts&&(h.patchFlag>0||r&6)&&h.patchFlag!==32&&ts.push(h),h}const Q=l$;function c$(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===F_)&&(t||Pe(`Invalid vnode type when creating vnode: ${t}.`),t=Mn),Io(t)){const l=Bs(t,e,!0);return n&&W_(l,n),Xc>0&&!r&&ts&&(l.shapeFlag&6?ts[ts.indexOf(t)]=l:ts.push(l)),l.patchFlag=-2,l}if(OA(t)&&(t=t.__vccOpts),e){e=u$(e);let{class:l,style:h}=e;l&&!hn(l)&&(e.class=Lg(l)),Zt(h)&&(fd(h)&&!st(h)&&(h=gn({},h)),e.style=Ng(h))}const a=hn(t)?1:Lm(t)?128:G1(t)?64:Zt(t)?4:ct(t)?2:0;return a&4&&fd(t)&&(t=Ze(t),Pe("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),Ki(t,e,n,i,s,a,r,!0)}function u$(t){return t?fd(t)||dA(t)?gn({},t):t:null}function Bs(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:l,transition:h}=t,d=e?dt(s||{},e):s,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&kA(d),ref:e&&e.ref?n&&r?st(r)?r.concat(Jp(e)):[r,Jp(e)]:Jp(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a===-1&&st(l)?l.map(IA):l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bs(t.ssContent),ssFallback:t.ssFallback&&Bs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&i&&Pa(p,h.clone(p)),p}function IA(t){const e=Bs(t);return st(t.children)&&(e.children=t.children.map(IA)),e}function $n(t=" ",e=0){return Q(Xl,null,t,e)}function ps(t="",e=!1){return e?(en(),Rn(Mn,null,t)):Q(Mn,null,t)}function Rs(t){return t==null||typeof t=="boolean"?Q(Mn):st(t)?Q(Pt,null,t.slice()):Io(t)?ya(t):Q(Xl,null,String(t))}function ya(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bs(t)}function W_(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(st(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),W_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!dA(e)?e._ctx=Wn:s===3&&Wn&&(Wn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ct(e)?(e={default:e,_ctx:Wn},n=32):(e=String(e),i&64?(n=16,e=[$n(e)]):n=8);t.children=e,t.shapeFlag|=n}function dt(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Lg([e.class,i.class]));else if(s==="style")e.style=Ng([e.style,i.style]);else if(Fd(s)){const r=e[s],a=i[s];a&&r!==a&&!(st(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function Ps(t,e,n,i=null){hr(t,e,7,[n,i])}const h$=cA();let d$=0;function f$(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||h$,r={uid:d$++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new h1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pA(i,s),emitsOptions:CA(i,s),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:i.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=gj(r),r.root=e?e.root:r,r.emit=Xj.bind(null,r),t.ce&&t.ce(r),r}let Hn=null;const Hs=()=>Hn||Wn;let Vm,Jb;{const t=jd(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};Vm=e("__VUE_INSTANCE_SETTERS__",n=>Hn=n),Jb=e("__VUE_SSR_SETTERS__",n=>Qc=n)}const Vl=t=>{const e=Hn;return Vm(t),t.scope.on(),()=>{t.scope.off(),Vm(e)}},Qb=()=>{Hn&&Hn.scope.off(),Vm(null)},p$=No("slot,component");function Zb(t,{isNativeTag:e}){(p$(t)||e(t))&&Pe("Do not use built-in or reserved HTML elements as component id: "+t)}function AA(t){return t.vnode.shapeFlag&4}let Qc=!1;function m$(t,e=!1,n=!1){e&&Jb(e);const{props:i,children:s}=t.vnode,r=AA(t);Ij(t,i,r,e),Bj(t,s,n);const a=r?g$(t,e):void 0;return e&&Jb(!1),a}function g$(t,e){var n;const i=t.type;{if(i.name&&Zb(i.name,t.appContext.config),i.components){const r=Object.keys(i.components);for(let a=0;a<r.length;a++)Zb(r[a],t.appContext.config)}if(i.directives){const r=Object.keys(i.directives);for(let a=0;a<r.length;a++)W1(r[a])}i.compilerOptions&&y$()&&Pe('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,aA),yj(t);const{setup:s}=i;if(s){Vo();const r=t.setupContext=s.length>1?_$(t):null,a=Vl(t),l=yu(s,t,0,[Er(t.props),r]),h=Mg(l);if(Fo(),a(),(h||t.sp)&&!Sl(t)&&L_(t),h){if(l.then(Qb,Qb),e)return l.then(d=>{e0(t,d,e)}).catch(d=>{Yl(d,t,0)});if(t.asyncDep=l,!t.suspense){const d=(n=i.name)!=null?n:"Anonymous";Pe(`Component <${d}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else e0(t,l,e)}else PA(t,e)}function e0(t,e,n){ct(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Zt(e)?(Io(e)&&Pe("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=O1(e),vj(t)):e!==void 0&&Pe(`setup() should return an object. Received: ${e===null?"null":typeof e}`),PA(t,n)}let t0;const y$=()=>!t0;function PA(t,e,n){const i=t.type;if(!t.render){if(!e&&t0&&!i.render){const s=i.template||$_(t).template;if(s){co(t,"compile");const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:h}=i,d=gn(gn({isCustomElement:r,delimiters:l},a),h);i.render=t0(s,d),uo(t,"compile")}}t.render=i.render||$i}{const s=Vl(t);Vo();try{_j(t)}finally{Fo(),s()}}!i.render&&t.render===$i&&!e&&(i.template?Pe('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Pe("Component is missing template or render function: ",i))}const v$={get(t,e){return Nm(),yi(t,"get",""),t[e]},set(){return Pe("setupContext.attrs is readonly."),!1},deleteProperty(){return Pe("setupContext.attrs is readonly."),!1}};function b$(t){return new Proxy(t.slots,{get(e,n){return yi(t,"get","$slots"),e[n]}})}function _$(t){const e=n=>{if(t.exposed&&Pe("expose() should be called only once per setup()."),n!=null){let i=typeof n;i==="object"&&(st(n)?i="array":Gt(n)&&(i="ref")),i!=="object"&&Pe(`expose() should be passed a plain object, received ${i}.`)}t.exposed=n||{}};{let n,i;return Object.freeze({get attrs(){return n||(n=new Proxy(t.attrs,v$))},get slots(){return i||(i=b$(t))},get emit(){return(s,...r)=>t.emit(s,...r)},expose:e})}}function qg(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(O1(vo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in kl)return kl[n](t)},has(e,n){return n in e||n in kl}})):t.proxy}const w$=/(?:^|[-_])(\w)/g,C$=t=>t.replace(w$,e=>e.toUpperCase()).replace(/[-_]/g,"");function vd(t,e=!0){return ct(t)?t.displayName||t.name:t.name||e&&t.__name}function Kg(t,e,n=!1){let i=vd(e);if(!i&&e.__file){const s=e.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&t&&t.parent){const s=r=>{for(const a in r)if(r[a]===e)return a};i=s(t.components||t.parent.type.components)||s(t.appContext.components)}return i?C$(i):n?"App":"Anonymous"}function OA(t){return ct(t)&&"__vccOpts"in t}const re=(t,e)=>{const n=NB(t,e,Qc);{const i=Hs();i&&i.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function $o(t,e,n){const i=arguments.length;return i===2?Zt(e)&&!st(e)?Io(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Io(n)&&(n=[n]),Q(t,e,n))}function x$(){if(typeof window>"u")return;const t={style:"color:#3ba776"},e={style:"color:#1677ff"},n={style:"color:#f5222d"},i={style:"color:#eb2f96"},s={__vue_custom_formatter:!0,header(f){return Zt(f)?f.__isVue?["div",t,"VueInstance"]:Gt(f)?["div",{},["span",t,p(f)],"<",l("_value"in f?f._value:f),">"]:lr(f)?["div",{},["span",t,Xi(f)?"ShallowReactive":"Reactive"],"<",l(f),`>${ko(f)?" (readonly)":""}`]:ko(f)?["div",{},["span",t,Xi(f)?"ShallowReadonly":"Readonly"],"<",l(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...r(f.$)]}};function r(f){const v=[];f.type.props&&f.props&&v.push(a("props",Ze(f.props))),f.setupState!==Ft&&v.push(a("setup",f.setupState)),f.data!==Ft&&v.push(a("data",Ze(f.data)));const _=h(f,"computed");_&&v.push(a("computed",_));const y=h(f,"inject");return y&&v.push(a("injected",y)),v.push(["div",{},["span",{style:i.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),v}function a(f,v){return v=gn({},v),Object.keys(v).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(v).map(_=>["div",{},["span",i,_+": "],l(v[_],!1)])]]:["span",{}]}function l(f,v=!0){return typeof f=="number"?["span",e,f]:typeof f=="string"?["span",n,JSON.stringify(f)]:typeof f=="boolean"?["span",i,f]:Zt(f)?["object",{object:v?Ze(f):f}]:["span",n,String(f)]}function h(f,v){const _=f.type;if(ct(_))return;const y={};for(const b in f.ctx)d(_,b,v)&&(y[b]=f.ctx[b]);return y}function d(f,v,_){const y=f[_];if(st(y)&&y.includes(v)||Zt(y)&&v in y||f.extends&&d(f.extends,v,_)||f.mixins&&f.mixins.some(b=>d(b,v,_)))return!0}function p(f){return Xi(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(s):window.devtoolsFormatters=[s]}const WE="3.5.13",is=Pe;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let n0;const zE=typeof window<"u"&&window.trustedTypes;if(zE)try{n0=zE.createPolicy("vue",{createHTML:t=>t})}catch(t){is(`Error creating trusted types policy: ${t}`)}const RA=n0?t=>n0.createHTML(t):t=>t,E$="http://www.w3.org/2000/svg",T$="http://www.w3.org/1998/Math/MathML",ho=typeof document<"u"?document:null,GE=ho&&ho.createElement("template"),S$={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?ho.createElementNS(E$,t):e==="mathml"?ho.createElementNS(T$,t):n?ho.createElement(t,{is:n}):ho.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ho.createTextNode(t),createComment:t=>ho.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ho.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{GE.innerHTML=RA(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const l=GE.content;if(i==="svg"||i==="mathml"){const h=l.firstChild;for(;h.firstChild;)l.appendChild(h.firstChild);l.removeChild(h)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ha="transition",Eh="animation",Zc=Symbol("_vtc"),MA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},DA=gn({},X1,MA),k$=t=>(t.displayName="Transition",t.props=DA,t),Ao=k$((t,{slots:e})=>$o(rj,NA(t),e)),ul=(t,e=[])=>{st(t)?t.forEach(n=>n(...e)):t&&t(...e)},qE=t=>t?st(t)?t.some(e=>e.length>1):t.length>1:!1;function NA(t){const e={};for(const z in t)z in MA||(e[z]=t[z]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:h=r,appearActiveClass:d=a,appearToClass:p=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=t,y=I$(s),b=y&&y[0],x=y&&y[1],{onBeforeEnter:k,onEnter:I,onEnterCancelled:D,onLeave:N,onLeaveCancelled:V,onBeforeAppear:P=k,onAppear:T=I,onAppearCancelled:R=D}=e,L=(z,H,q,Z)=>{z._enterCancelled=Z,pa(z,H?p:l),pa(z,H?d:a),q&&q()},B=(z,H)=>{z._isLeaving=!1,pa(z,f),pa(z,_),pa(z,v),H&&H()},U=z=>(H,q)=>{const Z=z?T:I,se=()=>L(H,z,q);ul(Z,[H,se]),KE(()=>{pa(H,z?h:r),vr(H,z?p:l),qE(Z)||YE(H,i,b,se)})};return gn(e,{onBeforeEnter(z){ul(k,[z]),vr(z,r),vr(z,a)},onBeforeAppear(z){ul(P,[z]),vr(z,h),vr(z,d)},onEnter:U(!1),onAppear:U(!0),onLeave(z,H){z._isLeaving=!0;const q=()=>B(z,H);vr(z,f),z._enterCancelled?(vr(z,v),i0()):(i0(),vr(z,v)),KE(()=>{z._isLeaving&&(pa(z,f),vr(z,_),qE(N)||YE(z,i,x,q))}),ul(N,[z,q])},onEnterCancelled(z){L(z,!1,void 0,!0),ul(D,[z])},onAppearCancelled(z){L(z,!0,void 0,!0),ul(R,[z])},onLeaveCancelled(z){B(z),ul(V,[z])}})}function I$(t){if(t==null)return null;if(Zt(t))return[qv(t.enter),qv(t.leave)];{const e=qv(t);return[e,e]}}function qv(t){const e=a1(t);return D1(e,"<transition> explicit duration"),e}function vr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Zc]||(t[Zc]=new Set)).add(e)}function pa(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Zc];n&&(n.delete(e),n.size||(t[Zc]=void 0))}function KE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let A$=0;function YE(t,e,n,i){const s=t._endId=++A$,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:l,propCount:h}=LA(t,e);if(!a)return i();const d=a+"end";let p=0;const f=()=>{t.removeEventListener(d,v),r()},v=_=>{_.target===t&&++p>=h&&f()};setTimeout(()=>{p<h&&f()},l+1),t.addEventListener(d,v)}function LA(t,e){const n=window.getComputedStyle(t),i=y=>(n[y]||"").split(", "),s=i(`${ha}Delay`),r=i(`${ha}Duration`),a=XE(s,r),l=i(`${Eh}Delay`),h=i(`${Eh}Duration`),d=XE(l,h);let p=null,f=0,v=0;e===ha?a>0&&(p=ha,f=a,v=r.length):e===Eh?d>0&&(p=Eh,f=d,v=h.length):(f=Math.max(a,d),p=f>0?a>d?ha:Eh:null,v=p?p===ha?r.length:h.length:0);const _=p===ha&&/\b(transform|all)(,|$)/.test(i(`${ha}Property`).toString());return{type:p,timeout:f,propCount:v,hasTransform:_}}function XE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>JE(n)+JE(t[i])))}function JE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function i0(){return document.body.offsetHeight}function P$(t,e,n){const i=t[Zc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Fm=Symbol("_vod"),VA=Symbol("_vsh"),bu={beforeMount(t,{value:e},{transition:n}){t[Fm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Th(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Th(t,!0),i.enter(t)):i.leave(t,()=>{Th(t,!1)}):Th(t,e))},beforeUnmount(t,{value:e}){Th(t,e)}};bu.name="show";function Th(t,e){t.style.display=e?t[Fm]:"none",t[VA]=!e}const O$=Symbol("CSS_VAR_TEXT"),R$=/(^|;)\s*display\s*:/;function M$(t,e,n){const i=t.style,s=hn(n);let r=!1;if(n&&!s){if(e)if(hn(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Qp(i,l,"")}else for(const a in e)n[a]==null&&Qp(i,a,"");for(const a in n)a==="display"&&(r=!0),Qp(i,a,n[a])}else if(s){if(e!==n){const a=i[O$];a&&(n+=";"+a),i.cssText=n,r=R$.test(n)}}else e&&t.removeAttribute("style");Fm in t&&(t[Fm]=r?i.display:"",t[VA]&&(i.display="none"))}const D$=/[^\\];\s*$/,QE=/\s*!important$/;function Qp(t,e,n){if(st(n))n.forEach(i=>Qp(t,e,i));else if(n==null&&(n=""),D$.test(n)&&is(`Unexpected semicolon at the end of '${e}' style value: '${n}'`),e.startsWith("--"))t.setProperty(e,n);else{const i=N$(t,e);QE.test(n)?t.setProperty(Mr(i),n.replace(QE,""),"important"):t[i]=n}}const ZE=["Webkit","Moz","ms"],Kv={};function N$(t,e){const n=Kv[e];if(n)return n;let i=_i(e);if(i!=="filter"&&i in t)return Kv[e]=i;i=So(i);for(let s=0;s<ZE.length;s++){const r=ZE[s]+i;if(r in t)return Kv[e]=r}return e}const eT="http://www.w3.org/1999/xlink";function tT(t,e,n,i,s,r=lB(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(eT,e.slice(6,e.length)):t.setAttributeNS(eT,e,n):n==null||r&&!l1(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Lo(n)?String(n):n)}function nT(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?RA(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,h=n==null?t.type==="checkbox"?"on":"":String(n);(l!==h||!("_value"in t))&&(t.value=h),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=l1(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch(l){a||is(`Failed setting prop "${e}" on <${r.toLowerCase()}>: value ${n} is invalid.`,l)}a&&t.removeAttribute(s||e)}function Sc(t,e,n,i){t.addEventListener(e,n,i)}function L$(t,e,n,i){t.removeEventListener(e,n,i)}const iT=Symbol("_vei");function V$(t,e,n,i,s=null){const r=t[iT]||(t[iT]={}),a=r[e];if(i&&a)a.value=rT(i,e);else{const[l,h]=F$(e);if(i){const d=r[e]=$$(rT(i,e),s);Sc(t,l,d,h)}else a&&(L$(t,l,a,h),r[e]=void 0)}}const sT=/(?:Once|Passive|Capture)$/;function F$(t){let e;if(sT.test(t)){e={};let i;for(;i=t.match(sT);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Mr(t.slice(2)),e]}let Yv=0;const B$=Promise.resolve(),j$=()=>Yv||(B$.then(()=>Yv=0),Yv=Date.now());function $$(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;hr(U$(i,n.value),e,5,[i])};return n.value=t,n.attached=j$(),n}function rT(t,e){return ct(t)||st(t)?t:(is(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof t}.`),$i)}function U$(t,e){if(st(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const oT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,H$=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?P$(t,i,a):e==="style"?M$(t,n,i):Fd(e)?_m(e)||V$(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):W$(t,e,i,a))?(nT(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&tT(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!hn(i))?nT(t,_i(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),tT(t,e,i,a))};function W$(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&oT(e)&&ct(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return oT(e)&&hn(n)?!1:e in t}const FA=new WeakMap,BA=new WeakMap,Bm=Symbol("_moveCb"),aT=Symbol("_enterCb"),z$=t=>(delete t.props.mode,t),G$=z$({name:"TransitionGroup",props:gn({},DA,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Hs(),i=Y1();let s,r;return Hg(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!X$(s[0].el,n.vnode.el,a))return;s.forEach(q$),s.forEach(K$);const l=s.filter(Y$);i0(),l.forEach(h=>{const d=h.el,p=d.style;vr(d,a),p.transform=p.webkitTransform=p.transitionDuration="";const f=d[Bm]=v=>{v&&v.target!==d||(!v||/transform$/.test(v.propertyName))&&(d.removeEventListener("transitionend",f),d[Bm]=null,pa(d,a))};d.addEventListener("transitionend",f)})}),()=>{const a=Ze(t),l=NA(a);let h=a.tag||Pt;if(s=[],r)for(let d=0;d<r.length;d++){const p=r[d];p.el&&p.el instanceof Element&&(s.push(p),Pa(p,gd(p,l,i,n)),FA.set(p,p.el.getBoundingClientRect()))}r=e.default?N_(e.default()):[];for(let d=0;d<r.length;d++){const p=r[d];p.key!=null?Pa(p,gd(p,l,i,n)):p.type!==Xl&&is("<TransitionGroup> children must be keyed.")}return Q(h,null,r)}}}),z_=G$;function q$(t){const e=t.el;e[Bm]&&e[Bm](),e[aT]&&e[aT]()}function K$(t){BA.set(t,t.el.getBoundingClientRect())}function Y$(t){const e=FA.get(t),n=BA.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function X$(t,e,n){const i=t.cloneNode(),s=t[Zc];s&&s.forEach(l=>{l.split(/\s+/).forEach(h=>h&&i.classList.remove(h))}),n.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=LA(i);return r.removeChild(i),a}const lT=t=>{const e=t.props["onUpdate:modelValue"]||!1;return st(e)?n=>ba(e,n):e};function J$(t){t.target.composing=!0}function cT(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xv=Symbol("_assign"),xee={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Xv]=lT(s);const r=i||s.props&&s.props.type==="number";Sc(t,e?"change":"input",a=>{if(a.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=Nb(l)),t[Xv](l)}),n&&Sc(t,"change",()=>{t.value=t.value.trim()}),e||(Sc(t,"compositionstart",J$),Sc(t,"compositionend",cT),Sc(t,"change",cT))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[Xv]=lT(a),t.composing)return;const l=(r||t.type==="number")&&!/^0\d/.test(t.value)?Nb(t.value):t.value,h=e??"";l!==h&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===h)||(t.value=h))}},Q$=["ctrl","shift","alt","meta"],Z$={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Q$.some(n=>t[`${n}Key`]&&!e.includes(n))},Eee=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const l=Z$[e[a]];if(l&&l(s,e))return}return t(s,...r)})},eU={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jA=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=Mr(s.key);if(e.some(a=>a===r||eU[a]===r))return t(s)})},tU=gn({patchProp:H$},S$);let uT;function $A(){return uT||(uT=Uj(tU))}const UA=(...t)=>{$A().render(...t)},nU=(...t)=>{const e=$A().createApp(...t);sU(e),rU(e);const{mount:n}=e;return e.mount=i=>{const s=oU(i);if(!s)return;const r=e._component;!ct(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,iU(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function iU(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sU(t){Object.defineProperty(t.config,"isNativeTag",{value:e=>sB(e)||rB(e)||oB(e),writable:!1})}function rU(t){{const e=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return e},set(){is("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=t.config.compilerOptions,i='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(t.config,"compilerOptions",{get(){return is(i),n},set(){is(i)}})}}function oU(t){if(hn(t)){const e=document.querySelector(t);return e||is(`Failed to mount app: mount target selector "${t}" returned null.`),e}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&is('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function aU(){x$()}aU();var lU=!1;function Ip(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}function Jv(t,e){if(Array.isArray(t)){t.splice(e,1);return}delete t[e]}function cU(){return HA().__VUE_DEVTOOLS_GLOBAL_HOOK__}function HA(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const uU=typeof Proxy=="function",hU="devtools-plugin:setup",dU="plugin:settings:set";let vc,s0;function fU(){var t;return vc!==void 0||(typeof window<"u"&&window.performance?(vc=!0,s0=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(vc=!0,s0=globalThis.perf_hooks.performance):vc=!1),vc}function pU(){return fU()?s0.now():Date.now()}class mU{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const a in e.settings){const l=e.settings[a];i[a]=l.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},i);try{const a=localStorage.getItem(s),l=JSON.parse(a);Object.assign(r,l)}catch{}this.fallbacks={getSettings(){return r},setSettings(a){try{localStorage.setItem(s,JSON.stringify(a))}catch{}r=a},now(){return pU()}},n&&n.on(dU,(a,l)=>{a===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(a,l)=>this.target?this.target.on[l]:(...h)=>{this.onQueue.push({method:l,args:h})}}),this.proxiedTarget=new Proxy({},{get:(a,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...h)=>(this.targetQueue.push({method:l,args:h,resolve:()=>{}}),this.fallbacks[l](...h)):(...h)=>new Promise(d=>{this.targetQueue.push({method:l,args:h,resolve:d})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function G_(t,e){const n=t,i=HA(),s=cU(),r=uU&&n.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))s.emit(hU,t,e);else{const a=r?new mU(n,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let r0;const bd=t=>r0=t,WA=Symbol("pinia");function Fl(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ar;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ar||(Ar={}));const jc=typeof window<"u",hT=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null};function gU(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\uFEFF",t],{type:t.type}):t}function q_(t,e,n){const i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){qA(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function zA(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const em=typeof navigator=="object"?navigator:{userAgent:""},GA=/Macintosh/.test(em.userAgent)&&/AppleWebKit/.test(em.userAgent)&&!/Safari/.test(em.userAgent),qA=jc?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!GA?yU:"msSaveOrOpenBlob"in em?vU:bU:()=>{};function yU(t,e="download",n){const i=document.createElement("a");i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?zA(i.href)?q_(t,e,n):(i.target="_blank",Zp(i)):Zp(i)):(i.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(i.href)},4e4),setTimeout(function(){Zp(i)},0))}function vU(t,e="download",n){if(typeof t=="string")if(zA(t))q_(t,e,n);else{const i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Zp(i)})}else navigator.msSaveOrOpenBlob(gU(t,n),e)}function bU(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return q_(t,e,n);const s=t.type==="application/octet-stream",r=/constructor/i.test(String(hT.HTMLElement))||"safari"in hT,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&r||GA)&&typeof FileReader<"u"){const l=new FileReader;l.onloadend=function(){let h=l.result;if(typeof h!="string")throw i=null,new Error("Wrong reader.result type");h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=h:location.assign(h),i=null},l.readAsDataURL(t)}else{const l=URL.createObjectURL(t);i?i.location.assign(l):location.href=l,i=null,setTimeout(function(){URL.revokeObjectURL(l)},4e4)}}function gi(t,e){const n="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(n,e):e==="error"?console.error(n):e==="warn"?console.warn(n):console.log(n)}function K_(t){return"_a"in t&&"install"in t}function KA(){if(!("clipboard"in navigator))return gi("Your browser doesn't support the Clipboard API","error"),!0}function YA(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(gi('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function _U(t){if(!KA())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),gi("Global state copied to clipboard.")}catch(e){if(YA(e))return;gi("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function wU(t){if(!KA())try{XA(t,JSON.parse(await navigator.clipboard.readText())),gi("Global state pasted from clipboard.")}catch(e){if(YA(e))return;gi("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function CU(t){try{qA(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){gi("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}let ao;function xU(){ao||(ao=document.createElement("input"),ao.type="file",ao.accept=".json");function t(){return new Promise((e,n)=>{ao.onchange=async()=>{const i=ao.files;if(!i)return e(null);const s=i.item(0);return e(s?{text:await s.text(),file:s}:null)},ao.oncancel=()=>e(null),ao.onerror=n,ao.click()})}return t}async function EU(t){try{const n=await xU()();if(!n)return;const{text:i,file:s}=n;XA(t,JSON.parse(i)),gi(`Global state imported from "${s.name}".`)}catch(e){gi("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}function XA(t,e){for(const n in e){const i=t.state.value[n];i?Object.assign(i,e[n]):t.state.value[n]=e[n]}}function Zs(t){return{_custom:{display:t}}}const JA="🍍 Pinia (root)",tm="_root";function TU(t){return K_(t)?{id:tm,label:JA}:{id:t.$id,label:t.$id}}function SU(t){if(K_(t)){const n=Array.from(t._s.keys()),i=t._s;return{state:n.map(r=>({editable:!0,key:r,value:t.state.value[r]})),getters:n.filter(r=>i.get(r)._getters).map(r=>{const a=i.get(r);return{editable:!1,key:r,value:a._getters.reduce((l,h)=>(l[h]=a[h],l),{})}})}}const e={state:Object.keys(t.$state).map(n=>({editable:!0,key:n,value:t.$state[n]}))};return t._getters&&t._getters.length&&(e.getters=t._getters.map(n=>({editable:!1,key:n,value:t[n]}))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map(n=>({editable:!0,key:n,value:t[n]}))),e}function kU(t){return t?Array.isArray(t)?t.reduce((e,n)=>(e.keys.push(n.key),e.operations.push(n.type),e.oldValue[n.key]=n.oldValue,e.newValue[n.key]=n.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Zs(t.type),key:Zs(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function IU(t){switch(t){case Ar.direct:return"mutation";case Ar.patchFunction:return"$patch";case Ar.patchObject:return"$patch";default:return"unknown"}}let Pc=!0;const nm=[],gl="pinia:mutations",Ni="pinia",{assign:AU}=Object,jm=t=>"🍍 "+t;function PU(t,e){G_({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:nm,app:t},n=>{typeof n.now!="function"&&gi("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:gl,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Ni,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{_U(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await wU(e),n.sendInspectorTree(Ni),n.sendInspectorState(Ni)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{CU(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await EU(e),n.sendInspectorTree(Ni),n.sendInspectorState(Ni)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:i=>{const s=e._s.get(i);s?typeof s.$reset!="function"?gi(`Cannot reset "${i}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),gi(`Store "${i}" reset.`)):gi(`Cannot reset "${i}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent((i,s)=>{const r=i.componentInstance&&i.componentInstance.proxy;if(r&&r._pStores){const a=i.componentInstance.proxy._pStores;Object.values(a).forEach(l=>{i.instanceData.state.push({type:jm(l.$id),key:"state",editable:!0,value:l._isOptionsAPI?{_custom:{value:Ze(l.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>l.$reset()}]}}:Object.keys(l.$state).reduce((h,d)=>(h[d]=l.$state[d],h),{})}),l._getters&&l._getters.length&&i.instanceData.state.push({type:jm(l.$id),key:"getters",editable:!1,value:l._getters.reduce((h,d)=>{try{h[d]=l[d]}catch(p){h[d]=p}return h},{})})})}}),n.on.getInspectorTree(i=>{if(i.app===t&&i.inspectorId===Ni){let s=[e];s=s.concat(Array.from(e._s.values())),i.rootNodes=(i.filter?s.filter(r=>"$id"in r?r.$id.toLowerCase().includes(i.filter.toLowerCase()):JA.toLowerCase().includes(i.filter.toLowerCase())):s).map(TU)}}),globalThis.$pinia=e,n.on.getInspectorState(i=>{if(i.app===t&&i.inspectorId===Ni){const s=i.nodeId===tm?e:e._s.get(i.nodeId);if(!s)return;s&&(i.nodeId!==tm&&(globalThis.$store=Ze(s)),i.state=SU(s))}}),n.on.editInspectorState((i,s)=>{if(i.app===t&&i.inspectorId===Ni){const r=i.nodeId===tm?e:e._s.get(i.nodeId);if(!r)return gi(`store "${i.nodeId}" not found`,"error");const{path:a}=i;K_(r)?a.unshift("state"):(a.length!==1||!r._customProperties.has(a[0])||a[0]in r.$state)&&a.unshift("$state"),Pc=!1,i.set(r,a,i.state.value),Pc=!0}}),n.on.editComponentState(i=>{if(i.type.startsWith("🍍")){const s=i.type.replace(/^🍍\s*/,""),r=e._s.get(s);if(!r)return gi(`store "${s}" not found`,"error");const{path:a}=i;if(a[0]!=="state")return gi(`Invalid path for store "${s}":
${a}
Only state can be modified.`);a[0]="$state",Pc=!1,i.set(r,a,i.state.value),Pc=!0}})})}function OU(t,e){nm.includes(jm(e.$id))||nm.push(jm(e.$id)),G_({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:nm,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},n=>{const i=typeof n.now=="function"?n.now.bind(n):Date.now;e.$onAction(({after:a,onError:l,name:h,args:d})=>{const p=QA++;n.addTimelineEvent({layerId:gl,event:{time:i(),title:"🛫 "+h,subtitle:"start",data:{store:Zs(e.$id),action:Zs(h),args:d},groupId:p}}),a(f=>{xa=void 0,n.addTimelineEvent({layerId:gl,event:{time:i(),title:"🛬 "+h,subtitle:"end",data:{store:Zs(e.$id),action:Zs(h),args:d,result:f},groupId:p}})}),l(f=>{xa=void 0,n.addTimelineEvent({layerId:gl,event:{time:i(),logType:"error",title:"💥 "+h,subtitle:"end",data:{store:Zs(e.$id),action:Zs(h),args:d,error:f},groupId:p}})})},!0),e._customProperties.forEach(a=>{ht(()=>bi(e[a]),(l,h)=>{n.notifyComponentUpdate(),n.sendInspectorState(Ni),Pc&&n.addTimelineEvent({layerId:gl,event:{time:i(),title:"Change",subtitle:a,data:{newValue:l,oldValue:h},groupId:xa}})},{deep:!0})}),e.$subscribe(({events:a,type:l},h)=>{if(n.notifyComponentUpdate(),n.sendInspectorState(Ni),!Pc)return;const d={time:i(),title:IU(l),data:AU({store:Zs(e.$id)},kU(a)),groupId:xa};l===Ar.patchFunction?d.subtitle="⤵️":l===Ar.patchObject?d.subtitle="🧩":a&&!Array.isArray(a)&&(d.subtitle=a.type),a&&(d.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:a}}),n.addTimelineEvent({layerId:gl,event:d})},{detached:!0,flush:"sync"});const s=e._hotUpdate;e._hotUpdate=vo(a=>{s(a),n.addTimelineEvent({layerId:gl,event:{time:i(),title:"🔥 "+e.$id,subtitle:"HMR update",data:{store:Zs(e.$id),info:Zs("HMR update")}}}),n.notifyComponentUpdate(),n.sendInspectorTree(Ni),n.sendInspectorState(Ni)});const{$dispose:r}=e;e.$dispose=()=>{r(),n.notifyComponentUpdate(),n.sendInspectorTree(Ni),n.sendInspectorState(Ni),n.getSettings().logStoreChanges&&gi(`Disposed "${e.$id}" store 🗑`)},n.notifyComponentUpdate(),n.sendInspectorTree(Ni),n.sendInspectorState(Ni),n.getSettings().logStoreChanges&&gi(`"${e.$id}" store installed 🆕`)})}let QA=0,xa;function dT(t,e,n){const i=e.reduce((s,r)=>(s[r]=Ze(t)[r],s),{});for(const s in i)t[s]=function(){const r=QA,a=n?new Proxy(t,{get(...h){return xa=r,Reflect.get(...h)},set(...h){return xa=r,Reflect.set(...h)}}):t;xa=r;const l=i[s].apply(a,arguments);return xa=void 0,l}}function RU({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(e._isOptionsAPI=!!n.state,!e._p._testing){dT(e,Object.keys(n.actions),e._isOptionsAPI);const i=e._hotUpdate;Ze(e)._hotUpdate=function(s){i.apply(this,arguments),dT(e,Object.keys(s._hmrPayload.actions),!!e._isOptionsAPI)}}OU(t,e)}}function MU(){const t=mu(!0),e=t.run(()=>Ke({}));let n=[],i=[];const s=vo({install(r){bd(s),s._a=r,r.provide(WA,s),r.config.globalProperties.$pinia=s,jc&&PU(r,s),i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!lU?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return typeof Proxy<"u"&&s.use(RU),s}function ZA(t,e){for(const n in e){const i=e[n];if(!(n in t))continue;const s=t[n];Fl(s)&&Fl(i)&&!Gt(i)&&!lr(i)?t[n]=ZA(s,i):t[n]=i}return t}const DU=()=>{};function fT(t,e,n,i=DU){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&d1()&&ws(s),s}function bc(t,...e){t.slice().forEach(n=>{n(...e)})}const NU=t=>t(),pT=Symbol(),Qv=Symbol();function o0(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Fl(s)&&Fl(i)&&t.hasOwnProperty(n)&&!Gt(i)&&!lr(i)?t[n]=o0(s,i):t[n]=i}return t}const LU=Symbol("pinia:skipHydration");function VU(t){return!Fl(t)||!t.hasOwnProperty(LU)}const{assign:Os}=Object;function mT(t){return!!(Gt(t)&&t.effect)}function gT(t,e,n,i){const{state:s,actions:r,getters:a}=e,l=n.state.value[t];let h;function d(){!l&&!i&&(n.state.value[t]=s?s():{});const p=pd(i?Ke(s?s():{}).value:n.state.value[t]);return Os(p,r,Object.keys(a||{}).reduce((f,v)=>(v in p&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${v}" in store "${t}".`),f[v]=vo(re(()=>{bd(n);const _=n._s.get(t);return a[v].call(_,_)})),f),{}))}return h=a0(t,d,e,n,i,!0),h}function a0(t,e,n={},i,s,r){let a;const l=Os({actions:{}},n);if(!i._e.active)throw new Error("Pinia destroyed");const h={deep:!0};h.onTrigger=B=>{d?_=B:d==!1&&!T._hotUpdating&&(Array.isArray(_)?_.push(B):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let d,p,f=[],v=[],_;const y=i.state.value[t];!r&&!y&&!s&&(i.state.value[t]={});const b=Ke({});let x;function k(B){let U;d=p=!1,_=[],typeof B=="function"?(B(i.state.value[t]),U={type:Ar.patchFunction,storeId:t,events:_}):(o0(i.state.value[t],B),U={type:Ar.patchObject,payload:B,storeId:t,events:_});const z=x=Symbol();li().then(()=>{x===z&&(d=!0)}),p=!0,bc(f,U,i.state.value[t])}const I=r?function(){const{state:U}=n,z=U?U():{};this.$patch(H=>{Os(H,z)})}:()=>{throw new Error(`🍍: Store "${t}" is built using the setup syntax and does not implement $reset().`)};function D(){a.stop(),f=[],v=[],i._s.delete(t)}const N=(B,U="")=>{if(pT in B)return B[Qv]=U,B;const z=function(){bd(i);const H=Array.from(arguments),q=[],Z=[];function se(ye){q.push(ye)}function oe(ye){Z.push(ye)}bc(v,{args:H,name:z[Qv],store:T,after:se,onError:oe});let ae;try{ae=B.apply(this&&this.$id===t?this:T,H)}catch(ye){throw bc(Z,ye),ye}return ae instanceof Promise?ae.then(ye=>(bc(q,ye),ye)).catch(ye=>(bc(Z,ye),Promise.reject(ye))):(bc(q,ae),ae)};return z[pT]=!0,z[Qv]=U,z},V=vo({actions:{},getters:{},state:[],hotState:b}),P={_p:i,$id:t,$onAction:fT.bind(null,v),$patch:k,$reset:I,$subscribe(B,U={}){const z=fT(f,B,U.detached,()=>H()),H=a.run(()=>ht(()=>i.state.value[t],q=>{(U.flush==="sync"?p:d)&&B({storeId:t,type:Ar.direct,events:_},q)},Os({},h,U)));return z},$dispose:D},T=oi(Os({_hmrPayload:V,_customProperties:vo(new Set)},P));i._s.set(t,T);const L=(i._a&&i._a.runWithContext||NU)(()=>i._e.run(()=>(a=mu()).run(()=>e({action:N}))));for(const B in L){const U=L[B];if(Gt(U)&&!mT(U)||lr(U))s?Ip(b.value,B,wt(L,B)):r||(y&&VU(U)&&(Gt(U)?U.value=y[B]:o0(U,y[B])),i.state.value[t][B]=U),V.state.push(B);else if(typeof U=="function"){const z=s?U:N(U,B);L[B]=z,V.actions[B]=U,l.actions[B]=U}else mT(U)&&(V.getters[B]=r?n.getters[B]:U,jc&&(L._getters||(L._getters=vo([]))).push(B))}if(Os(T,L),Os(Ze(T),L),Object.defineProperty(T,"$state",{get:()=>s?b.value:i.state.value[t],set:B=>{if(s)throw new Error("cannot set hotState");k(U=>{Os(U,B)})}}),T._hotUpdate=vo(B=>{T._hotUpdating=!0,B._hmrPayload.state.forEach(U=>{if(U in T.$state){const z=B.$state[U],H=T.$state[U];typeof z=="object"&&Fl(z)&&Fl(H)?ZA(z,H):B.$state[U]=H}Ip(T,U,wt(B.$state,U))}),Object.keys(T.$state).forEach(U=>{U in B.$state||Jv(T,U)}),d=!1,p=!1,i.state.value[t]=wt(B._hmrPayload,"hotState"),p=!0,li().then(()=>{d=!0});for(const U in B._hmrPayload.actions){const z=B[U];Ip(T,U,N(z,U))}for(const U in B._hmrPayload.getters){const z=B._hmrPayload.getters[U],H=r?re(()=>(bd(i),z.call(T,T))):z;Ip(T,U,H)}Object.keys(T._hmrPayload.getters).forEach(U=>{U in B._hmrPayload.getters||Jv(T,U)}),Object.keys(T._hmrPayload.actions).forEach(U=>{U in B._hmrPayload.actions||Jv(T,U)}),T._hmrPayload=B._hmrPayload,T._getters=B._getters,T._hotUpdating=!1}),jc){const B={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(U=>{Object.defineProperty(T,U,Os({value:T[U]},B))})}return i._p.forEach(B=>{if(jc){const U=a.run(()=>B({store:T,app:i._a,pinia:i,options:l}));Object.keys(U||{}).forEach(z=>T._customProperties.add(z)),Os(T,U)}else Os(T,a.run(()=>B({store:T,app:i._a,pinia:i,options:l})))}),T.$state&&typeof T.$state=="object"&&typeof T.$state.constructor=="function"&&!T.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${T.$id}".`),y&&r&&n.hydrate&&n.hydrate(T.$state,y),d=!0,p=!0,T}function Yg(t,e,n){let i,s;const r=typeof e=="function";if(typeof t=="string")i=t,s=r?n:e;else if(s=t,i=t.id,typeof i!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function a(l,h){const d=kj();if(l=l||(d?qt(WA,null):null),l&&bd(l),!r0)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);l=r0,l._s.has(i)||(r?a0(i,e,s,l):gT(i,s,l),a._pinia=l);const p=l._s.get(i);if(h){const f="__hot:"+i,v=r?a0(f,e,s,l,!0):gT(f,Os({},s),l,!0);h._hotUpdate(v),delete l.state.value[f],l._s.delete(f)}if(jc){const f=Hs();if(f&&f.proxy&&!h){const v=f.proxy,_="_pStores"in v?v._pStores:v._pStores={};_[i]=p}}return p}return a.$id=i,a}function Tee(t){{t=Ze(t);const e={};for(const n in t){const i=t[n];(Gt(i)||lr(i))&&(e[n]=wt(t,n))}return e}}const FU=MU();/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fo=typeof document<"u";function eP(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function BU(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&eP(t.default)}const rn=Object.assign;function Zv(t,e){const n={};for(const i in e){const s=e[i];n[i]=_s(s)?s.map(t):t(s)}return n}const Qh=()=>{},_s=Array.isArray;function At(t){const e=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(e))}const tP=/#/g,jU=/&/g,$U=/\//g,UU=/=/g,HU=/\?/g,nP=/\+/g,WU=/%5B/g,zU=/%5D/g,iP=/%5E/g,GU=/%60/g,sP=/%7B/g,qU=/%7C/g,rP=/%7D/g,KU=/%20/g;function Y_(t){return encodeURI(""+t).replace(qU,"|").replace(WU,"[").replace(zU,"]")}function YU(t){return Y_(t).replace(sP,"{").replace(rP,"}").replace(iP,"^")}function l0(t){return Y_(t).replace(nP,"%2B").replace(KU,"+").replace(tP,"%23").replace(jU,"%26").replace(GU,"`").replace(sP,"{").replace(rP,"}").replace(iP,"^")}function XU(t){return l0(t).replace(UU,"%3D")}function JU(t){return Y_(t).replace(tP,"%23").replace(HU,"%3F")}function QU(t){return t==null?"":JU(t).replace($U,"%2F")}function eu(t){try{return decodeURIComponent(""+t)}catch{At(`Error decoding "${t}". Using original value`)}return""+t}const ZU=/\/$/,eH=t=>t.replace(ZU,"");function eb(t,e,n="/"){let i,s={},r="",a="";const l=e.indexOf("#");let h=e.indexOf("?");return l<h&&l>=0&&(h=-1),h>-1&&(i=e.slice(0,h),r=e.slice(h+1,l>-1?l:e.length),s=t(r)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=iH(i??e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:eu(a)}}function tH(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function yT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vT(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Oa(e.matched[i],n.matched[s])&&oP(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Oa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function oP(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!nH(t[n],e[n]))return!1;return!0}function nH(t,e){return _s(t)?bT(t,e):_s(e)?bT(e,t):t===e}function bT(t,e){return _s(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function iH(t,e){if(t.startsWith("/"))return t;if(!e.startsWith("/"))return At(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${e}". It should look like "/${e}".`),t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const da={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var _d;(function(t){t.pop="pop",t.push="push"})(_d||(_d={}));var Zh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zh||(Zh={}));function sH(t){if(!t)if(fo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),eH(t)}const rH=/^[^#]+#/;function oH(t,e){return t.replace(rH,"#")+e}function aH(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Xg=()=>({left:window.scrollX,top:window.scrollY});function lH(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#");if(typeof t.el=="string"&&(!i||!document.getElementById(t.el.slice(1))))try{const r=document.querySelector(t.el);if(i&&r){At(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{At(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s){At(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}e=aH(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function _T(t,e){return(history.state?history.state.position-e:-1)+t}const c0=new Map;function cH(t,e){c0.set(t,e)}function uH(t){const e=c0.get(t);return c0.delete(t),e}let hH=()=>location.protocol+"//"+location.host;function aP(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let l=s.includes(t.slice(r))?t.slice(r).length:1,h=s.slice(l);return h[0]!=="/"&&(h="/"+h),yT(h,"")}return yT(n,t)+i+s}function dH(t,e,n,i){let s=[],r=[],a=null;const l=({state:v})=>{const _=aP(t,location),y=n.value,b=e.value;let x=0;if(v){if(n.value=_,e.value=v,a&&a===y){a=null;return}x=b?v.position-b.position:0}else i(_);s.forEach(k=>{k(n.value,y,{delta:x,type:_d.pop,direction:x?x>0?Zh.forward:Zh.back:Zh.unknown})})};function h(){a=n.value}function d(v){s.push(v);const _=()=>{const y=s.indexOf(v);y>-1&&s.splice(y,1)};return r.push(_),_}function p(){const{history:v}=window;v.state&&v.replaceState(rn({},v.state,{scroll:Xg()}),"")}function f(){for(const v of r)v();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:h,listen:d,destroy:f}}function wT(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Xg():null}}function fH(t){const{history:e,location:n}=window,i={value:aP(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(h,d,p){const f=t.indexOf("#"),v=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+h:hH()+t+h;try{e[p?"replaceState":"pushState"](d,"",v),s.value=d}catch(_){At("Error with push/replace State",_),n[p?"replace":"assign"](v)}}function a(h,d){const p=rn({},e.state,wT(s.value.back,h,s.value.forward,!0),d,{position:s.value.position});r(h,p,!0),i.value=h}function l(h,d){const p=rn({},s.value,e.state,{forward:h,scroll:Xg()});e.state||At(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://router.vuejs.org/guide/migration/#Usage-of-history-state`),r(p.current,p,!0);const f=rn({},wT(i.value,h,null),{position:p.position+1},d);r(h,f,!1),i.value=h}return{location:i,state:s,push:l,replace:a}}function pH(t){t=sH(t);const e=fH(t),n=dH(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=rn({location:"",base:t,go:i,createHref:oH.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function mH(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),!t.endsWith("#/")&&!t.endsWith("#")&&At(`A hash base must end with a "#":
"${t}" should be "${t.replace(/#.*$/,"#")}".`),pH(t)}function $m(t){return typeof t=="string"||t&&typeof t=="object"}function lP(t){return typeof t=="string"||typeof t=="symbol"}const cP=Symbol("navigation failure");var CT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(CT||(CT={}));const gH={1({location:t,currentLocation:e}){return`No match for
 ${JSON.stringify(t)}${e?`
while being at
`+JSON.stringify(e):""}`},2({from:t,to:e}){return`Redirected from "${t.fullPath}" to "${vH(e)}" via a navigation guard.`},4({from:t,to:e}){return`Navigation aborted from "${t.fullPath}" to "${e.fullPath}" via a navigation guard.`},8({from:t,to:e}){return`Navigation cancelled from "${t.fullPath}" to "${e.fullPath}" with a new navigation.`},16({from:t,to:e}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function tu(t,e){return rn(new Error(gH[t](e)),{type:t,[cP]:!0},e)}function lo(t,e){return t instanceof Error&&cP in t&&(e==null||!!(t.type&e))}const yH=["params","query","hash"];function vH(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of yH)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}const xT="[^/]+?",bH={sensitive:!1,strict:!1,start:!0,end:!0},_H=/[.+*?^${}()[\]/\\]/g;function wH(t,e){const n=rn({},bH,e),i=[];let s=n.start?"^":"";const r=[];for(const d of t){const p=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let f=0;f<d.length;f++){const v=d[f];let _=40+(n.sensitive?.25:0);if(v.type===0)f||(s+="/"),s+=v.value.replace(_H,"\\$&"),_+=40;else if(v.type===1){const{value:y,repeatable:b,optional:x,regexp:k}=v;r.push({name:y,repeatable:b,optional:x});const I=k||xT;if(I!==xT){_+=10;try{new RegExp(`(${I})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${y}" (${I}): `+N.message)}}let D=b?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;f||(D=x&&d.length<2?`(?:/${D})`:"/"+D),x&&(D+="?"),s+=D,_+=20,x&&(_+=-8),b&&(_+=-20),I===".*"&&(_+=-50)}p.push(_)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function l(d){const p=d.match(a),f={};if(!p)return null;for(let v=1;v<p.length;v++){const _=p[v]||"",y=r[v-1];f[y.name]=_&&y.repeatable?_.split("/"):_}return f}function h(d){let p="",f=!1;for(const v of t){(!f||!p.endsWith("/"))&&(p+="/"),f=!1;for(const _ of v)if(_.type===0)p+=_.value;else if(_.type===1){const{value:y,repeatable:b,optional:x}=_,k=y in d?d[y]:"";if(_s(k)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const I=_s(k)?k.join("/"):k;if(!I)if(x)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);p+=I}}return p||"/"}return{re:a,score:i,keys:r,parse:l,stringify:h}}function CH(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function uP(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=CH(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(ET(i))return 1;if(ET(s))return-1}return s.length-i.length}function ET(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xH={type:0,value:""},EH=/[a-zA-Z0-9_]/;function TH(t){if(!t)return[[]];if(t==="/")return[[xH]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function e(_){throw new Error(`ERR (${n})/"${d}": ${_}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let l=0,h,d="",p="";function f(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:p,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),d="")}function v(){d+=h}for(;l<t.length;){if(h=t[l++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(d&&f(),a()):h===":"?(f(),n=1):v();break;case 4:v(),n=i;break;case 1:h==="("?n=2:EH.test(h)?v():(f(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&l--);break;case 2:h===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+h:n=3:p+=h;break;case 3:f(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&l--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),a(),s}function SH(t,e,n){const i=wH(TH(t.path),n);{const r=new Set;for(const a of i.keys)r.has(a.name)&&At(`Found duplicated params with name "${a.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),r.add(a.name)}const s=rn(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function kH(t,e){const n=[],i=new Map;e=IT({strict:!1,end:!0,sensitive:!1},e);function s(f){return i.get(f)}function r(f,v,_){const y=!_,b=ST(f);OH(b,v),b.aliasOf=_&&_.record;const x=IT(e,f),k=[b];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const V of N)k.push(ST(rn({},b,{components:_?_.record.components:b.components,path:V,aliasOf:_?_.record:b})))}let I,D;for(const N of k){const{path:V}=N;if(v&&V[0]!=="/"){const P=v.record.path,T=P[P.length-1]==="/"?"":"/";N.path=v.record.path+(V&&T+V)}if(N.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://router.vuejs.org/guide/migration/#Removed-star-or-catch-all-routes.`);if(I=SH(N,v,x),v&&V[0]==="/"&&RH(I,v),_?(_.alias.push(I),PH(_,I)):(D=D||I,D!==I&&D.alias.push(I),y&&f.name&&!kT(I)&&a(f.name)),hP(I)&&h(I),b.children){const P=b.children;for(let T=0;T<P.length;T++)r(P[T],I,_&&_.children[T])}_=_||I}return D?()=>{a(D)}:Qh}function a(f){if(lP(f)){const v=i.get(f);v&&(i.delete(f),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(f);v>-1&&(n.splice(v,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return n}function h(f){const v=MH(f,n);n.splice(v,0,f),f.record.name&&!kT(f)&&i.set(f.record.name,f)}function d(f,v){let _,y={},b,x;if("name"in f&&f.name){if(_=i.get(f.name),!_)throw tu(1,{location:f});{const D=Object.keys(f.params||{}).filter(N=>!_.keys.find(V=>V.name===N));D.length&&At(`Discarded invalid param(s) "${D.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}x=_.record.name,y=rn(TT(v.params,_.keys.filter(D=>!D.optional).concat(_.parent?_.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),f.params&&TT(f.params,_.keys.map(D=>D.name))),b=_.stringify(y)}else if(f.path!=null)b=f.path,b.startsWith("/")||At(`The Matcher cannot resolve relative paths but received "${b}". Unless you directly called \`matcher.resolve("${b}")\`, this is probably a bug in vue-router. Please open an issue at https://github.com/vuejs/router/issues/new/choose.`),_=n.find(D=>D.re.test(b)),_&&(y=_.parse(b),x=_.record.name);else{if(_=v.name?i.get(v.name):n.find(D=>D.re.test(v.path)),!_)throw tu(1,{location:f,currentLocation:v});x=_.record.name,y=rn({},v.params,f.params),b=_.stringify(y)}const k=[];let I=_;for(;I;)k.unshift(I.record),I=I.parent;return{name:x,path:b,params:y,matched:k,meta:AH(k)}}t.forEach(f=>r(f));function p(){n.length=0,i.clear()}return{addRoute:r,resolve:d,removeRoute:a,clearRoutes:p,getRoutes:l,getRecordMatcher:s}}function TT(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ST(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:IH(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function IH(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function kT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function AH(t){return t.reduce((e,n)=>rn(e,n.meta),{})}function IT(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function u0(t,e){return t.name===e.name&&t.optional===e.optional&&t.repeatable===e.repeatable}function PH(t,e){for(const n of t.keys)if(!n.optional&&!e.keys.find(u0.bind(null,n)))return At(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`);for(const n of e.keys)if(!n.optional&&!t.keys.find(u0.bind(null,n)))return At(`Alias "${e.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${n.name}"`)}function OH(t,e){e&&e.record.name&&!t.name&&!t.path&&At(`The route named "${String(e.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function RH(t,e){for(const n of e.keys)if(!t.keys.find(u0.bind(null,n)))return At(`Absolute path "${t.record.path}" must have the exact same param named "${n.name}" as its parent "${e.record.path}".`)}function MH(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;uP(t,e[r])<0?i=r:n=r+1}const s=DH(t);return s&&(i=e.lastIndexOf(s,i-1),i<0&&At(`Finding ancestor route "${s.record.path}" failed for "${t.record.path}"`)),i}function DH(t){let e=t;for(;e=e.parent;)if(hP(e)&&uP(t,e)===0)return e}function hP({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function NH(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(nP," "),a=r.indexOf("="),l=eu(a<0?r:r.slice(0,a)),h=a<0?null:eu(r.slice(a+1));if(l in e){let d=e[l];_s(d)||(d=e[l]=[d]),d.push(h)}else e[l]=h}return e}function AT(t){let e="";for(let n in t){const i=t[n];if(n=XU(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(_s(i)?i.map(r=>r&&l0(r)):[i&&l0(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function LH(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=_s(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const VH=Symbol("router view location matched"),PT=Symbol("router view depth"),Jg=Symbol("router"),X_=Symbol("route location"),h0=Symbol("router view location");function Sh(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function va(t,e,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,h)=>{const d=v=>{v===!1?h(tu(4,{from:n,to:e})):v instanceof Error?h(v):$m(v)?h(tu(2,{from:e,to:v})):(a&&i.enterCallbacks[s]===a&&typeof v=="function"&&a.push(v),l())},p=r(()=>t.call(i&&i.instances[s],e,n,FH(d,e,n)));let f=Promise.resolve(p);if(t.length<3&&(f=f.then(d)),t.length>2){const v=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof p=="object"&&"then"in p)f=f.then(_=>d._called?_:(At(v),Promise.reject(new Error("Invalid navigation guard"))));else if(p!==void 0&&!d._called){At(v),h(new Error("Invalid navigation guard"));return}}f.catch(v=>h(v))})}function FH(t,e,n){let i=0;return function(){i++===1&&At(`The "next" callback was called more than once in one navigation guard when going from "${n.fullPath}" to "${e.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,i===1&&t.apply(null,arguments)}}function tb(t,e,n,i,s=r=>r()){const r=[];for(const a of t){!a.components&&!a.children.length&&At(`Record with path "${a.path}" is either missing a "component(s)" or "children" property.`);for(const l in a.components){let h=a.components[l];{if(!h||typeof h!="object"&&typeof h!="function")throw At(`Component "${l}" in record with path "${a.path}" is not a valid component. Received "${String(h)}".`),new Error("Invalid route component");if("then"in h){At(`Component "${l}" in record with path "${a.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const d=h;h=()=>d}else h.__asyncLoader&&!h.__warnedDefineAsync&&(h.__warnedDefineAsync=!0,At(`Component "${l}" in record with path "${a.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(eP(h)){const p=(h.__vccOpts||h)[e];p&&r.push(va(p,n,i,a,l,s))}else{let d=h();"catch"in d||(At(`Component "${l}" in record with path "${a.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),d=Promise.resolve(d)),r.push(()=>d.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=BU(p)?p.default:p;a.mods[l]=p,a.components[l]=f;const _=(f.__vccOpts||f)[e];return _&&va(_,n,i,a,l,s)()}))}}}return r}function OT(t){const e=qt(Jg),n=qt(X_);let i=!1,s=null;const r=re(()=>{const p=bi(t.to);return(!i||p!==s)&&($m(p)||(i?At(`Invalid value for prop "to" in useLink()
- to:`,p,`
- previous to:`,s,`
- props:`,t):At(`Invalid value for prop "to" in useLink()
- to:`,p,`
- props:`,t)),s=p,i=!0),e.resolve(p)}),a=re(()=>{const{matched:p}=r.value,{length:f}=p,v=p[f-1],_=n.matched;if(!v||!_.length)return-1;const y=_.findIndex(Oa.bind(null,v));if(y>-1)return y;const b=RT(p[f-2]);return f>1&&RT(v)===b&&_[_.length-1].path!==b?_.findIndex(Oa.bind(null,p[f-2])):y}),l=re(()=>a.value>-1&&UH(n.params,r.value.params)),h=re(()=>a.value>-1&&a.value===n.matched.length-1&&oP(n.params,r.value.params));function d(p={}){return $H(p)?e[bi(t.replace)?"replace":"push"](bi(t.to)).catch(Qh):Promise.resolve()}if(fo){const p=Hs();if(p){const f={route:r.value,isActive:l.value,isExactActive:h.value,error:null};p.__vrl_devtools=p.__vrl_devtools||[],p.__vrl_devtools.push(f),Ji(()=>{f.route=r.value,f.isActive=l.value,f.isExactActive=h.value,f.error=$m(bi(t.to))?null:'Invalid "to" value'},{flush:"post"})}}return{route:r,href:re(()=>r.value.href),isActive:l,isExactActive:h,navigate:d}}const BH=Bo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:OT,setup(t,{slots:e}){const n=oi(OT(t)),{options:i}=qt(Jg),s=re(()=>({[MT(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[MT(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:$o("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),jH=BH;function $H(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function UH(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!_s(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function RT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const MT=(t,e,n)=>t??e??n,HH=Bo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){zH();const i=qt(h0),s=re(()=>t.route||i.value),r=qt(PT,0),a=re(()=>{let d=bi(r);const{matched:p}=s.value;let f;for(;(f=p[d])&&!f.components;)d++;return d}),l=re(()=>s.value.matched[a.value]);wi(PT,re(()=>a.value+1)),wi(VH,l),wi(h0,s);const h=Ke();return ht(()=>[h.value,l.value,t.name],([d,p,f],[v,_,y])=>{p&&(p.instances[f]=d,_&&_!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=_.leaveGuards),p.updateGuards.size||(p.updateGuards=_.updateGuards))),d&&p&&(!_||!Oa(p,_)||!v)&&(p.enterCallbacks[f]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=s.value,p=t.name,f=l.value,v=f&&f.components[p];if(!v)return DT(n.default,{Component:v,route:d});const _=f.props[p],y=_?_===!0?d.params:typeof _=="function"?_(d):_:null,x=$o(v,rn({},y,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(f.instances[p]=null)},ref:h}));if(fo&&x.ref){const k={depth:a.value,name:f.name,path:f.path,meta:f.meta};(_s(x.ref)?x.ref.map(D=>D.i):[x.ref.i]).forEach(D=>{D.__vrv_devtools=k})}return DT(n.default,{Component:x,route:d})||x}}});function DT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const WH=HH;function zH(){const t=Hs(),e=t.parent&&t.parent.type.name,n=t.parent&&t.parent.subTree&&t.parent.subTree.type;if(e&&(e==="KeepAlive"||e.includes("Transition"))&&typeof n=="object"&&n.name==="RouterView"){const i=e==="KeepAlive"?"keep-alive":"transition";At(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${i}>
    <component :is="Component" />
  </${i}>
</router-view>`)}}function kh(t,e){const n=rn({},t,{matched:t.matched.map(i=>nW(i,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:n}}}function Ap(t){return{_custom:{display:t}}}let GH=0;function qH(t,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const i=GH++;G_({id:"org.vuejs.router"+(i?"."+i:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},s=>{typeof s.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),s.on.inspectComponent((p,f)=>{p.instanceData&&p.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:kh(e.currentRoute.value,"Current Route")})}),s.on.visitComponentTree(({treeNode:p,componentInstance:f})=>{if(f.__vrv_devtools){const v=f.__vrv_devtools;p.tags.push({label:(v.name?`${v.name.toString()}: `:"")+v.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:dP})}_s(f.__vrl_devtools)&&(f.__devtoolsApi=s,f.__vrl_devtools.forEach(v=>{let _=v.route.path,y=mP,b="",x=0;v.error?(_=v.error,y=QH,x=ZH):v.isExactActive?(y=pP,b="This is exactly active"):v.isActive&&(y=fP,b="This link is active"),p.tags.push({label:_,textColor:x,tooltip:b,backgroundColor:y})}))}),ht(e.currentRoute,()=>{h(),s.notifyComponentUpdate(),s.sendInspectorTree(l),s.sendInspectorState(l)});const r="router:navigations:"+i;s.addTimelineLayer({id:r,label:`Router${i?" "+i:""} Navigations`,color:4237508}),e.onError((p,f)=>{s.addTimelineEvent({layerId:r,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:s.now(),data:{error:p},groupId:f.meta.__navigationId}})});let a=0;e.beforeEach((p,f)=>{const v={guard:Ap("beforeEach"),from:kh(f,"Current Location during this navigation"),to:kh(p,"Target location")};Object.defineProperty(p.meta,"__navigationId",{value:a++}),s.addTimelineEvent({layerId:r,event:{time:s.now(),title:"Start of navigation",subtitle:p.fullPath,data:v,groupId:p.meta.__navigationId}})}),e.afterEach((p,f,v)=>{const _={guard:Ap("afterEach")};v?(_.failure={_custom:{type:Error,readOnly:!0,display:v?v.message:"",tooltip:"Navigation Failure",value:v}},_.status=Ap("❌")):_.status=Ap("✅"),_.from=kh(f,"Current Location during this navigation"),_.to=kh(p,"Target location"),s.addTimelineEvent({layerId:r,event:{title:"End of navigation",subtitle:p.fullPath,time:s.now(),data:_,logType:v?"warning":"default",groupId:p.meta.__navigationId}})});const l="router-inspector:"+i;s.addInspector({id:l,label:"Routes"+(i?" "+i:""),icon:"book",treeFilterPlaceholder:"Search routes"});function h(){if(!d)return;const p=d;let f=n.getRoutes().filter(v=>!v.parent||!v.parent.record.components);f.forEach(vP),p.filter&&(f=f.filter(v=>d0(v,p.filter.toLowerCase()))),f.forEach(v=>yP(v,e.currentRoute.value)),p.rootNodes=f.map(gP)}let d;s.on.getInspectorTree(p=>{d=p,p.app===t&&p.inspectorId===l&&h()}),s.on.getInspectorState(p=>{if(p.app===t&&p.inspectorId===l){const v=n.getRoutes().find(_=>_.record.__vd_id===p.nodeId);v&&(p.state={options:YH(v)})}}),s.sendInspectorTree(l),s.sendInspectorState(l)})}function KH(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function YH(t){const{record:e}=t,n=[{editable:!1,key:"path",value:e.path}];return e.name!=null&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(i=>`${i.name}${KH(i)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),e.redirect!=null&&n.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&n.push({editable:!1,key:"aliases",value:t.alias.map(i=>i.record.path)}),Object.keys(t.record.meta).length&&n.push({editable:!1,key:"meta",value:t.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(i=>i.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),n}const dP=15485081,fP=2450411,pP=8702998,XH=2282478,mP=16486972,JH=6710886,QH=16704226,ZH=12131356;function gP(t){const e=[],{record:n}=t;n.name!=null&&e.push({label:String(n.name),textColor:0,backgroundColor:XH}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:mP}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:dP}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:pP}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:fP}),n.redirect&&e.push({label:typeof n.redirect=="string"?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:JH});let i=n.__vd_id;return i==null&&(i=String(eW++),n.__vd_id=i),{id:i,label:n.path,tags:e,children:t.children.map(gP)}}let eW=0;const tW=/^\/(.*)\/([a-z]*)$/;function yP(t,e){const n=e.matched.length&&Oa(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=n,n||(t.__vd_active=e.matched.some(i=>Oa(i,t.record))),t.children.forEach(i=>yP(i,e))}function vP(t){t.__vd_match=!1,t.children.forEach(vP)}function d0(t,e){const n=String(t.re).match(tW);if(t.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return t.children.forEach(a=>d0(a,e)),t.record.path!=="/"||e==="/"?(t.__vd_match=t.re.test(e),!0):!1;const s=t.record.path.toLowerCase(),r=eu(s);return!e.startsWith("/")&&(r.includes(e)||s.includes(e))||r.startsWith(e)||s.startsWith(e)||t.record.name&&String(t.record.name).includes(e)?!0:t.children.some(a=>d0(a,e))}function nW(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function iW(t){const e=kH(t.routes,t),n=t.parseQuery||NH,i=t.stringifyQuery||AT,s=t.history;if(!s)throw new Error('Provide the "history" option when calling "createRouter()": https://router.vuejs.org/api/interfaces/RouterOptions.html#history');const r=Sh(),a=Sh(),l=Sh(),h=ft(da);let d=da;fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Zv.bind(null,pe=>""+pe),f=Zv.bind(null,QU),v=Zv.bind(null,eu);function _(pe,Se){let Ne,Ge;return lP(pe)?(Ne=e.getRecordMatcher(pe),Ne||At(`Parent route "${String(pe)}" not found when adding child route`,Se),Ge=Se):Ge=pe,e.addRoute(Ge,Ne)}function y(pe){const Se=e.getRecordMatcher(pe);Se?e.removeRoute(Se):At(`Cannot remove non-existent route "${String(pe)}"`)}function b(){return e.getRoutes().map(pe=>pe.record)}function x(pe){return!!e.getRecordMatcher(pe)}function k(pe,Se){if(Se=rn({},Se||h.value),typeof pe=="string"){const ie=eb(n,pe,Se.path),ce=e.resolve({path:ie.path},Se),ve=s.createHref(ie.fullPath);return ve.startsWith("//")?At(`Location "${pe}" resolved to "${ve}". A resolved location cannot start with multiple slashes.`):ce.matched.length||At(`No match found for location with path "${pe}"`),rn(ie,ce,{params:v(ce.params),hash:eu(ie.hash),redirectedFrom:void 0,href:ve})}if(!$m(pe))return At(`router.resolve() was passed an invalid location. This will fail in production.
- Location:`,pe),k({});let Ne;if(pe.path!=null)"params"in pe&&!("name"in pe)&&Object.keys(pe.params).length&&At(`Path "${pe.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),Ne=rn({},pe,{path:eb(n,pe.path,Se.path).path});else{const ie=rn({},pe.params);for(const ce in ie)ie[ce]==null&&delete ie[ce];Ne=rn({},pe,{params:f(ie)}),Se.params=f(Se.params)}const Ge=e.resolve(Ne,Se),pt=pe.hash||"";pt&&!pt.startsWith("#")&&At(`A \`hash\` should always start with the character "#". Replace "${pt}" with "#${pt}".`),Ge.params=p(v(Ge.params));const Re=tH(i,rn({},pe,{hash:YU(pt),path:Ge.path})),ut=s.createHref(Re);return ut.startsWith("//")?At(`Location "${pe}" resolved to "${ut}". A resolved location cannot start with multiple slashes.`):Ge.matched.length||At(`No match found for location with path "${pe.path!=null?pe.path:pe}"`),rn({fullPath:Re,hash:pt,query:i===AT?LH(pe.query):pe.query||{}},Ge,{redirectedFrom:void 0,href:ut})}function I(pe){return typeof pe=="string"?eb(n,pe,h.value.path):rn({},pe)}function D(pe,Se){if(d!==pe)return tu(8,{from:Se,to:pe})}function N(pe){return T(pe)}function V(pe){return N(rn(I(pe),{replace:!0}))}function P(pe){const Se=pe.matched[pe.matched.length-1];if(Se&&Se.redirect){const{redirect:Ne}=Se;let Ge=typeof Ne=="function"?Ne(pe):Ne;if(typeof Ge=="string"&&(Ge=Ge.includes("?")||Ge.includes("#")?Ge=I(Ge):{path:Ge},Ge.params={}),Ge.path==null&&!("name"in Ge))throw At(`Invalid redirect found:
${JSON.stringify(Ge,null,2)}
 when navigating to "${pe.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return rn({query:pe.query,hash:pe.hash,params:Ge.path!=null?{}:pe.params},Ge)}}function T(pe,Se){const Ne=d=k(pe),Ge=h.value,pt=pe.state,Re=pe.force,ut=pe.replace===!0,ie=P(Ne);if(ie)return T(rn(I(ie),{state:typeof ie=="object"?rn({},pt,ie.state):pt,force:Re,replace:ut}),Se||Ne);const ce=Ne;ce.redirectedFrom=Se;let ve;return!Re&&vT(i,Ge,Ne)&&(ve=tu(16,{to:ce,from:Ge}),_e(Ge,Ge,!0,!1)),(ve?Promise.resolve(ve):B(ce,Ge)).catch(Ee=>lo(Ee)?lo(Ee,2)?Ee:we(Ee):ae(Ee,ce,Ge)).then(Ee=>{if(Ee){if(lo(Ee,2))return vT(i,k(Ee.to),ce)&&Se&&(Se._count=Se._count?Se._count+1:1)>30?(At(`Detected a possibly infinite redirection in a navigation guard when going from "${Ge.fullPath}" to "${ce.fullPath}". Aborting to avoid a Stack Overflow.
 Are you always returning a new location within a navigation guard? That would lead to this error. Only return when redirecting or aborting, that should fix this. This might break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):T(rn({replace:ut},I(Ee.to),{state:typeof Ee.to=="object"?rn({},pt,Ee.to.state):pt,force:Re}),Se||ce)}else Ee=z(ce,Ge,!0,ut,pt);return U(ce,Ge,Ee),Ee})}function R(pe,Se){const Ne=D(pe,Se);return Ne?Promise.reject(Ne):Promise.resolve()}function L(pe){const Se=He.values().next().value;return Se&&typeof Se.runWithContext=="function"?Se.runWithContext(pe):pe()}function B(pe,Se){let Ne;const[Ge,pt,Re]=sW(pe,Se);Ne=tb(Ge.reverse(),"beforeRouteLeave",pe,Se);for(const ie of Ge)ie.leaveGuards.forEach(ce=>{Ne.push(va(ce,pe,Se))});const ut=R.bind(null,pe,Se);return Ne.push(ut),ze(Ne).then(()=>{Ne=[];for(const ie of r.list())Ne.push(va(ie,pe,Se));return Ne.push(ut),ze(Ne)}).then(()=>{Ne=tb(pt,"beforeRouteUpdate",pe,Se);for(const ie of pt)ie.updateGuards.forEach(ce=>{Ne.push(va(ce,pe,Se))});return Ne.push(ut),ze(Ne)}).then(()=>{Ne=[];for(const ie of Re)if(ie.beforeEnter)if(_s(ie.beforeEnter))for(const ce of ie.beforeEnter)Ne.push(va(ce,pe,Se));else Ne.push(va(ie.beforeEnter,pe,Se));return Ne.push(ut),ze(Ne)}).then(()=>(pe.matched.forEach(ie=>ie.enterCallbacks={}),Ne=tb(Re,"beforeRouteEnter",pe,Se,L),Ne.push(ut),ze(Ne))).then(()=>{Ne=[];for(const ie of a.list())Ne.push(va(ie,pe,Se));return Ne.push(ut),ze(Ne)}).catch(ie=>lo(ie,8)?ie:Promise.reject(ie))}function U(pe,Se,Ne){l.list().forEach(Ge=>L(()=>Ge(pe,Se,Ne)))}function z(pe,Se,Ne,Ge,pt){const Re=D(pe,Se);if(Re)return Re;const ut=Se===da,ie=fo?history.state:{};Ne&&(Ge||ut?s.replace(pe.fullPath,rn({scroll:ut&&ie&&ie.scroll},pt)):s.push(pe.fullPath,pt)),h.value=pe,_e(pe,Se,Ne,ut),we()}let H;function q(){H||(H=s.listen((pe,Se,Ne)=>{if(!at.listening)return;const Ge=k(pe),pt=P(Ge);if(pt){T(rn(pt,{replace:!0}),Ge).catch(Qh);return}d=Ge;const Re=h.value;fo&&cH(_T(Re.fullPath,Ne.delta),Xg()),B(Ge,Re).catch(ut=>lo(ut,12)?ut:lo(ut,2)?(T(ut.to,Ge).then(ie=>{lo(ie,20)&&!Ne.delta&&Ne.type===_d.pop&&s.go(-1,!1)}).catch(Qh),Promise.reject()):(Ne.delta&&s.go(-Ne.delta,!1),ae(ut,Ge,Re))).then(ut=>{ut=ut||z(Ge,Re,!1),ut&&(Ne.delta&&!lo(ut,8)?s.go(-Ne.delta,!1):Ne.type===_d.pop&&lo(ut,20)&&s.go(-1,!1)),U(Ge,Re,ut)}).catch(Qh)}))}let Z=Sh(),se=Sh(),oe;function ae(pe,Se,Ne){we(pe);const Ge=se.list();return Ge.length?Ge.forEach(pt=>pt(pe,Se,Ne)):(At("uncaught error during route navigation:"),console.error(pe)),Promise.reject(pe)}function ye(){return oe&&h.value!==da?Promise.resolve():new Promise((pe,Se)=>{Z.add([pe,Se])})}function we(pe){return oe||(oe=!pe,q(),Z.list().forEach(([Se,Ne])=>pe?Ne(pe):Se()),Z.reset()),pe}function _e(pe,Se,Ne,Ge){const{scrollBehavior:pt}=t;if(!fo||!pt)return Promise.resolve();const Re=!Ne&&uH(_T(pe.fullPath,0))||(Ge||!Ne)&&history.state&&history.state.scroll||null;return li().then(()=>pt(pe,Se,Re)).then(ut=>ut&&lH(ut)).catch(ut=>ae(ut,pe,Se))}const Ce=pe=>s.go(pe);let Oe;const He=new Set,at={currentRoute:h,listening:!0,addRoute:_,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:b,resolve:k,options:t,push:N,replace:V,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:se.add,isReady:ye,install(pe){const Se=this;pe.component("RouterLink",jH),pe.component("RouterView",WH),pe.config.globalProperties.$router=Se,Object.defineProperty(pe.config.globalProperties,"$route",{enumerable:!0,get:()=>bi(h)}),fo&&!Oe&&h.value===da&&(Oe=!0,N(s.location).catch(pt=>{At("Unexpected error when starting the router:",pt)}));const Ne={};for(const pt in da)Object.defineProperty(Ne,pt,{get:()=>h.value[pt],enumerable:!0});pe.provide(Jg,Se),pe.provide(X_,A1(Ne)),pe.provide(h0,h);const Ge=pe.unmount;He.add(pe),pe.unmount=function(){He.delete(pe),He.size<1&&(d=da,H&&H(),H=null,h.value=da,Oe=!1,oe=!1),Ge()},fo&&qH(pe,Se,e)}};function ze(pe){return pe.reduce((Se,Ne)=>Se.then(()=>L(Ne)),Promise.resolve())}return at}function sW(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const l=e.matched[a];l&&(t.matched.find(d=>Oa(d,l))?i.push(l):n.push(l));const h=t.matched[a];h&&(e.matched.find(d=>Oa(d,h))||s.push(h))}return[n,i,s]}function rW(){return qt(Jg)}function bP(t){return qt(X_)}function oW(t){const{extendRoutes:e,routes:n}=t;return e&&console.warn('"extendRoutes()" is deprecated, please modify the routes directly. See https://uvr.esm.is/guide/extending-routes.html#extending-routes-at-runtime for an alternative.'),iW(Object.assign(t,{routes:typeof e=="function"&&e(n)||n}))}const aW="modulepreload",lW=function(t){return"/staging/"+t},NT={},hl=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=lW(h),h in NT)return;NT[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":aW,d||(f.as="script"),f.crossOrigin="",f.href=h,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((v,_)=>{f.addEventListener("load",v),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return e().catch(r)})},cW=[{path:"/:path(.*)",name:"/[...path]",component:()=>hl(()=>import("./_...path_-bz-rEKbB.js"),[])},{path:"/:tenantId",children:[{path:"",name:"/[tenantId]/",component:()=>hl(()=>import("./index-C3pvQnK5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))},{path:"defects",children:[{path:":id",name:"/[tenantId]/defects/[id]",component:()=>hl(()=>import("./_id_-DwgLZj0m.js"),__vite__mapDeps([8,4,5,9,10,11,3,6,12,13,14,15,16,17,18,19]))}]},{path:"profile",name:"/[tenantId]/profile",component:()=>hl(()=>import("./profile-CzyzVD3k.js"),__vite__mapDeps([20,12,4,5,13,9,21]))},{path:"property",children:[{path:"",name:"/[tenantId]/property/",component:()=>hl(()=>import("./index-QHzyKTj5.js"),__vite__mapDeps([22,23,14,15,16,17,3,4,5,6,18,9,24,1,2,25,26,10,11,27]))},{path:":id",name:"/[tenantId]/property/[id]",component:()=>hl(()=>import("./_id_-CFtO0KLj.js"),__vite__mapDeps([28,1,2,4,5,14,3,6,16,17,29]))}]},{path:"settings",name:"/[tenantId]/settings",component:()=>hl(()=>import("./settings-Bhg3-uIG.js"),__vite__mapDeps([30,1,2,25,26,4,5,3,6,15,16,17,18,31]))}]}];var LT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je=function(t,e){if(!t)throw _u(e)},_u=function(t){return new Error("Firebase Database ("+_P.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uW=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],h=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},Qg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,p=r>>2,f=(r&3)<<4|l>>4;let v=(l&15)<<2|d>>6,_=d&63;h||(_=64,a||(v=64)),i.push(n[p],n[f],n[v],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||d==null||f==null)throw new hW;const v=r<<2|l>>4;if(i.push(v),d!==64){const _=l<<4&240|d>>2;if(i.push(_),f!==64){const y=d<<6&192|f;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CP=function(t){const e=wP(t);return Qg.encodeByteArray(e,!0)},Um=function(t){return CP(t).replace(/\./g,"")},Hm=function(t){try{return Qg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){return xP(void 0,t)}function xP(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!fW(n)||(t[n]=xP(t[n],e[n]));return t}function fW(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=()=>pW().__FIREBASE_DEFAULTS__,gW=()=>{if(typeof process>"u"||typeof LT>"u")return;const t=LT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hm(t[1]);return e&&JSON.parse(e)},Zg=()=>{try{return mW()||gW()||yW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EP=t=>{var e,n;return(n=(e=Zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vW=t=>{const e=EP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},TP=()=>{var t;return(t=Zg())===null||t===void 0?void 0:t.config},SP=t=>{var e;return(e=Zg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Um(JSON.stringify(n)),Um(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wi())}function _W(){var t;const e=(t=Zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xW(){const t=Wi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IP(){return _P.NODE_ADMIN===!0}function EW(){return!_W()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AP(){try{return typeof indexedDB=="object"}catch{return!1}}function TW(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="FirebaseError";class Br extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=SW,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?kW(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Br(s,l,i)}}function kW(t,e){return t.replace(IW,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const IW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(t){return JSON.parse(t)}function Ai(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Cd(Hm(r[0])||""),n=Cd(Hm(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},AW=function(t){const e=PP(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PW=function(t){const e=PP(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function f0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wm(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function zm(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(VT(r)&&VT(a)){if(!zm(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function VT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Bh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)i[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)i[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const v=i[f-3]^i[f-8]^i[f-14]^i[f-16];i[f]=(v<<1|v>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],l=this.chain_[3],h=this.chain_[4],d,p;for(let f=0;f<80;f++){f<40?f<20?(d=l^r&(a^l),p=1518500249):(d=r^a^l,p=1859775393):f<60?(d=r&a|l&(r|a),p=2400959708):(d=r^a^l,p=3395469782);const v=(s<<5|s>>>27)+d+h+p+i[f]&4294967295;h=l,l=a,a=(r<<30|r>>>2)&4294967295,r=s,s=v}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function RW(t,e){const n=new MW(t,e);return n.subscribe.bind(n)}class MW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");DW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=nb),s.error===void 0&&(s.error=nb),s.complete===void 0&&(s.complete=nb);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nb(){}function NW(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,Je(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ey=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){return t&&t._delegate?t._delegate:t}class dr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new wd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BW(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FW(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FW(t){return t===yl?void 0:t}function BW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const $W={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},UW=Mt.INFO,HW={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},WW=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=HW[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wd{constructor(e){this.name=e,this._logLevel=UW,this._logHandler=WW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$W[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const zW=(t,e)=>e.some(n=>t instanceof n);let FT,BT;function GW(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qW(){return BT||(BT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OP=new WeakMap,p0=new WeakMap,RP=new WeakMap,ib=new WeakMap,Q_=new WeakMap;function KW(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Sa(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OP.set(n,t)}).catch(()=>{}),Q_.set(e,t),e}function YW(t){if(p0.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});p0.set(t,e)}let m0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XW(t){m0=t(m0)}function JW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(sb(this),e,...n);return RP.set(i,e.sort?e.sort():[e]),Sa(i)}:qW().includes(t)?function(...e){return t.apply(sb(this),e),Sa(OP.get(this))}:function(...e){return Sa(t.apply(sb(this),e))}}function QW(t){return typeof t=="function"?JW(t):(t instanceof IDBTransaction&&YW(t),zW(t,GW())?new Proxy(t,m0):t)}function Sa(t){if(t instanceof IDBRequest)return KW(t);if(ib.has(t))return ib.get(t);const e=QW(t);return e!==t&&(ib.set(t,e),Q_.set(e,t)),e}const sb=t=>Q_.get(t);function ZW(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=Sa(a);return i&&a.addEventListener("upgradeneeded",h=>{i(Sa(a.result),h.oldVersion,h.newVersion,Sa(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),l.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const ez=["get","getKey","getAll","getAllKeys","count"],tz=["put","add","delete","clear"],rb=new Map;function jT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rb.get(e))return rb.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=tz.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||ez.includes(n)))return;const r=async function(a,...l){const h=this.transaction(a,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&h.done]))[0]};return rb.set(e,r),r}XW(t=>({...t,get:(e,n,i)=>jT(e,n)||t.get(e,n,i),has:(e,n)=>!!jT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iz(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function iz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g0="@firebase/app",$T="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Wd("@firebase/app"),sz="@firebase/app-compat",rz="@firebase/analytics-compat",oz="@firebase/analytics",az="@firebase/app-check-compat",lz="@firebase/app-check",cz="@firebase/auth",uz="@firebase/auth-compat",hz="@firebase/database",dz="@firebase/data-connect",fz="@firebase/database-compat",pz="@firebase/functions",mz="@firebase/functions-compat",gz="@firebase/installations",yz="@firebase/installations-compat",vz="@firebase/messaging",bz="@firebase/messaging-compat",_z="@firebase/performance",wz="@firebase/performance-compat",Cz="@firebase/remote-config",xz="@firebase/remote-config-compat",Ez="@firebase/storage",Tz="@firebase/storage-compat",Sz="@firebase/firestore",kz="@firebase/vertexai-preview",Iz="@firebase/firestore-compat",Az="firebase",Pz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="[DEFAULT]",Oz={[g0]:"fire-core",[sz]:"fire-core-compat",[oz]:"fire-analytics",[rz]:"fire-analytics-compat",[lz]:"fire-app-check",[az]:"fire-app-check-compat",[cz]:"fire-auth",[uz]:"fire-auth-compat",[hz]:"fire-rtdb",[dz]:"fire-data-connect",[fz]:"fire-rtdb-compat",[pz]:"fire-fn",[mz]:"fire-fn-compat",[gz]:"fire-iid",[yz]:"fire-iid-compat",[vz]:"fire-fcm",[bz]:"fire-fcm-compat",[_z]:"fire-perf",[wz]:"fire-perf-compat",[Cz]:"fire-rc",[xz]:"fire-rc-compat",[Ez]:"fire-gcs",[Tz]:"fire-gcs-compat",[Sz]:"fire-fst",[Iz]:"fire-fst-compat",[kz]:"fire-vertex","fire-js":"fire-js",[Az]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Map,Rz=new Map,v0=new Map;function UT(t,e){try{t.container.addComponent(e)}catch(n){Po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if(v0.has(e))return Po.debug(`There were multiple attempts to register component ${e}.`),!1;v0.set(e,t);for(const n of Gm.values())UT(n,t);for(const n of Rz.values())UT(n,t);return!0}function Z_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new wu("app","Firebase",Mz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=Pz;function MP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:y0,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ka.create("bad-app-name",{appName:String(s)});if(n||(n=TP()),!n)throw ka.create("no-options");const r=Gm.get(s);if(r){if(zm(n,r.options)&&zm(i,r.config))return r;throw ka.create("duplicate-app",{appName:s})}const a=new jW(s);for(const h of v0.values())a.addComponent(h);const l=new Dz(n,i,a);return Gm.set(s,l),l}function ew(t=y0){const e=Gm.get(t);if(!e&&t===y0&&TP())return MP();if(!e)throw ka.create("no-app",{appName:t});return e}function ys(t,e,n){var i;let s=(i=Oz[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Po.warn(l.join(" "));return}Dr(new dr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="firebase-heartbeat-database",Lz=1,xd="firebase-heartbeat-store";let ob=null;function DP(){return ob||(ob=ZW(Nz,Lz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ka.create("idb-open",{originalErrorMessage:t.message})})),ob}async function Vz(t){try{const n=(await DP()).transaction(xd),i=await n.objectStore(xd).get(NP(t));return await n.done,i}catch(e){if(e instanceof Br)Po.warn(e.message);else{const n=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Po.warn(n.message)}}}async function HT(t,e){try{const i=(await DP()).transaction(xd,"readwrite");await i.objectStore(xd).put(e,NP(t)),await i.done}catch(n){if(n instanceof Br)Po.warn(n.message);else{const i=ka.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Po.warn(i.message)}}}function NP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=1024,Bz=30*24*60*60*1e3;class jz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uz(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=WT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=Bz}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Po.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WT(),{heartbeatsToSend:i,unsentEntries:s}=$z(this._heartbeatsCache.heartbeats),r=Um(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Po.warn(n),""}}}function WT(){return new Date().toISOString().substring(0,10)}function $z(t,e=Fz){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),zT(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Uz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AP()?TW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zT(t){return Um(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){Dr(new dr("platform-logger",e=>new nz(e),"PRIVATE")),Dr(new dr("heartbeat",e=>new jz(e),"PRIVATE")),ys(g0,$T,t),ys(g0,$T,"esm2017"),ys("fire-js","")}Hz("");function tw(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function LP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wz=LP,VP=new wu("auth","Firebase",LP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Wd("@firebase/auth");function zz(t,...e){qm.logLevel<=Mt.WARN&&qm.warn(`Auth (${Va}): ${t}`,...e)}function im(t,...e){qm.logLevel<=Mt.ERROR&&qm.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t,...e){throw iw(t,...e)}function cr(t,...e){return iw(t,...e)}function nw(t,e,n){const i=Object.assign(Object.assign({},Wz()),{[e]:n});return new wu("auth","Firebase",i).create(e,{appName:t.name})}function xo(t){return nw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gz(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&js(t,"argument-error"),nw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iw(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return VP.create(t,...e)}function _t(t,e,...n){if(!t)throw iw(e,...n)}function bo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw im(e),new Error(e)}function Oo(t,e){t||bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qz(){return GT()==="http:"||GT()==="https:"}function GT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qz()||CW()||"connection"in navigator)?navigator.onLine:!0}function Yz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oo(n>e,"Short delay should be less than long delay!"),this.isMobile=J_()||kP()}get(){return Kz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e){Oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=new zd(3e4,6e4);function Ho(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jr(t,e,n,i,s={}){return BP(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=Cu(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},r);return wW()||(d.referrerPolicy="no-referrer"),FP.fetch()(jP(t,t.config.apiHost,n,l),d)})}async function BP(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},Xz),e);try{const s=new Zz(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Pp(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[h,d]=l.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pp(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw Pp(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw Pp(t,"user-disabled",a);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nw(t,p,d);js(t,p)}}catch(s){if(s instanceof Br)throw s;js(t,"network-request-failed",{message:String(s)})}}async function Gd(t,e,n,i,s={}){const r=await jr(t,e,n,i,s);return"mfaPendingCredential"in r&&js(t,"multi-factor-auth-required",{_serverResponse:r}),r}function jP(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?sw(t.config,s):`${t.config.apiScheme}://${s}`}function Qz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(cr(this.auth,"network-request-failed")),Jz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pp(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=cr(t,e,i);return s.customData._tokenResponse=n,s}function qT(t){return t!==void 0&&t.enterprise!==void 0}class e4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function t4(t,e){return jr(t,"GET","/v2/recaptchaConfig",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function $P(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i4(t,e=!1){const n=Ws(t),i=await n.getIdToken(e),s=rw(i);_t(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:ed(ab(s.auth_time)),issuedAtTime:ed(ab(s.iat)),expirationTime:ed(ab(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function ab(t){return Number(t)*1e3}function rw(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const s=Hm(n);return s?JSON.parse(s):(im("Failed to decode base64 JWT payload"),null)}catch(s){return im("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function KT(t){const e=rw(t);return _t(e,"internal-error"),_t(typeof e.exp<"u","internal-error"),_t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Br&&s4(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function s4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(t){var e;const n=t.auth,i=await t.getIdToken(),s=await iu(t,$P(n,{idToken:i}));_t(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?UP(r.providerUserInfo):[],l=a4(t.providerData,a),h=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),p=h?d:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new _0(r.createdAt,r.lastLoginAt),isAnonymous:p};Object.assign(t,f)}async function o4(t){const e=Ws(t);await Km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a4(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function UP(t){return t.map(e=>{var{providerId:n}=e,i=tw(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e){const n=await BP(t,{},async()=>{const i=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=jP(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",FP.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c4(t,e){return jr(t,"POST","/v2/accounts:revokeToken",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken<"u","internal-error"),_t(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_t(e.length!==0,"internal-error");const n=KT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await l4(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new $c;return i&&(_t(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(_t(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(_t(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e){_t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _o{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=tw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i4(this,e)}reload(){return o4(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Km(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(xo(this.auth));const e=await this.getIdToken();return await iu(this,n4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,l,h,d,p;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,_=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,I=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:D,emailVerified:N,isAnonymous:V,providerData:P,stsTokenManager:T}=n;_t(D&&T,e,"internal-error");const R=$c.fromJSON(this.name,T);_t(typeof D=="string",e,"internal-error"),fa(f,e.name),fa(v,e.name),_t(typeof N=="boolean",e,"internal-error"),_t(typeof V=="boolean",e,"internal-error"),fa(_,e.name),fa(y,e.name),fa(b,e.name),fa(x,e.name),fa(k,e.name),fa(I,e.name);const L=new _o({uid:D,auth:e,email:v,emailVerified:N,displayName:f,isAnonymous:V,photoURL:y,phoneNumber:_,tenantId:b,stsTokenManager:R,createdAt:k,lastLoginAt:I});return P&&Array.isArray(P)&&(L.providerData=P.map(B=>Object.assign({},B))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,i=!1){const s=new $c;s.updateFromServerResponse(n);const r=new _o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Km(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];_t(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?UP(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new $c;l.updateFromIdToken(i);const h=new _o({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new _0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;function wo(t){Oo(t instanceof Function,"Expected a class definition");let e=YT.get(t);return e?(Oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HP.type="NONE";const XT=HP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e,n){return`firebase:${t}:${e}:${n}`}class Uc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=sm(this.userKey,s.apiKey,r),this.fullPersistenceKey=sm("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Uc(wo(XT),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||wo(XT);const a=sm(i,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(a);if(p){const f=_o._fromJSON(e,p);d!==r&&(l=f),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new Uc(r,e,i):(r=h[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(a)}catch{}})),new Uc(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YP(e))return"Blackberry";if(XP(e))return"Webos";if(zP(e))return"Safari";if((e.includes("chrome/")||GP(e))&&!e.includes("edge/"))return"Chrome";if(KP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WP(t=Wi()){return/firefox\//i.test(t)}function zP(t=Wi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GP(t=Wi()){return/crios\//i.test(t)}function qP(t=Wi()){return/iemobile/i.test(t)}function KP(t=Wi()){return/android/i.test(t)}function YP(t=Wi()){return/blackberry/i.test(t)}function XP(t=Wi()){return/webos/i.test(t)}function ow(t=Wi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u4(t=Wi()){var e;return ow(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h4(){return xW()&&document.documentMode===10}function JP(t=Wi()){return ow(t)||KP(t)||XP(t)||YP(t)||/windows phone/i.test(t)||qP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t,e=[]){let n;switch(t){case"Browser":n=JT(Wi());break;case"Worker":n=`${JT(Wi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const h=e(r);a(h)}catch(h){l(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e={}){return jr(t,"GET","/v2/passwordPolicy",Ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=6;class m4{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:p4,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,l;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(r=h.containsUppercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QT(this),this.idTokenSubscription=new QT(this),this.beforeStateQueue=new d4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wo(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Uc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $P(this,{idToken:e}),i=await _o._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&(h!=null&&h.user)&&(s=h.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Km(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(xo(this));const n=e?Ws(e):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f4(this),n=new m4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await c4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wo(e)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Uc.create(this,[wo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&zz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(t){return Ws(t)}class QT{constructor(e){this.auth=e,this.observer=null,this.addObserver=RW(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y4(t){ty=t}function ZP(t){return ty.loadJS(t)}function v4(){return ty.recaptchaEnterpriseScript}function b4(){return ty.gapiScript}function _4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const w4="recaptcha-enterprise",C4="NO_RECAPTCHA";class x4{constructor(e){this.type=w4,this.auth=Wo(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{t4(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new e4(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,a(d.siteKey)}}).catch(h=>{l(h)})})}function s(r,a,l){const h=window.grecaptcha;qT(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:e}).then(d=>{a(d)}).catch(()=>{a(C4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,a)=>{i(this.auth).then(l=>{if(!n&&qT(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=v4();h.length!==0&&(h+=l),ZP(h).then(()=>{s(l,r,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function ZT(t,e,n,i=!1){const s=new x4(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ym(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await ZT(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ZT(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t,e){const n=Z_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(zm(r,e??{}))return s;js(s,"already-initialized")}return n.initialize({options:e})}function E4(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(wo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tO(t,e,n){const i=Wo(t);_t(i._canInitEmulator,i,"emulator-config-failed"),_t(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=nO(e),{host:a,port:l}=T4(e),h=l===null?"":`:${l}`;i.config.emulator={url:`${r}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),S4()}function nO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T4(t){const e=nO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:eS(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:eS(a)}}}function eS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bo("not implemented")}_getIdTokenResponse(e){return bo("not implemented")}_linkToIdToken(e,n){return bo("not implemented")}_getReauthenticationResolver(e){return bo("not implemented")}}async function k4(t,e){return jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){return Gd(t,"POST","/v1/accounts:signInWithPassword",Ho(t,e))}async function iO(t,e){return jr(t,"POST","/v1/accounts:sendOobCode",Ho(t,e))}async function A4(t,e){return iO(t,e)}async function P4(t,e){return iO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e){return Gd(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,e))}async function R4(t,e){return Gd(t,"POST","/v1/accounts:signInWithEmailLink",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends aw{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ed(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ed(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",I4);case"emailLink":return O4(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,i,"signUpPassword",k4);case"emailLink":return R4(e,{idToken:n,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e){return Gd(t,"POST","/v1/accounts:signInWithIdp",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="http://localhost";class Bl extends aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=tw(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Bl(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hc(e,n)}buildRequest(){const e={requestUri:M4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N4(t){const e=Fh(Bh(t)).link,n=e?Fh(Bh(e)).deep_link_id:null,i=Fh(Bh(t)).deep_link_id;return(i?Fh(Bh(i)).link:null)||i||n||e||t}class lw{constructor(e){var n,i,s,r,a,l;const h=Fh(Bh(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,f=D4((s=h.mode)!==null&&s!==void 0?s:null);_t(d&&p&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=p,this.continueUrl=(r=h.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=h.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=N4(e);try{return new lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.providerId=xu.PROVIDER_ID}static credential(e,n){return Ed._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=lw.parseLink(n);return _t(i,"argument-error"),Ed._fromEmailAndCode(e,i.code,i.tenantId)}}xu.PROVIDER_ID="password";xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends qd{constructor(){super("facebook.com")}static credential(e){return Bl._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return mo.credential(n,i)}catch{return null}}}mo.GOOGLE_SIGN_IN_METHOD="google.com";mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends qd{constructor(){super("github.com")}static credential(e){return Bl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends qd{constructor(){super("twitter.com")}static credential(e,n){return Bl._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ca.credential(n,i)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e){return Gd(t,"POST","/v1/accounts:signUp",Ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await _o._fromIdTokenResponse(e,i,s),a=tS(i);return new jl({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=tS(i);return new jl({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function tS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends Br{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Xm.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Xm(e,n,i,s)}}function sO(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Xm._fromErrorAndOperation(t,r,e,i):r})}async function V4(t,e,n=!1){const i=await iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e,n=!1){const{auth:i}=t;if(sr(i.app))return Promise.reject(xo(i));const s="reauthenticate";try{const r=await iu(t,sO(i,s,e,t),n);_t(r.idToken,i,"internal-error");const a=rw(r.idToken);_t(a,i,"internal-error");const{sub:l}=a;return _t(t.uid===l,i,"user-mismatch"),jl._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&js(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(t,e,n=!1){if(sr(t.app))return Promise.reject(xo(t));const i="signIn",s=await sO(t,i,e),r=await jl._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function B4(t,e){return rO(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j4(t,e,n){const i=Wo(t);await Ym(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",P4)}async function $4(t,e,n){if(sr(t.app))return Promise.reject(xo(t));const i=Wo(t),a=await Ym(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L4).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&oO(t),h}),l=await jl._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function U4(t,e,n){return sr(t.app)?Promise.reject(xo(t)):B4(Ws(t),xu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&oO(t),i})}async function aO(t,e){const n=Ws(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:r}=await A4(n.auth,s);r!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e){return jr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function See(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ws(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await iu(i,H4(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function lO(t,e,n,i){return Ws(t).onIdTokenChanged(e,n,i)}function W4(t,e,n){return Ws(t).beforeAuthStateChanged(e,n)}function uw(t){return Ws(t).signOut()}const Jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jm,"1"),this.storage.removeItem(Jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=1e3,G4=10;class uO extends cO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,h)=>{this.notifyListeners(a,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);h4()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,G4):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uO.type="LOCAL";const hO=uO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends cO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dO.type="SESSION";const fO=dO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ny(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,r)),h=await q4(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ny.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,h)=>{const d=hw("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(f){const v=f;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(v.data.response);break;default:clearTimeout(p),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function Y4(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function X4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Q4(){return pO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firebaseLocalStorageDb",Z4=1,Qm="firebaseLocalStorage",gO="fbase_key";class Kd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iy(t,e){return t.transaction([Qm],e?"readwrite":"readonly").objectStore(Qm)}function e3(){const t=indexedDB.deleteDatabase(mO);return new Kd(t).toPromise()}function w0(){const t=indexedDB.open(mO,Z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Qm,{keyPath:gO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Qm)?e(i):(i.close(),await e3(),e(await w0()))})})}async function nS(t,e,n){const i=iy(t,!0).put({[gO]:e,value:n});return new Kd(i).toPromise()}async function t3(t,e){const n=iy(t,!1).get(e),i=await new Kd(n).toPromise();return i===void 0?null:i.value}function iS(t,e){const n=iy(t,!0).delete(e);return new Kd(n).toPromise()}const n3=800,i3=3;class yO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await w0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>i3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ny._getInstance(Q4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X4(),!this.activeServiceWorker)return;this.sender=new K4(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await w0();return await nS(e,Jm,"1"),await iS(e,Jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>nS(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>t3(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=iy(s,!1).getAll();return new Kd(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yO.type="LOCAL";const s3=yO;new zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e){return e?wo(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends aw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r3(t){return rO(t.auth,new dw(t),t.bypassAuthState)}function o3(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),F4(n,new dw(t),t.bypassAuthState)}async function a3(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),V4(n,new dw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r3;case"linkViaPopup":case"linkViaRedirect":return a3;case"reauthViaPopup":case"reauthViaRedirect":return o3;default:js(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new zd(2e3,1e4);async function c3(t,e,n){if(sr(t.app))return Promise.reject(cr(t,"operation-not-supported-in-this-environment"));const i=Wo(t);Gz(t,e,cw);const s=vO(i,n);return new bl(i,"signInViaPopup",e,s).executeNotNull()}class bl extends bO{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Oo(this.filter.length===1,"Popup operations only handle one event");const e=hw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l3.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="pendingRedirect",rm=new Map;class h3 extends bO{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=rm.get(this.auth._key());if(!e){try{const i=await d3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rm.set(this.auth._key(),e)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d3(t,e){const n=m3(e),i=p3(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function f3(t,e){rm.set(t._key(),e)}function p3(t){return wo(t._redirectPersistence)}function m3(t){return sm(u3,t.config.apiKey,t.name)}async function g3(t,e,n=!1){if(sr(t.app))return Promise.reject(xo(t));const i=Wo(t),s=vO(i,e),a=await new h3(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=10*60*1e3;class v3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!_O(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y3&&this.cachedEventUids.clear(),this.cachedEventUids.has(sS(e))}saveEventToCache(e){this.cachedEventUids.add(sS(e)),this.lastProcessedEventTime=Date.now()}}function sS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _O({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _O(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C3=/^https?/;async function x3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _3(t);for(const n of e)try{if(E3(n))return}catch{}js(t,"unauthorized-domain")}function E3(t){const e=b0(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!C3.test(n))return!1;if(w3.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new zd(3e4,6e4);function rS(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S3(t){return new Promise((e,n)=>{var i,s,r;function a(){rS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rS(),n(cr(t,"network-request-failed"))},timeout:T3.get()})}if(!((s=(i=Pr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Pr().gapi)===null||r===void 0)&&r.load)a();else{const l=_4("iframefcb");return Pr()[l]=()=>{gapi.load?a():n(cr(t,"network-request-failed"))},ZP(`${b4()}?onload=${l}`).catch(h=>n(h))}}).catch(e=>{throw om=null,e})}let om=null;function k3(t){return om=om||S3(t),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new zd(5e3,15e3),A3="__/auth/iframe",P3="emulator/auth/iframe",O3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M3(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sw(e,P3):`https://${t.config.authDomain}/${A3}`,i={apiKey:e.apiKey,appName:t.name,v:Va},s=R3.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Cu(i).slice(1)}`}async function D3(t){const e=await k3(t),n=Pr().gapi;return _t(n,t,"internal-error"),e.open({where:document.body,url:M3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O3,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=cr(t,"network-request-failed"),l=Pr().setTimeout(()=>{r(a)},I3.get());function h(){Pr().clearTimeout(l),s(i)}i.ping(h).then(h,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L3=500,V3=600,F3="_blank",B3="http://localhost";class oS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j3(t,e,n,i=L3,s=V3){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const h=Object.assign(Object.assign({},N3),{width:i.toString(),height:s.toString(),top:r,left:a}),d=Wi().toLowerCase();n&&(l=GP(d)?F3:n),WP(d)&&(e=e||B3,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[_,y])=>`${v}${_}=${y},`,"");if(u4(d)&&l!=="_self")return $3(e||"",l),new oS(null);const f=window.open(e||"",l,p);_t(f,t,"popup-blocked");try{f.focus()}catch{}return new oS(f)}function $3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="__/auth/handler",H3="emulator/auth/handler",W3=encodeURIComponent("fac");async function aS(t,e,n,i,s,r){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Va,eventId:s};if(e instanceof cw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",f0(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,f]of Object.entries({}))a[p]=f}if(e instanceof qd){const p=e.getScopes().filter(f=>f!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const h=await t._getAppCheckToken(),d=h?`#${W3}=${encodeURIComponent(h)}`:"";return`${z3(t)}?${Cu(l).slice(1)}${d}`}function z3({config:t}){return t.emulator?sw(t,H3):`https://${t.authDomain}/${U3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="webStorageSupport";class G3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fO,this._completeRedirectFn=g3,this._overrideRedirectResult=f3}async _openPopup(e,n,i,s){var r;Oo((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await aS(e,n,i,b0(),s);return j3(e,a,hw())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await aS(e,n,i,b0(),s);return Y4(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Oo(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await D3(e),i=new v3(e);return n.register("authEvent",s=>(_t(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lb,{type:lb},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[lb];a!==void 0&&n(!!a),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JP()||zP()||ow()}}const wO=G3;var lS="@firebase/auth",cS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y3(t){Dr(new dr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;_t(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QP(t)},d=new g4(i,s,r,h);return E4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Dr(new dr("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(i=>new q3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(lS,cS,K3(t)),ys(lS,cS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=5*60,J3=SP("authIdTokenMaxAge")||X3;let uS=null;const Q3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>J3)return;const s=n==null?void 0:n.token;uS!==s&&(uS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Zm(t=ew()){const e=Z_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eO(t,{popupRedirectResolver:wO,persistence:[s3,hO,fO]}),i=SP("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=Q3(r.toString());W4(n,a,()=>a(n.currentUser)),lO(n,l=>a(l))}}const s=EP("auth");return s&&tO(n,`http://${s}`),n}function Z3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}y4({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=cr("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",Z3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y3("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Map,t6={activated:!1,tokenObservers:[]};function fr(t){return e6.get(t)||Object.assign({},t6)}const hS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,i,s,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new wd,this.pending.promise.catch(n=>{}),await i6(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new wd,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function i6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},eg=new wu("appCheck","AppCheck",s6);function CO(t){if(!fr(t).activated)throw eg.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="firebase-app-check-database",o6=1,C0="firebase-app-check-store";let Op=null;function a6(){return Op||(Op=new Promise((t,e)=>{try{const n=indexedDB.open(r6,o6);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(eg.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(C0,{keyPath:"compositeKey"})}}}catch(n){e(eg.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Op)}function l6(t,e){return c6(u6(t),e)}async function c6(t,e){const i=(await a6()).transaction(C0,"readwrite"),r=i.objectStore(C0).put({compositeKey:t,value:e});return new Promise((a,l)=>{r.onsuccess=h=>{a()},i.onerror=h=>{var d;l(eg.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})}function u6(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Wd("@firebase/app-check");function dS(t,e){return AP()?l6(t,e).catch(n=>{x0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={error:"UNKNOWN_ERROR"};function d6(t){return Qg.encodeString(JSON.stringify(t),!1)}async function E0(t,e=!1){const n=t.app;CO(n);const i=fr(n);let s=i.token,r;if(s&&!jh(s)&&(i.token=void 0,s=void 0),!s){const h=await i.cachedTokenPromise;h&&(jh(h)?s=h:await dS(n,void 0))}if(!e&&s&&jh(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await fr(n).exchangeTokenPromise}catch(h){h.code==="appCheck/throttled"?x0.warn(h.message):x0.error(h),r=h}let l;return s?r?jh(s)?l={token:s.token,internalError:r}:l=pS(r):(l={token:s.token},i.token=s,await dS(n,s)):l=pS(r),a&&g6(n,l),l}async function f6(t){const e=t.app;CO(e);const{provider:n}=fr(e);{const{token:i}=await n.getToken();return{token:i}}}function p6(t,e,n,i){const{app:s}=t,r=fr(s),a={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,a],r.token&&jh(r.token)){const l=r.token;Promise.resolve().then(()=>{n({token:l.token}),fS(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>fS(t))}function xO(t,e){const n=fr(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function fS(t){const{app:e}=t,n=fr(e);let i=n.tokenRefresher;i||(i=m6(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function m6(t){const{app:e}=t;return new n6(async()=>{const n=fr(e);let i;if(n.token?i=await E0(t,!0):i=await E0(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=fr(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},hS.RETRIAL_MIN_WAIT,hS.RETRIAL_MAX_WAIT)}function g6(t,e){const n=fr(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function jh(t){return t.expireTimeMillis-Date.now()>0}function pS(t){return{token:d6(h6),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=fr(this.app);for(const n of e)xO(this.app,n.next);return Promise.resolve()}}function v6(t,e){return new y6(t,e)}function b6(t){return{getToken:e=>E0(t,e),getLimitedUseToken:()=>f6(t),addTokenListener:e=>p6(t,"INTERNAL",e),removeTokenListener:e=>xO(t.app,e)}}const _6="@firebase/app-check",w6="0.8.8",C6="app-check",mS="app-check-internal";function x6(){Dr(new dr(C6,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return v6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(mS).initialize()})),Dr(new dr(mS,t=>{const e=t.getProvider("app-check").getImmediate();return b6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ys(_6,w6)}x6();var E6="firebase",T6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(E6,T6,"app");const EO=Symbol("firebaseApp");function T0(t){return Hs()&&qt(EO,null)||ew(t)}const S6=typeof window<"u",Rp=new WeakMap;function k6(t,e){if(!Rp.has(t)){const n=mu(!0);Rp.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),Rp.delete(t)}}return Rp.get(t)}const S0=new WeakMap;function k0(t){if(!S0.has(T0(t)))throw new Error("[VueFire] useCurrentUser() called before the VueFireAuth module was added to the VueFire plugin. This will fail in production.");return S0.get(T0(t))}const Mp=new WeakMap;function TO(t){const e=T0(t);if(!Mp.has(e)){let n;const s=[new Promise(r=>{n=r}),r=>{Mp.set(e,r),n(r.value)}];Mp.set(e,s)}return Mp.get(e)}function I6(t){const e=TO(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function A6(t,e){lO(e,n=>{const i=TO();t.value=n,Array.isArray(i)&&i[1](t)})}var gS={};const yS="@firebase/database",vS="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SO="";function P6(t){SO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ai(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Cd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Uo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O6(e)}}catch{}return new R6},_l=kO("localStorage"),M6=kO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Wd("@firebase/database"),D6=function(){let t=1;return function(){return t++}}(),IO=function(t){const e=LW(t),n=new OW;n.update(e);const i=n.digest();return Qg.encodeByteArray(i)},Yd=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Yd.apply(null,i):typeof i=="object"?e+=Ai(i):e+=i,e+=" "}return e};let td=null,bS=!0;const N6=function(t,e){Je(!e,"Can't turn on custom loggers persistently."),Wc.logLevel=Mt.VERBOSE,td=Wc.log.bind(Wc)},Fi=function(...t){if(bS===!0&&(bS=!1,td===null&&M6.get("logging_enabled")===!0&&N6()),td){const e=Yd.apply(null,t);td(e)}},Xd=function(t){return function(...e){Fi(t,...e)}},I0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Yd(...t);Wc.error(e)},$l=function(...t){const e=`FIREBASE FATAL ERROR: ${Yd(...t)}`;throw Wc.error(e),new Error(e)},vs=function(...t){const e="FIREBASE WARNING: "+Yd(...t);Wc.warn(e)},L6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},AO=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},V6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},su="[MIN_NAME]",Ul="[MAX_NAME]",Eu=function(t,e){if(t===e)return 0;if(t===su||e===Ul)return-1;if(e===su||t===Ul)return 1;{const n=_S(t),i=_S(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},F6=function(t,e){return t===e?0:t<e?-1:1},Ih=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ai(e))},fw=function(t){if(typeof t!="object"||t===null)return Ai(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ai(e[i]),n+=":",n+=fw(t[e[i]]);return n+="}",n},PO=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function $s(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const OO=function(t){Je(!AO(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,a,l,h;t===0?(r=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,a=Math.round(t/Math.pow(2,1-i-n))));const d=[];for(h=n;h;h-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(h=e;h;h-=1)d.push(r%2?1:0),r=Math.floor(r/2);d.push(s?1:0),d.reverse();const p=d.join("");let f="";for(h=0;h<64;h+=8){let v=parseInt(p.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),f=f+v}return f.toLowerCase()},B6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},j6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},$6=new RegExp("^-?(0*)\\d{1,10}$"),U6=-2147483648,H6=2147483647,_S=function(t){if($6.test(t)){const e=Number(t);if(e>=U6&&e<=H6)return e}return null},Jd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw vs("Exception was thrown by user callback.",n),e},Math.floor(0))}},W6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){vs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vs(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="5",RO="v",MO="s",DO="r",NO="f",LO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VO="ls",FO="p",A0="ac",BO="websocket",jO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,i,s,r=!1,a="",l=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_l.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_l.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function K6(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $O(t,e,n){Je(typeof e=="string","typeof type must == string"),Je(typeof n=="object","typeof params must == object");let i;if(e===BO)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jO)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);K6(t)&&(n.ns=t.namespace);const s=[];return $s(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.counters_={}}incrementCounter(e,n=1){Uo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return dW(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb={},ub={};function mw(t){const e=t.toString();return cb[e]||(cb[e]=new Y6),cb[e]}function X6(t,e){const n=t.toString();return ub[n]||(ub[n]=e()),ub[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Jd(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="start",Q6="close",Z6="pLPCommand",eG="pRTLPCB",UO="id",HO="pw",WO="ser",tG="cb",nG="seg",iG="ts",sG="d",rG="dframe",zO=1870,GO=30,oG=zO-GO,aG=25e3,lG=3e4;class Oc{constructor(e,n,i,s,r,a,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xd(e),this.stats_=mw(n),this.urlFn=h=>(this.appCheckToken&&(h[A0]=this.appCheckToken),$O(n,jO,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new J6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lG)),V6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gw((...r)=>{const[a,l,h,d,p]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===wS)this.id=l,this.password=h;else if(a===Q6)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[wS]="t",i[WO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[tG]=this.scriptTagHolder.uniqueCallbackIdentifier),i[RO]=pw,this.transportSessionId&&(i[MO]=this.transportSessionId),this.lastSessionId&&(i[VO]=this.lastSessionId),this.applicationId&&(i[FO]=this.applicationId),this.appCheckToken&&(i[A0]=this.appCheckToken),typeof location<"u"&&location.hostname&&LO.test(location.hostname)&&(i[DO]=NO);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Oc.forceAllow_=!0}static forceDisallow(){Oc.forceDisallow_=!0}static isAvailable(){return Oc.forceAllow_?!0:!Oc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!B6()&&!j6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ai(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=CP(n),s=PO(i,oG);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[rG]="t",i[UO]=e,i[HO]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ai(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gw{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=D6(),window[Z6+this.uniqueCallbackIdentifier]=e,window[eG+this.uniqueCallbackIdentifier]=n,this.myIFrame=gw.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Fi("frame writing exception"),l.stack&&Fi(l.stack),Fi(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fi("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[UO]=this.myID,e[HO]=this.myPW,e[WO]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GO+i.length<=zO;){const a=this.pendingSegs.shift();i=i+"&"+nG+s+"="+a.seg+"&"+iG+s+"="+a.ts+"&"+sG+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(aG)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Fi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=16384,uG=45e3;let tg=null;typeof MozWebSocket<"u"?tg=MozWebSocket:typeof WebSocket<"u"&&(tg=WebSocket);class nr{constructor(e,n,i,s,r,a,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xd(this.connId),this.stats_=mw(n),this.connURL=nr.connectionURL_(n,a,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const a={};return a[RO]=pw,typeof location<"u"&&location.hostname&&LO.test(location.hostname)&&(a[DO]=NO),n&&(a[MO]=n),i&&(a[VO]=i),s&&(a[A0]=s),r&&(a[FO]=r),$O(e,BO,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_l.set("previous_websocket_failure",!0);try{let i;IP(),this.mySock=new tg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&tg!==null&&!nr.forceDisallow_}static previouslyFailed(){return _l.isInMemoryStorage||_l.get("previous_websocket_failure")===!0}markConnectionHealthy(){_l.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Cd(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Je(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ai(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=PO(n,cG);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uG))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}nr.responsesRequiredToBeHealthy=2;nr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Oc,nr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=nr&&nr.isAvailable();let i=n&&!nr.previouslyFailed();if(e.webSocketOnly&&(n||vs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[nr];else{const s=this.transports_=[];for(const r of Td.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Td.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Td.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=6e4,dG=5e3,fG=10*1024,pG=100*1024,hb="t",CS="d",mG="s",xS="r",gG="e",ES="o",TS="a",SS="n",kS="p",yG="h";class vG{constructor(e,n,i,s,r,a,l,h,d,p){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=h,this.onKill_=d,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xd("c:"+this.id+":"),this.transportManager_=new Td(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=nd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pG?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(hb in e){const n=e[hb];n===TS?this.upgradeIfSecondaryHealthy_():n===xS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ES&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ih("t",e),i=Ih("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ih("t",e),i=Ih("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ih(hb,e);if(CS in e){const i=e[CS];if(n===yG){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===SS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mG?this.onConnectionShutdown_(i):n===xS?this.onReset_(i):n===gG?I0("Server Error: "+i):n===ES?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pw!==i&&vs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),nd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hG))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dG))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kS,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.allowedEvents_=e,this.listeners_={},Je(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){Je(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends KO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!J_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ng}getInitialEvent(e){return Je(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=32,AS=768;class Tn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function cn(){return new Tn("")}function Wt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ra(t){return t.pieces_.length-t.pieceNum_}function Cn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Tn(t.pieces_,e)}function YO(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function bG(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function XO(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JO(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Tn(e,0)}function vi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Tn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Tn(n,0)}function Bt(t){return t.pieceNum_>=t.pieces_.length}function Ds(t,e){const n=Wt(t),i=Wt(e);if(n===null)return e;if(n===i)return Ds(Cn(t),Cn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function QO(t,e){if(Ra(t)!==Ra(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function rr(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ra(t)>Ra(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class _G{constructor(e,n){this.errorPrefix_=n,this.parts_=XO(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ey(this.parts_[i]);ZO(this)}}function wG(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ey(e),ZO(t)}function CG(t){const e=t.parts_.pop();t.byteLength_-=ey(e),t.parts_.length>0&&(t.byteLength_-=1)}function ZO(t){if(t.byteLength_>AS)throw new Error(t.errorPrefix_+"has a key path longer than "+AS+" bytes ("+t.byteLength_+").");if(t.parts_.length>IS)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+IS+") or object contains a cycle "+vl(t))}function vl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends KO{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new yw}getInitialEvent(e){return Je(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=1e3,xG=60*5*1e3,PS=30*1e3,EG=1.3,TG=3e4,SG="server_kill",OS=3;class Eo extends qO{constructor(e,n,i,s,r,a,l,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=h,this.id=Eo.nextPersistentConnectionId_++,this.log_=Xd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ah,this.maxReconnectDelay_=xG,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!IP())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yw.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ng.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Ai(r)),Je(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new wd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),Je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Je(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(a).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,l=>{const h=l.d,d=l.s;Eo.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(d,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Uo(e,"w")){const i=nu(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();vs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PW(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=PS)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=AW(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Je(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ai(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):I0("Unrecognized action received from server: "+Ai(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Je(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ah,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ah,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TG&&(this.reconnectDelay_=Ah),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*EG)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Eo.nextConnectionId_++,r=this.lastSessionId;let a=!1,l=null;const h=function(){l?l.close():(a=!0,i())},d=function(f){Je(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:h,sendRequest:d};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);a?Fi("getToken() completed but was canceled"):(Fi("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=v&&v.token,l=new vG(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,_=>{vs(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(SG)},r))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&vs(f),h())}}}interrupt(e){Fi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],f0(this.interruptReasons_)&&(this.reconnectDelay_=Ah,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>fw(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Tn(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Fi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=OS&&(this.reconnectDelay_=PS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=OS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+SO.replace(/\./g,"-")]=1,J_()?e["framework.cordova"]=1:kP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ng.getInstance().currentlyOnline();return f0(this.interruptReasons_)&&e}}Eo.nextPersistentConnectionId_=0;Eo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new zt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new zt(su,e),s=new zt(su,n);return this.compare(i,s)!==0}minPost(){return zt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp;class eR extends sy{static get __EMPTY_NODE(){return Dp}static set __EMPTY_NODE(e){Dp=e}compare(e,n){return Eu(e.name,n.name)}isDefinedOn(e){throw _u("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return zt.MIN}maxPost(){return new zt(Ul,Dp)}makePost(e,n){return Je(typeof e=="string","KeyIndex indexValue must always be a string."),new zt(e,Dp)}toString(){return".key"}}const zc=new eR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=class{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ms=class $h{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??$h.RED,this.left=s??Tr.EMPTY_NODE,this.right=r??Tr.EMPTY_NODE}copy(e,n,i,s,r){return new $h(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Tr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,$h.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,$h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ms.RED=!0;ms.BLACK=!1;class kG{copy(e,n,i,s,r){return this}insert(e,n,i){return new ms(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let Tr=class am{constructor(e,n=am.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new am(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ms.BLACK,null,null))}remove(e){return new am(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ms.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Np(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Np(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Np(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Np(this.root_,null,this.comparator_,!0,e)}};Tr.EMPTY_NODE=new kG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(t,e){return Eu(t.name,e.name)}function vw(t,e){return Eu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0;function AG(t){P0=t}const tR=function(t){return typeof t=="number"?"number:"+OO(t):"string:"+t},nR=function(t){if(t.isLeafNode()){const e=t.val();Je(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Uo(e,".sv"),"Priority must be a string or number.")}else Je(t===P0||t.isEmpty(),"priority of unexpected type.");Je(t===P0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RS;class pi{constructor(e,n=pi.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Je(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nR(this.priorityNode_)}static set __childrenNodeConstructor(e){RS=e}static get __childrenNodeConstructor(){return RS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pi(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pi.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Bt(e)?this:Wt(e)===".priority"?this.priorityNode_:pi.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pi.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Wt(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Je(i!==".priority"||Ra(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,pi.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tR(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=OO(this.value_):e+=this.value_,this.lazyHash_=IO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pi.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pi.__childrenNodeConstructor?-1:(Je(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=pi.VALUE_TYPE_ORDER.indexOf(n),r=pi.VALUE_TYPE_ORDER.indexOf(i);return Je(s>=0,"Unknown leaf type: "+n),Je(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pi.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iR,sR;function PG(t){iR=t}function OG(t){sR=t}class RG extends sy{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Eu(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return zt.MIN}maxPost(){return new zt(Ul,new pi("[PRIORITY-POST]",sR))}makePost(e,n){const i=iR(e);return new zt(n,new pi("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ui=new RG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=Math.log(2);class DG{constructor(e){const n=r=>parseInt(Math.log(r)/MG,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ig=function(t,e,n,i){t.sort(e);const s=function(h,d){const p=d-h;let f,v;if(p===0)return null;if(p===1)return f=t[h],v=n?n(f):f,new ms(v,f.node,ms.BLACK,null,null);{const _=parseInt(p/2,10)+h,y=s(h,_),b=s(_+1,d);return f=t[_],v=n?n(f):f,new ms(v,f.node,ms.BLACK,y,b)}},r=function(h){let d=null,p=null,f=t.length;const v=function(y,b){const x=f-y,k=f;f-=y;const I=s(x+1,k),D=t[x],N=n?n(D):D;_(new ms(N,D.node,b,null,I))},_=function(y){d?(d.left=y,d=y):(p=y,d=y)};for(let y=0;y<h.count;++y){const b=h.nextBitIsOne(),x=Math.pow(2,h.count-(y+1));b?v(x,ms.BLACK):(v(x,ms.BLACK),v(x,ms.RED))}return p},a=new DG(t.length),l=r(a);return new Tr(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let db;const _c={};class Co{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Je(_c&&Ui,"ChildrenNode.ts has not been loaded"),db=db||new Co({".priority":_c},{".priority":Ui}),db}get(e){const n=nu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Tr?n:null}hasIndex(e){return Uo(this.indexSet_,e.toString())}addIndex(e,n){Je(e!==zc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(zt.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let l;s?l=ig(i,e.getCompare()):l=_c;const h=e.toString(),d=Object.assign({},this.indexSet_);d[h]=e;const p=Object.assign({},this.indexes_);return p[h]=l,new Co(p,d)}addToIndexes(e,n){const i=Wm(this.indexes_,(s,r)=>{const a=nu(this.indexSet_,r);if(Je(a,"Missing index implementation for "+r),s===_c)if(a.isDefinedOn(e.node)){const l=[],h=n.getIterator(zt.Wrap);let d=h.getNext();for(;d;)d.name!==e.name&&l.push(d),d=h.getNext();return l.push(e),ig(l,a.getCompare())}else return _c;else{const l=n.get(e.name);let h=s;return l&&(h=h.remove(new zt(e.name,l))),h.insert(e,e.node)}});return new Co(i,this.indexSet_)}removeFromIndexes(e,n){const i=Wm(this.indexes_,s=>{if(s===_c)return s;{const r=n.get(e.name);return r?s.remove(new zt(e.name,r)):s}});return new Co(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;class on{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&nR(this.priorityNode_),this.children_.isEmpty()&&Je(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ph||(Ph=new on(new Tr(vw),null,Co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ph}updatePriority(e){return this.children_.isEmpty()?this:new on(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ph:n}}getChild(e){const n=Wt(e);return n===null?this:this.getImmediateChild(n).getChild(Cn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Je(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new zt(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Ph:this.priorityNode_;return new on(s,a,r)}}updateChild(e,n){const i=Wt(e);if(i===null)return n;{Je(Wt(e)!==".priority"||Ra(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Cn(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(Ui,(a,l)=>{n[a]=l.val(e),i++,r&&on.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tR(this.getPriority().val())+":"),this.forEachChild(Ui,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":IO(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new zt(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new zt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new zt(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,zt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,zt.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qd?-1:0}withIndex(e){if(e===zc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new on(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===zc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ui),s=n.getIterator(Ui);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===zc?null:this.indexMap_.get(e.toString())}}on.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NG extends on{constructor(){super(new Tr(vw),on.EMPTY_NODE,Co.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}}const Qd=new NG;Object.defineProperties(zt,{MIN:{value:new zt(su,on.EMPTY_NODE)},MAX:{value:new zt(Ul,Qd)}});eR.__EMPTY_NODE=on.EMPTY_NODE;pi.__childrenNodeConstructor=on;AG(Qd);OG(Qd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=!0;function Bi(t,e=null){if(t===null)return on.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Je(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pi(n,Bi(e))}if(!(t instanceof Array)&&LG){const n=[];let i=!1;if($s(t,(a,l)=>{if(a.substring(0,1)!=="."){const h=Bi(l);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new zt(a,h)))}}),n.length===0)return on.EMPTY_NODE;const r=ig(n,IG,a=>a.name,vw);if(i){const a=ig(n,Ui.getCompare());return new on(r,Bi(e),new Co({".priority":a},{".priority":Ui}))}else return new on(r,Bi(e),Co.Default)}else{let n=on.EMPTY_NODE;return $s(t,(i,s)=>{if(Uo(t,i)&&i.substring(0,1)!=="."){const r=Bi(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Bi(e))}}PG(Bi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG extends sy{constructor(e){super(),this.indexPath_=e,Je(!Bt(e)&&Wt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Eu(e.name,n.name):r}makePost(e,n){const i=Bi(e),s=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new zt(n,s)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,Qd);return new zt(Ul,e)}toString(){return XO(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG extends sy{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Eu(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return zt.MIN}maxPost(){return zt.MAX}makePost(e,n){const i=Bi(e);return new zt(n,i)}toString(){return".value"}}const BG=new FG;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t){return{type:"value",snapshotNode:t}}function $G(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function UG(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function MS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function HG(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ui}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Je(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Je(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:su}hasEnd(){return this.endSet_}getIndexEndValue(){return Je(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Je(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ul}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Je(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ui}copy(){const e=new bw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DS(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ui?n="$priority":t.index_===BG?n="$value":t.index_===zc?n="$key":(Je(t.index_ instanceof VG,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ai(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ai(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ai(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ai(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ai(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function NS(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ui&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends qO{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Xd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Je(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=sg.getListenId_(e,i),l={};this.listens_[a]=l;const h=DS(e._queryParams);this.restRequest_(r+".json",h,(d,p)=>{let f=p;if(d===404&&(f=null,d=null),d===null&&this.onDataUpdate_(r,f,!1,i),nu(this.listens_,a)===l){let v;d?d===401?v="permission_denied":v="rest_error:"+d:v="ok",s(v,null)}})}unlisten(e,n){const i=sg.getListenId_(e,n);delete this.listens_[i]}get(e){const n=DS(e._queryParams),i=e._path.toString(),s=new wd;return this.restRequest_(i+".json",n,(r,a)=>{let l=a;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cu(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let h=null;if(l.status>=200&&l.status<300){try{h=Cd(l.responseText)}catch{vs("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,h)}else l.status!==401&&l.status!==404&&vs("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){return{value:null,children:new Map}}function rR(t,e,n){if(Bt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Wt(e);t.children.has(i)||t.children.set(i,rg());const s=t.children.get(i);e=Cn(e),rR(s,e,n)}}function O0(t,e,n){t.value!==null?n(e,t.value):zG(t,(i,s)=>{const r=new Tn(e.toString()+"/"+i);O0(s,r,n)})}function zG(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&$s(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=10*1e3,qG=30*1e3,KG=5*60*1e3;class YG{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new GG(e);const i=LS+(qG-LS)*Math.random();nd(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;$s(e,(s,r)=>{r>0&&Uo(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),nd(this.reportStats_.bind(this),Math.floor(Math.random()*2*KG))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Sr||(Sr={}));function oR(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function aR(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function lR(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Sr.ACK_USER_WRITE,this.source=oR()}operationForChild(e){if(Bt(this.path)){if(this.affectedTree.value!=null)return Je(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Tn(e));return new og(cn(),n,this.revert)}}else return Je(Wt(this.path)===e,"operationForChild called for unrelated child."),new og(Cn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Sr.OVERWRITE}operationForChild(e){return Bt(this.path)?new Hl(this.source,cn(),this.snap.getImmediateChild(e)):new Hl(this.source,Cn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Sr.MERGE}operationForChild(e){if(Bt(this.path)){const n=this.children.subtree(new Tn(e));return n.isEmpty()?null:n.value?new Hl(this.source,cn(),n.value):new Sd(this.source,cn(),n)}else return Je(Wt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Sd(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Bt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Wt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function XG(t,e,n,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(HG(a.childName,a.snapshotNode))}),Oh(t,s,"child_removed",e,i,n),Oh(t,s,"child_added",e,i,n),Oh(t,s,"child_moved",r,i,n),Oh(t,s,"child_changed",e,i,n),Oh(t,s,"value",e,i,n),s}function Oh(t,e,n,i,s,r){const a=i.filter(l=>l.type===n);a.sort((l,h)=>QG(t,l,h)),a.forEach(l=>{const h=JG(t,l,r);s.forEach(d=>{d.respondsTo(l.type)&&e.push(d.createEvent(h,t.query_))})})}function JG(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function QG(t,e,n){if(e.childName==null||n.childName==null)throw _u("Should only compare child_ events.");const i=new zt(e.childName,e.snapshotNode),s=new zt(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){return{eventCache:t,serverCache:e}}function id(t,e,n,i){return cR(new _w(e,n,i),t.serverCache)}function uR(t,e,n,i){return cR(t.eventCache,new _w(e,n,i))}function R0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fb;const ZG=()=>(fb||(fb=new Tr(F6)),fb);class wn{constructor(e,n=ZG()){this.value=e,this.children=n}static fromObject(e){let n=new wn(null);return $s(e,(i,s)=>{n=n.set(new Tn(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:cn(),value:this.value};if(Bt(e))return null;{const i=Wt(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Cn(e),n);return r!=null?{path:vi(new Tn(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Bt(e))return this;{const n=Wt(e),i=this.children.get(n);return i!==null?i.subtree(Cn(e)):new wn(null)}}set(e,n){if(Bt(e))return new wn(n,this.children);{const i=Wt(e),r=(this.children.get(i)||new wn(null)).set(Cn(e),n),a=this.children.insert(i,r);return new wn(this.value,a)}}remove(e){if(Bt(e))return this.children.isEmpty()?new wn(null):new wn(null,this.children);{const n=Wt(e),i=this.children.get(n);if(i){const s=i.remove(Cn(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new wn(null):new wn(this.value,r)}else return this}}get(e){if(Bt(e))return this.value;{const n=Wt(e),i=this.children.get(n);return i?i.get(Cn(e)):null}}setTree(e,n){if(Bt(e))return n;{const i=Wt(e),r=(this.children.get(i)||new wn(null)).setTree(Cn(e),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new wn(this.value,a)}}fold(e){return this.fold_(cn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(vi(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,cn(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(Bt(e))return null;{const r=Wt(e),a=this.children.get(r);return a?a.findOnPath_(Cn(e),vi(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,cn(),n)}foreachOnPath_(e,n,i){if(Bt(e))return this;{this.value&&i(n,this.value);const s=Wt(e),r=this.children.get(s);return r?r.foreachOnPath_(Cn(e),vi(n,s),i):new wn(null)}}foreach(e){this.foreach_(cn(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(vi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.writeTree_=e}static empty(){return new ur(new wn(null))}}function sd(t,e,n){if(Bt(e))return new ur(new wn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Ds(s,e);return r=r.updateChild(a,n),new ur(t.writeTree_.set(s,r))}else{const s=new wn(n),r=t.writeTree_.setTree(e,s);return new ur(r)}}}function VS(t,e,n){let i=t;return $s(n,(s,r)=>{i=sd(i,vi(e,s),r)}),i}function FS(t,e){if(Bt(e))return ur.empty();{const n=t.writeTree_.setTree(e,new wn(null));return new ur(n)}}function M0(t,e){return Jl(t,e)!=null}function Jl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ds(n.path,e)):null}function BS(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ui,(i,s)=>{e.push(new zt(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new zt(i,s.value))}),e}function Ia(t,e){if(Bt(e))return t;{const n=Jl(t,e);return n!=null?new ur(new wn(n)):new ur(t.writeTree_.subtree(e))}}function D0(t){return t.writeTree_.isEmpty()}function ru(t,e){return hR(cn(),t.writeTree_,e)}function hR(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(Je(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=hR(vi(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(vi(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e){return yR(e,t)}function e9(t,e,n,i,s){Je(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=sd(t.visibleWrites,e,n)),t.lastWriteId=i}function t9(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function n9(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Je(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&i9(l,i.path)?s=!1:rr(i.path,l.path)&&(r=!0)),a--}if(s){if(r)return s9(t),!0;if(i.snap)t.visibleWrites=FS(t.visibleWrites,i.path);else{const l=i.children;$s(l,h=>{t.visibleWrites=FS(t.visibleWrites,vi(i.path,h))})}return!0}else return!1}function i9(t,e){if(t.snap)return rr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rr(vi(t.path,n),e))return!0;return!1}function s9(t){t.visibleWrites=fR(t.allWrites,r9,cn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function r9(t){return t.visible}function fR(t,e,n){let i=ur.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const a=r.path;let l;if(r.snap)rr(n,a)?(l=Ds(n,a),i=sd(i,l,r.snap)):rr(a,n)&&(l=Ds(a,n),i=sd(i,cn(),r.snap.getChild(l)));else if(r.children){if(rr(n,a))l=Ds(n,a),i=VS(i,l,r.children);else if(rr(a,n))if(l=Ds(a,n),Bt(l))i=VS(i,cn(),r.children);else{const h=nu(r.children,Wt(l));if(h){const d=h.getChild(Cn(l));i=sd(i,cn(),d)}}}else throw _u("WriteRecord should have .snap or .children")}}return i}function pR(t,e,n,i,s){if(!i&&!s){const r=Jl(t.visibleWrites,e);if(r!=null)return r;{const a=Ia(t.visibleWrites,e);if(D0(a))return n;if(n==null&&!M0(a,cn()))return null;{const l=n||on.EMPTY_NODE;return ru(a,l)}}}else{const r=Ia(t.visibleWrites,e);if(!s&&D0(r))return n;if(!s&&n==null&&!M0(r,cn()))return null;{const a=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(rr(d.path,e)||rr(e,d.path))},l=fR(t.allWrites,a,e),h=n||on.EMPTY_NODE;return ru(l,h)}}}function o9(t,e,n){let i=on.EMPTY_NODE;const s=Jl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ui,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=Ia(t.visibleWrites,e);return n.forEachChild(Ui,(a,l)=>{const h=ru(Ia(r,new Tn(a)),l);i=i.updateImmediateChild(a,h)}),BS(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=Ia(t.visibleWrites,e);return BS(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function a9(t,e,n,i,s){Je(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=vi(e,n);if(M0(t.visibleWrites,r))return null;{const a=Ia(t.visibleWrites,r);return D0(a)?s.getChild(n):ru(a,s.getChild(n))}}function l9(t,e,n,i){const s=vi(e,n),r=Jl(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=Ia(t.visibleWrites,s);return ru(a,i.getNode().getImmediateChild(n))}else return null}function c9(t,e){return Jl(t.visibleWrites,e)}function u9(t,e,n,i,s,r,a){let l;const h=Ia(t.visibleWrites,e),d=Jl(h,cn());if(d!=null)l=d;else if(n!=null)l=ru(h,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const p=[],f=a.getCompare(),v=r?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let _=v.getNext();for(;_&&p.length<s;)f(_,i)!==0&&p.push(_),_=v.getNext();return p}else return[]}function h9(){return{visibleWrites:ur.empty(),allWrites:[],lastWriteId:-1}}function N0(t,e,n,i){return pR(t.writeTree,t.treePath,e,n,i)}function mR(t,e){return o9(t.writeTree,t.treePath,e)}function jS(t,e,n,i){return a9(t.writeTree,t.treePath,e,n,i)}function ag(t,e){return c9(t.writeTree,vi(t.treePath,e))}function d9(t,e,n,i,s,r){return u9(t.writeTree,t.treePath,e,n,i,s,r)}function ww(t,e,n){return l9(t.writeTree,t.treePath,e,n)}function gR(t,e){return yR(vi(t.treePath,e),t.writeTree)}function yR(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Je(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Je(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,MS(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,UG(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,$G(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,MS(i,e.snapshotNode,s.oldSnap));else throw _u("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const vR=new p9;class Cw{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new _w(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ww(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wl(this.viewCache_),r=d9(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function m9(t,e){Je(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Je(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function g9(t,e,n,i,s){const r=new f9;let a,l;if(n.type===Sr.OVERWRITE){const d=n;d.source.fromUser?a=L0(t,e,d.path,d.snap,i,s,r):(Je(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered()&&!Bt(d.path),a=lg(t,e,d.path,d.snap,i,s,l,r))}else if(n.type===Sr.MERGE){const d=n;d.source.fromUser?a=v9(t,e,d.path,d.children,i,s,r):(Je(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),a=V0(t,e,d.path,d.children,i,s,l,r))}else if(n.type===Sr.ACK_USER_WRITE){const d=n;d.revert?a=w9(t,e,d.path,i,s,r):a=b9(t,e,d.path,d.affectedTree,i,s,r)}else if(n.type===Sr.LISTEN_COMPLETE)a=_9(t,e,n.path,i,r);else throw _u("Unknown operation type: "+n.type);const h=r.getChanges();return y9(e,a,h),{viewCache:a,changes:h}}function y9(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=R0(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(jG(R0(e)))}}function bR(t,e,n,i,s,r){const a=e.eventCache;if(ag(i,n)!=null)return e;{let l,h;if(Bt(n))if(Je(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Wl(e),p=d instanceof on?d:on.EMPTY_NODE,f=mR(i,p);l=t.filter.updateFullNode(e.eventCache.getNode(),f,r)}else{const d=N0(i,Wl(e));l=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const d=Wt(n);if(d===".priority"){Je(Ra(n)===1,"Can't have a priority with additional path components");const p=a.getNode();h=e.serverCache.getNode();const f=jS(i,n,p,h);f!=null?l=t.filter.updatePriority(p,f):l=a.getNode()}else{const p=Cn(n);let f;if(a.isCompleteForChild(d)){h=e.serverCache.getNode();const v=jS(i,n,a.getNode(),h);v!=null?f=a.getNode().getImmediateChild(d).updateChild(p,v):f=a.getNode().getImmediateChild(d)}else f=ww(i,d,e.serverCache);f!=null?l=t.filter.updateChild(a.getNode(),d,f,p,s,r):l=a.getNode()}}return id(e,l,a.isFullyInitialized()||Bt(n),t.filter.filtersNodes())}}function lg(t,e,n,i,s,r,a,l){const h=e.serverCache;let d;const p=a?t.filter:t.filter.getIndexedFilter();if(Bt(n))d=p.updateFullNode(h.getNode(),i,null);else if(p.filtersNodes()&&!h.isFiltered()){const _=h.getNode().updateChild(n,i);d=p.updateFullNode(h.getNode(),_,null)}else{const _=Wt(n);if(!h.isCompleteForPath(n)&&Ra(n)>1)return e;const y=Cn(n),x=h.getNode().getImmediateChild(_).updateChild(y,i);_===".priority"?d=p.updatePriority(h.getNode(),x):d=p.updateChild(h.getNode(),_,x,y,vR,null)}const f=uR(e,d,h.isFullyInitialized()||Bt(n),p.filtersNodes()),v=new Cw(s,f,r);return bR(t,f,n,s,v,l)}function L0(t,e,n,i,s,r,a){const l=e.eventCache;let h,d;const p=new Cw(s,e,r);if(Bt(n))d=t.filter.updateFullNode(e.eventCache.getNode(),i,a),h=id(e,d,!0,t.filter.filtersNodes());else{const f=Wt(n);if(f===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),i),h=id(e,d,l.isFullyInitialized(),l.isFiltered());else{const v=Cn(n),_=l.getNode().getImmediateChild(f);let y;if(Bt(v))y=i;else{const b=p.getCompleteChild(f);b!=null?YO(v)===".priority"&&b.getChild(JO(v)).isEmpty()?y=b:y=b.updateChild(v,i):y=on.EMPTY_NODE}if(_.equals(y))h=e;else{const b=t.filter.updateChild(l.getNode(),f,y,v,p,a);h=id(e,b,l.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function $S(t,e){return t.eventCache.isCompleteForChild(e)}function v9(t,e,n,i,s,r,a){let l=e;return i.foreach((h,d)=>{const p=vi(n,h);$S(e,Wt(p))&&(l=L0(t,l,p,d,s,r,a))}),i.foreach((h,d)=>{const p=vi(n,h);$S(e,Wt(p))||(l=L0(t,l,p,d,s,r,a))}),l}function US(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function V0(t,e,n,i,s,r,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,d;Bt(n)?d=i:d=new wn(null).setTree(n,i);const p=e.serverCache.getNode();return d.children.inorderTraversal((f,v)=>{if(p.hasChild(f)){const _=e.serverCache.getNode().getImmediateChild(f),y=US(t,_,v);h=lg(t,h,new Tn(f),y,s,r,a,l)}}),d.children.inorderTraversal((f,v)=>{const _=!e.serverCache.isCompleteForChild(f)&&v.value===null;if(!p.hasChild(f)&&!_){const y=e.serverCache.getNode().getImmediateChild(f),b=US(t,y,v);h=lg(t,h,new Tn(f),b,s,r,a,l)}}),h}function b9(t,e,n,i,s,r,a){if(ag(s,n)!=null)return e;const l=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(Bt(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return lg(t,e,n,h.getNode().getChild(n),s,r,l,a);if(Bt(n)){let d=new wn(null);return h.getNode().forEachChild(zc,(p,f)=>{d=d.set(new Tn(p),f)}),V0(t,e,n,d,s,r,l,a)}else return e}else{let d=new wn(null);return i.foreach((p,f)=>{const v=vi(n,p);h.isCompleteForPath(v)&&(d=d.set(p,h.getNode().getChild(v)))}),V0(t,e,n,d,s,r,l,a)}}function _9(t,e,n,i,s){const r=e.serverCache,a=uR(e,r.getNode(),r.isFullyInitialized()||Bt(n),r.isFiltered());return bR(t,a,n,i,vR,s)}function w9(t,e,n,i,s,r){let a;if(ag(i,n)!=null)return e;{const l=new Cw(i,e,s),h=e.eventCache.getNode();let d;if(Bt(n)||Wt(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=N0(i,Wl(e));else{const f=e.serverCache.getNode();Je(f instanceof on,"serverChildren would be complete if leaf node"),p=mR(i,f)}p=p,d=t.filter.updateFullNode(h,p,r)}else{const p=Wt(n);let f=ww(i,p,e.serverCache);f==null&&e.serverCache.isCompleteForChild(p)&&(f=h.getImmediateChild(p)),f!=null?d=t.filter.updateChild(h,p,f,Cn(n),l,r):e.eventCache.getNode().hasChild(p)?d=t.filter.updateChild(h,p,on.EMPTY_NODE,Cn(n),l,r):d=h,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=N0(i,Wl(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,r)))}return a=e.serverCache.isFullyInitialized()||ag(i,cn())!=null,id(e,d,a,t.filter.filtersNodes())}}function C9(t,e){const n=Wl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Bt(e)&&!n.getImmediateChild(Wt(e)).isEmpty())?n.getChild(e):null}function HS(t,e,n,i){e.type===Sr.MERGE&&e.source.queryId!==null&&(Je(Wl(t.viewCache_),"We should always have a full cache before handling merges"),Je(R0(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=g9(t.processor_,s,e,n,i);return m9(t.processor_,r.viewCache),Je(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,x9(t,r.changes,r.viewCache.eventCache.getNode())}function x9(t,e,n,i){const s=t.eventRegistrations_;return XG(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WS;function E9(t){Je(!WS,"__referenceConstructor has already been defined"),WS=t}function xw(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return Je(r!=null,"SyncTree gave us an op for an invalid query."),HS(r,e,n,i)}else{let r=[];for(const a of t.views.values())r=r.concat(HS(a,e,n,i));return r}}function Ew(t,e){let n=null;for(const i of t.views.values())n=n||C9(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zS;function T9(t){Je(!zS,"__referenceConstructor has already been defined"),zS=t}class GS{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wn(null),this.pendingWriteTree_=h9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function S9(t,e,n,i,s){return e9(t.pendingWriteTree_,e,n,i,s),s?oy(t,new Hl(oR(),e,n)):[]}function Rc(t,e,n=!1){const i=t9(t.pendingWriteTree_,e);if(n9(t.pendingWriteTree_,e)){let r=new wn(null);return i.snap!=null?r=r.set(cn(),!0):$s(i.children,a=>{r=r.set(new Tn(a),!0)}),oy(t,new og(i.path,r,n))}else return[]}function ry(t,e,n){return oy(t,new Hl(aR(),e,n))}function k9(t,e,n){const i=wn.fromObject(n);return oy(t,new Sd(aR(),e,i))}function I9(t,e,n,i){const s=xR(t,i);if(s!=null){const r=ER(s),a=r.path,l=r.queryId,h=Ds(a,e),d=new Hl(lR(l),h,n);return TR(t,a,d)}else return[]}function A9(t,e,n,i){const s=xR(t,i);if(s){const r=ER(s),a=r.path,l=r.queryId,h=Ds(a,e),d=wn.fromObject(n),p=new Sd(lR(l),h,d);return TR(t,a,p)}else return[]}function _R(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(a,l)=>{const h=Ds(a,e),d=Ew(l,h);if(d)return d});return pR(s,e,r,n,!0)}function oy(t,e){return wR(e,t.syncPointTree_,null,dR(t.pendingWriteTree_,cn()))}function wR(t,e,n,i){if(Bt(t.path))return CR(t,e,n,i);{const s=e.get(cn());n==null&&s!=null&&(n=Ew(s,cn()));let r=[];const a=Wt(t.path),l=t.operationForChild(a),h=e.children.get(a);if(h&&l){const d=n?n.getImmediateChild(a):null,p=gR(i,a);r=r.concat(wR(l,h,d,p))}return s&&(r=r.concat(xw(s,t,i,n))),r}}function CR(t,e,n,i){const s=e.get(cn());n==null&&s!=null&&(n=Ew(s,cn()));let r=[];return e.children.inorderTraversal((a,l)=>{const h=n?n.getImmediateChild(a):null,d=gR(i,a),p=t.operationForChild(a);p&&(r=r.concat(CR(p,l,h,d)))}),s&&(r=r.concat(xw(s,t,i,n))),r}function xR(t,e){return t.tagToQueryMap.get(e)}function ER(t){const e=t.indexOf("$");return Je(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Tn(t.substr(0,e))}}function TR(t,e,n){const i=t.syncPointTree_.get(e);Je(i,"Missing sync point for query tag that we're tracking");const s=dR(t.pendingWriteTree_,e);return xw(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Tw(n)}node(){return this.node_}}class Sw{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=vi(this.path_,e);return new Sw(this.syncTree_,n)}node(){return _R(this.syncTree_,this.path_)}}const P9=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qS=function(t,e,n){if(!t||typeof t!="object")return t;if(Je(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return O9(t[".sv"],e,n);if(typeof t[".sv"]=="object")return R9(t[".sv"],e);Je(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},O9=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Je(!1,"Unexpected server value: "+t)}},R9=function(t,e,n){t.hasOwnProperty("increment")||Je(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Je(!1,"Unexpected increment value: "+i);const s=e.node();if(Je(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},M9=function(t,e,n,i){return kw(e,new Sw(n,t),i)},D9=function(t,e,n){return kw(t,new Tw(e),n)};function kw(t,e,n){const i=t.getPriority().val(),s=qS(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const a=t,l=qS(a.getValue(),e,n);return l!==a.getValue()||s!==a.getPriority().val()?new pi(l,Bi(s)):t}else{const a=t;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new pi(s))),a.forEachChild(Ui,(l,h)=>{const d=kw(h,e.getImmediateChild(l),n);d!==h&&(r=r.updateImmediateChild(l,d))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Aw(t,e){let n=e instanceof Tn?e:new Tn(e),i=t,s=Wt(n);for(;s!==null;){const r=nu(i.node.children,s)||{children:{},childCount:0};i=new Iw(s,i,r),n=Cn(n),s=Wt(n)}return i}function Tu(t){return t.node.value}function SR(t,e){t.node.value=e,F0(t)}function kR(t){return t.node.childCount>0}function N9(t){return Tu(t)===void 0&&!kR(t)}function ay(t,e){$s(t.node.children,(n,i)=>{e(new Iw(n,t,i))})}function IR(t,e,n,i){n&&!i&&e(t),ay(t,s=>{IR(s,e,!0,i)}),n&&i&&e(t)}function L9(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Zd(t){return new Tn(t.parent===null?t.name:Zd(t.parent)+"/"+t.name)}function F0(t){t.parent!==null&&V9(t.parent,t.name,t)}function V9(t,e,n){const i=N9(n),s=Uo(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,F0(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,F0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=/[\[\].#$\/\u0000-\u001F\u007F]/,B9=/[\[\].#$\u0000-\u001F\u007F]/,pb=10*1024*1024,AR=function(t){return typeof t=="string"&&t.length!==0&&!F9.test(t)},j9=function(t){return typeof t=="string"&&t.length!==0&&!B9.test(t)},$9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),j9(t)},PR=function(t,e,n){const i=n instanceof Tn?new _G(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+vl(i));if(typeof e=="function")throw new Error(t+"contains a function "+vl(i)+" with contents = "+e.toString());if(AO(e))throw new Error(t+"contains "+e.toString()+" "+vl(i));if(typeof e=="string"&&e.length>pb/3&&ey(e)>pb)throw new Error(t+"contains a string greater than "+pb+" utf8 bytes "+vl(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if($s(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!AR(a)))throw new Error(t+" contains an invalid key ("+a+") "+vl(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wG(i,a),PR(t,l,i),CG(i)}),s&&r)throw new Error(t+' contains ".value" child '+vl(i)+" in addition to actual children.")}},U9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!AR(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$9(n))throw new Error(NW(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function W9(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!QO(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Ql(t,e,n){W9(t,n),z9(t,i=>rr(i,e)||rr(e,i))}function z9(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(G9(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function G9(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();td&&Fi("event: "+n.toString()),Jd(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="repo_interrupt",K9=25;class Y9{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new H9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rg(),this.transactionQueueTree_=new Iw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X9(t,e,n){if(t.stats_=mw(t.repoInfo_),t.forceRestClient_||W6())t.server_=new sg(t.repoInfo_,(i,s,r,a)=>{KS(t,i,s,r,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>YS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ai(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Eo(t.repoInfo_,e,(i,s,r,a)=>{KS(t,i,s,r,a)},i=>{YS(t,i)},i=>{Q9(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=X6(t.repoInfo_,()=>new YG(t.stats_,t.server_)),t.infoData_=new WG,t.infoSyncTree_=new GS({startListening:(i,s,r,a)=>{let l=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(l=ry(t.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),Pw(t,"connected",!1),t.serverSyncTree_=new GS({startListening:(i,s,r,a)=>(t.server_.listen(i,r,s,(l,h)=>{const d=a(l,h);Ql(t.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function J9(t){const n=t.infoData_.getNode(new Tn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function OR(t){return P9({timestamp:J9(t)})}function KS(t,e,n,i,s){t.dataUpdateCount++;const r=new Tn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(i){const h=Wm(n,d=>Bi(d));a=A9(t.serverSyncTree_,r,h,s)}else{const h=Bi(n);a=I9(t.serverSyncTree_,r,h,s)}else if(i){const h=Wm(n,d=>Bi(d));a=k9(t.serverSyncTree_,r,h)}else{const h=Bi(n);a=ry(t.serverSyncTree_,r,h)}let l=r;a.length>0&&(l=Rw(t,r)),Ql(t.eventQueue_,l,a)}function YS(t,e){Pw(t,"connected",e),e===!1&&e5(t)}function Q9(t,e){$s(e,(n,i)=>{Pw(t,n,i)})}function Pw(t,e,n){const i=new Tn("/.info/"+e),s=Bi(n);t.infoData_.updateSnapshot(i,s);const r=ry(t.infoSyncTree_,i,s);Ql(t.eventQueue_,i,r)}function Z9(t){return t.nextWriteId_++}function e5(t){RR(t,"onDisconnectEvents");const e=OR(t),n=rg();O0(t.onDisconnect_,cn(),(s,r)=>{const a=M9(s,r,t.serverSyncTree_,e);rR(n,s,a)});let i=[];O0(n,cn(),(s,r)=>{i=i.concat(ry(t.serverSyncTree_,s,r));const a=s5(t,s);Rw(t,a)}),t.onDisconnect_=rg(),Ql(t.eventQueue_,cn(),i)}function t5(t){t.persistentConnection_&&t.persistentConnection_.interrupt(q9)}function RR(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fi(n,...e)}function MR(t,e,n){return _R(t.serverSyncTree_,e,n)||on.EMPTY_NODE}function Ow(t,e=t.transactionQueueTree_){if(e||ly(t,e),Tu(e)){const n=NR(t,e);Je(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&n5(t,Zd(e),n)}else kR(e)&&ay(e,n=>{Ow(t,n)})}function n5(t,e,n){const i=n.map(d=>d.currentWriteId),s=MR(t,e,i);let r=s;const a=s.hash();for(let d=0;d<n.length;d++){const p=n[d];Je(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const f=Ds(e,p.path);r=r.updateChild(f,p.currentOutputSnapshotRaw)}const l=r.val(!0),h=e;t.server_.put(h.toString(),l,d=>{RR(t,"transaction put response",{path:h.toString(),status:d});let p=[];if(d==="ok"){const f=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(Rc(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&f.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ly(t,Aw(t.transactionQueueTree_,e)),Ow(t,t.transactionQueueTree_),Ql(t.eventQueue_,e,p);for(let v=0;v<f.length;v++)Jd(f[v])}else{if(d==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{vs("transaction at "+h.toString()+" failed: "+d);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=d}Rw(t,e)}},a)}function Rw(t,e){const n=DR(t,e),i=Zd(n),s=NR(t,n);return i5(t,s,i),i}function i5(t,e,n){if(e.length===0)return;const i=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const h=e[l],d=Ds(n,h.path);let p=!1,f;if(Je(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)p=!0,f=h.abortReason,s=s.concat(Rc(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=K9)p=!0,f="maxretry",s=s.concat(Rc(t.serverSyncTree_,h.currentWriteId,!0));else{const v=MR(t,h.path,a);h.currentInputSnapshot=v;const _=e[l].update(v.val());if(_!==void 0){PR("transaction failed: Data returned ",_,h.path);let y=Bi(_);typeof _=="object"&&_!=null&&Uo(_,".priority")||(y=y.updatePriority(v.getPriority()));const x=h.currentWriteId,k=OR(t),I=D9(y,v,k);h.currentOutputSnapshotRaw=y,h.currentOutputSnapshotResolved=I,h.currentWriteId=Z9(t),a.splice(a.indexOf(x),1),s=s.concat(S9(t.serverSyncTree_,h.path,I,h.currentWriteId,h.applyLocally)),s=s.concat(Rc(t.serverSyncTree_,x,!0))}else p=!0,f="nodata",s=s.concat(Rc(t.serverSyncTree_,h.currentWriteId,!0))}Ql(t.eventQueue_,n,s),s=[],p&&(e[l].status=2,function(v){setTimeout(v,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(f),!1,null))))}ly(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Jd(i[l]);Ow(t,t.transactionQueueTree_)}function DR(t,e){let n,i=t.transactionQueueTree_;for(n=Wt(e);n!==null&&Tu(i)===void 0;)i=Aw(i,n),e=Cn(e),n=Wt(e);return i}function NR(t,e){const n=[];return LR(t,e,n),n.sort((i,s)=>i.order-s.order),n}function LR(t,e,n){const i=Tu(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);ay(e,s=>{LR(t,s,n)})}function ly(t,e){const n=Tu(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,SR(e,n.length>0?n:void 0)}ay(e,i=>{ly(t,i)})}function s5(t,e){const n=Zd(DR(t,e)),i=Aw(t.transactionQueueTree_,e);return L9(i,s=>{mb(t,s)}),mb(t,i),IR(i,s=>{mb(t,s)}),n}function mb(t,e){const n=Tu(e);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Je(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):(Je(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Rc(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?SR(e,void 0):n.length=r+1,Ql(t.eventQueue_,Zd(e),s);for(let a=0;a<i.length;a++)Jd(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function o5(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vs(`Invalid query segment '${n}' in query '${t}'`)}return e}const XS=function(t,e){const n=a5(t),i=n.namespace;n.domain==="firebase.com"&&$l(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&$l("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||L6();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new q6(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Tn(n.pathString)}},a5=function(t){let e="",n="",i="",s="",r="",a=!0,l="https",h=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(l=t.substring(0,d-1),t=t.substring(d+2));let p=t.indexOf("/");p===-1&&(p=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(p,f)),p<f&&(s=r5(t.substring(p,f)));const v=o5(t.substring(Math.min(t.length,f)));d=e.indexOf(":"),d>=0?(a=l==="https"||l==="wss",h=parseInt(e.substring(d+1),10)):d=e.length;const _=e.slice(0,d);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),r=i}"ns"in v&&(r=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:a,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return Bt(this._path)?null:YO(this._path)}get ref(){return new Su(this._repo,this._path)}get _queryIdentifier(){const e=NS(this._queryParams),n=fw(e);return n==="{}"?"default":n}get _queryObject(){return NS(this._queryParams)}isEqual(e){if(e=Ws(e),!(e instanceof Mw))return!1;const n=this._repo===e._repo,i=QO(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+bG(this._path)}}class Su extends Mw{constructor(e,n){super(e,n,new bw,!1)}get parent(){const e=JO(this._path);return e===null?null:new Su(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}E9(Su);T9(Su);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="FIREBASE_DATABASE_EMULATOR_HOST",B0={};let c5=!1;function u5(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||$l("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fi("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=XS(r,s),l=a.repoInfo,h;typeof process<"u"&&gS&&(h=gS[l5]),h?(r=`http://${h}?ns=${l.namespace}`,a=XS(r,s),l=a.repoInfo):a.repoInfo.secure;const d=new G6(t.name,t.options,e);U9("Invalid Firebase Database URL",a),Bt(a.path)||$l("Database URL must point to the root of a Firebase Database (not including a child path).");const p=d5(l,t,d,new z6(t.name,n));return new f5(p,t)}function h5(t,e){const n=B0[e];(!n||n[t.key]!==t)&&$l(`Database ${e}(${t.repoInfo_}) has already been deleted.`),t5(t),delete n[t.key]}function d5(t,e,n,i){let s=B0[e.name];s||(s={},B0[e.name]=s);let r=s[t.toURLString()];return r&&$l("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new Y9(t,c5,n,i),s[t.toURLString()]=r,r}class f5{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(X9(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Su(this._repo,cn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(h5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$l("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){P6(Va),Dr(new dr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return u5(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),ys(yS,vS,t),ys(yS,vS,"esm2017")}Eo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Eo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};p5();var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Al,VR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,R){function L(){}L.prototype=R.prototype,T.D=R.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(B,U,z){for(var H=Array(arguments.length-2),q=2;q<arguments.length;q++)H[q-2]=arguments[q];return R.prototype[U].apply(B,H)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,R,L){L||(L=0);var B=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)B[U]=R.charCodeAt(L++)|R.charCodeAt(L++)<<8|R.charCodeAt(L++)<<16|R.charCodeAt(L++)<<24;else for(U=0;16>U;++U)B[U]=R[L++]|R[L++]<<8|R[L++]<<16|R[L++]<<24;R=T.g[0],L=T.g[1],U=T.g[2];var z=T.g[3],H=R+(z^L&(U^z))+B[0]+3614090360&4294967295;R=L+(H<<7&4294967295|H>>>25),H=z+(U^R&(L^U))+B[1]+3905402710&4294967295,z=R+(H<<12&4294967295|H>>>20),H=U+(L^z&(R^L))+B[2]+606105819&4294967295,U=z+(H<<17&4294967295|H>>>15),H=L+(R^U&(z^R))+B[3]+3250441966&4294967295,L=U+(H<<22&4294967295|H>>>10),H=R+(z^L&(U^z))+B[4]+4118548399&4294967295,R=L+(H<<7&4294967295|H>>>25),H=z+(U^R&(L^U))+B[5]+1200080426&4294967295,z=R+(H<<12&4294967295|H>>>20),H=U+(L^z&(R^L))+B[6]+2821735955&4294967295,U=z+(H<<17&4294967295|H>>>15),H=L+(R^U&(z^R))+B[7]+4249261313&4294967295,L=U+(H<<22&4294967295|H>>>10),H=R+(z^L&(U^z))+B[8]+1770035416&4294967295,R=L+(H<<7&4294967295|H>>>25),H=z+(U^R&(L^U))+B[9]+2336552879&4294967295,z=R+(H<<12&4294967295|H>>>20),H=U+(L^z&(R^L))+B[10]+4294925233&4294967295,U=z+(H<<17&4294967295|H>>>15),H=L+(R^U&(z^R))+B[11]+2304563134&4294967295,L=U+(H<<22&4294967295|H>>>10),H=R+(z^L&(U^z))+B[12]+1804603682&4294967295,R=L+(H<<7&4294967295|H>>>25),H=z+(U^R&(L^U))+B[13]+4254626195&4294967295,z=R+(H<<12&4294967295|H>>>20),H=U+(L^z&(R^L))+B[14]+2792965006&4294967295,U=z+(H<<17&4294967295|H>>>15),H=L+(R^U&(z^R))+B[15]+1236535329&4294967295,L=U+(H<<22&4294967295|H>>>10),H=R+(U^z&(L^U))+B[1]+4129170786&4294967295,R=L+(H<<5&4294967295|H>>>27),H=z+(L^U&(R^L))+B[6]+3225465664&4294967295,z=R+(H<<9&4294967295|H>>>23),H=U+(R^L&(z^R))+B[11]+643717713&4294967295,U=z+(H<<14&4294967295|H>>>18),H=L+(z^R&(U^z))+B[0]+3921069994&4294967295,L=U+(H<<20&4294967295|H>>>12),H=R+(U^z&(L^U))+B[5]+3593408605&4294967295,R=L+(H<<5&4294967295|H>>>27),H=z+(L^U&(R^L))+B[10]+38016083&4294967295,z=R+(H<<9&4294967295|H>>>23),H=U+(R^L&(z^R))+B[15]+3634488961&4294967295,U=z+(H<<14&4294967295|H>>>18),H=L+(z^R&(U^z))+B[4]+3889429448&4294967295,L=U+(H<<20&4294967295|H>>>12),H=R+(U^z&(L^U))+B[9]+568446438&4294967295,R=L+(H<<5&4294967295|H>>>27),H=z+(L^U&(R^L))+B[14]+3275163606&4294967295,z=R+(H<<9&4294967295|H>>>23),H=U+(R^L&(z^R))+B[3]+4107603335&4294967295,U=z+(H<<14&4294967295|H>>>18),H=L+(z^R&(U^z))+B[8]+1163531501&4294967295,L=U+(H<<20&4294967295|H>>>12),H=R+(U^z&(L^U))+B[13]+2850285829&4294967295,R=L+(H<<5&4294967295|H>>>27),H=z+(L^U&(R^L))+B[2]+4243563512&4294967295,z=R+(H<<9&4294967295|H>>>23),H=U+(R^L&(z^R))+B[7]+1735328473&4294967295,U=z+(H<<14&4294967295|H>>>18),H=L+(z^R&(U^z))+B[12]+2368359562&4294967295,L=U+(H<<20&4294967295|H>>>12),H=R+(L^U^z)+B[5]+4294588738&4294967295,R=L+(H<<4&4294967295|H>>>28),H=z+(R^L^U)+B[8]+2272392833&4294967295,z=R+(H<<11&4294967295|H>>>21),H=U+(z^R^L)+B[11]+1839030562&4294967295,U=z+(H<<16&4294967295|H>>>16),H=L+(U^z^R)+B[14]+4259657740&4294967295,L=U+(H<<23&4294967295|H>>>9),H=R+(L^U^z)+B[1]+2763975236&4294967295,R=L+(H<<4&4294967295|H>>>28),H=z+(R^L^U)+B[4]+1272893353&4294967295,z=R+(H<<11&4294967295|H>>>21),H=U+(z^R^L)+B[7]+4139469664&4294967295,U=z+(H<<16&4294967295|H>>>16),H=L+(U^z^R)+B[10]+3200236656&4294967295,L=U+(H<<23&4294967295|H>>>9),H=R+(L^U^z)+B[13]+681279174&4294967295,R=L+(H<<4&4294967295|H>>>28),H=z+(R^L^U)+B[0]+3936430074&4294967295,z=R+(H<<11&4294967295|H>>>21),H=U+(z^R^L)+B[3]+3572445317&4294967295,U=z+(H<<16&4294967295|H>>>16),H=L+(U^z^R)+B[6]+76029189&4294967295,L=U+(H<<23&4294967295|H>>>9),H=R+(L^U^z)+B[9]+3654602809&4294967295,R=L+(H<<4&4294967295|H>>>28),H=z+(R^L^U)+B[12]+3873151461&4294967295,z=R+(H<<11&4294967295|H>>>21),H=U+(z^R^L)+B[15]+530742520&4294967295,U=z+(H<<16&4294967295|H>>>16),H=L+(U^z^R)+B[2]+3299628645&4294967295,L=U+(H<<23&4294967295|H>>>9),H=R+(U^(L|~z))+B[0]+4096336452&4294967295,R=L+(H<<6&4294967295|H>>>26),H=z+(L^(R|~U))+B[7]+1126891415&4294967295,z=R+(H<<10&4294967295|H>>>22),H=U+(R^(z|~L))+B[14]+2878612391&4294967295,U=z+(H<<15&4294967295|H>>>17),H=L+(z^(U|~R))+B[5]+4237533241&4294967295,L=U+(H<<21&4294967295|H>>>11),H=R+(U^(L|~z))+B[12]+1700485571&4294967295,R=L+(H<<6&4294967295|H>>>26),H=z+(L^(R|~U))+B[3]+2399980690&4294967295,z=R+(H<<10&4294967295|H>>>22),H=U+(R^(z|~L))+B[10]+4293915773&4294967295,U=z+(H<<15&4294967295|H>>>17),H=L+(z^(U|~R))+B[1]+2240044497&4294967295,L=U+(H<<21&4294967295|H>>>11),H=R+(U^(L|~z))+B[8]+1873313359&4294967295,R=L+(H<<6&4294967295|H>>>26),H=z+(L^(R|~U))+B[15]+4264355552&4294967295,z=R+(H<<10&4294967295|H>>>22),H=U+(R^(z|~L))+B[6]+2734768916&4294967295,U=z+(H<<15&4294967295|H>>>17),H=L+(z^(U|~R))+B[13]+1309151649&4294967295,L=U+(H<<21&4294967295|H>>>11),H=R+(U^(L|~z))+B[4]+4149444226&4294967295,R=L+(H<<6&4294967295|H>>>26),H=z+(L^(R|~U))+B[11]+3174756917&4294967295,z=R+(H<<10&4294967295|H>>>22),H=U+(R^(z|~L))+B[2]+718787259&4294967295,U=z+(H<<15&4294967295|H>>>17),H=L+(z^(U|~R))+B[9]+3951481745&4294967295,T.g[0]=T.g[0]+R&4294967295,T.g[1]=T.g[1]+(U+(H<<21&4294967295|H>>>11))&4294967295,T.g[2]=T.g[2]+U&4294967295,T.g[3]=T.g[3]+z&4294967295}i.prototype.u=function(T,R){R===void 0&&(R=T.length);for(var L=R-this.blockSize,B=this.B,U=this.h,z=0;z<R;){if(U==0)for(;z<=L;)s(this,T,z),z+=this.blockSize;if(typeof T=="string"){for(;z<R;)if(B[U++]=T.charCodeAt(z++),U==this.blockSize){s(this,B),U=0;break}}else for(;z<R;)if(B[U++]=T[z++],U==this.blockSize){s(this,B),U=0;break}}this.h=U,this.o+=R},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var R=1;R<T.length-8;++R)T[R]=0;var L=8*this.o;for(R=T.length-8;R<T.length;++R)T[R]=L&255,L/=256;for(this.u(T),T=Array(16),R=L=0;4>R;++R)for(var B=0;32>B;B+=8)T[L++]=this.g[R]>>>B&255;return T};function r(T,R){var L=l;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=R(T)}function a(T,R){this.h=R;for(var L=[],B=!0,U=T.length-1;0<=U;U--){var z=T[U]|0;B&&z==R||(L[U]=z,B=!1)}this.g=L}var l={};function h(T){return-128<=T&&128>T?r(T,function(R){return new a([R|0],0>R?-1:0)}):new a([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return x(d(-T));for(var R=[],L=1,B=0;T>=L;B++)R[B]=T/L|0,L*=4294967296;return new a(R,0)}function p(T,R){if(T.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(T.charAt(0)=="-")return x(p(T.substring(1),R));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=d(Math.pow(R,8)),B=f,U=0;U<T.length;U+=8){var z=Math.min(8,T.length-U),H=parseInt(T.substring(U,U+z),R);8>z?(z=d(Math.pow(R,z)),B=B.j(z).add(d(H))):(B=B.j(L),B=B.add(d(H)))}return B}var f=h(0),v=h(1),_=h(16777216);t=a.prototype,t.m=function(){if(b(this))return-x(this).m();for(var T=0,R=1,L=0;L<this.g.length;L++){var B=this.i(L);T+=(0<=B?B:4294967296+B)*R,R*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(b(this))return"-"+x(this).toString(T);for(var R=d(Math.pow(T,6)),L=this,B="";;){var U=N(L,R).g;L=k(L,U.j(R));var z=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=U,y(L))return z+B;for(;6>z.length;)z="0"+z;B=z+B}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var R=0;R<T.g.length;R++)if(T.g[R]!=0)return!1;return!0}function b(T){return T.h==-1}t.l=function(T){return T=k(this,T),b(T)?-1:y(T)?0:1};function x(T){for(var R=T.g.length,L=[],B=0;B<R;B++)L[B]=~T.g[B];return new a(L,~T.h).add(v)}t.abs=function(){return b(this)?x(this):this},t.add=function(T){for(var R=Math.max(this.g.length,T.g.length),L=[],B=0,U=0;U<=R;U++){var z=B+(this.i(U)&65535)+(T.i(U)&65535),H=(z>>>16)+(this.i(U)>>>16)+(T.i(U)>>>16);B=H>>>16,z&=65535,H&=65535,L[U]=H<<16|z}return new a(L,L[L.length-1]&-2147483648?-1:0)};function k(T,R){return T.add(x(R))}t.j=function(T){if(y(this)||y(T))return f;if(b(this))return b(T)?x(this).j(x(T)):x(x(this).j(T));if(b(T))return x(this.j(x(T)));if(0>this.l(_)&&0>T.l(_))return d(this.m()*T.m());for(var R=this.g.length+T.g.length,L=[],B=0;B<2*R;B++)L[B]=0;for(B=0;B<this.g.length;B++)for(var U=0;U<T.g.length;U++){var z=this.i(B)>>>16,H=this.i(B)&65535,q=T.i(U)>>>16,Z=T.i(U)&65535;L[2*B+2*U]+=H*Z,I(L,2*B+2*U),L[2*B+2*U+1]+=z*Z,I(L,2*B+2*U+1),L[2*B+2*U+1]+=H*q,I(L,2*B+2*U+1),L[2*B+2*U+2]+=z*q,I(L,2*B+2*U+2)}for(B=0;B<R;B++)L[B]=L[2*B+1]<<16|L[2*B];for(B=R;B<2*R;B++)L[B]=0;return new a(L,0)};function I(T,R){for(;(T[R]&65535)!=T[R];)T[R+1]+=T[R]>>>16,T[R]&=65535,R++}function D(T,R){this.g=T,this.h=R}function N(T,R){if(y(R))throw Error("division by zero");if(y(T))return new D(f,f);if(b(T))return R=N(x(T),R),new D(x(R.g),x(R.h));if(b(R))return R=N(T,x(R)),new D(x(R.g),R.h);if(30<T.g.length){if(b(T)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var L=v,B=R;0>=B.l(T);)L=V(L),B=V(B);var U=P(L,1),z=P(B,1);for(B=P(B,2),L=P(L,2);!y(B);){var H=z.add(B);0>=H.l(T)&&(U=U.add(L),z=H),B=P(B,1),L=P(L,1)}return R=k(T,U.j(R)),new D(U,R)}for(U=f;0<=T.l(R);){for(L=Math.max(1,Math.floor(T.m()/R.m())),B=Math.ceil(Math.log(L)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),z=d(L),H=z.j(R);b(H)||0<H.l(T);)L-=B,z=d(L),H=z.j(R);y(z)&&(z=v),U=U.add(z),T=k(T,H)}return new D(U,T)}t.A=function(T){return N(this,T).h},t.and=function(T){for(var R=Math.max(this.g.length,T.g.length),L=[],B=0;B<R;B++)L[B]=this.i(B)&T.i(B);return new a(L,this.h&T.h)},t.or=function(T){for(var R=Math.max(this.g.length,T.g.length),L=[],B=0;B<R;B++)L[B]=this.i(B)|T.i(B);return new a(L,this.h|T.h)},t.xor=function(T){for(var R=Math.max(this.g.length,T.g.length),L=[],B=0;B<R;B++)L[B]=this.i(B)^T.i(B);return new a(L,this.h^T.h)};function V(T){for(var R=T.g.length+1,L=[],B=0;B<R;B++)L[B]=T.i(B)<<1|T.i(B-1)>>>31;return new a(L,T.h)}function P(T,R){var L=R>>5;R%=32;for(var B=T.g.length-L,U=[],z=0;z<B;z++)U[z]=0<R?T.i(z+L)>>>R|T.i(z+L+1)<<32-R:T.i(z+L);return new a(U,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,VR=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,Al=a}).apply(typeof JS<"u"?JS:typeof self<"u"?self:typeof window<"u"?window:{});var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FR,Uh,BR,lm,j0,jR,$R,UR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,$,Y){return E==Array.prototype||E==Object.prototype||(E[$]=Y.value),E};function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lp=="object"&&Lp];for(var $=0;$<E.length;++$){var Y=E[$];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var i=n(this);function s(E,$){if($)e:{var Y=i;E=E.split(".");for(var ne=0;ne<E.length-1;ne++){var me=E[ne];if(!(me in Y))break e;Y=Y[me]}E=E[E.length-1],ne=Y[E],$=$(ne),$!=ne&&$!=null&&e(Y,E,{configurable:!0,writable:!0,value:$})}}function r(E,$){E instanceof String&&(E+="");var Y=0,ne=!1,me={next:function(){if(!ne&&Y<E.length){var be=Y++;return{value:$(be,E[be]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}s("Array.prototype.values",function(E){return E||function(){return r(this,function($,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(E){var $=typeof E;return $=$!="object"?$:E?Array.isArray(E)?"array":$:"null",$=="array"||$=="object"&&typeof E.length=="number"}function d(E){var $=typeof E;return $=="object"&&E!=null||$=="function"}function p(E,$,Y){return E.call.apply(E.bind,arguments)}function f(E,$,Y){if(!E)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,ne),E.apply($,me)}}return function(){return E.apply($,arguments)}}function v(E,$,Y){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:f,v.apply(null,arguments)}function _(E,$){var Y=Array.prototype.slice.call(arguments,1);return function(){var ne=Y.slice();return ne.push.apply(ne,arguments),E.apply(this,ne)}}function y(E,$){function Y(){}Y.prototype=$.prototype,E.aa=$.prototype,E.prototype=new Y,E.prototype.constructor=E,E.Qb=function(ne,me,be){for(var Ue=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)Ue[Jt-2]=arguments[Jt];return $.prototype[me].apply(ne,Ue)}}function b(E){const $=E.length;if(0<$){const Y=Array($);for(let ne=0;ne<$;ne++)Y[ne]=E[ne];return Y}return[]}function x(E,$){for(let Y=1;Y<arguments.length;Y++){const ne=arguments[Y];if(h(ne)){const me=E.length||0,be=ne.length||0;E.length=me+be;for(let Ue=0;Ue<be;Ue++)E[me+Ue]=ne[Ue]}else E.push(ne)}}class k{constructor($,Y){this.i=$,this.j=Y,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function I(E){return/^[\s\xa0]*$/.test(E)}function D(){var E=l.navigator;return E&&(E=E.userAgent)?E:""}function N(E){return N[" "](E),E}N[" "]=function(){};var V=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function P(E,$,Y){for(const ne in E)$.call(Y,E[ne],ne,E)}function T(E,$){for(const Y in E)$.call(void 0,E[Y],Y,E)}function R(E){const $={};for(const Y in E)$[Y]=E[Y];return $}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(E,$){let Y,ne;for(let me=1;me<arguments.length;me++){ne=arguments[me];for(Y in ne)E[Y]=ne[Y];for(let be=0;be<L.length;be++)Y=L[be],Object.prototype.hasOwnProperty.call(ne,Y)&&(E[Y]=ne[Y])}}function U(E){var $=1;E=E.split(":");const Y=[];for(;0<$&&E.length;)Y.push(E.shift()),$--;return E.length&&Y.push(E.join(":")),Y}function z(E){l.setTimeout(()=>{throw E},0)}function H(){var E=ye;let $=null;return E.g&&($=E.g,E.g=E.g.next,E.g||(E.h=null),$.next=null),$}class q{constructor(){this.h=this.g=null}add($,Y){const ne=Z.get();ne.set($,Y),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var Z=new k(()=>new se,E=>E.reset());class se{constructor(){this.next=this.g=this.h=null}set($,Y){this.h=$,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ae=!1,ye=new q,we=()=>{const E=l.Promise.resolve(void 0);oe=()=>{E.then(_e)}};var _e=()=>{for(var E;E=H();){try{E.h.call(E.g)}catch(Y){z(Y)}var $=Z;$.j(E),100>$.h&&($.h++,E.next=$.g,$.g=E)}ae=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(E,$){this.type=E,this.g=this.target=$,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var He=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var E=!1,$=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Y=()=>{};l.addEventListener("test",Y,$),l.removeEventListener("test",Y,$)}catch{}return E}();function at(E,$){if(Oe.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Y=this.type=E.type,ne=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=$,$=E.relatedTarget){if(V){e:{try{N($.nodeName);var me=!0;break e}catch{}me=!1}me||($=null)}}else Y=="mouseover"?$=E.fromElement:Y=="mouseout"&&($=E.toElement);this.relatedTarget=$,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:ze[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&at.aa.h.call(this)}}y(at,Oe);var ze={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ne(E,$,Y,ne,me){this.listener=E,this.proxy=null,this.src=$,this.type=Y,this.capture=!!ne,this.ha=me,this.key=++Se,this.da=this.fa=!1}function Ge(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function pt(E){this.src=E,this.g={},this.h=0}pt.prototype.add=function(E,$,Y,ne,me){var be=E.toString();E=this.g[be],E||(E=this.g[be]=[],this.h++);var Ue=ut(E,$,ne,me);return-1<Ue?($=E[Ue],Y||($.fa=!1)):($=new Ne($,this.src,be,!!ne,me),$.fa=Y,E.push($)),$};function Re(E,$){var Y=$.type;if(Y in E.g){var ne=E.g[Y],me=Array.prototype.indexOf.call(ne,$,void 0),be;(be=0<=me)&&Array.prototype.splice.call(ne,me,1),be&&(Ge($),E.g[Y].length==0&&(delete E.g[Y],E.h--))}}function ut(E,$,Y,ne){for(var me=0;me<E.length;++me){var be=E[me];if(!be.da&&be.listener==$&&be.capture==!!Y&&be.ha==ne)return me}return-1}var ie="closure_lm_"+(1e6*Math.random()|0),ce={};function ve(E,$,Y,ne,me){if(Array.isArray($)){for(var be=0;be<$.length;be++)ve(E,$[be],Y,ne,me);return null}return Y=We(Y),E&&E[pe]?E.K($,Y,d(ne)?!!ne.capture:!!ne,me):Ee(E,$,Y,!1,ne,me)}function Ee(E,$,Y,ne,me,be){if(!$)throw Error("Invalid event type");var Ue=d(me)?!!me.capture:!!me,Jt=Me(E);if(Jt||(E[ie]=Jt=new pt(E)),Y=Jt.add($,Y,ne,Ue,be),Y.proxy)return Y;if(ne=ke(),Y.proxy=ne,ne.src=E,ne.listener=Y,E.addEventListener)He||(me=Ue),me===void 0&&(me=!1),E.addEventListener($.toString(),ne,me);else if(E.attachEvent)E.attachEvent(Ve($.toString()),ne);else if(E.addListener&&E.removeListener)E.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function ke(){function E(Y){return $.call(E.src,E.listener,Y)}const $=Le;return E}function Ie(E,$,Y,ne,me){if(Array.isArray($))for(var be=0;be<$.length;be++)Ie(E,$[be],Y,ne,me);else ne=d(ne)?!!ne.capture:!!ne,Y=We(Y),E&&E[pe]?(E=E.i,$=String($).toString(),$ in E.g&&(be=E.g[$],Y=ut(be,Y,ne,me),-1<Y&&(Ge(be[Y]),Array.prototype.splice.call(be,Y,1),be.length==0&&(delete E.g[$],E.h--)))):E&&(E=Me(E))&&($=E.g[$.toString()],E=-1,$&&(E=ut($,Y,ne,me)),(Y=-1<E?$[E]:null)&&je(Y))}function je(E){if(typeof E!="number"&&E&&!E.da){var $=E.src;if($&&$[pe])Re($.i,E);else{var Y=E.type,ne=E.proxy;$.removeEventListener?$.removeEventListener(Y,ne,E.capture):$.detachEvent?$.detachEvent(Ve(Y),ne):$.addListener&&$.removeListener&&$.removeListener(ne),(Y=Me($))?(Re(Y,E),Y.h==0&&(Y.src=null,$[ie]=null)):Ge(E)}}}function Ve(E){return E in ce?ce[E]:ce[E]="on"+E}function Le(E,$){if(E.da)E=!0;else{$=new at($,this);var Y=E.listener,ne=E.ha||E.src;E.fa&&je(E),E=Y.call(ne,$)}return E}function Me(E){return E=E[ie],E instanceof pt?E:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(E){return typeof E=="function"?E:(E[qe]||(E[qe]=function($){return E.handleEvent($)}),E[qe])}function Xe(){Ce.call(this),this.i=new pt(this),this.M=this,this.F=null}y(Xe,Ce),Xe.prototype[pe]=!0,Xe.prototype.removeEventListener=function(E,$,Y,ne){Ie(this,E,$,Y,ne)};function tt(E,$){var Y,ne=E.F;if(ne)for(Y=[];ne;ne=ne.F)Y.push(ne);if(E=E.M,ne=$.type||$,typeof $=="string")$=new Oe($,E);else if($ instanceof Oe)$.target=$.target||E;else{var me=$;$=new Oe(ne,E),B($,me)}if(me=!0,Y)for(var be=Y.length-1;0<=be;be--){var Ue=$.g=Y[be];me=kt(Ue,ne,!0,$)&&me}if(Ue=$.g=E,me=kt(Ue,ne,!0,$)&&me,me=kt(Ue,ne,!1,$)&&me,Y)for(be=0;be<Y.length;be++)Ue=$.g=Y[be],me=kt(Ue,ne,!1,$)&&me}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var E=this.i,$;for($ in E.g){for(var Y=E.g[$],ne=0;ne<Y.length;ne++)Ge(Y[ne]);delete E.g[$],E.h--}}this.F=null},Xe.prototype.K=function(E,$,Y,ne){return this.i.add(String(E),$,!1,Y,ne)},Xe.prototype.L=function(E,$,Y,ne){return this.i.add(String(E),$,!0,Y,ne)};function kt(E,$,Y,ne){if($=E.i.g[String($)],!$)return!0;$=$.concat();for(var me=!0,be=0;be<$.length;++be){var Ue=$[be];if(Ue&&!Ue.da&&Ue.capture==Y){var Jt=Ue.listener,vn=Ue.ha||Ue.src;Ue.fa&&Re(E.i,Ue),me=Jt.call(vn,ne)!==!1&&me}}return me&&!ne.defaultPrevented}function jt(E,$,Y){if(typeof E=="function")Y&&(E=v(E,Y));else if(E&&typeof E.handleEvent=="function")E=v(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:l.setTimeout(E,$||0)}function $t(E){E.g=jt(()=>{E.g=null,E.i&&(E.i=!1,$t(E))},E.l);const $=E.h;E.h=null,E.m.apply(null,$)}class xi extends Ce{constructor($,Y){super(),this.m=$,this.l=Y,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(E){Ce.call(this),this.h=E,this.g={}}y(Sn,Ce);var Dn=[];function qn(E){P(E.g,function($,Y){this.g.hasOwnProperty(Y)&&je($)},E),E.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),qn(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=l.JSON.stringify,Jr=l.JSON.parse,ei=class{stringify(E){return l.JSON.stringify(E,void 0)}parse(E){return l.JSON.parse(E,void 0)}};function nn(){}nn.prototype.h=null;function Go(E){return E.h||(E.h=E.i())}function Nn(){}var qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vu(){Oe.call(this,"d")}y(Vu,Oe);function Ba(){Oe.call(this,"c")}y(Ba,Oe);var Qr={},ui=null;function ec(){return ui=ui||new Xe}Qr.La="serverreachability";function mf(E){Oe.call(this,Qr.La,E)}y(mf,Oe);function ja(E){const $=ec();tt($,new mf($))}Qr.STAT_EVENT="statevent";function gf(E,$){Oe.call(this,Qr.STAT_EVENT,E),this.stat=$}y(gf,Oe);function ti(E){const $=ec();tt($,new gf($,E))}Qr.Ma="timingevent";function Fu(E,$){Oe.call(this,Qr.Ma,E),this.size=$}y(Fu,Oe);function $a(E,$){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){E()},$)}function Ua(){this.g=!0}Ua.prototype.xa=function(){this.g=!1};function Bu(E,$,Y,ne,me,be){E.info(function(){if(E.g)if(be)for(var Ue="",Jt=be.split("&"),vn=0;vn<Jt.length;vn++){var Ut=Jt[vn].split("=");if(1<Ut.length){var An=Ut[0];Ut=Ut[1];var hi=An.split("_");Ue=2<=hi.length&&hi[1]=="type"?Ue+(An+"="+Ut+"&"):Ue+(An+"=redacted&")}}else Ue=null;else Ue=be;return"XMLHTTP REQ ("+ne+") [attempt "+me+"]: "+$+`
`+Y+`
`+Ue})}function yf(E,$,Y,ne,me,be,Ue){E.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+me+"]: "+$+`
`+Y+`
`+be+" "+Ue})}function kn(E,$,Y,ne){E.info(function(){return"XMLHTTP TEXT ("+$+"): "+Dy(E,Y)+(ne?" "+ne:"")})}function vf(E,$){E.info(function(){return"TIMEOUT: "+$})}Ua.prototype.info=function(){};function Dy(E,$){if(!E.g)return $;if(!$)return null;try{var Y=JSON.parse($);if(Y){for(E=0;E<Y.length;E++)if(Array.isArray(Y[E])){var ne=Y[E];if(!(2>ne.length)){var me=ne[1];if(Array.isArray(me)&&!(1>me.length)){var be=me[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Ue=1;Ue<me.length;Ue++)me[Ue]=""}}}}return Vn(Y)}catch{return $}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ju;function Ha(){}y(Ha,nn),Ha.prototype.g=function(){return new XMLHttpRequest},Ha.prototype.i=function(){return{}},ju=new Ha;function pr(E,$,Y,ne){this.j=E,this.i=$,this.l=Y,this.R=ne||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}var Uu={},Hu={};function Wa(E,$,Y){E.L=1,E.v=Ka(zs($)),E.m=Y,E.P=!0,za(E,null)}function za(E,$){E.F=Date.now(),Ga(E),E.A=zs(E.v);var Y=E.A,ne=E.R;Array.isArray(ne)||(ne=[String(ne)]),kf(Y.i,"t",ne),E.C=0,Y=E.j.J,E.h=new $u,E.g=Bf(E.j,Y?$:null,!E.m),0<E.O&&(E.M=new xi(v(E.Y,E,E.g),E.O)),$=E.U,Y=E.g,ne=E.ca;var me="readystatechange";Array.isArray(me)||(me&&(Dn[0]=me.toString()),me=Dn);for(var be=0;be<me.length;be++){var Ue=ve(Y,me[be],ne||$.handleEvent,!1,$.h||$);if(!Ue)break;$.g[Ue.key]=Ue}$=E.H?R(E.H):{},E.m?(E.u||(E.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,$)):(E.u="GET",E.g.ea(E.A,E.u,null,$)),ja(),Bu(E.i,E.u,E.A,E.l,E.R,E.m)}pr.prototype.ca=function(E){E=E.target;const $=this.M;$&&qs(E)==3?$.j():this.Y(E)},pr.prototype.Y=function(E){try{if(E==this.g)e:{const hi=qs(this.g);var $=this.g.Ba();const Ss=this.g.Z();if(!(3>hi)&&(hi!=3||this.g&&(this.h.h||this.g.oa()||Za(this.g)))){this.J||hi!=4||$==7||($==8||0>=Ss?ja(3):ja(2)),zu(this);var Y=this.g.Z();this.X=Y;t:if(_f(this)){var ne=Za(this.g);E="";var me=ne.length,be=qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),qa(this);var Ue="";break t}this.h.i=new l.TextDecoder}for($=0;$<me;$++)this.h.h=!0,E+=this.h.i.decode(ne[$],{stream:!(be&&$==me-1)});ne.length=0,this.h.g+=E,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=Y==200,yf(this.i,this.u,this.A,this.l,this.R,hi,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var Jt,vn=this.g;if((Jt=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Jt)){var Ut=Jt;break t}}Ut=null}if(Y=Ut)kn(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gu(this,Y);else{this.o=!1,this.s=3,ti(12),Zr(this),qa(this);break e}}if(this.P){Y=!0;let Ti;for(;!this.J&&this.C<Ue.length;)if(Ti=dn(this,Ue),Ti==Hu){hi==4&&(this.s=4,ti(14),Y=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ti==Uu){this.s=4,ti(15),kn(this.i,this.l,Ue,"[Invalid Chunk]"),Y=!1;break}else kn(this.i,this.l,Ti,null),Gu(this,Ti);if(_f(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hi!=4||Ue.length!=0||this.h.h||(this.s=1,ti(16),Y=!1),this.o=this.o&&Y,!Y)kn(this.i,this.l,Ue,"[Invalid Chunked Response]"),Zr(this),qa(this);else if(0<Ue.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),lh(An),An.M=!0,ti(11))}}else kn(this.i,this.l,Ue,null),Gu(this,Ue);hi==4&&Zr(this),this.o&&!this.J&&(hi==4?Nf(this.j,this):(this.o=!1,Ga(this)))}else Rf(this.g),Y==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,ti(12)):(this.s=0,ti(13)),Zr(this),qa(this)}}}catch{}finally{}};function _f(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function dn(E,$){var Y=E.C,ne=$.indexOf(`
`,Y);return ne==-1?Hu:(Y=Number($.substring(Y,ne)),isNaN(Y)?Uu:(ne+=1,ne+Y>$.length?Hu:($=$.slice(ne,ne+Y),E.C=ne+Y,$)))}pr.prototype.cancel=function(){this.J=!0,Zr(this)};function Ga(E){E.S=Date.now()+E.I,Wu(E,E.I)}function Wu(E,$){if(E.B!=null)throw Error("WatchDog timer not null");E.B=$a(v(E.ba,E),$)}function zu(E){E.B&&(l.clearTimeout(E.B),E.B=null)}pr.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(vf(this.i,this.A),this.L!=2&&(ja(),ti(17)),Zr(this),this.s=2,qa(this)):Wu(this,this.S-E)};function qa(E){E.j.G==0||E.J||Nf(E.j,E)}function Zr(E){zu(E);var $=E.M;$&&typeof $.ma=="function"&&$.ma(),E.M=null,qn(E.U),E.g&&($=E.g,E.g=null,$.abort(),$.ma())}function Gu(E,$){try{var Y=E.j;if(Y.G!=0&&(Y.g==E||qu(Y.h,E))){if(!E.K&&qu(Y.h,E)&&Y.G==3){try{var ne=Y.Da.g.parse($)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var me=ne;if(me[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<E.F)ic(Y),gr(Y);else break e;tl(Y),ti(18)}}else Y.za=me[1],0<Y.za-Y.T&&37500>me[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=$a(v(Y.Za,Y),6e3));if(1>=Ef(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Ks(Y,11)}else if((E.K||Y.g==E)&&ic(Y),!I($))for(me=Y.Da.g.parse($),$=0;$<me.length;$++){let Ut=me[$];if(Y.T=Ut[0],Ut=Ut[1],Y.G==2)if(Ut[0]=="c"){Y.K=Ut[1],Y.ia=Ut[2];const An=Ut[3];An!=null&&(Y.la=An,Y.j.info("VER="+Y.la));const hi=Ut[4];hi!=null&&(Y.Aa=hi,Y.j.info("SVER="+Y.Aa));const Ss=Ut[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(ne=1.5*Ss,Y.L=ne,Y.j.info("backChannelRequestTimeoutMs_="+ne)),ne=Y;const Ti=E.g;if(Ti){const sc=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sc){var be=ne.h;be.g||sc.indexOf("spdy")==-1&&sc.indexOf("quic")==-1&&sc.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Ko(be,be.h),be.h=null))}if(ne.D){const nl=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(ne.ya=nl,fn(ne.I,ne.D,nl))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-E.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ne=Y;var Ue=E;if(ne.qa=Ff(ne,ne.J?ne.ia:null,ne.W),Ue.K){Ku(ne.h,Ue);var Jt=Ue,vn=ne.L;vn&&(Jt.I=vn),Jt.B&&(zu(Jt),Ga(Jt)),ne.g=Ue}else ah(ne);0<Y.i.length&&el(Y)}else Ut[0]!="stop"&&Ut[0]!="close"||Ks(Y,7);else Y.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ks(Y,7):ih(Y):Ut[0]!="noop"&&Y.l&&Y.l.ta(Ut),Y.v=0)}}ja(4)}catch{}}var wf=class{constructor(E,$){this.g=E,this.map=$}};function Cf(E){this.l=E||10,l.PerformanceNavigationTiming?(E=l.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xf(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ef(E){return E.h?1:E.g?E.g.size:0}function qu(E,$){return E.h?E.h==$:E.g?E.g.has($):!1}function Ko(E,$){E.g?E.g.add($):E.h=$}function Ku(E,$){E.h&&E.h==$?E.h=null:E.g&&E.g.has($)&&E.g.delete($)}Cf.prototype.cancel=function(){if(this.i=Yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Yu(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let $=E.i;for(const Y of E.g.values())$=$.concat(Y.D);return $}return b(E.i)}function nc(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(h(E)){for(var $=[],Y=E.length,ne=0;ne<Y;ne++)$.push(E[ne]);return $}$=[],Y=0;for(ne in E)$[Y++]=E[ne];return $}function Tf(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(h(E)||typeof E=="string"){var $=[];E=E.length;for(var Y=0;Y<E;Y++)$.push(Y);return $}$=[],Y=0;for(const ne in E)$[Y++]=ne;return $}}}function Qi(E,$){if(E.forEach&&typeof E.forEach=="function")E.forEach($,void 0);else if(h(E)||typeof E=="string")Array.prototype.forEach.call(E,$,void 0);else for(var Y=Tf(E),ne=nc(E),me=ne.length,be=0;be<me;be++)$.call(void 0,ne[be],Y&&Y[be],E)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ny(E,$){if(E){E=E.split("&");for(var Y=0;Y<E.length;Y++){var ne=E[Y].indexOf("="),me=null;if(0<=ne){var be=E[Y].substring(0,ne);me=E[Y].substring(ne+1)}else be=E[Y];$(be,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function eo(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof eo){this.h=E.h,Xo(this,E.j),this.o=E.o,this.g=E.g,to(this,E.s),this.l=E.l;var $=E.i,Y=new Xa;Y.i=$.i,$.g&&(Y.g=new Map($.g),Y.h=$.h),Sf(this,Y),this.m=E.m}else E&&($=String(E).match(Yo))?(this.h=!1,Xo(this,$[1]||"",!0),this.o=Jo($[2]||""),this.g=Jo($[3]||"",!0),to(this,$[4]),this.l=Jo($[5]||"",!0),Sf(this,$[6]||"",!0),this.m=Jo($[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}eo.prototype.toString=function(){var E=[],$=this.j;$&&E.push(Es($,Ya,!0),":");var Y=this.g;return(Y||$=="file")&&(E.push("//"),($=this.o)&&E.push(Es($,Ya,!0),"@"),E.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&E.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&E.push("/"),E.push(Es(Y,Y.charAt(0)=="/"?Fy:Vy,!0))),(Y=this.i.toString())&&E.push("?",Y),(Y=this.m)&&E.push("#",Es(Y,Xu)),E.join("")};function zs(E){return new eo(E)}function Xo(E,$,Y){E.j=Y?Jo($,!0):$,E.j&&(E.j=E.j.replace(/:$/,""))}function to(E,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);E.s=$}else E.s=null}function Sf(E,$,Y){$ instanceof Xa?(E.i=$,Qu(E.i,E.h)):(Y||($=Es($,By)),E.i=new Xa($,E.h))}function fn(E,$,Y){E.i.set($,Y)}function Ka(E){return fn(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function Jo(E,$){return E?$?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Es(E,$,Y){return typeof E=="string"?(E=encodeURI(E).replace($,Ly),Y&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Ly(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var Ya=/[#\/\?@]/g,Vy=/[#\?:]/g,Fy=/[#\?]/g,By=/[#\?@]/g,Xu=/#/g;function Xa(E,$){this.h=this.g=null,this.i=E||null,this.j=!!$}function ls(E){E.g||(E.g=new Map,E.h=0,E.i&&Ny(E.i,function($,Y){E.add(decodeURIComponent($.replace(/\+/g," ")),Y)}))}t=Xa.prototype,t.add=function(E,$){ls(this),this.i=null,E=Ts(this,E);var Y=this.g.get(E);return Y||this.g.set(E,Y=[]),Y.push($),this.h+=1,this};function Ju(E,$){ls(E),$=Ts(E,$),E.g.has($)&&(E.i=null,E.h-=E.g.get($).length,E.g.delete($))}function cs(E,$){return ls(E),$=Ts(E,$),E.g.has($)}t.forEach=function(E,$){ls(this),this.g.forEach(function(Y,ne){Y.forEach(function(me){E.call($,me,ne,this)},this)},this)},t.na=function(){ls(this);const E=Array.from(this.g.values()),$=Array.from(this.g.keys()),Y=[];for(let ne=0;ne<$.length;ne++){const me=E[ne];for(let be=0;be<me.length;be++)Y.push($[ne])}return Y},t.V=function(E){ls(this);let $=[];if(typeof E=="string")cs(this,E)&&($=$.concat(this.g.get(Ts(this,E))));else{E=Array.from(this.g.values());for(let Y=0;Y<E.length;Y++)$=$.concat(E[Y])}return $},t.set=function(E,$){return ls(this),this.i=null,E=Ts(this,E),cs(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[$]),this.h+=1,this},t.get=function(E,$){return E?(E=this.V(E),0<E.length?String(E[0]):$):$};function kf(E,$,Y){Ju(E,$),0<Y.length&&(E.i=null,E.g.set(Ts(E,$),b(Y)),E.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],$=Array.from(this.g.keys());for(var Y=0;Y<$.length;Y++){var ne=$[Y];const be=encodeURIComponent(String(ne)),Ue=this.V(ne);for(ne=0;ne<Ue.length;ne++){var me=be;Ue[ne]!==""&&(me+="="+encodeURIComponent(String(Ue[ne]))),E.push(me)}}return this.i=E.join("&")};function Ts(E,$){return $=String($),E.j&&($=$.toLowerCase()),$}function Qu(E,$){$&&!E.j&&(ls(E),E.i=null,E.g.forEach(function(Y,ne){var me=ne.toLowerCase();ne!=me&&(Ju(this,ne),kf(this,me,Y))},E)),E.j=$}function Zu(E,$){const Y=new Ua;if(l.Image){const ne=new Image;ne.onload=_(Gs,Y,"TestLoadImage: loaded",!0,$,ne),ne.onerror=_(Gs,Y,"TestLoadImage: error",!1,$,ne),ne.onabort=_(Gs,Y,"TestLoadImage: abort",!1,$,ne),ne.ontimeout=_(Gs,Y,"TestLoadImage: timeout",!1,$,ne),l.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=E}else $(!1)}function If(E,$){const Y=new Ua,ne=new AbortController,me=setTimeout(()=>{ne.abort(),Gs(Y,"TestPingServer: timeout",!1,$)},1e4);fetch(E,{signal:ne.signal}).then(be=>{clearTimeout(me),be.ok?Gs(Y,"TestPingServer: ok",!0,$):Gs(Y,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(me),Gs(Y,"TestPingServer: error",!1,$)})}function Gs(E,$,Y,ne,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),ne(Y)}catch{}}function jy(){this.g=new ei}function $y(E,$,Y){const ne=Y||"";try{Qi(E,function(me,be){let Ue=me;d(me)&&(Ue=Vn(me)),$.push(ne+be+"="+encodeURIComponent(Ue))})}catch(me){throw $.push(ne+"type="+encodeURIComponent("_badmap")),me}}function Ja(E){this.l=E.Ub||null,this.j=E.eb||!1}y(Ja,nn),Ja.prototype.g=function(){return new Qo(this.l,this.j)},Ja.prototype.i=function(E){return function(){return E}}({});function Qo(E,$){Xe.call(this),this.D=E,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Qo,Xe),t=Qo.prototype,t.open=function(E,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=$,this.readyState=1,mr(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&($.body=E),(this.D||l).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}t.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var $=E.value?E.value:new Uint8Array(0);($=this.v.decode($,{stream:!E.done}))&&(this.response=this.responseText+=$)}E.done?Ei(this):mr(this),this.readyState==3&&no(this)}},t.Ra=function(E){this.g&&(this.response=this.responseText=E,Ei(this))},t.Qa=function(E){this.g&&(this.response=E,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(E){E.readyState=4,E.l=null,E.j=null,E.v=null,mr(E)}t.setRequestHeader=function(E,$){this.u.append(E,$)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],$=this.h.entries();for(var Y=$.next();!Y.done;)Y=Y.value,E.push(Y[0]+": "+Y[1]),Y=$.next();return E.join(`\r
`)};function mr(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function Af(E){let $="";return P(E,function(Y,ne){$+=ne,$+=":",$+=Y,$+=`\r
`}),$}function eh(E,$,Y){e:{for(ne in Y){var ne=!1;break e}ne=!0}ne||(Y=Af(Y),typeof E=="string"?Y!=null&&encodeURIComponent(String(Y)):fn(E,$,Y))}function In(E){Xe.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(In,Xe);var Pf=/^https?$/i,jn=["POST","PUT"];t=In.prototype,t.Ha=function(E){this.J=E},t.ea=function(E,$,Y,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);$=$?$.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ju.g(),this.v=this.o?Go(this.o):Go(ju),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open($,String(E),!0),this.B=!1}catch(be){us(this,be);return}if(E=Y||"",Y=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var me in ne)Y.set(me,ne[me]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const be of ne.keys())Y.set(be,ne.get(be));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(Y.keys()).find(be=>be.toLowerCase()=="content-type"),me=l.FormData&&E instanceof l.FormData,!(0<=Array.prototype.indexOf.call(jn,$,void 0))||ne||me||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Ue]of Y)this.g.setRequestHeader(be,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(E),this.u=!1}catch(be){us(this,be)}};function us(E,$){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=$,E.m=5,th(E),Qa(E)}function th(E){E.A||(E.A=!0,tt(E,"complete"),tt(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,tt(this,"complete"),tt(this,"abort"),Qa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),In.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Of(this):this.bb())},t.bb=function(){Of(this)};function Of(E){if(E.h&&typeof a<"u"&&(!E.v[1]||qs(E)!=4||E.Z()!=2)){if(E.u&&qs(E)==4)jt(E.Ea,0,E);else if(tt(E,"readystatechange"),qs(E)==4){E.h=!1;try{const Ue=E.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var Y;if(!(Y=$)){var ne;if(ne=Ue===0){var me=String(E.D).match(Yo)[1]||null;!me&&l.self&&l.self.location&&(me=l.self.location.protocol.slice(0,-1)),ne=!Pf.test(me?me.toLowerCase():"")}Y=ne}if(Y)tt(E,"complete"),tt(E,"success");else{E.m=6;try{var be=2<qs(E)?E.g.statusText:""}catch{be=""}E.l=be+" ["+E.Z()+"]",th(E)}}finally{Qa(E)}}}}function Qa(E,$){if(E.g){Zo(E);const Y=E.g,ne=E.v[0]?()=>{}:null;E.g=null,E.v=null,$||tt(E,"ready");try{Y.onreadystatechange=ne}catch{}}}function Zo(E){E.I&&(l.clearTimeout(E.I),E.I=null)}t.isActive=function(){return!!this.g};function qs(E){return E.g?E.g.readyState:0}t.Z=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(E){if(this.g){var $=this.g.responseText;return E&&$.indexOf(E)==0&&($=$.substring(E.length)),Jr($)}};function Za(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Rf(E){const $={};E=(E.g&&2<=qs(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<E.length;ne++){if(I(E[ne]))continue;var Y=U(E[ne]);const me=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const be=$[me]||[];$[me]=be,be.push(Y)}T($,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(E,$,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[E]||$}function nh(E){this.Aa=0,this.i=[],this.j=new Ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,E),this.cb=hs("retryDelaySeedMs",1e4,E),this.Wa=hs("forwardChannelMaxRetries",2,E),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Cf(E&&E.concurrentRequestLimit),this.Da=new jy,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nh.prototype,t.la=8,t.G=1,t.connect=function(E,$,Y,ne){ti(0),this.W=E,this.H=$||{},Y&&ne!==void 0&&(this.H.OSID=Y,this.H.OAID=ne),this.F=this.X,this.I=Ff(this,null,this.W),el(this)};function ih(E){if(sh(E),E.G==3){var $=E.U++,Y=zs(E.I);if(fn(Y,"SID",E.K),fn(Y,"RID",$),fn(Y,"TYPE","terminate"),io(E,Y),$=new pr(E,E.j,$),$.L=2,$.v=Ka(zs(Y)),Y=!1,l.navigator&&l.navigator.sendBeacon)try{Y=l.navigator.sendBeacon($.v.toString(),"")}catch{}!Y&&l.Image&&(new Image().src=$.v,Y=!0),Y||($.g=Bf($.j,null),$.g.ea($.v)),$.F=Date.now(),Ga($)}Vf(E)}function gr(E){E.g&&(lh(E),E.g.cancel(),E.g=null)}function sh(E){gr(E),E.u&&(l.clearTimeout(E.u),E.u=null),ic(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&l.clearTimeout(E.s),E.s=null)}function el(E){if(!xf(E.h)&&!E.s){E.s=!0;var $=E.Ga;oe||we(),ae||(oe(),ae=!0),ye.add($,E),E.B=0}}function rh(E,$){return Ef(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=$.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=$a(v(E.Ga,E,$),Lf(E,E.B)),E.B++,!0)}t.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const me=new pr(this,this.j,E);let be=this.o;if(this.S&&(be?(be=R(be),B(be,this.S)):be=this.S),this.m!==null||this.O||(me.H=be,be=null),this.P)e:{for(var $=0,Y=0;Y<this.i.length;Y++){t:{var ne=this.i[Y];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if($+=ne,4096<$){$=Y;break e}if($===4096||Y===this.i.length-1){$=Y+1;break e}}$=1e3}else $=1e3;$=Mf(this,me,$),Y=zs(this.I),fn(Y,"RID",E),fn(Y,"CVER",22),this.D&&fn(Y,"X-HTTP-Session-Id",this.D),io(this,Y),be&&(this.O?$="headers="+encodeURIComponent(String(Af(be)))+"&"+$:this.m&&eh(Y,this.m,be)),Ko(this.h,me),this.Ua&&fn(Y,"TYPE","init"),this.P?(fn(Y,"$req",$),fn(Y,"SID","null"),me.T=!0,Wa(me,Y,null)):Wa(me,Y,$),this.G=2}}else this.G==3&&(E?oh(this,E):this.i.length==0||xf(this.h)||oh(this))};function oh(E,$){var Y;$?Y=$.l:Y=E.U++;const ne=zs(E.I);fn(ne,"SID",E.K),fn(ne,"RID",Y),fn(ne,"AID",E.T),io(E,ne),E.m&&E.o&&eh(ne,E.m,E.o),Y=new pr(E,E.j,Y,E.B+1),E.m===null&&(Y.H=E.o),$&&(E.i=$.D.concat(E.i)),$=Mf(E,Y,1e3),Y.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),Ko(E.h,Y),Wa(Y,ne,$)}function io(E,$){E.H&&P(E.H,function(Y,ne){fn($,ne,Y)}),E.l&&Qi({},function(Y,ne){fn($,ne,Y)})}function Mf(E,$,Y){Y=Math.min(E.i.length,Y);var ne=E.l?v(E.l.Na,E.l,E):null;e:{var me=E.i;let be=-1;for(;;){const Ue=["count="+Y];be==-1?0<Y?(be=me[0].g,Ue.push("ofs="+be)):be=0:Ue.push("ofs="+be);let Jt=!0;for(let vn=0;vn<Y;vn++){let Ut=me[vn].g;const An=me[vn].map;if(Ut-=be,0>Ut)be=Math.max(0,me[vn].g-100),Jt=!1;else try{$y(An,Ue,"req"+Ut+"_")}catch{ne&&ne(An)}}if(Jt){ne=Ue.join("&");break e}}}return E=E.i.splice(0,Y),$.D=E,ne}function ah(E){if(!E.g&&!E.u){E.Y=1;var $=E.Fa;oe||we(),ae||(oe(),ae=!0),ye.add($,E),E.v=0}}function tl(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=$a(v(E.Fa,E),Lf(E,E.v)),E.v++,!0)}t.Fa=function(){if(this.u=null,Df(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=$a(v(this.ab,this),E)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ti(10),gr(this),Df(this))};function lh(E){E.A!=null&&(l.clearTimeout(E.A),E.A=null)}function Df(E){E.g=new pr(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var $=zs(E.qa);fn($,"RID","rpc"),fn($,"SID",E.K),fn($,"AID",E.T),fn($,"CI",E.F?"0":"1"),!E.F&&E.ja&&fn($,"TO",E.ja),fn($,"TYPE","xmlhttp"),io(E,$),E.m&&E.o&&eh($,E.m,E.o),E.L&&(E.g.I=E.L);var Y=E.g;E=E.ia,Y.L=1,Y.v=Ka(zs($)),Y.m=null,Y.P=!0,za(Y,E)}t.Za=function(){this.C!=null&&(this.C=null,gr(this),tl(this),ti(19))};function ic(E){E.C!=null&&(l.clearTimeout(E.C),E.C=null)}function Nf(E,$){var Y=null;if(E.g==$){ic(E),lh(E),E.g=null;var ne=2}else if(qu(E.h,$))Y=$.D,Ku(E.h,$),ne=1;else return;if(E.G!=0){if($.o)if(ne==1){Y=$.m?$.m.length:0,$=Date.now()-$.F;var me=E.B;ne=ec(),tt(ne,new Fu(ne,Y)),el(E)}else ah(E);else if(me=$.s,me==3||me==0&&0<$.X||!(ne==1&&rh(E,$)||ne==2&&tl(E)))switch(Y&&0<Y.length&&($=E.h,$.i=$.i.concat(Y)),me){case 1:Ks(E,5);break;case 4:Ks(E,10);break;case 3:Ks(E,6);break;default:Ks(E,2)}}}function Lf(E,$){let Y=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Y*=2),Y*$}function Ks(E,$){if(E.j.info("Error code "+$),$==2){var Y=v(E.fb,E),ne=E.Xa;const me=!ne;ne=new eo(ne||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Xo(ne,"https"),Ka(ne),me?Zu(ne.toString(),Y):If(ne.toString(),Y)}else ti(2);E.G=0,E.l&&E.l.sa($),Vf(E),sh(E)}t.fb=function(E){E?(this.j.info("Successfully pinged google.com"),ti(2)):(this.j.info("Failed to ping google.com"),ti(1))};function Vf(E){if(E.G=0,E.ka=[],E.l){const $=Yu(E.h);($.length!=0||E.i.length!=0)&&(x(E.ka,$),x(E.ka,E.i),E.h.i.length=0,b(E.i),E.i.length=0),E.l.ra()}}function Ff(E,$,Y){var ne=Y instanceof eo?zs(Y):new eo(Y);if(ne.g!="")$&&(ne.g=$+"."+ne.g),to(ne,ne.s);else{var me=l.location;ne=me.protocol,$=$?$+"."+me.hostname:me.hostname,me=+me.port;var be=new eo(null);ne&&Xo(be,ne),$&&(be.g=$),me&&to(be,me),Y&&(be.l=Y),ne=be}return Y=E.D,$=E.ya,Y&&$&&fn(ne,Y,$),fn(ne,"VER",E.la),io(E,ne),ne}function Bf(E,$,Y){if($&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=E.Ca&&!E.pa?new In(new Ja({eb:Y})):new In(E.pa),$.Ha(E.J),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ys(){}Ys.prototype.g=function(E,$){return new Mi(E,$)};function Mi(E,$){Xe.call(this),this.g=new nh($),this.l=E,this.h=$&&$.messageUrlParams||null,E=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(E?E["X-WebChannel-Content-Type"]=$.messageContentType:E={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(E?E["X-WebChannel-Client-Profile"]=$.va:E={"X-WebChannel-Client-Profile":$.va}),this.g.S=E,(E=$&&$.Sb)&&!I(E)&&(this.g.m=E),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!I($)&&(this.g.D=$,E=this.h,E!==null&&$ in E&&(E=this.h,$ in E&&delete E[$])),this.j=new ea(this)}y(Mi,Xe),Mi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mi.prototype.close=function(){ih(this.g)},Mi.prototype.o=function(E){var $=this.g;if(typeof E=="string"){var Y={};Y.__data__=E,E=Y}else this.u&&(Y={},Y.__data__=Vn(E),E=Y);$.i.push(new wf($.Ya++,E)),$.G==3&&el($)},Mi.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,Mi.aa.N.call(this)};function uh(E){Vu.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var $=E.__sm__;if($){e:{for(const Y in $){E=Y;break e}E=void 0}(this.i=E)&&(E=this.i,$=$!==null&&E in $?$[E]:void 0),this.data=$}else this.data=E}y(uh,Vu);function jf(){Ba.call(this),this.status=1}y(jf,Ba);function ea(E){this.g=E}y(ea,ch),ea.prototype.ua=function(){tt(this.g,"a")},ea.prototype.ta=function(E){tt(this.g,new uh(E))},ea.prototype.sa=function(E){tt(this.g,new jf)},ea.prototype.ra=function(){tt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Mi.prototype.send=Mi.prototype.o,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,UR=function(){return new Ys},$R=function(){return ec()},jR=Qr,j0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,lm=tc,bf.COMPLETE="complete",BR=bf,Nn.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Uh=Nn,In.prototype.listenOnce=In.prototype.L,In.prototype.getLastError=In.prototype.Ka,In.prototype.getLastErrorCode=In.prototype.Ba,In.prototype.getStatus=In.prototype.Z,In.prototype.getResponseJson=In.prototype.Oa,In.prototype.getResponseText=In.prototype.oa,In.prototype.send=In.prototype.ea,In.prototype.setWithCredentials=In.prototype.Ha,FR=In}).apply(typeof Lp<"u"?Lp:typeof self<"u"?self:typeof window<"u"?window:{});const QS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Wd("@firebase/firestore");function Rh(){return zl.logLevel}function nt(t,...e){if(zl.logLevel<=Mt.DEBUG){const n=e.map(Dw);zl.debug(`Firestore (${ku}): ${t}`,...n)}}function Ro(t,...e){if(zl.logLevel<=Mt.ERROR){const n=e.map(Dw);zl.error(`Firestore (${ku}): ${t}`,...n)}}function ou(t,...e){if(zl.logLevel<=Mt.WARN){const n=e.map(Dw);zl.warn(`Firestore (${ku}): ${t}`,...n)}}function Dw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t="Unexpected state"){const e=`FIRESTORE (${ku}) INTERNAL ASSERTION FAILED: `+t;throw Ro(e),new Error(e)}function Bn(t,e){t||Ot()}function Kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Li.UNAUTHENTICATED))}shutdown(){}}class g5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y5{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bn(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let r=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Pl,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const h=r;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},l=h=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>l(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?l(h):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Pl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bn(typeof i.accessToken=="string"),new HR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bn(e===null||typeof e=="string"),new Li(e)}}class v5{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b5{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new v5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bn(this.o===void 0);const i=r=>{r.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bn(typeof n.token=="string"),this.R=n.token,new _5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=C5(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function tn(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ss.fromMillis(Date.now())}static fromDate(e){return ss.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ss(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new ss(0,0))}static max(){return new St(new ss(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ot(),i===void 0?i=e.length-n:i>e.length-n&&Ot(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return kd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kd?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),a=n.get(s);if(r<a)return-1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fn extends kd{construct(e,n,i){return new Fn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Fn(n)}static emptyPath(){return new Fn([])}}const x5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends kd{construct(e,n,i){return new Yi(e,n,i)}static isValidIdentifier(e){return x5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yi(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new yt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new yt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new yt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yi(n)}static emptyPath(){return new Yi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Fn.fromString(e))}static fromName(e){return new vt(Fn.fromString(e).popFirst(5))}static empty(){return new vt(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Fn(e.slice()))}}function E5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=St.fromTimestamp(i===1e9?new ss(n+1,0):new ss(n,i));return new Ma(s,vt.empty(),e)}function T5(t){return new Ma(t.readTime,t.key,-1)}class Ma{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ma(St.min(),vt.empty(),-1)}static max(){return new Ma(St.max(),vt.empty(),-1)}}function S5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:tn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nw(t){if(t.code!==Ye.FAILED_PRECONDITION||t.message!==k5)throw t;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,i)=>{n(e)})}static reject(e){return new De((n,i)=>{i(e)})}static waitFor(e){return new De((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},h=>i(h))}),a=!0,r===s&&n()})}static or(e){let n=De.resolve(!1);for(const i of e)n=n.next(s=>s?De.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new De((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let h=0;h<r;h++){const d=h;n(e[d]).next(p=>{a[d]=p,++l,l===r&&i(a)},p=>s(p))}})}static doWhile(e,n){return new De((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function A5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ef(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Lw.oe=-1;function cy(t){return t==null}function $0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uy(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n){this.comparator=e,this.root=n||Ii.EMPTY}insert(e,n){return new zn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vp(this.root,e,this.comparator,!0)}}class Vp{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Ii.RED,this.left=s??Ii.EMPTY,this.right=r??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Ii(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ii.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1;Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,n,i,s,r){return this}insert(e,n,i){return new Ii(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.comparator=e,this.data=new zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ek(this.data.getIterator())}getIteratorFrom(e){return new ek(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Oi(this.comparator);return n.data=e,n}}class ek{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.fields=e,e.sort(Yi.comparator)}static empty(){return new Ea([])}unionWith(e){let n=new Oi(Yi.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ea(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new zR("Invalid base64 string: "+r):r}}(e);return new Ri(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Ri(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const O5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(t){if(Bn(!!t),typeof t=="string"){let e=0;const n=O5.exec(t);if(Bn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Un(t.seconds),nanos:Un(t.nanos)}}function Un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gl(t){return typeof t=="string"?Ri.fromBase64String(t):Ri.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fw(t){const e=t.mapValue.fields.__previous_value__;return Vw(e)?Fw(e):e}function Id(t){const e=Da(t.mapValue.fields.__local_write_time__.timestampValue);return new ss(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n,i,s,r,a,l,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=h,this.useFetchStreams=d}}class Ad{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vw(t)?4:D5(t)?9007199254740991:M5(t)?10:11:Ot()}function Nr(t,e){if(t===e)return!0;const n=ql(t);if(n!==ql(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Id(t).isEqual(Id(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Da(s.timestampValue),l=Da(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Gl(s.bytesValue).isEqual(Gl(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Un(s.geoPointValue.latitude)===Un(r.geoPointValue.latitude)&&Un(s.geoPointValue.longitude)===Un(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Un(s.integerValue)===Un(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Un(s.doubleValue),l=Un(r.doubleValue);return a===l?$0(a)===$0(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(ZS(a)!==ZS(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Nr(a[h],l[h])))return!1;return!0}(t,e);default:return Ot()}}function Pd(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function lu(t,e){if(t===e)return 0;const n=ql(t),i=ql(e);if(n!==i)return tn(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return tn(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Un(r.integerValue||r.doubleValue),h=Un(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return tk(t.timestampValue,e.timestampValue);case 4:return tk(Id(t),Id(e));case 5:return tn(t.stringValue,e.stringValue);case 6:return function(r,a){const l=Gl(r),h=Gl(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),h=a.split("/");for(let d=0;d<l.length&&d<h.length;d++){const p=tn(l[d],h[d]);if(p!==0)return p}return tn(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=tn(Un(r.latitude),Un(a.latitude));return l!==0?l:tn(Un(r.longitude),Un(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nk(t.arrayValue,e.arrayValue);case 10:return function(r,a){var l,h,d,p;const f=r.fields||{},v=a.fields||{},_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=(h=v.value)===null||h===void 0?void 0:h.arrayValue,b=tn(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((p=y==null?void 0:y.values)===null||p===void 0?void 0:p.length)||0);return b!==0?b:nk(_,y)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Fp.mapValue&&a===Fp.mapValue)return 0;if(r===Fp.mapValue)return 1;if(a===Fp.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),d=a.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let f=0;f<h.length&&f<p.length;++f){const v=tn(h[f],p[f]);if(v!==0)return v;const _=lu(l[h[f]],d[p[f]]);if(_!==0)return _}return tn(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Ot()}}function tk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tn(t,e);const n=Da(t),i=Da(e),s=tn(n.seconds,i.seconds);return s!==0?s:tn(n.nanos,i.nanos)}function nk(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=lu(n[s],i[s]);if(r)return r}return tn(n.length,i.length)}function cu(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Da(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=U0(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${U0(n.fields[a])}`;return s+"}"}(t.mapValue):Ot()}function H0(t){return!!t&&"integerValue"in t}function Bw(t){return!!t&&"arrayValue"in t}function ik(t){return!!t&&"nullValue"in t}function sk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gb(t){return!!t&&"mapValue"in t}function M5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uy(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=rd(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!gb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(n)}setAll(e){let n=Yi.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=rd(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());gb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];gb(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){uy(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new xr(rd(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ji(e,0,St.min(),St.min(),St.min(),xr.empty(),0)}static newFoundDocument(e,n,i,s){return new ji(e,1,n,St.min(),i,s,0)}static newNoDocument(e,n){return new ji(e,2,n,St.min(),St.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new ji(e,3,n,St.min(),St.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.position=e,this.inclusive=n}}function rk(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=vt.comparator(vt.fromName(a.referenceValue),n.key):i=lu(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function ok(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n="asc"){this.field=e,this.dir=n}}function N5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{}class ai extends GR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new V5(e,n,i):n==="array-contains"?new j5(e,i):n==="in"?new $5(e,i):n==="not-in"?new U5(e,i):n==="array-contains-any"?new H5(e,i):new ai(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new F5(e,i):new B5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lu(n,this.value)):n!==null&&ql(this.value)===ql(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends GR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return qR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qR(t){return t.op==="and"}function KR(t){return L5(t)&&qR(t)}function L5(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function W0(t){if(t instanceof ai)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(KR(t))return t.filters.map(e=>W0(e)).join(",");{const e=t.filters.map(n=>W0(n)).join(",");return`${t.op}(${e})`}}function YR(t,e){return t instanceof ai?function(i,s){return s instanceof ai&&i.op===s.op&&i.field.isEqual(s.field)&&Nr(i.value,s.value)}(t,e):t instanceof Lr?function(i,s){return s instanceof Lr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&YR(a,s.filters[l]),!0):!1}(t,e):void Ot()}function XR(t){return t instanceof ai?function(n){return`${n.field.canonicalString()} ${n.op} ${cu(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(XR).join(" ,")+"}"}(t):"Filter"}class V5 extends ai{constructor(e,n,i){super(e,n,i),this.key=vt.fromName(i.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class F5 extends ai{constructor(e,n){super(e,"in",n),this.keys=JR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B5 extends ai{constructor(e,n){super(e,"not-in",n),this.keys=JR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>vt.fromName(i.referenceValue))}class j5 extends ai{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bw(n)&&Pd(n.arrayValue,this.value)}}class $5 extends ai{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pd(this.value.arrayValue,n)}}class U5 extends ai{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pd(this.value.arrayValue,n)}}class H5 extends ai{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Pd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.ue=null}}function ak(t,e=null,n=[],i=[],s=null,r=null,a=null){return new W5(t,e,n,i,s,r,a)}function jw(t){const e=Kt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>W0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),cy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>cu(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>cu(i)).join(",")),e.ue=n}return e.ue}function $w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ok(t.startAt,e.startAt)&&ok(t.endAt,e.endAt)}function z0(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function z5(t,e,n,i,s,r,a,l){return new hy(t,e,n,i,s,r,a,l)}function Uw(t){return new hy(t)}function lk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function G5(t){return t.collectionGroup!==null}function od(t){const e=Kt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Oi(Yi.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.ce.push(new ug(r,i))}),n.has(Yi.keyField().canonicalString())||e.ce.push(new ug(Yi.keyField(),i))}return e.ce}function Or(t){const e=Kt(t);return e.le||(e.le=q5(e,od(t))),e.le}function q5(t,e){if(t.limitType==="F")return ak(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new ug(s.field,r)});const n=t.endAt?new cg(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new cg(t.startAt.position,t.startAt.inclusive):null;return ak(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function G0(t,e,n){return new hy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dy(t,e){return $w(Or(t),Or(e))&&t.limitType===e.limitType}function QR(t){return`${jw(Or(t))}|lt:${t.limitType}`}function kc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>XR(s)).join(", ")}]`),cy(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>cu(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>cu(s)).join(",")),`Target(${i})`}(Or(t))}; limitType=${t.limitType})`}function fy(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):vt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of od(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,h){const d=rk(a,l,h);return a.inclusive?d<=0:d<0}(i.startAt,od(i),s)||i.endAt&&!function(a,l,h){const d=rk(a,l,h);return a.inclusive?d>=0:d>0}(i.endAt,od(i),s))}(t,e)}function K5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZR(t){return(e,n)=>{let i=!1;for(const s of od(t)){const r=Y5(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function Y5(t,e,n){const i=t.field.isKeyField()?vt.comparator(e.key,n.key):function(r,a,l){const h=a.data.field(r),d=l.data.field(r);return h!==null&&d!==null?lu(h,d):Ot()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uy(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return P5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new zn(vt.comparator);function Na(){return X5}const eM=new zn(vt.comparator);function Hh(...t){let e=eM;for(const n of t)e=e.insert(n.key,n);return e}function J5(t){let e=eM;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function wl(){return ad()}function tM(){return ad()}function ad(){return new Iu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Q5=new Oi(vt.comparator);function Xt(...t){let e=Q5;for(const n of t)e=e.add(n);return e}const Z5=new Oi(tn);function eq(){return Z5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$0(e)?"-0":e}}function nq(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this._=void 0}}function iq(t,e,n){return t instanceof q0?function(s,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Vw(r)&&(r=Fw(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof hg?nM(t,e):t instanceof dg?iM(t,e):function(s,r){const a=rq(s,r),l=ck(a)+ck(s.Pe);return H0(a)&&H0(s.Pe)?nq(l):tq(s.serializer,l)}(t,e)}function sq(t,e,n){return t instanceof hg?nM(t,e):t instanceof dg?iM(t,e):n}function rq(t,e){return t instanceof K0?function(i){return H0(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class q0 extends py{}class hg extends py{constructor(e){super(),this.elements=e}}function nM(t,e){const n=sM(e);for(const i of t.elements)n.some(s=>Nr(s,i))||n.push(i);return{arrayValue:{values:n}}}class dg extends py{constructor(e){super(),this.elements=e}}function iM(t,e){let n=sM(e);for(const i of t.elements)n=n.filter(s=>!Nr(s,i));return{arrayValue:{values:n}}}class K0 extends py{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ck(t){return Un(t.integerValue||t.doubleValue)}function sM(t){return Bw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oq(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof hg&&s instanceof hg||i instanceof dg&&s instanceof dg?au(i.elements,s.elements,Nr):i instanceof K0&&s instanceof K0?Nr(i.Pe,s.Pe):i instanceof q0&&s instanceof q0}(t.transform,e.transform)}class Ol{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ol}static exists(e){return new Ol(void 0,e)}static updateTime(e){return new Ol(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hw{}function rM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lq(t.key,Ol.none()):new Ww(t.key,t.data,Ol.none());{const n=t.data,i=xr.empty();let s=new Oi(Yi.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new my(t.key,i,new Ea(s.toArray()),Ol.none())}}function aq(t,e,n){t instanceof Ww?function(s,r,a){const l=s.value.clone(),h=hk(s.fieldTransforms,r,a.transformResults);l.setAll(h),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof my?function(s,r,a){if(!cm(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=hk(s.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(oM(s)),h.setAll(l),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ld(t,e,n,i){return t instanceof Ww?function(r,a,l,h){if(!cm(r.precondition,a))return l;const d=r.value.clone(),p=dk(r.fieldTransforms,h,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof my?function(r,a,l,h){if(!cm(r.precondition,a))return l;const d=dk(r.fieldTransforms,h,a),p=a.data;return p.setAll(oM(r)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(r,a,l){return cm(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function uk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&au(i,s,(r,a)=>oq(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ww extends Hw{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class my extends Hw{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function oM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function hk(t,e,n){const i=new Map;Bn(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,sq(a,l,n[s]))}return i}function dk(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,iq(r,a,e))}return i}class lq extends Hw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&aq(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ld(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ld(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=tM();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const h=rM(a,l);h!==null&&i.set(s.key,h),a.isValidDocument()||a.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,(n,i)=>uk(n,i))&&au(this.baseMutations,e.baseMutations,(n,i)=>uk(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn,Ht;function aM(t){if(t===void 0)return Ro("GRPC error has no .code"),Ye.UNKNOWN;switch(t){case Xn.OK:return Ye.OK;case Xn.CANCELLED:return Ye.CANCELLED;case Xn.UNKNOWN:return Ye.UNKNOWN;case Xn.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case Xn.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case Xn.INTERNAL:return Ye.INTERNAL;case Xn.UNAVAILABLE:return Ye.UNAVAILABLE;case Xn.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case Xn.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case Xn.NOT_FOUND:return Ye.NOT_FOUND;case Xn.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case Xn.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case Xn.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case Xn.ABORTED:return Ye.ABORTED;case Xn.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case Xn.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case Xn.DATA_LOSS:return Ye.DATA_LOSS;default:return Ot()}}(Ht=Xn||(Xn={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=new Al([4294967295,4294967295],0);function fk(t){const e=dq().encode(t),n=new VR;return n.update(e),new Uint8Array(n.digest())}function pk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Al([n,i],0),new Al([s,r],0)]}class zw{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wh(`Invalid padding: ${n}`);if(i<0)throw new Wh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Al.fromNumber(this.Ie)}Ee(e,n,i){let s=e.add(n.multiply(Al.fromNumber(i)));return s.compare(fq)===1&&(s=new Al([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=fk(e),[i,s]=pk(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);if(!this.de(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new zw(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=fk(e),[i,s]=pk(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,tf.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new gy(St.min(),s,new zn(tn),Na(),Xt())}}class tf{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new tf(i,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class lM{constructor(e,n){this.targetId=e,this.me=n}}class cM{constructor(e,n,i=Ri.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class mk{constructor(){this.fe=0,this.ge=yk(),this.pe=Ri.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xt(),n=Xt(),i=Xt();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ot()}}),new tf(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=yk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pq{constructor(e){this.Le=e,this.Be=new Map,this.ke=Na(),this.qe=gk(),this.Qe=new zn(tn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,i=e.me.count,s=this.Je(n);if(s){const r=s.target;if(z0(r))if(i===0){const a=new vt(r.path);this.Ue(n,a,ji.newNoDocument(a,St.min()))}else Bn(i===1);else{const a=this.Ye(n);if(a!==i){const l=this.Ze(e),h=l?this.Xe(l,e,a):1;if(h!==0){this.je(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=Gl(i).toUint8Array()}catch(h){if(h instanceof zR)return ou("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{l=new zw(a,s,r)}catch(h){return ou(h instanceof Wh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return l.Ie===0?null:l}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,r,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((r,a)=>{const l=this.Je(a);if(l){if(r.current&&z0(l.target)){const h=new vt(l.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,ji.newNoDocument(h,e))}r.be&&(n.set(a,r.ve()),r.Ce())}});let i=Xt();this.qe.forEach((r,a)=>{let l=!0;a.forEachWhile(h=>{const d=this.Je(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.ke.forEach((r,a)=>a.setReadTime(e));const s=new gy(e,n,this.Qe,this.ke,i);return this.ke=Na(),this.qe=gk(),this.Qe=new zn(tn),s}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Oi(tn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||nt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gk(){return new zn(vt.comparator)}function yk(){return new zn(vt.comparator)}const mq={asc:"ASCENDING",desc:"DESCENDING"},gq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yq={and:"AND",or:"OR"};class vq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Y0(t,e){return t.useProto3Json||cy(e)?e:{value:e}}function bq(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _q(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gc(t){return Bn(!!t),St.fromTimestamp(function(n){const i=Da(n);return new ss(i.seconds,i.nanos)}(t))}function wq(t,e){return X0(t,e).canonicalString()}function X0(t,e){const n=function(s){return new Fn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uM(t){const e=Fn.fromString(t);return Bn(mM(e)),e}function yb(t,e){const n=uM(e);if(n.get(1)!==t.databaseId.projectId)throw new yt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(dM(n))}function hM(t,e){return wq(t.databaseId,e)}function Cq(t){const e=uM(t);return e.length===4?Fn.emptyPath():dM(e)}function vk(t){return new Fn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dM(t){return Bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xq(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(d,p){return d.useProto3Json?(Bn(p===void 0||typeof p=="string"),Ri.fromBase64String(p||"")):(Bn(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ri.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const p=d.code===void 0?Ye.UNKNOWN:aM(d.code);return new yt(p,d.message||"")}(a);n=new cM(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=yb(t,i.document.name),r=Gc(i.document.updateTime),a=i.document.createTime?Gc(i.document.createTime):St.min(),l=new xr({mapValue:{fields:i.document.fields}}),h=ji.newFoundDocument(s,r,a,l),d=i.targetIds||[],p=i.removedTargetIds||[];n=new um(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=yb(t,i.document),r=i.readTime?Gc(i.readTime):St.min(),a=ji.newNoDocument(s,r),l=i.removedTargetIds||[];n=new um([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=yb(t,i.document),r=i.removedTargetIds||[];n=new um([],r,s,null)}else{if(!("filter"in e))return Ot();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new hq(s,r),l=i.targetId;n=new lM(l,a)}}return n}function Eq(t,e){return{documents:[hM(t,e.path)]}}function Tq(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=hM(t,s);const r=function(d){if(d.length!==0)return pM(Lr.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:Ic(v.field),direction:Iq(v.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Y0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function Sq(t){let e=Cq(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Bn(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let r=[];n.where&&(r=function(f){const v=fM(f);return v instanceof Lr&&KR(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(v=>function(y){return new ug(Ac(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(f){let v;return v=typeof f=="object"?f.value:f,cy(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(f){const v=!!f.before,_=f.values||[];return new cg(_,v)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const v=!f.before,_=f.values||[];return new cg(_,v)}(n.endAt)),z5(e,s,a,r,l,"F",h,d)}function kq(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ac(n.unaryFilter.field);return ai.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ac(n.unaryFilter.field);return ai.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ac(n.unaryFilter.field);return ai.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ac(n.unaryFilter.field);return ai.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(t):t.fieldFilter!==void 0?function(n){return ai.create(Ac(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(i=>fM(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ot()}}(n.compositeFilter.op))}(t):Ot()}function Iq(t){return mq[t]}function Aq(t){return gq[t]}function Pq(t){return yq[t]}function Ic(t){return{fieldPath:t.canonicalString()}}function Ac(t){return Yi.fromServerFormat(t.fieldPath)}function pM(t){return t instanceof ai?function(n){if(n.op==="=="){if(sk(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NAN"}};if(ik(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sk(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NAN"}};if(ik(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(n.field),op:Aq(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const i=n.getFilters().map(s=>pM(s));return i.length===1?i[0]:{compositeFilter:{op:Pq(n.op),filters:i}}}(t):Ot()}function mM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,i,s,r=St.min(),a=St.min(),l=Ri.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=h}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e){this.ct=e}}function Rq(t){const e=Sq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(){this.un=new Dq}addToCollectionParentIndex(e,n){return this.un.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Ma.min())}updateCollectionGroup(e,n,i){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class Dq{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Oi(Fn.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Oi(Fn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new uu(0)}static kn(){return new uu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(){this.changes=new Iu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ji.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?De.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&ld(i.mutation,s,Ea.empty(),ss.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Xt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Xt()){const s=wl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Hh();return r.forEach((l,h)=>{a=a.insert(l,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=wl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Xt()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=Na();const a=ad(),l=function(){return ad()}();return n.forEach((h,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof my)?r=r.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),ld(p.mutation,d,p.mutation.getFieldMask(),ss.now())):a.set(d.key,Ea.empty())}),this.recalculateAndSaveOverlays(e,r).next(h=>(h.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var f;return l.set(d,new Lq(p,(f=a.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const i=ad();let s=new zn((a,l)=>a-l),r=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let p=i.get(h)||Ea.empty();p=l.applyToLocalView(d,p),i.set(h,p);const f=(s.get(l.batchId)||Xt()).add(h);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const h=l.getNext(),d=h.key,p=h.value,f=tM();p.forEach(v=>{if(!r.has(v)){const _=rM(n.get(v),i.get(v));_!==null&&f.set(v,_),r=r.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return De.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):De.resolve(wl());let l=-1,h=r;return a.next(d=>De.forEach(d,(p,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),r.get(p)?De.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{h=h.insert(p,v)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,h,d,Xt())).next(p=>({batchId:l,changes:J5(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(i=>{let s=Hh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Hh();return this.indexManager.getCollectionParents(e,r).next(l=>De.forEach(l,h=>{const d=function(f,v){return new hy(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,h.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(p=>{p.forEach((f,v)=>{a=a.insert(f,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((h,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,ji.newInvalidDocument(p)))});let l=Hh();return a.forEach((h,d)=>{const p=r.get(h);p!==void 0&&ld(p.mutation,d,Ea.empty(),ss.now()),fy(n,d)&&(l=l.insert(h,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return De.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gc(s.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Rq(s.bundledQuery),readTime:Gc(s.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.overlays=new zn(vt.comparator),this.Ir=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const i=wl();return De.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ht(e,n,r)}),De.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),De.resolve()}getOverlaysForCollection(e,n,i){const s=wl(),r=n.length+1,a=new vt(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const h=l.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return De.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new zn((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let p=r.get(d.largestBatchId);p===null&&(p=wl(),r=r.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=wl(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=s)););return De.resolve(l)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new uq(n,i));let r=this.Ir.get(n);r===void 0&&(r=Xt(),this.Ir.set(n,r)),this.Ir.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.Tr=new Oi(mi.Er),this.dr=new Oi(mi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new mi(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new mi(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new vt(new Fn([])),i=new mi(n,e),s=new mi(n,e+1),r=[];return this.dr.forEachInRange([i,s],a=>{this.Vr(a),r.push(a.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new vt(new Fn([])),i=new mi(n,e),s=new mi(n,e+1);let r=Xt();return this.dr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new mi(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class mi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return vt.comparator(e.key,n.key)||tn(e.wr,n.wr)}static Ar(e,n){return tn(e.wr,n.wr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Oi(mi.Er)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cq(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new mi(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return De.resolve(a)}lookupMutationBatch(e,n){return De.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.vr(i),r=s<0?0:s;return De.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new mi(n,0),s=new mi(n,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,s],a=>{const l=this.Dr(a.wr);r.push(l)}),De.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Oi(tn);return n.forEach(s=>{const r=new mi(s,0),a=new mi(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,a],l=>{i=i.add(l.wr)})}),De.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;vt.isDocumentKey(r)||(r=r.child(""));const a=new mi(new vt(r),0);let l=new Oi(tn);return this.br.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(l=l.add(h.wr)),!0)},a),De.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(i=>{const s=this.Dr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Bn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return De.forEach(n.mutations,s=>{const r=new mi(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new mi(n,0),s=this.br.firstAfterOrEqual(i);return De.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e){this.Mr=e,this.docs=function(){return new zn(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return De.resolve(i?i.document.mutableCopy():ji.newInvalidDocument(n))}getEntries(e,n){let i=Na();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ji.newInvalidDocument(s))}),De.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Na();const a=n.path,l=new vt(a.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||S5(T5(p),i)<=0||(s.has(p.key)||fy(n,p))&&(r=r.insert(p.key,p.mutableCopy()))}return De.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Ot()}Or(e,n){return De.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Hq(this)}getSize(e){return De.resolve(this.size)}}class Hq extends Nq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),De.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.persistence=e,this.Nr=new Iu(n=>jw(n),$w),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gw,this.targetCount=0,this.kr=uu.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,s)=>n(s)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),De.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new uu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Kn(n),De.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.Nr.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),De.waitFor(r).next(()=>s)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return De.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),De.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),De.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return De.resolve(i)}containsKey(e,n){return De.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Lw(0),this.Kr=!1,this.Kr=!0,this.$r=new jq,this.referenceDelegate=e(this),this.Ur=new Wq(this),this.indexManager=new Mq,this.remoteDocumentCache=function(s){return new Uq(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Oq(n),this.Gr=new Fq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new $q(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){nt("MemoryPersistence","Starting transaction:",e);const s=new Gq(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(r=>this.referenceDelegate.jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Hr(e,n){return De.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class Gq extends I5{constructor(e){super(),this.currentSequenceNumber=e}}class qw{constructor(e){this.persistence=e,this.Jr=new Gw,this.Yr=null}static Zr(e){return new qw(e)}get Xr(){if(this.Yr)return this.Yr;throw Ot()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),De.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),De.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Xr,i=>{const s=vt.fromPath(i);return this.ei(e,s).next(r=>{r||n.removeEntry(s,St.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return De.or([()=>De.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=s}static Wi(e,n){let i=Xt(),s=Xt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Kw(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return EW()?8:A5(Wi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.Yi(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.Zi(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new qq;return this.Xi(e,n,a).next(l=>{if(r.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>r.result)}es(e,n,i,s){return i.documentReadCount<this.ji?(Rh()<=Mt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",kc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),De.resolve()):(Rh()<=Mt.DEBUG&&nt("QueryEngine","Query:",kc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(Rh()<=Mt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",kc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):De.resolve())}Yi(e,n){if(lk(n))return De.resolve(null);let i=Or(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=G0(n,null,"F"),i=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Xt(...r);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.ts(n,l);return this.ns(n,d,a,h.readTime)?this.Yi(e,G0(n,null,"F")):this.rs(e,d,n,h)}))})))}Zi(e,n,i,s){return lk(n)||s.isEqual(St.min())?De.resolve(null):this.Ji.getDocuments(e,i).next(r=>{const a=this.ts(n,r);return this.ns(n,a,i,s)?De.resolve(null):(Rh()<=Mt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kc(n)),this.rs(e,a,n,E5(s,-1)).next(l=>l))})}ts(e,n){let i=new Oi(ZR(e));return n.forEach((s,r)=>{fy(e,r)&&(i=i.add(r))}),i}ns(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Xi(e,n,i){return Rh()<=Mt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",kc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ma.min(),i)}rs(e,n,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n,i,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new zn(tn),this._s=new Iu(r=>jw(r),$w),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Xq(t,e,n,i){return new Yq(t,e,n,i)}async function gM(t,e){const n=Kt(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let h=Xt();for(const d of s){a.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of r){l.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function yM(t){const e=Kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Jq(t,e){const n=Kt(t),i=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((p,f)=>{const v=s.get(f);if(!v)return;l.push(n.Ur.removeMatchingKeys(r,p.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(r,p.addedDocuments,f)));let _=v.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(Ri.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,i)),s=s.insert(f,_),function(b,x,k){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,_,p)&&l.push(n.Ur.updateTargetData(r,_))});let h=Na(),d=Xt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,p))}),l.push(Qq(r,a,e.documentUpdates).next(p=>{h=p.Ps,d=p.Is})),!i.isEqual(St.min())){const p=n.Ur.getLastRemoteSnapshotVersion(r).next(f=>n.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(p)}return De.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(n.os=s,r))}function Qq(t,e,n){let i=Xt(),s=Xt();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Na();return n.forEach((l,h)=>{const d=r.get(l);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),h.isNoDocument()&&h.version.isEqual(St.min())?(e.removeEntry(l,h.readTime),a=a.insert(l,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),a=a.insert(l,h)):nt("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),{Ps:a,Is:s}})}function Zq(t,e){const n=Kt(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ur.getTargetData(i,e).next(r=>r?(s=r,De.resolve(s)):n.Ur.allocateTargetId(i).next(a=>(s=new Ta(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function J0(t,e,n){const i=Kt(t),s=i.os.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ef(a))throw a;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function bk(t,e,n){const i=Kt(t);let s=St.min(),r=Xt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(h,d,p){const f=Kt(h),v=f._s.get(p);return v!==void 0?De.resolve(f.os.get(v)):f.Ur.getTargetData(d,p)}(i,a,Or(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,l.targetId).next(h=>{r=h})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,n?s:St.min(),n?r:Xt())).next(l=>(eK(i,K5(e),l),{documents:l,Ts:r})))}function eK(t,e,n){let i=t.us.get(e)||St.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.us.set(e,i)}class _k{constructor(){this.activeTargetIds=eq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tK{constructor(){this.so=new _k,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _k,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp=null;function vb(){return Bp===null?Bp=function(){return 268435456+Math.round(2147483648*Math.random())}():Bp++,"0x"+Bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="WebChannelConnection";class rK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${s}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Fo(){return!1}Mo(n,i,s,r,a){const l=vb(),h=this.xo(n,i.toUriEncodedString());nt("RestConnection",`Sending RPC '${n}' ${l}:`,h,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,r,a),this.No(n,h,d,s).then(p=>(nt("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw ou("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",h,"request:",s),p})}Lo(n,i,s,r,a,l){return this.Mo(n,i,s,r,a)}Oo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ku}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,a)=>n[a]=r),s&&s.headers.forEach((r,a)=>n[a]=r)}xo(n,i){const s=iK[n];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,s){const r=vb();return new Promise((a,l)=>{const h=new FR;h.setWithCredentials(!0),h.listenOnce(BR.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case lm.NO_ERROR:const p=h.getResponseJson();nt(Di,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(p)),a(p);break;case lm.TIMEOUT:nt(Di,`RPC '${e}' ${r} timed out`),l(new yt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const f=h.getStatus();if(nt(Di,`RPC '${e}' ${r} failed with status:`,f,"response text:",h.getResponseText()),f>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const y=function(x){const k=x.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(k)>=0?k:Ye.UNKNOWN}(_.status);l(new yt(y,_.message))}else l(new yt(Ye.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new yt(Ye.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{nt(Di,`RPC '${e}' ${r} completed.`)}});const d=JSON.stringify(s);nt(Di,`RPC '${e}' ${r} sending request:`,s),h.send(n,"POST",d,i,15)})}Bo(e,n,i){const s=vb(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=UR(),l=$R(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=r.join("");nt(Di,`Creating RPC '${e}' stream ${s}: ${p}`,h);const f=a.createWebChannel(p,h);let v=!1,_=!1;const y=new sK({Io:x=>{_?nt(Di,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(v||(nt(Di,`Opening RPC '${e}' stream ${s} transport.`),f.open(),v=!0),nt(Di,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,k,I)=>{x.listen(k,D=>{try{I(D)}catch(N){setTimeout(()=>{throw N},0)}})};return b(f,Uh.EventType.OPEN,()=>{_||(nt(Di,`RPC '${e}' stream ${s} transport opened.`),y.yo())}),b(f,Uh.EventType.CLOSE,()=>{_||(_=!0,nt(Di,`RPC '${e}' stream ${s} transport closed`),y.So())}),b(f,Uh.EventType.ERROR,x=>{_||(_=!0,ou(Di,`RPC '${e}' stream ${s} transport errored:`,x),y.So(new yt(Ye.UNAVAILABLE,"The operation could not be completed")))}),b(f,Uh.EventType.MESSAGE,x=>{var k;if(!_){const I=x.data[0];Bn(!!I);const D=I,N=D.error||((k=D[0])===null||k===void 0?void 0:k.error);if(N){nt(Di,`RPC '${e}' stream ${s} received error:`,N);const V=N.status;let P=function(L){const B=Xn[L];if(B!==void 0)return aM(B)}(V),T=N.message;P===void 0&&(P=Ye.INTERNAL,T="Unknown error status: "+V+" with message "+N.message),_=!0,y.So(new yt(P,T)),f.close()}else nt(Di,`RPC '${e}' stream ${s} received:`,I),y.bo(I)}}),b(l,jR.STAT_EVENT,x=>{x.stat===j0.PROXY?nt(Di,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===j0.NOPROXY&&nt(Di,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function bb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return new vq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,i=1e3,s=1.5,r=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n,i,s,r,a,l,h){this.ui=e,this.Ho=i,this.Jo=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ye.RESOURCE_EXHAUSTED?(Ro(n.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===n&&this.P_(i,s)},i=>{e(()=>{const s=new yt(Ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aK extends oK{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=xq(this.serializer,e),i=function(r){if(!("targetChange"in r))return St.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?Gc(a.readTime):St.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=vk(this.serializer),n.addTarget=function(r,a){let l;const h=a.target;if(l=z0(h)?{documents:Eq(r,h)}:{query:Tq(r,h)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=_q(r,a.resumeToken);const d=Y0(r,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(St.min())>0){l.readTime=bq(r,a.snapshotVersion.toTimestamp());const d=Y0(r,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const i=kq(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=vk(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new yt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Mo(e,X0(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new yt(Ye.UNKNOWN,r.toString())})}Lo(e,n,i,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,X0(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(Ye.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ro(n),this.D_=!1):nt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(a=>{i.enqueueAndForget(async()=>{sf(this)&&(nt("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=Kt(h);d.L_.add(4),await nf(d),d.q_.set("Unknown"),d.L_.delete(4),await yy(d)}(this))})}),this.q_=new cK(i,s)}}async function yy(t){if(sf(t))for(const e of t.B_)await e(!0)}async function nf(t){for(const e of t.B_)await e(!1)}function _M(t,e){const n=Kt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qw(n)?Jw(n):Au(n).r_()&&Xw(n,e))}function Yw(t,e){const n=Kt(t),i=Au(n);n.N_.delete(e),i.r_()&&wM(n,e),n.N_.size===0&&(i.r_()?i.o_():sf(n)&&n.q_.set("Unknown"))}function Xw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).A_(e)}function wM(t,e){t.Q_.xe(e),Au(t).R_(e)}function Jw(t){t.Q_=new pq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.q_.v_()}function Qw(t){return sf(t)&&!Au(t).n_()&&t.N_.size>0}function sf(t){return Kt(t).L_.size===0}function CM(t){t.Q_=void 0}async function hK(t){t.q_.set("Online")}async function dK(t){t.N_.forEach((e,n)=>{Xw(t,e)})}async function fK(t,e){CM(t),Qw(t)?(t.q_.M_(e),Jw(t)):t.q_.set("Unknown")}async function pK(t,e,n){if(t.q_.set("Online"),e instanceof cM&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ck(t,i)}else if(e instanceof um?t.Q_.Ke(e):e instanceof lM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(St.min()))try{const i=await yM(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.Q_.rt(a);return l.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=r.N_.get(d);p&&r.N_.set(d,p.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach((h,d)=>{const p=r.N_.get(h);if(!p)return;r.N_.set(h,p.withResumeToken(Ri.EMPTY_BYTE_STRING,p.snapshotVersion)),wM(r,h);const f=new Ta(p.target,h,d,p.sequenceNumber);Xw(r,f)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),await Ck(t,i)}}async function Ck(t,e,n){if(!ef(e))throw e;t.L_.add(1),await nf(t),t.q_.set("Offline"),n||(n=()=>yM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{nt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await yy(t)})}async function xk(t,e){const n=Kt(t);n.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=sf(n);n.L_.add(3),await nf(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await yy(n)}async function mK(t,e){const n=Kt(t);e?(n.L_.delete(2),await yy(n)):e||(n.L_.add(2),await nf(n),n.q_.set("Unknown"))}function Au(t){return t.K_||(t.K_=function(n,i,s){const r=Kt(n);return r.w_(),new aK(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Eo:hK.bind(null,t),Ro:dK.bind(null,t),mo:fK.bind(null,t),d_:pK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Qw(t)?Jw(t):t.q_.set("Unknown")):(await t.K_.stop(),CM(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new Zw(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xM(t,e){if(Ro("AsyncQueue",`${e}: ${t}`),ef(t))return new yt(Ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.comparator=e?(n,i)=>e(n,i)||vt.comparator(n.key,i.key):(n,i)=>vt.comparator(n.key,i.key),this.keyedMap=Hh(),this.sortedSet=new zn(this.comparator)}static emptySet(e){return new qc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new qc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.W_=new zn(vt.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ot():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class hu{constructor(e,n,i,s,r,a,l,h,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new hu(e,n,qc.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class yK{constructor(){this.queries=Tk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const s=Kt(n),r=s.queries;s.queries=Tk(),r.forEach((a,l)=>{for(const h of l.j_)h.onError(i)})})(this,new yt(Ye.ABORTED,"Firestore shutting down"))}}function Tk(){return new Iu(t=>QR(t),dy)}async function vK(t,e){const n=Kt(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.H_()&&e.J_()&&(i=2):(r=new gK,i=e.J_()?0:1);try{switch(i){case 0:r.z_=await n.onListen(s,!0);break;case 1:r.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=xM(a,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.j_.push(e),e.Z_(n.onlineState),r.z_&&e.X_(r.z_)&&eC(n)}async function bK(t,e){const n=Kt(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.j_.indexOf(e);a>=0&&(r.j_.splice(a,1),r.j_.length===0?s=e.J_()?0:1:!r.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function _K(t,e){const n=Kt(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.j_)l.X_(s)&&(i=!0);a.z_=s}}i&&eC(n)}function wK(t,e,n){const i=Kt(t),s=i.queries.get(e);if(s)for(const r of s.j_)r.onError(n);i.queries.delete(e)}function eC(t){t.Y_.forEach(e=>{e.next()})}var Q0,Sk;(Sk=Q0||(Q0={})).ea="default",Sk.Cache="cache";class CK{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new hu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Q0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.key=e}}class TM{constructor(e){this.key=e}}class xK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xt(),this.mutatedKeys=Xt(),this.Aa=ZR(e),this.Ra=new qc(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new Ek,s=n?n.Ra:this.Ra;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,f)=>{const v=s.get(p),_=fy(this.query,f)?f:null,y=!!v&&this.mutatedKeys.has(v.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;v&&_?v.data.isEqual(_.data)?y!==b&&(i.track({type:3,doc:_}),x=!0):this.ga(v,_)||(i.track({type:2,doc:_}),x=!0,(h&&this.Aa(_,h)>0||d&&this.Aa(_,d)<0)&&(l=!0)):!v&&_?(i.track({type:0,doc:_}),x=!0):v&&!_&&(i.track({type:1,doc:v}),x=!0,(h||d)&&(l=!0)),x&&(_?(a=a.add(_),r=b?r.add(p):r.delete(p)):(a=a.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),r=r.delete(p.key),i.track({type:1,doc:p})}return{Ra:a,fa:i,ns:l,mutatedKeys:r}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((p,f)=>function(_,y){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return b(_)-b(y)}(p.type,f.type)||this.Aa(p.doc,f.doc)),this.pa(i),s=s!=null&&s;const l=n&&!s?this.ya():[],h=this.da.size===0&&this.current&&!s?1:0,d=h!==this.Ea;return this.Ea=h,a.length!==0||d?{snapshot:new hu(this.query,e.Ra,r,a,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ek,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new TM(i))}),this.da.forEach(i=>{e.has(i)||n.push(new EM(i))}),n}ba(e){this.Ta=e.Ts,this.da=Xt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EK{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class TK{constructor(e){this.key=e,this.va=!1}}class SK{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Iu(l=>QR(l),dy),this.Ma=new Map,this.xa=new Set,this.Oa=new zn(vt.comparator),this.Na=new Map,this.La=new Gw,this.Ba={},this.ka=new Map,this.qa=uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kK(t,e,n=!0){const i=PM(t);let s;const r=i.Fa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Da()):s=await SM(i,e,n,!0),s}async function IK(t,e){const n=PM(t);await SM(n,e,!0,!1)}async function SM(t,e,n,i){const s=await Zq(t.localStore,Or(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await AK(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&_M(t.remoteStore,s),l}async function AK(t,e,n,i,s){t.Ka=(f,v,_)=>async function(b,x,k,I){let D=x.view.ma(k);D.ns&&(D=await bk(b.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,D)));const N=I&&I.targetChanges.get(x.targetId),V=I&&I.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(D,b.isPrimaryClient,N,V);return Ik(b,x.targetId,P.wa),P.snapshot}(t,f,v,_);const r=await bk(t.localStore,e,!0),a=new xK(e,r.Ts),l=a.ma(r.documents),h=tf.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,h);Ik(t,n,d.wa);const p=new EK(e,n,a);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function PK(t,e,n){const i=Kt(t),s=i.Fa.get(e),r=i.Ma.get(s.targetId);if(r.length>1)return i.Ma.set(s.targetId,r.filter(a=>!dy(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await J0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Yw(i.remoteStore,s.targetId),Z0(i,s.targetId)}).catch(Nw)):(Z0(i,s.targetId),await J0(i.localStore,s.targetId,!0))}async function OK(t,e){const n=Kt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Yw(n.remoteStore,i.targetId))}async function kM(t,e){const n=Kt(t);try{const i=await Jq(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Na.get(r);a&&(Bn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?Bn(a.va):s.removedDocuments.size>0&&(Bn(a.va),a.va=!1))}),await AM(n,i,e)}catch(i){await Nw(i)}}function kk(t,e,n){const i=Kt(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Fa.forEach((r,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const h=Kt(a);h.onlineState=l;let d=!1;h.queries.forEach((p,f)=>{for(const v of f.j_)v.Z_(l)&&(d=!0)}),d&&eC(h)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function RK(t,e,n){const i=Kt(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Na.get(e),r=s&&s.key;if(r){let a=new zn(vt.comparator);a=a.insert(r,ji.newNoDocument(r,St.min()));const l=Xt().add(r),h=new gy(St.min(),new Map,new zn(tn),a,l);await kM(i,h),i.Oa=i.Oa.remove(r),i.Na.delete(e),tC(i)}else await J0(i.localStore,e,!1).then(()=>Z0(i,e,n)).catch(Nw)}function Z0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||IM(t,i)})}function IM(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Yw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),tC(t))}function Ik(t,e,n){for(const i of n)i instanceof EM?(t.La.addReference(i.key,e),MK(t,i)):i instanceof TM?(nt("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||IM(t,i.key)):Ot()}function MK(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(nt("SyncEngine","New document in limbo: "+n),t.xa.add(i),tC(t))}function tC(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new vt(Fn.fromString(e)),i=t.qa.next();t.Na.set(i,new TK(n)),t.Oa=t.Oa.insert(n,i),_M(t.remoteStore,new Ta(Or(Uw(n.path)),i,"TargetPurposeLimboResolution",Lw.oe))}}async function AM(t,e,n){const i=Kt(t),s=[],r=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((l,h)=>{a.push(i.Ka(h,e,n).then(d=>{var p;if((d||n)&&i.isPrimaryClient){const f=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(h.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Kw.Wi(h.targetId,d);r.push(f)}}))}),await Promise.all(a),i.Ca.d_(s),await async function(h,d){const p=Kt(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>De.forEach(d,v=>De.forEach(v.$i,_=>p.persistence.referenceDelegate.addReference(f,v.targetId,_)).next(()=>De.forEach(v.Ui,_=>p.persistence.referenceDelegate.removeReference(f,v.targetId,_)))))}catch(f){if(!ef(f))throw f;nt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const v=f.targetId;if(!f.fromCache){const _=p.os.get(v),y=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(y);p.os=p.os.insert(v,b)}}}(i.localStore,r))}async function DK(t,e){const n=Kt(t);if(!n.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const i=await gM(n.localStore,e);n.currentUser=e,function(r,a){r.ka.forEach(l=>{l.forEach(h=>{h.reject(new yt(Ye.CANCELLED,a))})}),r.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await AM(n,i.hs)}}function NK(t,e){const n=Kt(t),i=n.Na.get(e);if(i&&i.va)return Xt().add(i.key);{let s=Xt();const r=n.Ma.get(e);if(!r)return s;for(const a of r){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function PM(t){const e=Kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RK.bind(null,e),e.Ca.d_=_K.bind(null,e.eventManager),e.Ca.$a=wK.bind(null,e.eventManager),e}class fg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vM(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Xq(this.persistence,new Kq,e.initialUser,this.serializer)}Ga(e){return new zq(qw.Zr,this.serializer)}Wa(e){return new tK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fg.provider={build:()=>new fg};class e_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DK.bind(null,this.syncEngine),await mK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yK}()}createDatastore(e){const n=vM(e.databaseInfo.databaseId),i=function(r){return new rK(r)}(e.databaseInfo);return function(r,a,l,h){return new lK(r,a,l,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new uK(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>kk(this.syncEngine,n,0),function(){return wk.D()?new wk:new nK}())}createSyncEngine(e,n){return function(s,r,a,l,h,d,p){const f=new SK(s,r,a,l,h,d);return p&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Kt(s);nt("RemoteStore","RemoteStore shutting down."),r.L_.add(5),await nf(r),r.k_.shutdown(),r.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}e_.provider={build:()=>new e_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ro("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Li.UNAUTHENTICATED,this.clientId=WR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{nt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(nt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=xM(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _b(t,e){t.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await gM(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ak(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FK(t);nt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>xk(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>xk(e.remoteStore,s)),t._onlineComponents=e}async function FK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await _b(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ye.FAILED_PRECONDITION||s.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ou("Error using user provided cache. Falling back to memory cache: "+n),await _b(t,new fg)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),await _b(t,new fg);return t._offlineComponents}async function BK(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),await Ak(t,t._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),await Ak(t,new e_))),t._onlineComponents}async function jK(t){const e=await BK(t),n=e.eventManager;return n.onListen=kK.bind(null,e.syncEngine),n.onUnlisten=PK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OK.bind(null,e.syncEngine),n}function $K(t,e,n={}){const i=new Pl;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,h,d){const p=new LK({next:v=>{p.Za(),a.enqueueAndForget(()=>bK(r,f));const _=v.docs.has(l);!_&&v.fromCache?d.reject(new yt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&h&&h.source==="server"?d.reject(new yt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),f=new CK(Uw(l.path),p,{includeMetadataChanges:!0,_a:!0});return vK(r,f)}(await jK(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t,e,n){if(!n)throw new yt(Ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HK(t,e,n,i){if(e===!0&&i===!0)throw new yt(Ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ok(t){if(!vt.isDocumentKey(t))throw new yt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WK(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ot()}function t_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=WK(t);throw new yt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OM((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nC{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rk(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new m5;switch(i.type){case"firstParty":return new b5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Pk.get(n);i&&(nt("ComponentProvider","Removing Datastore"),Pk.delete(n),i.terminate())}(this),Promise.resolve()}}function zK(t,e,n,i={}){var s;const r=(t=t_(t,nC))._getSettings(),a=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==a&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:a,ssl:!1})),i.mockUserToken){let l,h;if(typeof i.mockUserToken=="string")l=i.mockUserToken,h=Li.MOCK_USER;else{l=bW(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new yt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Li(d)}t._authCredentials=new g5(new HR(l,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new iC(this.firestore,e,this._query)}}class To{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new To(this.firestore,e,this._key)}}class Od extends iC{constructor(e,n,i){super(e,n,Uw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new To(this.firestore,null,new vt(e))}withConverter(e){return new Od(this.firestore,e,this._path)}}function GK(t,e,...n){if(t=Ws(t),arguments.length===1&&(e=WR.newId()),UK("doc","path",e),t instanceof nC){const i=Fn.fromString(e,...n);return Ok(i),new To(t,null,new vt(i))}{if(!(t instanceof To||t instanceof Od))throw new yt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Fn.fromString(e,...n));return Ok(i),new To(t.firestore,t instanceof Od?t.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bM(this,"async_queue_retry"),this.Vu=()=>{const i=bb();i&&nt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=bb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ef(e))throw e;nt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(i);throw Ro("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Zw.createAndSchedule(this,e,n,i,r=>this.yu(r));return this.Tu.push(s),s}fu(){this.Eu&&Ot()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class RM extends nC{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new Mk,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mk(e),this._firestoreClient=void 0,await e}}}function qK(t,e){const n=ew(),i="(default)",s=Z_(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=vW("firestore");r&&zK(s,...r)}return s}function KK(t){if(t._terminated)throw new yt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YK(t),t._firestoreClient}function YK(t){var e,n,i;const s=t._freezeSettings(),r=function(l,h,d,p){return new R5(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new VK(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const h=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pg(Ri.fromBase64String(e))}catch(n){throw new yt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pg(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new yt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new yt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new yt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}const QK=new RegExp("[~\\*/\\[\\]]");function ZK(t,e,n){if(e.search(QK)>=0)throw Dk(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new MM(...e.split("."))._internalPath}catch{throw Dk(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Dk(t,e,n,i,s){let r=`Function ${e}() called with invalid data`;r+=". ";let a="";return new yt(Ye.INVALID_ARGUMENT,r+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new To(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eY extends DM{data(){return super.data()}}function NM(t,e){return typeof e=="string"?ZK(t,e):e instanceof MM?e._internalPath:e._delegate._internalPath}class tY{convertValue(e,n="none"){switch(ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return uy(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Un(a.doubleValue));return new JK(r)}convertGeoPoint(e){return new XK(Un(e.latitude),Un(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Fw(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Id(e));default:return null}}convertTimestamp(e){const n=Da(e);return new ss(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Fn.fromString(e);Bn(mM(i));const s=new Ad(i.get(1),i.get(3)),r=new vt(i.popFirst(5));return s.isEqual(n)||Ro(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class LM extends DM{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iY(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(NM("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class iY extends LM{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t){t=t_(t,To);const e=t_(t.firestore,RM);return $K(KK(e),t._key).then(n=>oY(e,t,n))}class rY extends tY{constructor(e){super(),this.firestore=e}convertBytes(e){return new pg(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,n)}}function oY(t,e,n){const i=n.docs.get(e._key),s=new rY(t);return new LM(t,s,e._key,i,new nY(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){ku=s})(Va),Dr(new dr("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new RM(new y5(i.getProvider("auth-internal")),new w5(i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new yt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(d.options.projectId,p)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),ys(QS,"4.7.3",e),ys(QS,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="firebasestorage.googleapis.com",aY="storageBucket",lY=2*60*1e3,cY=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Br{constructor(e,n,i=0){super(wb(e),`Firebase Storage: ${n} (${wb(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function wb(t){return"storage/"+t}function uY(){const t="An unknown error occurred, please check the error payload for server response.";return new $r(Vr.UNKNOWN,t)}function hY(){return new $r(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dY(){return new $r(Vr.CANCELED,"User canceled the upload/download.")}function fY(t){return new $r(Vr.INVALID_URL,"Invalid URL '"+t+"'.")}function pY(t){return new $r(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nk(t){return new $r(Vr.INVALID_ARGUMENT,t)}function FM(){return new $r(Vr.APP_DELETED,"The Firebase app was deleted.")}function mY(t){return new $r(Vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=or.makeFromUrl(e,n)}catch{return new or(e,"")}if(i.path==="")return i;throw pY(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),h={bucket:1,path:3};function d(N){N.path_=decodeURIComponent(N.path)}const p="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${p}/b/${s}/o${v}`,"i"),y={bucket:1,path:3},b=n===VM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",k=new RegExp(`^https?://${b}/${s}/${x}`,"i"),D=[{regex:l,indices:h,postModify:r},{regex:_,indices:y,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let N=0;N<D.length;N++){const V=D[N],P=V.regex.exec(e);if(P){const T=P[V.indices.bucket];let R=P[V.indices.path];R||(R=""),i=new or(T,R),V.postModify(i);break}}if(i==null)throw fY(e);return i}}class gY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t,e,n){let i=1,s=null,r=null,a=!1,l=0;function h(){return l===2}let d=!1;function p(...x){d||(d=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(_,h())},x)}function v(){r&&clearTimeout(r)}function _(x,...k){if(d){v();return}if(x){v(),p.call(null,x,...k);return}if(h()||a){v(),p.call(null,x,...k);return}i<64&&(i*=2);let D;l===1?(l=2,D=0):D=(i+Math.random())*1e3,f(D)}let y=!1;function b(x){y||(y=!0,v(),!d&&(s!==null?(x||(l=2),clearTimeout(s),f(0)):x||(l=1)))}return f(0),r=setTimeout(()=>{a=!0,b(!0)},n),b}function vY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t){return t!==void 0}function Lk(t,e,n,i){if(i<e)throw Nk(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Nk(`Invalid value for '${t}'. Expected ${n} or less.`)}function _Y(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var mg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mg||(mg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wY(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e,n,i,s,r,a,l,h,d,p,f,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=f,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,y)=>{this.resolve_=_,this.reject_=y,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new jp(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=l=>{const h=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const l=r.getErrorCode()===mg.NO_ERROR,h=r.getStatus();if(!l||wY(h,this.additionalRetryCodes_)&&this.retry){const p=r.getErrorCode()===mg.ABORT;i(!1,new jp(!1,null,p));return}const d=this.successCodes_.indexOf(h)!==-1;i(!0,new jp(d,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(l,l.getResponse());bY(h)?r(h):r()}catch(h){a(h)}else if(l!==null){const h=uY();h.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,h)):a(h)}else if(s.canceled){const h=this.appDelete_?FM():dY();a(h)}else{const h=hY();a(h)}};this.canceled_?n(!1,new jp(!1,null,!0)):this.backoffId_=yY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jp{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function xY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function EY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function SY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kY(t,e,n,i,s,r,a=!0){const l=_Y(t.urlParams),h=t.url+l,d=Object.assign({},t.headers);return TY(d,e),xY(d,n),EY(d,r),SY(d,i),new CY(h,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function AY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this._service=e,n instanceof or?this._location=n:this._location=or.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gg(e,n)}get root(){const e=new or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AY(this._location.path)}get storage(){return this._service}get parent(){const e=IY(this._location.path);if(e===null)return null;const n=new or(this._location.bucket,e);return new gg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mY(e)}}function Vk(t,e){const n=e==null?void 0:e[aY];return n==null?null:or.makeFromBucketSpec(n,t)}class PY{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=VM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lY,this._maxUploadRetryTime=cY,this._requests=new Set,s!=null?this._bucket=or.makeFromBucketSpec(s,this._host):this._bucket=Vk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,e):this._bucket=Vk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gg(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new gY(FM());{const a=kY(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const Fk="@firebase/storage",Bk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY="storage";function RY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new PY(n,i,s,e,Va)}function MY(){Dr(new dr(OY,RY,"PUBLIC").setMultipleInstances(!0)),ys(Fk,Bk,""),ys(Fk,Bk,"esm2017")}MY();const BM=Symbol("VueFireAuth");function DY({dependencies:t,initialUser:e}){return(n,i)=>{const[s,r]=NY(n,i,e,t);A6(s,r)}}function NY(t,e,n,i,s=eO(t,i)){const r=k6(t,e).run(()=>Ke(n));return S0.set(t,r),e.provide(BM,s),[r,s]}function sC(t){return S6?qt(BM):null}function LY(t,{firebaseApp:e,modules:n=[]}){t.provide(EO,e);for(const i of n)i(e,t)}function jM(t){return t!==null&&!t.emailVerified&&!!t.providerData.find(e=>e.providerId==="password")}var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function VY(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var hm={},vy={};Object.defineProperty(vy,"__esModule",{value:!0});vy.DefectState=void 0;var jk;(function(t){t[t.OPEN=0]="OPEN",t[t.IN_WORK=1]="IN_WORK",t[t.REJECTED=2]="REJECTED",t[t.DONE=3]="DONE"})(jk||(vy.DefectState=jk={}));var es={};const FY=new Proxy({},{get(t,e){throw new Error(`Module "node:crypto" has been externalized for browser compatibility. Cannot access "node:crypto.${e}" in client code.  See https://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),BY=Object.freeze(Object.defineProperty({__proto__:null,default:FY},Symbol.toStringTag,{value:"Module"})),jY=VY(BY);Object.defineProperty(es,"__esModule",{value:!0});es.Customer=es.ParkingSpot=es.ParkingSpotLayer=es.IParkingProperty=es.ParkingPropertyType=es.ParkingSpotState=void 0;const $M=jY;var n_;(function(t){t[t.FREE=0]="FREE",t[t.OCCUPIED=1]="OCCUPIED",t[t.RESERVED=2]="RESERVED",t[t.OUT_OF_ORDER=3]="OUT_OF_ORDER",t[t.CHARGING=4]="CHARGING"})(n_||(es.ParkingSpotState=n_={}));var $k;(function(t){t[t.TRACK_TOTAL=0]="TRACK_TOTAL",t[t.TRACK_INDIVIDUAL=1]="TRACK_INDIVIDUAL"})($k||(es.ParkingPropertyType=$k={}));class $Y{constructor(){Lt(this,"id");Lt(this,"tenantId");Lt(this,"name");Lt(this,"location");Lt(this,"description");Lt(this,"lastModified");Lt(this,"pricePerHour");Lt(this,"customers");Lt(this,"parkingType");Lt(this,"layers");Lt(this,"defects")}}es.IParkingProperty=$Y;class UY{constructor(e){Lt(this,"floor");Lt(this,"name");Lt(this,"description");Lt(this,"spotCount");Lt(this,"columns");Lt(this,"idPattern");Lt(this,"parkingSpots");Object.assign(this,e),e!=null&&e.parkingSpots&&(this.parkingSpots=e.parkingSpots.map(n=>({...new UM(n)})))}}es.ParkingSpotLayer=UY;class UM{constructor(e){Lt(this,"id",$M.randomUUID());Lt(this,"state",n_.FREE);Lt(this,"lastStateChange",new Date);Lt(this,"customer",null);Lt(this,"placeholder",!1);Lt(this,"electricCharging",!1);Lt(this,"currentCharge");Object.assign(this,e)}}es.ParkingSpot=UM;class HY{constructor(e){Lt(this,"id",$M.randomUUID());Lt(this,"licensePlate");Object.assign(this,e)}}es.Customer=HY;var HM={};Object.defineProperty(HM,"__esModule",{value:!0});var WM={};Object.defineProperty(WM,"__esModule",{value:!0});var du={};Object.defineProperty(du,"__esModule",{value:!0});du.ITenant=du.TenantTier=void 0;var Uk;(function(t){t[t.FREE=0]="FREE",t[t.PRO=1]="PRO",t[t.ENTERPRISE=2]="ENTERPRISE"})(Uk||(du.TenantTier=Uk={}));class WY{constructor(){Lt(this,"tenantId");Lt(this,"tenantName");Lt(this,"tier");Lt(this,"adminEmail");Lt(this,"ip")}}du.ITenant=WY;var by={};Object.defineProperty(by,"__esModule",{value:!0});by.Role=void 0;var Hk;(function(t){t.ADMIN="admin",t.USER="user",t.MANAGER="manager"})(Hk||(by.Role=Hk={}));(function(t){var e=Mc&&Mc.__createBinding||(Object.create?function(i,s,r,a){a===void 0&&(a=r);var l=Object.getOwnPropertyDescriptor(s,r);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(i,a,l)}:function(i,s,r,a){a===void 0&&(a=r),i[a]=s[r]}),n=Mc&&Mc.__exportStar||function(i,s){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&e(s,i,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(vy,t),n(es,t),n(HM,t),n(WM,t),n(du,t),n(by,t)})(hm);const zY=localStorage.getItem("propertyManagement")??void 0??"",GY=localStorage.getItem("parkingManagement")??void 0??"",qY=localStorage.getItem("monitoringManagement")??void 0??"",KY=localStorage.getItem("tenantManagement")??"https://tenant-management.staging.cloud-porsche.com"??"",ns=Yg("app",{state:()=>({theme:{dark:YY()},api:{propertyManagement:zY,parkingManagement:GY,monitoringManagement:qY,tenantManagement:KY,ws:{socket:{},connected:!1}},auth:{loading:!0},tenant:{info:null},currUser:{role:"",uid:""}}),getters:{isDark(t){return t.theme.dark},authLoading(t){return t.auth.loading},wsStatus(t){return t.api.ws.connected},hasAdminAccess(t){var e,n,i;return((e=t.tenant.info)==null?void 0:e.tier)===hm.TenantTier.FREE||t.currUser.role==="admin"||((n=t.tenant.info)==null?void 0:n.adminEmail)===((i=Zm().currentUser)==null?void 0:i.email)},isUserRole(t){var e,n,i;return((e=t.tenant.info)==null?void 0:e.tier)!==hm.TenantTier.FREE&&t.currUser.role==="user"&&((n=t.tenant.info)==null?void 0:n.adminEmail)!==((i=Zm().currentUser)==null?void 0:i.email)},isFreeTenant(t){var e;return((e=t.tenant.info)==null?void 0:e.tier)===hm.TenantTier.FREE}},actions:{updateWsConnection(t){this.api.ws.socket=t,this.api.ws.connected=t.connected},toggleTheme(){this.theme.dark=!this.theme.dark,localStorage.setItem("dark",this.theme.dark.toString())},changePropertyManagementApiURL(t){this.api.propertyManagement=t,localStorage.setItem("propertyManagement",t)},changeParkingManagementApiURL(t){this.api.parkingManagement=t,localStorage.setItem("parkingManagement",t)},changeMonitoringManagementApiURL(t){this.api.monitoringManagement=t,localStorage.setItem("monitoringManagement",t)},changeTenantManagementApiURL(t){this.api.tenantManagement=t,localStorage.setItem("tenantManagement",t)},setAuthLoading(t){this.auth.loading=t},setTenantInfo(t){this.changePropertyManagementApiURL(`https://${t.ip}/property-management`),this.changeParkingManagementApiURL(`https://${t.ip}/parking-management`),this.changeMonitoringManagementApiURL(`https://${t.ip}/monitoring-management`),this.tenant.info=t},setCurrUserRole(t){this.currUser.role=t},setCurrUid(t){this.currUser.uid=t},removeCurrUserRole(){this.currUser.role=""}}});function YY(){const t=localStorage.getItem("dark");return t!==null?t==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}class Wk extends Error{constructor(n,i){const{status:s,statusText:r}=i;super(r||String(s));Lt(this,"request");Lt(this,"response");this.name="HttpError",this.request=n,this.response=i}}const XY="*/*",JY="*/*",QY="multipart/form-data",oC="application/json",ZY="text/*";function e8(t){return(t.headers.get("content-type")??"").includes(oC)}function t8(t,e){function n(i){e.set("accept",e.get("accept")??i)}t.arrayBuffer=async()=>(n(XY),(await t).arrayBuffer()),t.blob=async()=>(n(JY),(await t).blob()),t.formData=async()=>(n(QY),(await t).formData()),t.json=async()=>{n(oC);const i=await t;return e8(i)?i.json():i.text()},t.text=async()=>(n(ZY),(await t).text())}const zM={init:{}};function Pu(t,e,n,i,s,r="propertyManagement"){let a;switch(r){case"propertyManagement":a=ns().api.propertyManagement;break;case"parkingManagement":a=ns().api.parkingManagement;break;case"monitoringManagement":a=ns().api.monitoringManagement;break;case"tenantManagement":a=ns().api.tenantManagement}typeof t=="string"&&a!==void 0&&a!=="undefined"&&!t.startsWith("http")&&!t.startsWith("ws")&&(t=`${a}${t.startsWith("/")?t:`/${t}`}`);async function l(){var _;await Promise.resolve();const d=await((_=k0().value)==null?void 0:_.getIdToken()),p=Kl.currentRoute.value.params.tenantId;p&&p!=="free"&&e.set("tenant-id",p),d&&e.set("authorization",d);const f=new Request(t,{...zM.init,...n,headers:e,method:i,body:s});if(aC().data.left_free_api_calls===0&&r!=="monitoringManagement")throw new Wk(f,new Response("No free API calls left",{status:429}));const v=await fetch(f);if(!v.ok)throw new Wk(f,v);return v}const h=l();return t8(h,e),h}function rf(t){const e=new Headers;return new Headers(zM.init.headers).forEach((n,i)=>e.set(i,n)),new Headers(t==null?void 0:t.headers).forEach((n,i)=>e.set(i,n)),e}function GM(t){const e=rf(t);return e.set("content-type",oC),e}function Kc(t,e,n="propertyManagement"){return Pu(t,rf(e),e,"GET",void 0,n)}function n8(t,e,n,i="propertyManagement"){return Pu(t,rf(n),n,"POST",e,i)}function cd(t,e,n,i="propertyManagement"){return Pu(t,GM(n),n,"POST",JSON.stringify(e),i)}function Oee(t,e,n,i="propertyManagement"){return Pu(t,rf(n),n,"PATCH",e,i)}function zk(t,e,n,i="propertyManagement"){return Pu(t,GM(n),n,"PATCH",JSON.stringify(e),i)}function qM(t,e,n="propertyManagement"){return Pu(t,rf(e),e,"DELETE",void 0,n)}const i8=localStorage.getItem("timeframe")??"weekly",aC=Yg("monitoring",{state:()=>({free_data:{left_free_api_calls:1/0,customer_count_change:{current_period_customers:0,percent_change:0}},data:{customers:{},customer_distribution:{},avg_utilization:{},api_calls:{current_period_api_calls:0,percent_change:0},parking_income:{current_period_income:0,percent_change:0},defect_distribution:{}},timeframe:i8,loading:!1,error:null}),actions:{async fetchFreeMonitoringData(){const t=await(await Kc(`/v1/monitoring/free_data?timeframe=${this.$state.timeframe}`,void 0,"monitoringManagement")).json();this.$state.free_data=t.data},async fetchMonitoringData(){const t=await(await Kc(`/v1/monitoring/data?timeframe=${this.$state.timeframe}`,void 0,"monitoringManagement")).json();this.$state.data=t.data},async fetchAllData(){this.$state.loading=!0;try{await this.fetchFreeMonitoringData(),await this.fetchMonitoringData()}catch(t){this.$state.loading=!1,this.$state.error=t}finally{this.$state.loading=!1,this.$state.error=null}},setTimeframe(t){this.$state.timeframe=t,localStorage.setItem("timeframe",t)}}}),lC=Yg("properties",{state:()=>({properties:[],simulationActive:[],loading:!0,error:null}),getters:{parkingSpots:t=>e=>{const n=t.properties.find(i=>i.id===e);return(n==null?void 0:n.layers.flatMap(i=>i.parkingSpots).filter(i=>!i.placeholder))??[]}},actions:{async fetchProperties(){this.$state.loading=!0;try{this.$state.properties=await(await Kc("/v1/parking-properties")).json()}catch(t){this.$state.loading=!1,this.$state.error=t}finally{this.$state.loading=!1,this.$state.error=null}},async fetchProperty(t){this.$state.loading=!0;try{const e=await(await Kc("/v1/parking-properties/"+t)).json();this.$state.properties=this.$state.properties.map(n=>n.id===t?e:n)}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null}},setProperties(t){this.$state.properties=t},async addProperty(t){this.$state.loading=!0;try{await cd("/v1/parking-properties",t)}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchProperties()}},async deleteProperty(t){this.$state.loading=!0;try{await qM(`/v1/parking-properties/${t}`),this.$state.properties=this.$state.properties.filter(e=>e.id!==t)}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null}},async updateProperty(t,e){this.$state.loading=!0;try{await zk(`/v1/parking-properties/${t}`,e)}catch(n){this.$state.loading=!1,this.$state.error=n}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchProperty(t)}},async updateParkingSpot(t,e,n){this.$state.loading=!0;try{await zk(`/v1/parking-properties/${t}/${e}`,n)}catch(i){this.$state.loading=!1,this.$state.error=i}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchProperty(t)}},async setSimulationActive(t,e){this.$state.loading=!0;try{await cd(`/v1/simulation/${t}/start`,{speed:e},void 0,"parkingManagement")}catch(n){this.$state.loading=!1,this.$state.error=n}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchSimulationStatus(t)}},async updateSimulationSpeed(t,e){this.$state.loading=!0;try{await cd(`/v1/simulation/${t}/update-speed`,{speed:e},void 0,"parkingManagement")}catch(n){this.$state.loading=!1,this.$state.error=n}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchSimulationStatus(t)}},async setSimulationInactive(t){this.$state.loading=!0;try{await n8(`/v1/simulation/${t}/stop`,void 0,void 0,"parkingManagement")}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchSimulationStatus(t)}},async fetchSimulationStatus(t){this.$state.loading=!0;try{const e=await Kc(`/v1/simulation/${t}/status`,void 0,"parkingManagement").json()==="true";e&&!this.$state.simulationActive.includes(t)?this.$state.simulationActive=[...this.$state.simulationActive,t]:e||(this.$state.simulationActive=this.$state.simulationActive.filter(n=>n!==t))}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null}}}}),KM=Yg("user",{state:()=>({users:[],loading:!1,error:null}),actions:{async fetchUsers(t,e){this.$state.loading=!0,this.$state.error=null;try{const i=await(await Kc(`/v1/tenants/${t}/users/${e}`,void 0,"tenantManagement")).json();Array.isArray(i)?this.$state.users=i.map(s=>{var r;return{email:s.email,uid:s.uid,role:(r=s.customClaims)==null?void 0:r.role}}):this.$state.error="Fetched users data is not an array."}catch(n){this.$state.error="Error fetching users.",console.error(n)}finally{this.$state.loading=!1}},async addUser(t,e,n){this.$state.error=null;try{const i={email:e,role:n};await cd(`/v1/tenants/${t}/users`,i,void 0,"tenantManagement"),await this.fetchUsers(t,ns().currUser.uid)}catch(i){this.$state.error="Error adding user.",console.error(i)}},async updateUserRole(t,e,n){this.$state.error=null;try{const i={uid:e,role:n};await cd(`/v1/tenants/${t}/users/setRole`,i,void 0,"tenantManagement"),await this.fetchUsers(t,ns().currUser.uid)}catch(i){this.$state.error="Error updating user role.",console.error(i)}},async deleteUser(t,e){this.$state.error=null;try{await qM(`/v1/tenants/${t}/users/${e}`,void 0,"tenantManagement"),await this.fetchUsers(t,ns().currUser.uid)}catch(n){this.$state.error="Error deleting user.",console.error(n)}}}}),Kl=oW({history:mH("/staging/"),routes:cW});Kl.beforeEach(async(t,e)=>{const n=await I6(),i=!!n,s=t.params.tenantId;if(!s&&t.name!=="/[tenantId]/")return{name:"/[tenantId]/",params:{tenantId:"free"}};if((!i||jM(n))&&t.name!=="/[tenantId]/profile")return{name:"/[tenantId]/profile",params:{tenantId:s},query:{redirect:t.fullPath}};if(i&&e.params.tenantId&&s!==e.params.tenantId){const r=Zm(),a=ns();return a.api.ws.connected&&a.api.ws.socket.disconnect(),a.$reset(),lC().$reset(),aC().$reset(),KM().$reset(),await uw(r),{name:"/[tenantId]/",params:{tenantId:s}}}});Kl.onError((t,e)=>{var n,i;(i=(n=t==null?void 0:t.message)==null?void 0:n.includes)!=null&&i.call(n,"Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",t):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),window.location.reload()):console.error(t)});Kl.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function s8(t){t.use(FU).use(Kl)}const r8=Bo({__name:"FreeLock",setup(t,{expose:e}){e();const i={router:rW(),get getAuth(){return Zm},get signOut(){return uw}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),of=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},yn=typeof window<"u",cC=yn&&"IntersectionObserver"in window,o8=yn&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function Gk(t,e,n){a8(t,e),e.set(t,n)}function a8(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l8(t,e,n){return t.set(YM(t,e),n),n}function dl(t,e){return t.get(YM(t,e))}function YM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function XM(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function af(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>af(t[i],e[i]))}function i_(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),XM(t,e.split("."),n))}function yo(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return i_(t,e,n);if(Array.isArray(e))return XM(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function _y(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function Ct(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function JM(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function qk(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function QM(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const Kk=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Ree=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Mee(t){return Object.keys(t)}function Cb(t,e){return e.every(n=>t.hasOwnProperty(n))}function ZM(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function Yk(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)&&!(n!=null&&n.some(a=>a===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function Us(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function c8(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const eD=/^on[^a-z]/,uC=t=>eD.test(t),u8=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function h8(t){const[e,n]=Yk(t,[eD]),i=Us(e,u8),[s,r]=Yk(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function Ns(t){return t==null?[]:Array.isArray(t)?t:[t]}function Dee(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),bi(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function Mo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function Xk(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function Jk(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function Qk(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function d8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function Nee(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function Hi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(qk(r)&&qk(a)){i[s]=Hi(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function tD(t){return t.map(e=>e.type===Pt?tD(e.children):e).flat()}function Rl(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Rl.cache.has(t))return Rl.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Rl.cache.set(t,e),e}Rl.cache=new Map;function Dc(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Dc(t,n)).flat(1);if(e.suspense)return Dc(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>Dc(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Dc(t,e.component.subTree).flat(1)}return[]}var $p=new WeakMap,wc=new WeakMap;class f8{constructor(e){Gk(this,$p,[]),Gk(this,wc,0),this.size=e}push(e){dl($p,this)[dl(wc,this)]=e,l8(wc,this,(dl(wc,this)+1)%this.size)}values(){return dl($p,this).slice(dl(wc,this)).concat(dl($p,this).slice(0,dl(wc,this)))}}function hC(t){const e=oi({}),n=re(t);return Ji(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),pd(e)}function yg(t,e){return t.includes(e)}function nD(t){return t[2].toLowerCase()+t.slice(3)}const bs=()=>[Function,Array];function Zk(t,e){return e="on"+So(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function p8(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function vg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function iD(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function ud(t,e){var i,s,r,a;const n=vg(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const l=iD(n,e);l?l.focus():ud(t,e==="next"?"first":"last")}}function Lee(t){return t==null||typeof t=="string"&&t.trim()===""}function m8(t,e){if(!(yn&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function g8(t){return t.some(e=>Io(e)?e.type===Mn?!1:e.type!==Pt||g8(e.children):!0)?t:null}function y8(t,e){if(!yn||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function v8(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,l=s.right,h=s.bottom;return n>=r&&n<=l&&i>=a&&i<=h}function bg(){const t=ft(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>QM(t.value)}),e}function Vee(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const sD=["top","bottom"],b8=["start","end","left","right"];function s_(t,e){let[n,i]=t.split(" ");return i||(i=yg(sD,n)?"start":yg(b8,n)?"top":"center"),{side:r_(n,e),align:r_(i,e)}}function r_(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function xb(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Eb(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function eI(t){return{side:t.align,align:t.side}}function tI(t){return yg(sD,t.side)?"y":"x"}class Ml{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function nI(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function rD(t){return Array.isArray(t)?new Ml({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function dC(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,l,h;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],l=+s[12],h=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],l=+s[4],h=+s[5];else return new Ml(e);const d=n.transformOrigin,p=e.x-l-(1-r)*parseFloat(d),f=e.y-h-(1-a)*parseFloat(d.slice(d.indexOf(" ")+1)),v=r?e.width/r:t.offsetWidth+1,_=a?e.height/a:t.offsetHeight+1;return new Ml({x:p,y:f,width:v,height:_})}else return new Ml(e)}function Nc(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const dm=new WeakMap;function _8(t,e){Object.keys(e).forEach(n=>{if(uC(n)){const i=nD(n),s=dm.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,l]=r;a===i&&(t.removeEventListener(i,l),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),dm.has(t)||dm.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function w8(t,e){Object.keys(e).forEach(n=>{if(uC(n)){const i=nD(n),s=dm.get(t);s==null||s.forEach(r=>{const[a,l]=r;a===i&&(t.removeEventListener(i,l),s.delete(r))})}else t.removeAttribute(n)})}const Cc=2.4,iI=.2126729,sI=.7151522,rI=.072175,C8=.55,x8=.58,E8=.57,T8=.62,Up=.03,oI=1.45,S8=5e-4,k8=1.25,I8=1.25,aI=.078,lI=12.82051282051282,Hp=.06,cI=.001;function uI(t,e){const n=(t.r/255)**Cc,i=(t.g/255)**Cc,s=(t.b/255)**Cc,r=(e.r/255)**Cc,a=(e.g/255)**Cc,l=(e.b/255)**Cc;let h=n*iI+i*sI+s*rI,d=r*iI+a*sI+l*rI;if(h<=Up&&(h+=(Up-h)**oI),d<=Up&&(d+=(Up-d)**oI),Math.abs(d-h)<S8)return 0;let p;if(d>h){const f=(d**C8-h**x8)*k8;p=f<cI?0:f<aI?f-f*lI*Hp:f-Hp}else{const f=(d**T8-h**E8)*I8;p=f>-cI?0:f>-aI?f-f*lI*Hp:f+Hp}return p*100}function Rr(t){is(`Vuetify: ${t}`)}function Rd(t){is(`Vuetify error: ${t}`)}function A8(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`,is(`[Vuetify UPGRADE] '${t}' is deprecated, use ${e} instead.`)}const _g=.20689655172413793,P8=t=>t>_g**3?Math.cbrt(t):t/(3*_g**2)+4/29,O8=t=>t>_g?t**3:3*_g**2*(t-4/29);function oD(t){const e=P8,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function aD(t){const e=O8,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const R8=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],M8=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,D8=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],N8=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function lD(t){const e=Array(3),n=M8,i=R8;for(let s=0;s<3;++s)e[s]=Math.round(Mo(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function fC(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=N8,a=D8;e=r(e/255),n=r(n/255),i=r(i/255);for(let l=0;l<3;++l)s[l]=a[l][0]*e+a[l][1]*n+a[l][2]*i;return s}function o_(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function L8(t){return o_(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const hI=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,V8={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>dI({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>dI({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>Md({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>Md({h:t,s:e,v:n,a:i})};function kr(t){if(typeof t=="number")return(isNaN(t)||t<0||t>16777215)&&Rr(`'${t}' is not a valid hex color`),{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&hI.test(t)){const{groups:e}=t.match(hI),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return V8[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;[3,4].includes(e.length)?e=e.split("").map(i=>i+i).join(""):[6,8].includes(e.length)||Rr(`'${t}' is not a valid hex(a) color`);const n=parseInt(e,16);return(isNaN(n)||n<0||n>4294967295)&&Rr(`'${t}' is not a valid hex(a) color`),B8(e)}else if(typeof t=="object"){if(Cb(t,["r","g","b"]))return t;if(Cb(t,["h","s","l"]))return Md(cD(t));if(Cb(t,["h","s","v"]))return Md(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Md(t){const{h:e,s:n,v:i,a:s}=t,r=l=>{const h=(l+e/60)%6;return i-i*n*Math.max(Math.min(h,4-h,1),0)},a=[r(5),r(3),r(1)].map(l=>Math.round(l*255));return{r:a[0],g:a[1],b:a[2],a:s}}function dI(t){return Md(cD(t))}function cD(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function Wp(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function F8(t){let{r:e,g:n,b:i,a:s}=t;return`#${[Wp(e),Wp(n),Wp(i),s!==void 0?Wp(Math.round(s*255)):""].join("")}`}function B8(t){t=j8(t);let[e,n,i,s]=d8(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function j8(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=Jk(Jk(t,6),8,"F")),t}function $8(t,e){const n=oD(fC(t));return n[0]=n[0]+e*10,lD(aD(n))}function U8(t,e){const n=oD(fC(t));return n[0]=n[0]-e*10,lD(aD(n))}function H8(t){const e=kr(t);return fC(e)[1]}function uD(t){const e=Math.abs(uI(kr(0),kr(t)));return Math.abs(uI(kr(16777215),kr(t)))>Math.min(e,50)?"#fff":"#000"}function Fe(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Dt=Fe({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Qn(t,e){const n=Hs();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Ur(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Qn(t).type;return Rl((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let hD=0,fm=new WeakMap;function Hr(){const t=Qn("getUid");if(fm.has(t))return fm.get(t);{const e=hD++;return fm.set(t,e),e}}Hr.reset=()=>{hD=0,fm=new WeakMap};function W8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const fu=Symbol.for("vuetify:defaults");function z8(t){return Ke(t)}function pC(){const t=qt(fu);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Ou(t,e){const n=pC(),i=Ke(t),s=re(()=>{if(bi(e==null?void 0:e.disabled))return n.value;const a=bi(e==null?void 0:e.scoped),l=bi(e==null?void 0:e.reset),h=bi(e==null?void 0:e.root);if(i.value==null&&!(a||l||h))return n.value;let d=Hi(i.value,{prev:n.value});if(a)return d;if(l||h){const p=Number(l||1/0);for(let f=0;f<=p&&!(!d||!("prev"in d));f++)d=d.prev;return d&&typeof h=="string"&&h in d&&(d=Hi(Hi(d,{prev:d}),d[h])),d}return d.prev?Hi(d.prev,d):d});return wi(fu,s),s}function G8(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[Rl(e)])<"u"}function q8(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pC();const i=Qn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=re(()=>{var h;return(h=n.value)==null?void 0:h[t._as??e]}),r=new Proxy(t,{get(h,d){var f,v,_,y,b,x,k;const p=Reflect.get(h,d);return d==="class"||d==="style"?[(f=s.value)==null?void 0:f[d],p].filter(I=>I!=null):typeof d=="string"&&!G8(i.vnode,d)?((v=s.value)==null?void 0:v[d])!==void 0?(_=s.value)==null?void 0:_[d]:((b=(y=n.value)==null?void 0:y.global)==null?void 0:b[d])!==void 0?(k=(x=n.value)==null?void 0:x.global)==null?void 0:k[d]:p:p}}),a=ft();Ji(()=>{if(s.value){const h=Object.entries(s.value).filter(d=>{let[p]=d;return p.startsWith(p[0].toUpperCase())});a.value=h.length?Object.fromEntries(h):void 0}else a.value=void 0});function l(){const h=W8(fu,i);wi(fu,re(()=>a.value?Hi((h==null?void 0:h.value)??{},a.value):h==null?void 0:h.value))}return{props:r,provideSubDefaults:l}}function Ru(t){if(t._setup=t._setup??t.setup,!t.name)return Rr("The component is missing an explicit name, unable to generate default prop value"),t;if(t._setup){t.props=Fe(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return ZM(i,e)},t.props._as=String,t.setup=function(i,s){const r=pC();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:l}=q8(i,i._as??t.name,r),h=t._setup(a,s);return l(),h}}return t}function rt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Ru:Bo)(e)}function Fee(t,e){return e.props=t,e}function lf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return rt()({name:n??So(_i(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Dt()},setup(i,s){let{slots:r}=s;return()=>{var a;return $o(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function dD(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const wg="cubic-bezier(0.4, 0, 0.2, 1)",K8="cubic-bezier(0.0, 0, 0.2, 1)",Y8="cubic-bezier(0.4, 0, 1, 1)";function X8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?J8(t):mC(t))return t;t=t.parentElement}return document.scrollingElement}function Cg(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(mC(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function mC(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function J8(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function Q8(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function gt(t){const e=Qn("useRender");e.render=t}const Wr=Fe({border:[Boolean,Number,String]},"border");function zr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();return{borderClasses:re(()=>{const i=Gt(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Z8=[null,"default","comfortable","compact"],zo=Fe({density:{type:String,default:"default",validator:t=>Z8.includes(t)}},"density");function Fa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();return{densityClasses:re(()=>`${e}--density-${t.density}`)}}const Gr=Fe({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function qr(t){return{elevationClasses:re(()=>{const n=Gt(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const os=Fe({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function as(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();return{roundedClasses:re(()=>{const i=Gt(t)?t.value:t.rounded,s=Gt(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const Gn=Fe({tag:{type:String,default:"div"}},"tag"),xg=Symbol.for("vuetify:theme"),Zn=Fe({theme:String},"theme");function fI(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function eX(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fI();const e=fI();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const l=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=Hi(l,a)}return Hi(e,{...t,themes:n})}function tX(t){const e=eX(t),n=Ke(e.defaultTheme),i=Ke(e.themes),s=re(()=>{const p={};for(const[f,v]of Object.entries(i.value)){const _=p[f]={...v,colors:{...v.colors}};if(e.variations)for(const y of e.variations.colors){const b=_.colors[y];if(b)for(const x of["lighten","darken"]){const k=x==="lighten"?$8:U8;for(const I of _y(e.variations[x],1))_.colors[`${y}-${x}-${I}`]=F8(k(kr(b),I))}}for(const y of Object.keys(_.colors)){if(/^on-[a-z]/.test(y)||_.colors[`on-${y}`])continue;const b=`on-${y}`,x=kr(_.colors[y]);_.colors[b]=uD(x)}}return p}),r=re(()=>s.value[n.value]),a=re(()=>{var y;const p=[];(y=r.value)!=null&&y.dark&&fl(p,":root",["color-scheme: dark"]),fl(p,":root",pI(r.value));for(const[b,x]of Object.entries(s.value))fl(p,`.v-theme--${b}`,[`color-scheme: ${x.dark?"dark":"normal"}`,...pI(x)]);const f=[],v=[],_=new Set(Object.values(s.value).flatMap(b=>Object.keys(b.colors)));for(const b of _)/^on-[a-z]/.test(b)?fl(v,`.${b}`,[`color: rgb(var(--v-theme-${b})) !important`]):(fl(f,`.bg-${b}`,[`--v-theme-overlay-multiplier: var(--v-theme-${b}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${b})) !important`,`color: rgb(var(--v-theme-on-${b})) !important`]),fl(v,`.text-${b}`,[`color: rgb(var(--v-theme-${b})) !important`]),fl(v,`.border-${b}`,[`--v-border-color: var(--v-theme-${b})`]));return p.push(...f,...v),p.map((b,x)=>x===0?b:`    ${b}`).join("")});function l(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function h(p){if(e.isDisabled)return;const f=p._context.provides.usehead;if(f)if(f.push){const v=f.push(l);yn&&ht(a,()=>{v.patch(l)})}else yn?(f.addHeadObjs(re(l)),Ji(()=>f.updateDOM())):f.addHeadObjs(l());else{let _=function(){if(typeof document<"u"&&!v){const y=document.createElement("style");y.type="text/css",y.id="vuetify-theme-stylesheet",e.cspNonce&&y.setAttribute("nonce",e.cspNonce),v=y,document.head.appendChild(v)}v&&(v.innerHTML=a.value)},v=yn?document.getElementById("vuetify-theme-stylesheet"):null;yn?ht(a,_,{immediate:!0}):_()}}const d=re(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:h,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:d,styles:a,global:{name:n,current:r}}}function ci(t){Qn("provideTheme");const e=qt(xg,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=re(()=>t.theme??e.name.value),i=re(()=>e.themes.value[n.value]),s=re(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return wi(xg,r),r}function fl(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function pI(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=kr(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${H8(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?kr(r):void 0,l=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${l??r}`)}return i}function gC(t){return hC(()=>{const e=[],n={};if(t.value.background)if(o_(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&L8(t.value.background)){const i=kr(t.value.background);if(i.a==null||i.a===1){const s=uD(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(o_(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Do(t,e){const n=re(()=>({text:Gt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=gC(n);return{textColorClasses:i,textColorStyles:s}}function rs(t,e){const n=re(()=>({background:Gt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=gC(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const nX=["elevated","flat","tonal","outlined","text","plain"];function cf(t,e){return Q(Pt,null,[t&&Q("span",{key:"overlay",class:`${e}__overlay`},null),Q("span",{key:"underlay",class:`${e}__underlay`},null)])}const Zl=Fe({color:String,variant:{type:String,default:"elevated",validator:t=>nX.includes(t)}},"variant");function uf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();const n=re(()=>{const{variant:r}=bi(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=gC(re(()=>{const{variant:r,color:a}=bi(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const fD=Fe({baseColor:String,divided:Boolean,...Wr(),...Dt(),...zo(),...Gr(),...os(),...Gn(),...Zn(),...Zl()},"VBtnGroup"),a_=rt()({name:"VBtnGroup",props:fD(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=ci(t),{densityClasses:s}=Fa(t),{borderClasses:r}=zr(t),{elevationClasses:a}=qr(t),{roundedClasses:l}=as(t);Ou({VBtn:{height:"auto",baseColor:wt(t,"baseColor"),color:wt(t,"color"),density:wt(t,"density"),flat:!0,variant:wt(t,"variant")}}),gt(()=>Q(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,l.value,t.class],style:t.style},n))}});function Ls(t,e){let n;function i(){n=mu(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}ht(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),ws(()=>{n==null||n.stop()})}function un(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:f=>f,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f=>f;const r=Qn("useProxiedModel"),a=Ke(t[e]!==void 0?t[e]:n),l=Rl(e),d=re(l!==e?()=>{var f,v,_,y;return t[e],!!(((f=r.vnode.props)!=null&&f.hasOwnProperty(e)||(v=r.vnode.props)!=null&&v.hasOwnProperty(l))&&((_=r.vnode.props)!=null&&_.hasOwnProperty(`onUpdate:${e}`)||(y=r.vnode.props)!=null&&y.hasOwnProperty(`onUpdate:${l}`)))}:()=>{var f,v;return t[e],!!((f=r.vnode.props)!=null&&f.hasOwnProperty(e)&&((v=r.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${e}`)))});Ls(()=>!d.value,()=>{ht(()=>t[e],f=>{a.value=f})});const p=re({get(){const f=t[e];return i(d.value?f:a.value)},set(f){const v=s(f),_=Ze(d.value?t[e]:a.value);_===v||i(_)===f||(a.value=v,r==null||r.emit(`update:${e}`,v))}});return Object.defineProperty(p,"externalValue",{get:()=>d.value?t[e]:a.value}),p}const iX=Fe({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),sX=Fe({value:null,disabled:Boolean,selectedClass:String},"group-item");function rX(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Qn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Hr();wi(Symbol.for(`${e.description}:id`),s);const r=qt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=wt(t,"value"),l=re(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:l},i),Ci(()=>{r.unregister(s)});const h=re(()=>r.isSelected(s)),d=re(()=>r.items.value[0].id===s),p=re(()=>r.items.value[r.items.value.length-1].id===s),f=re(()=>h.value&&[r.selectedClass.value,t.selectedClass]);return ht(h,v=>{i.emit("group:selected",{value:v})},{flush:"sync"}),{id:s,isSelected:h,isFirst:d,isLast:p,toggle:()=>r.select(s,!h.value),select:v=>r.select(s,v),selectedClass:f,value:a,disabled:l,group:r}}function oX(t,e){let n=!1;const i=oi([]),s=un(t,"modelValue",[],v=>v==null?[]:pD(i,Ns(v)),v=>{const _=lX(i,v);return t.multiple?_:_[0]}),r=Qn("useGroup");function a(v,_){const y=v,b=Symbol.for(`${e.description}:id`),k=Dc(b,r==null?void 0:r.vnode).indexOf(_);bi(y.value)==null&&(y.value=k,y.useIndexAsValue=!0),k>-1?i.splice(k,0,y):i.push(y)}function l(v){if(n)return;h();const _=i.findIndex(y=>y.id===v);i.splice(_,1)}function h(){const v=i.find(_=>!_.disabled);v&&t.mandatory==="force"&&!s.value.length&&(s.value=[v.id])}Cs(()=>{h()}),Ci(()=>{n=!0}),Hg(()=>{for(let v=0;v<i.length;v++)i[v].useIndexAsValue&&(i[v].value=v)});function d(v,_){const y=i.find(b=>b.id===v);if(!(_&&(y!=null&&y.disabled)))if(t.multiple){const b=s.value.slice(),x=b.findIndex(I=>I===v),k=~x;if(_=_??!k,k&&t.mandatory&&b.length<=1||!k&&t.max!=null&&b.length+1>t.max)return;x<0&&_?b.push(v):x>=0&&!_&&b.splice(x,1),s.value=b}else{const b=s.value.includes(v);if(t.mandatory&&b)return;s.value=_??!b?[v]:[]}}function p(v){if(t.multiple&&Rr('This method is not supported when using "multiple" prop'),s.value.length){const _=s.value[0],y=i.findIndex(k=>k.id===_);let b=(y+v)%i.length,x=i[b];for(;x.disabled&&b!==y;)b=(b+v)%i.length,x=i[b];if(x.disabled)return;s.value=[i[b].id]}else{const _=i.find(y=>!y.disabled);_&&(s.value=[_.id])}}const f={register:a,unregister:l,selected:s,select:d,disabled:wt(t,"disabled"),prev:()=>p(i.length-1),next:()=>p(1),isSelected:v=>s.value.includes(v),selectedClass:re(()=>t.selectedClass),items:re(()=>i),getItemIndex:v=>aX(i,v)};return wi(e,f),f}function aX(t,e){const n=pD(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function pD(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>af(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function lX(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const mD=Symbol.for("vuetify:v-btn-toggle"),cX=Fe({...fD(),...iX()},"VBtnToggle");rt()({name:"VBtnToggle",props:cX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:l}=oX(t,mD);return gt(()=>{const h=a_.filterProps(t);return Q(a_,dt({class:["v-btn-toggle",t.class]},h,{style:t.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:i,next:s,prev:r,select:a,selected:l})]}})}),{next:s,prev:r,select:a}}});const uX=Fe({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),En=rt(!1)({name:"VDefaultsProvider",props:uX(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:l}=pd(t);return Ou(i,{reset:r,root:a,scoped:l,disabled:s}),()=>{var h;return(h=n.default)==null?void 0:h.call(n)}}}),gD={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},hf={component:t=>$o(vD,{...t,class:"mdi"})},mn=[String,Function,Object,Array],l_=Symbol.for("vuetify:icons"),wy=Fe({icon:{type:mn},tag:{type:String,required:!0}},"icon"),mI=rt()({name:"VComponentIcon",props:wy(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return Q(t.tag,null,{default:()=>{var s;return[t.icon?Q(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),yD=Ru({name:"VSvgIcon",inheritAttrs:!1,props:wy(),setup(t,e){let{attrs:n}=e;return()=>Q(t.tag,dt(n,{style:null}),{default:()=>[Q("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?Q("path",{d:i[0],"fill-opacity":i[1]},null):Q("path",{d:i},null)):Q("path",{d:t.icon},null)])]})}});Ru({name:"VLigatureIcon",props:wy(),setup(t){return()=>Q(t.tag,null,{default:()=>[t.icon]})}});const vD=Ru({name:"VClassIcon",props:wy(),setup(t){return()=>Q(t.tag,{class:t.icon},null)}});function hX(){return{svg:{component:yD},class:{component:vD}}}function dX(t){const e=hX(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=hf),Hi({defaultSet:n,sets:e,aliases:{...gD,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const fX=t=>{const e=qt(l_);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:re(()=>{var h;const i=bi(t);if(!i)return{component:mI};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(h=e.aliases)==null?void 0:h[s.slice(1)])),s||Rr(`Could not find aliased icon "${i}"`),Array.isArray(s))return{component:yD,icon:s};if(typeof s!="string")return{component:mI,icon:s};const r=Object.keys(e.sets).find(d=>typeof s=="string"&&s.startsWith(`${d}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},pX=["x-small","small","default","large","x-large"],Cy=Fe({size:{type:[String,Number],default:"default"}},"size");function xy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();return hC(()=>{let n,i;return yg(pX,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:Ct(t.size),height:Ct(t.size)}),{sizeClasses:n,sizeStyles:i}})}const mX=Fe({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:mn,...Dt(),...Cy(),...Gn({tag:"i"}),...Zn()},"VIcon"),Vs=rt()({name:"VIcon",props:mX(),setup(t,e){let{attrs:n,slots:i}=e;const s=Ke(),{themeClasses:r}=ci(t),{iconData:a}=fX(re(()=>s.value||t.icon)),{sizeClasses:l}=xy(t),{textColorClasses:h,textColorStyles:d}=Do(wt(t,"color"));return gt(()=>{var v,_;const p=(v=i.default)==null?void 0:v.call(i);p&&(s.value=(_=tD(p).filter(y=>y.type===Xl&&y.children&&typeof y.children=="string")[0])==null?void 0:_.children);const f=!!(n.onClick||n.onClickOnce);return Q(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,l.value,h.value,{"v-icon--clickable":f,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[l.value?void 0:{fontSize:Ct(t.size),height:Ct(t.size),width:Ct(t.size)},d.value,t.style],role:f?"button":void 0,"aria-hidden":!f,tabindex:f?t.disabled?-1:0:void 0},{default:()=>[p]})}),{}}});function bD(t,e){const n=Ke(),i=ft(!1);if(cC){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);Ci(()=>{s.disconnect()}),ht(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}function yC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=bg(),i=Ke();if(yn){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});Ci(()=>{s.disconnect()}),ht(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:gu(i)}}const gX=Fe({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Dt(),...Cy(),...Gn({tag:"div"}),...Zn()},"VProgressCircular"),yX=rt()({name:"VProgressCircular",props:gX(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=Ke(),{themeClasses:a}=ci(t),{sizeClasses:l,sizeStyles:h}=xy(t),{textColorClasses:d,textColorStyles:p}=Do(wt(t,"color")),{textColorClasses:f,textColorStyles:v}=Do(wt(t,"bgColor")),{intersectionRef:_,isIntersecting:y}=bD(),{resizeRef:b,contentRect:x}=yC(),k=re(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),I=re(()=>Number(t.width)),D=re(()=>h.value?Number(t.size):x.value?x.value.width:Math.max(I.value,32)),N=re(()=>i/(1-I.value/D.value)*2),V=re(()=>I.value/D.value*N.value),P=re(()=>Ct((100-k.value)/100*s));return Ji(()=>{_.value=r.value,b.value=r.value}),gt(()=>Q(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,l.value,d.value,t.class],style:[h.value,p.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:k.value},{default:()=>[Q("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${N.value} ${N.value}`},[Q("circle",{class:["v-progress-circular__underlay",f.value],style:v.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":V.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),Q("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":V.value,"stroke-dasharray":s,"stroke-dashoffset":P.value},null)]),n.default&&Q("div",{class:"v-progress-circular__content"},[n.default({value:k.value})])]})),{}}}),Kr=Fe({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Yr(t){return{dimensionStyles:re(()=>{const n={},i=Ct(t.height),s=Ct(t.maxHeight),r=Ct(t.maxWidth),a=Ct(t.minHeight),l=Ct(t.minWidth),h=Ct(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),l!=null&&(n.minWidth=l),h!=null&&(n.width=h),n})}}const vX={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},gI="$vuetify.",yI=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),_D=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith(gI))return yI(i,r);const l=i.replace(gI,""),h=t.value&&n.value[t.value],d=e.value&&n.value[e.value];let p=i_(h,l,null);return p||(Rr(`Translation key "${i}" not found in "${t.value}", trying fallback locale`),p=i_(d,l,null)),p||(Rd(`Translation key "${i}" not found in fallback`),p=i),typeof p!="string"&&(Rd(`Translation key "${i}" has a non-string value`),p=i),yI(p,r)};function wD(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function Tb(t,e,n){const i=un(t,e,t[e]??n.value);return i.value=t[e]??n.value,ht(n,s=>{t[e]==null&&(i.value=n.value)}),i}function CD(t){return e=>{const n=Tb(e,"locale",t.current),i=Tb(e,"fallback",t.fallback),s=Tb(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:_D(n,i,s),n:wD(n,i),provide:CD({current:n,fallback:i,messages:s})}}}function bX(t){const e=ft((t==null?void 0:t.locale)??"en"),n=ft((t==null?void 0:t.fallback)??"en"),i=Ke({en:vX,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:_D(e,n,i),n:wD(e,n),provide:CD({current:e,fallback:n,messages:i})}}const Eg=Symbol.for("vuetify:locale");function _X(t){return t.name!=null}function wX(t){const e=t!=null&&t.adapter&&_X(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:bX(t),n=xX(e,t);return{...e,...n}}function Mu(){const t=qt(Eg);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function CX(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function xX(t,e){const n=Ke((e==null?void 0:e.rtl)??CX()),i=re(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:re(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Xr(){const t=qt(Eg);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const vI={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},df=Fe({location:String},"location");function ff(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Xr();return{locationStyles:re(()=>{if(!t.location)return{};const{side:r,align:a}=s_(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function l(d){return n?n(d):0}const h={};return r!=="center"&&(e?h[vI[r]]=`calc(100% - ${l(r)}px)`:h[r]=0),a!=="center"?e?h[vI[a]]=`calc(100% - ${l(a)}px)`:h[a]=0:(r==="center"?h.top=h.left="50%":h[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",h.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),h})}}const EX=Fe({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Dt(),...df({location:"top"}),...os(),...Gn(),...Zn()},"VProgressLinear"),xD=rt()({name:"VProgressLinear",props:EX(),emits:{"update:modelValue":t=>!0},setup(t,e){var U;let{slots:n}=e;const i=un(t,"modelValue"),{isRtl:s,rtlClasses:r}=Xr(),{themeClasses:a}=ci(t),{locationStyles:l}=ff(t),{textColorClasses:h,textColorStyles:d}=Do(t,"color"),{backgroundColorClasses:p,backgroundColorStyles:f}=rs(re(()=>t.bgColor||t.color)),{backgroundColorClasses:v,backgroundColorStyles:_}=rs(re(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:y,backgroundColorStyles:b}=rs(t,"color"),{roundedClasses:x}=as(t),{intersectionRef:k,isIntersecting:I}=bD(),D=re(()=>parseFloat(t.max)),N=re(()=>parseFloat(t.height)),V=re(()=>Mo(parseFloat(t.bufferValue)/D.value*100,0,100)),P=re(()=>Mo(parseFloat(i.value)/D.value*100,0,100)),T=re(()=>s.value!==t.reverse),R=re(()=>t.indeterminate?"fade-transition":"slide-x-transition"),L=yn&&((U=window.matchMedia)==null?void 0:U.call(window,"(forced-colors: active)").matches);function B(z){if(!k.value)return;const{left:H,right:q,width:Z}=k.value.getBoundingClientRect(),se=T.value?Z-z.clientX+(q-Z):z.clientX-H;i.value=Math.round(se/Z*D.value)}return gt(()=>Q(t.tag,{ref:k,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&I.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},x.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?Ct(N.value):0,"--v-progress-linear-height":Ct(N.value),...t.absolute?l.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:P.value,onClick:t.clickable&&B},{default:()=>[t.stream&&Q("div",{key:"stream",class:["v-progress-linear__stream",h.value],style:{...d.value,[T.value?"left":"right"]:Ct(-N.value),borderTop:`${Ct(N.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${Ct(N.value/4)})`,width:Ct(100-V.value,"%"),"--v-progress-linear-stream-to":Ct(N.value*(T.value?1:-1))}},null),Q("div",{class:["v-progress-linear__background",L?void 0:p.value],style:[f.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),Q("div",{class:["v-progress-linear__buffer",L?void 0:v.value],style:[_.value,{opacity:parseFloat(t.bufferOpacity),width:Ct(V.value,"%")}]},null),Q(Ao,{name:R.value},{default:()=>[t.indeterminate?Q("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(z=>Q("div",{key:z,class:["v-progress-linear__indeterminate",z,L?void 0:y.value],style:b.value},null))]):Q("div",{class:["v-progress-linear__determinate",L?void 0:y.value],style:[b.value,{width:Ct(P.value,"%")}]},null)]}),n.default&&Q("div",{class:"v-progress-linear__content"},[n.default({value:P.value,buffer:V.value})])]})),{}}}),vC=Fe({loading:[Boolean,String]},"loader");function bC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();return{loaderClasses:re(()=>({[`${e}--loading`]:t.loading}))}}function ED(t,e){var i;let{slots:n}=e;return Q("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||Q(xD,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const TX=["static","relative","fixed","absolute","sticky"],Ey=Fe({position:{type:String,validator:t=>TX.includes(t)}},"position");function Ty(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();return{positionClasses:re(()=>t.position?`${e}--${t.position}`:void 0)}}function SX(){const t=Qn("useRoute");return re(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function TD(){var t,e;return(e=(t=Qn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function _C(t,e){var f,v;const n=rA("RouterLink"),i=re(()=>!!(t.href||t.to)),s=re(()=>(i==null?void 0:i.value)||Zk(e,"click")||Zk(t,"click"));if(typeof n=="string"||!("useLink"in n)){const _=wt(t,"href");return{isLink:i,isClickable:s,href:_,linkProps:oi({href:_})}}const r=re(()=>({...t,to:wt(()=>t.to||"")})),a=n.useLink(r.value),l=re(()=>t.to?a:void 0),h=SX(),d=re(()=>{var _,y,b;return l.value?t.exact?h.value?((b=l.value.isExactActive)==null?void 0:b.value)&&af(l.value.route.value.query,h.value.query):((y=l.value.isExactActive)==null?void 0:y.value)??!1:((_=l.value.isActive)==null?void 0:_.value)??!1:!1}),p=re(()=>{var _;return t.to?(_=l.value)==null?void 0:_.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:d,route:(f=l.value)==null?void 0:f.route,navigate:(v=l.value)==null?void 0:v.navigate,href:p,linkProps:oi({href:p,"aria-current":re(()=>d.value?"page":void 0)})}}const wC=Fe({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Sb=!1;function kX(t,e){let n=!1,i,s;yn&&(li(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,l,h)=>{Sb?n?e(h):h():setTimeout(()=>n?e(h):h()),Sb=!0}),s=t==null?void 0:t.afterEach(()=>{Sb=!1})}),ws(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var l;(l=a.state)!=null&&l.replaced||(n=!0,setTimeout(()=>n=!1))}}function IX(t,e){ht(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&li(()=>{e(!0)})},{immediate:!0})}const c_=Symbol("rippleStop"),AX=80;function bI(t,e){t.style.transform=e,t.style.webkitTransform=e}function u_(t){return t.constructor.name==="TouchEvent"}function SD(t){return t.constructor.name==="KeyboardEvent"}const PX=function(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!SD(t)){const v=e.getBoundingClientRect(),_=u_(t)?t.touches[t.touches.length-1]:t;i=_.clientX-v.left,s=_.clientY-v.top}let r=0,a=.3;(f=e._ripple)!=null&&f.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const l=`${(e.clientWidth-r*2)/2}px`,h=`${(e.clientHeight-r*2)/2}px`,d=n.center?l:`${i-r}px`,p=n.center?h:`${s-r}px`;return{radius:r,scale:a,x:d,y:p,centerX:l,centerY:h}},Tg={show(t,e){var _;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((_=e==null?void 0:e._ripple)!=null&&_.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:l,y:h,centerX:d,centerY:p}=PX(t,e,n),f=`${r*2}px`;s.className="v-ripple__animation",s.style.width=f,s.style.height=f,e.appendChild(i);const v=window.getComputedStyle(e);v&&v.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),bI(s,`translate(${l}, ${h}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),bI(s,`translate(${d}, ${p}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var l;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((l=n.parentNode)==null?void 0:l.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function kD(t){return typeof t>"u"||!!t}function Dd(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[c_])){if(t[c_]=!0,u_(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||SD(t),n._ripple.class&&(e.class=n._ripple.class),u_(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Tg.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},AX)}else Tg.show(t,n,e)}}function _I(t){t[c_]=!0}function gs(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{gs(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Tg.hide(e)}}function ID(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Nd=!1;function AD(t){!Nd&&(t.keyCode===Kk.enter||t.keyCode===Kk.space)&&(Nd=!0,Dd(t))}function PD(t){Nd=!1,gs(t)}function OD(t){Nd&&(Nd=!1,gs(t))}function RD(t,e,n){const{value:i,modifiers:s}=e,r=kD(i);if(r||Tg.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,JM(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",_I,{passive:!0}),t.addEventListener("mousedown",_I);return}t.addEventListener("touchstart",Dd,{passive:!0}),t.addEventListener("touchend",gs,{passive:!0}),t.addEventListener("touchmove",ID,{passive:!0}),t.addEventListener("touchcancel",gs),t.addEventListener("mousedown",Dd),t.addEventListener("mouseup",gs),t.addEventListener("mouseleave",gs),t.addEventListener("keydown",AD),t.addEventListener("keyup",PD),t.addEventListener("blur",OD),t.addEventListener("dragstart",gs,{passive:!0})}else!r&&n&&MD(t)}function MD(t){t.removeEventListener("mousedown",Dd),t.removeEventListener("touchstart",Dd),t.removeEventListener("touchend",gs),t.removeEventListener("touchmove",ID),t.removeEventListener("touchcancel",gs),t.removeEventListener("mouseup",gs),t.removeEventListener("mouseleave",gs),t.removeEventListener("keydown",AD),t.removeEventListener("keyup",PD),t.removeEventListener("dragstart",gs),t.removeEventListener("blur",OD)}function OX(t,e){RD(t,e,!1)}function RX(t){delete t._ripple,MD(t)}function MX(t,e){if(e.value===e.oldValue)return;const n=kD(e.oldValue);RD(t,e,n)}const CC={mounted:OX,unmounted:RX,updated:MX},DD=Fe({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:mD},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:mn,appendIcon:mn,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Wr(),...Dt(),...zo(),...Kr(),...Gr(),...sX(),...vC(),...df(),...Ey(),...os(),...wC(),...Cy(),...Gn({tag:"button"}),...Zn(),...Zl({variant:"elevated"})},"VBtn"),xn=rt()({name:"VBtn",props:DD(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=ci(t),{borderClasses:r}=zr(t),{densityClasses:a}=Fa(t),{dimensionStyles:l}=Yr(t),{elevationClasses:h}=qr(t),{loaderClasses:d}=bC(t),{locationStyles:p}=ff(t),{positionClasses:f}=Ty(t),{roundedClasses:v}=as(t),{sizeClasses:_,sizeStyles:y}=xy(t),b=rX(t,t.symbol,!1),x=_C(t,n),k=re(()=>{var U;return t.active!==void 0?t.active:x.isLink.value?(U=x.isActive)==null?void 0:U.value:b==null?void 0:b.isSelected.value}),I=re(()=>k.value?t.activeColor??t.color:t.color),D=re(()=>{var z,H;return{color:(b==null?void 0:b.isSelected.value)&&(!x.isLink.value||((z=x.isActive)==null?void 0:z.value))||!b||((H=x.isActive)==null?void 0:H.value)?I.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:N,colorStyles:V,variantClasses:P}=uf(D),T=re(()=>(b==null?void 0:b.disabled.value)||t.disabled),R=re(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),L=re(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function B(U){var z;T.value||x.isLink.value&&(U.metaKey||U.ctrlKey||U.shiftKey||U.button!==0||n.target==="_blank")||((z=x.navigate)==null||z.call(x,U),b==null||b.toggle())}return IX(x,b==null?void 0:b.select),gt(()=>{const U=x.isLink.value?"a":t.tag,z=!!(t.prependIcon||i.prepend),H=!!(t.appendIcon||i.append),q=!!(t.icon&&t.icon!==!0);return Pi(Q(U,dt({type:U==="a"?void 0:"button",class:["v-btn",b==null?void 0:b.selectedClass.value,{"v-btn--active":k.value,"v-btn--block":t.block,"v-btn--disabled":T.value,"v-btn--elevated":R.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,N.value,a.value,h.value,d.value,f.value,v.value,_.value,P.value,t.class],style:[V.value,l.value,p.value,y.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:T.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:B,value:L.value},x.linkProps),{default:()=>{var Z;return[cf(!0,"v-btn"),!t.icon&&z&&Q("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?Q(En,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):Q(Vs,{key:"prepend-icon",icon:t.prependIcon},null)]),Q("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&q?Q(Vs,{key:"content-icon",icon:t.icon},null):Q(En,{key:"content-defaults",disabled:!q,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var se;return[((se=i.default)==null?void 0:se.call(i))??t.text]}})]),!t.icon&&H&&Q("span",{key:"append",class:"v-btn__append"},[i.append?Q(En,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):Q(Vs,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&Q("span",{key:"loader",class:"v-btn__loader"},[((Z=i.loader)==null?void 0:Z.call(i))??Q(yX,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[CC,!T.value&&t.ripple,"",{center:!!t.icon}]])}),{group:b}}}),DX=rt()({name:"VCardActions",props:Dt(),setup(t,e){let{slots:n}=e;return Ou({VBtn:{slim:!0,variant:"text"}}),gt(()=>{var i;return Q("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),NX=Fe({opacity:[Number,String],...Dt(),...Gn()},"VCardSubtitle"),xC=rt()({name:"VCardSubtitle",props:NX(),setup(t,e){let{slots:n}=e;return gt(()=>Q(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),EC=lf("v-card-title");function LX(t){return{aspectStyles:re(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const ND=Fe({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Dt(),...Kr()},"VResponsive"),wI=rt()({name:"VResponsive",props:ND(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=LX(t),{dimensionStyles:s}=Yr(t);return gt(()=>{var r;return Q("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[Q("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&Q("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),Sy=Fe({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),Ir=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:l=r?z_:Ao,...h}=typeof i=="object"?i:{};return $o(l,dt(typeof i=="string"?{name:s?"":i}:h,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(d=>{let[p,f]=d;return f!==void 0})),a),n)};function VX(t,e){if(!cC)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var f;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;const d=(f=t._observe)==null?void 0:f[e.instance.$.uid];if(!d)return;const p=l.some(v=>v.isIntersecting);s&&(!n.quiet||d.init)&&(!n.once||p||d.init)&&s(p,l,h),p&&n.once?LD(t,e):d.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function LD(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const VD={mounted:VX,unmounted:LD},FX=Fe({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...ND(),...Dt(),...os(),...Sy()},"VImg"),ky=rt()({name:"VImg",directives:{intersect:VD},props:FX(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=rs(wt(t,"color")),{roundedClasses:a}=as(t),l=Qn("VImg"),h=ft(""),d=Ke(),p=ft(t.eager?"loading":"idle"),f=ft(),v=ft(),_=re(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),y=re(()=>_.value.aspect||f.value/v.value||0);ht(()=>t.src,()=>{b(p.value!=="idle")}),ht(y,(z,H)=>{!z&&H&&d.value&&N(d.value)}),Ud(()=>b());function b(z){if(!(t.eager&&z)&&!(cC&&!z&&!t.eager)){if(p.value="loading",_.value.lazySrc){const H=new Image;H.src=_.value.lazySrc,N(H,null)}_.value.src&&li(()=>{var H;n("loadstart",((H=d.value)==null?void 0:H.currentSrc)||_.value.src),setTimeout(()=>{var q;if(!l.isUnmounted)if((q=d.value)!=null&&q.complete){if(d.value.naturalWidth||k(),p.value==="error")return;y.value||N(d.value,null),p.value==="loading"&&x()}else y.value||N(d.value),I()})})}}function x(){var z;l.isUnmounted||(I(),N(d.value),p.value="loaded",n("load",((z=d.value)==null?void 0:z.currentSrc)||_.value.src))}function k(){var z;l.isUnmounted||(p.value="error",n("error",((z=d.value)==null?void 0:z.currentSrc)||_.value.src))}function I(){const z=d.value;z&&(h.value=z.currentSrc||z.src)}let D=-1;Ci(()=>{clearTimeout(D)});function N(z){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const q=()=>{if(clearTimeout(D),l.isUnmounted)return;const{naturalHeight:Z,naturalWidth:se}=z;Z||se?(f.value=se,v.value=Z):!z.complete&&p.value==="loading"&&H!=null?D=window.setTimeout(q,H):(z.currentSrc.endsWith(".svg")||z.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,v.value=1)};q()}const V=re(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),P=()=>{var q;if(!_.value.src||p.value==="idle")return null;const z=Q("img",{class:["v-img__img",V.value],style:{objectPosition:t.position},src:_.value.src,srcset:_.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:d,onLoad:x,onError:k},null),H=(q=i.sources)==null?void 0:q.call(i);return Q(Ir,{transition:t.transition,appear:!0},{default:()=>[Pi(H?Q("picture",{class:"v-img__picture"},[H,z]):z,[[bu,p.value==="loaded"]])]})},T=()=>Q(Ir,{transition:t.transition},{default:()=>[_.value.lazySrc&&p.value!=="loaded"&&Q("img",{class:["v-img__img","v-img__img--preload",V.value],style:{objectPosition:t.position},src:_.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),R=()=>i.placeholder?Q(Ir,{transition:t.transition,appear:!0},{default:()=>[(p.value==="loading"||p.value==="error"&&!i.error)&&Q("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,L=()=>i.error?Q(Ir,{transition:t.transition,appear:!0},{default:()=>[p.value==="error"&&Q("div",{class:"v-img__error"},[i.error()])]}):null,B=()=>t.gradient?Q("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,U=ft(!1);{const z=ht(y,H=>{H&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{U.value=!0})}),z())})}return gt(()=>{const z=wI.filterProps(t);return Pi(Q(wI,dt({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!U.value},s.value,a.value,t.class],style:[{width:Ct(t.width==="auto"?f.value:t.width)},r.value,t.style]},z,{aspectRatio:y.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>Q(Pt,null,[Q(P,null,null),Q(T,null,null),Q(B,null,null),Q(R,null,null),Q(L,null,null)]),default:i.default}),[[Hd("intersect"),{handler:b,options:t.options},null,{once:!0}]])}),{currentSrc:h,image:d,state:p,naturalWidth:f,naturalHeight:v}}}),BX=Fe({start:Boolean,end:Boolean,icon:mn,image:String,text:String,...Wr(),...Dt(),...zo(),...os(),...Cy(),...Gn(),...Zn(),...Zl({variant:"flat"})},"VAvatar"),Sg=rt()({name:"VAvatar",props:BX(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=ci(t),{borderClasses:s}=zr(t),{colorClasses:r,colorStyles:a,variantClasses:l}=uf(t),{densityClasses:h}=Fa(t),{roundedClasses:d}=as(t),{sizeClasses:p,sizeStyles:f}=xy(t);return gt(()=>Q(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,h.value,d.value,p.value,l.value,t.class],style:[a.value,f.value,t.style]},{default:()=>[n.default?Q(En,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?Q(ky,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?Q(Vs,{key:"icon",icon:t.icon},null):t.text,cf(!1,"v-avatar")]})),{}}}),jX=Fe({appendAvatar:String,appendIcon:mn,prependAvatar:String,prependIcon:mn,subtitle:[String,Number],title:[String,Number],...Dt(),...zo()},"VCardItem"),$X=rt()({name:"VCardItem",props:jX(),setup(t,e){let{slots:n}=e;return gt(()=>{var d;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),l=!!(t.title!=null||n.title),h=!!(t.subtitle!=null||n.subtitle);return Q("div",{class:["v-card-item",t.class],style:t.style},[s&&Q("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?Q(En,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):Q(Pt,null,[t.prependAvatar&&Q(Sg,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&Q(Vs,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),Q("div",{class:"v-card-item__content"},[l&&Q(EC,{key:"title"},{default:()=>{var p;return[((p=n.title)==null?void 0:p.call(n))??t.title]}}),h&&Q(xC,{key:"subtitle"},{default:()=>{var p;return[((p=n.subtitle)==null?void 0:p.call(n))??t.subtitle]}}),(d=n.default)==null?void 0:d.call(n)]),a&&Q("div",{key:"append",class:"v-card-item__append"},[n.append?Q(En,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):Q(Pt,null,[t.appendIcon&&Q(Vs,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&Q(Sg,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),UX=Fe({opacity:[Number,String],...Dt(),...Gn()},"VCardText"),FD=rt()({name:"VCardText",props:UX(),setup(t,e){let{slots:n}=e;return gt(()=>Q(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),HX=Fe({appendAvatar:String,appendIcon:mn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:mn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Wr(),...Dt(),...zo(),...Kr(),...Gr(),...vC(),...df(),...Ey(),...os(),...wC(),...Gn(),...Zn(),...Zl({variant:"elevated"})},"VCard"),Ld=rt()({name:"VCard",directives:{Ripple:CC},props:HX(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=ci(t),{borderClasses:r}=zr(t),{colorClasses:a,colorStyles:l,variantClasses:h}=uf(t),{densityClasses:d}=Fa(t),{dimensionStyles:p}=Yr(t),{elevationClasses:f}=qr(t),{loaderClasses:v}=bC(t),{locationStyles:_}=ff(t),{positionClasses:y}=Ty(t),{roundedClasses:b}=as(t),x=_C(t,n),k=re(()=>t.link!==!1&&x.isLink.value),I=re(()=>!t.disabled&&t.link!==!1&&(t.link||x.isClickable.value));return gt(()=>{const D=k.value?"a":t.tag,N=!!(i.title||t.title!=null),V=!!(i.subtitle||t.subtitle!=null),P=N||V,T=!!(i.append||t.appendAvatar||t.appendIcon),R=!!(i.prepend||t.prependAvatar||t.prependIcon),L=!!(i.image||t.image),B=P||R||T,U=!!(i.text||t.text!=null);return Pi(Q(D,dt({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":I.value},s.value,r.value,a.value,d.value,f.value,v.value,y.value,b.value,h.value,t.class],style:[l.value,p.value,_.value,t.style],onClick:I.value&&x.navigate,tabindex:t.disabled?-1:void 0},x.linkProps),{default:()=>{var z;return[L&&Q("div",{key:"image",class:"v-card__image"},[i.image?Q(En,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):Q(ky,{key:"image-img",cover:!0,src:t.image},null)]),Q(ED,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),B&&Q($X,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),U&&Q(FD,{key:"text"},{default:()=>{var H;return[((H=i.text)==null?void 0:H.call(i))??t.text]}}),(z=i.default)==null?void 0:z.call(i),i.actions&&Q(DX,null,{default:i.actions}),cf(I.value,"v-card")]}}),[[Hd("ripple"),I.value&&t.ripple]])}),{}}}),WX={class:"text-center px-4"};function zX(t,e,n,i,s,r){return en(),Rn(Ld,{width:"100%",height:"100%",class:"d-flex flex-column justify-center align-center"},{default:Et(()=>[Ki("div",WX,[e[2]||(e[2]=Ki("h1",{class:"mb-3"},"Monthly API Limit Reached",-1)),e[3]||(e[3]=Ki("p",{class:"mb-5"}," You have reached your monthly limit of free API calls. To continue using the service, you can wait until your quota resets next month or upgrade to a paid plan. ",-1)),Q(xn,{color:"primary",class:"mb-3",onClick:e[0]||(e[0]=a=>i.signOut(i.getAuth()).then(()=>i.router.push("/")))},{default:Et(()=>e[1]||(e[1]=[$n("Sign Out ")])),_:1})])]),_:1})}const GX=of(r8,[["render",zX],["__scopeId","data-v-8e97204e"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/FreeLock.vue"]]),Iy={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function qX(t,e,n){const i=[];let s=[];const r=BD(t),a=jD(t),l=n??Iy[e.slice(-2).toUpperCase()]??0,h=(r.getDay()-l+7)%7,d=(a.getDay()-l+7)%7;for(let p=0;p<h;p++){const f=new Date(r);f.setDate(f.getDate()-(h-p)),s.push(f)}for(let p=1;p<=a.getDate();p++){const f=new Date(t.getFullYear(),t.getMonth(),p);s.push(f),s.length===7&&(i.push(s),s=[])}for(let p=1;p<7-d;p++){const f=new Date(a);f.setDate(f.getDate()+p),s.push(f)}return s.length>0&&i.push(s),i}function KX(t,e,n){const i=n??Iy[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function YX(t,e){const n=new Date(t),i=((Iy[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function BD(t){return new Date(t.getFullYear(),t.getMonth(),1)}function jD(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function XX(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const JX=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function $D(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(JX.test(t))return XX(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const CI=new Date(2e3,0,2);function QX(t,e){const n=e??Iy[t.slice(-2).toUpperCase()]??0;return _y(7).map(i=>{const s=new Date(CI);return s.setDate(CI.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function ZX(t,e,n,i){const s=$D(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const l=s.getDate(),h=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${l} ${h}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function e7(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=Qk(String(n.getMonth()+1),2,"0"),r=Qk(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function t7(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function n7(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function i7(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function s7(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function r7(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function o7(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function a7(t){return t.getFullYear()}function l7(t){return t.getMonth()}function c7(t){return t.getDate()}function u7(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function h7(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function d7(t){return t.getHours()}function f7(t){return t.getMinutes()}function p7(t){return new Date(t.getFullYear(),0,1)}function m7(t){return new Date(t.getFullYear(),11,31)}function g7(t,e){return kg(t,e[0])&&b7(t,e[1])}function y7(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function kg(t,e){return t.getTime()>e.getTime()}function v7(t,e){return kg(h_(t),h_(e))}function b7(t,e){return t.getTime()<e.getTime()}function xI(t,e){return t.getTime()===e.getTime()}function _7(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function w7(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function C7(t,e){return t.getFullYear()===e.getFullYear()}function x7(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function E7(t,e){const n=new Date(t);return n.setHours(e),n}function T7(t,e){const n=new Date(t);return n.setMinutes(e),n}function S7(t,e){const n=new Date(t);return n.setMonth(e),n}function k7(t,e){const n=new Date(t);return n.setDate(e),n}function I7(t,e){const n=new Date(t);return n.setFullYear(e),n}function h_(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function A7(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class P7{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return $D(e)}toJsDate(e){return e}toISO(e){return e7(this,e)}parseISO(e){return t7(e)}addMinutes(e,n){return n7(e,n)}addHours(e,n){return i7(e,n)}addDays(e,n){return s7(e,n)}addWeeks(e,n){return r7(e,n)}addMonths(e,n){return o7(e,n)}getWeekArray(e,n){return qX(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return KX(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return YX(e,this.locale)}startOfMonth(e){return BD(e)}endOfMonth(e){return jD(e)}format(e,n){return ZX(e,n,this.locale,this.formats)}isEqual(e,n){return xI(e,n)}isValid(e){return y7(e)}isWithinRange(e,n){return g7(e,n)}isAfter(e,n){return kg(e,n)}isAfterDay(e,n){return v7(e,n)}isBefore(e,n){return!kg(e,n)&&!xI(e,n)}isSameDay(e,n){return _7(e,n)}isSameMonth(e,n){return w7(e,n)}isSameYear(e,n){return C7(e,n)}setMinutes(e,n){return T7(e,n)}setHours(e,n){return E7(e,n)}setMonth(e,n){return S7(e,n)}setDate(e,n){return k7(e,n)}setYear(e,n){return I7(e,n)}getDiff(e,n,i){return x7(e,n,i)}getWeekdays(e){return QX(this.locale,e?Number(e):void 0)}getYear(e){return a7(e)}getMonth(e){return l7(e)}getDate(e){return c7(e)}getNextMonth(e){return u7(e)}getPreviousMonth(e){return h7(e)}getHours(e){return d7(e)}getMinutes(e){return f7(e)}startOfDay(e){return h_(e)}endOfDay(e){return A7(e)}startOfYear(e){return p7(e)}endOfYear(e){return m7(e)}}const UD=Symbol.for("vuetify:date-options"),EI=Symbol.for("vuetify:date-adapter");function O7(t,e){const n=Hi({adapter:P7,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:HD(n,e)}}function HD(t,e){const n=oi(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return ht(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Du(){const t=qt(UD);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=Mu();return HD(t,e)}function R7(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const l=new Date(i+1,0,1);n>=l&&(i=i+1,s=l)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const Bee=["sm","md","lg","xl","xxl"],d_=Symbol.for("vuetify:display"),TI={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},M7=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TI;return Hi(TI,t)};function SI(t){return yn&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function kI(t){return yn&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function II(t){const e=yn&&!t?window.navigator.userAgent:"ssr";function n(y){return!!e.match(y)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),l=n(/chrome/i),h=n(/edge/i),d=n(/firefox/i),p=n(/opera/i),f=n(/win/i),v=n(/mac/i),_=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:l,edge:h,firefox:d,opera:p,win:f,mac:v,linux:_,touch:o8,ssr:e==="ssr"}}function D7(t,e){const{thresholds:n,mobileBreakpoint:i}=M7(t),s=ft(kI(e)),r=ft(II(e)),a=oi({}),l=ft(SI(e));function h(){s.value=kI(),l.value=SI()}function d(){h(),r.value=II()}return Ji(()=>{const p=l.value<n.sm,f=l.value<n.md&&!p,v=l.value<n.lg&&!(f||p),_=l.value<n.xl&&!(v||f||p),y=l.value<n.xxl&&!(_||v||f||p),b=l.value>=n.xxl,x=p?"xs":f?"sm":v?"md":_?"lg":y?"xl":"xxl",k=typeof i=="number"?i:n[i],I=l.value<k;a.xs=p,a.sm=f,a.md=v,a.lg=_,a.xl=y,a.xxl=b,a.smAndUp=!p,a.mdAndUp=!(p||f),a.lgAndUp=!(p||f||v),a.xlAndUp=!(p||f||v||_),a.smAndDown=!(v||_||y||b),a.mdAndDown=!(_||y||b),a.lgAndDown=!(y||b),a.xlAndDown=!b,a.name=x,a.height=s.value,a.width=l.value,a.mobile=I,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),yn&&window.addEventListener("resize",h,{passive:!0}),{...pd(a),update:d,ssr:!!e}}const N7=Fe({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function TC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();const n=qt(d_);if(!n)throw new Error("Could not find Vuetify display injection");const i=re(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=re(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const WD=Symbol.for("vuetify:goto");function zD(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function L7(t){return SC(t)??(document.scrollingElement||document.body)}function SC(t){return typeof t=="string"?document.querySelector(t):QM(t)}function kb(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=SC(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function V7(t,e){return{rtl:e.isRtl,options:Hi(zD(),t)}}async function AI(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=Hi((i==null?void 0:i.options)??zD(),e),a=i==null?void 0:i.rtl.value,l=(typeof t=="number"?t:SC(t))??0,h=r.container==="parent"&&l instanceof HTMLElement?l.parentElement:L7(r.container),d=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!d)throw new TypeError(`Easing function "${r.easing}" not found.`);let p;if(typeof l=="number")p=kb(l,n,a);else if(p=kb(l,n,a)-kb(h,n,a),r.layout){const y=window.getComputedStyle(l).getPropertyValue("--v-layout-top");y&&(p-=parseInt(y,10))}p+=r.offset,p=F7(h,p,!!a,!!n);const f=h[s]??0;if(p===f)return Promise.resolve(p);const v=performance.now();return new Promise(_=>requestAnimationFrame(function y(b){const k=(b-v)/r.duration,I=Math.floor(f+(p-f)*d(Mo(k,0,1)));if(h[s]=I,k>=1&&Math.abs(I-h[s])<10)return _(p);if(k>2)return Rr("Scroll target is not reachable"),_(h[s]);requestAnimationFrame(y)}))}function jee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=qt(WD),{isRtl:n}=Xr();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:re(()=>e.rtl.value||n.value)};async function s(r,a){return AI(r,Hi(t,a),!1,i)}return s.horizontal=async(r,a)=>AI(r,Hi(t,a),!0,i),s}function F7(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,l]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let h,d;return i?n?(h=-(s-a),d=0):(h=0,d=s-a):(h=0,d=r+-l),Math.max(Math.min(e,d),h)}const Ig=Symbol.for("vuetify:layout"),GD=Symbol.for("vuetify:layout-item"),PI=1e3,B7=Fe({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),kC=Fe({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function j7(){const t=qt(Ig);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function IC(t){const e=qt(Ig);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Hr()}`,i=Qn("useLayoutItem");wi(GD,{id:n});const s=ft(!1);V_(()=>s.value=!0),tA(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:re(()=>s.value?!1:t.active.value),id:n});return Ci(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const $7=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const l=e.get(a),h=n.get(a),d=i.get(a);if(!l||!h||!d)continue;const p={...s,[l.value]:parseInt(s[l.value],10)+(d.value?parseInt(h.value,10):0)};r.push({id:a,layer:p}),s=p}return r};function U7(t){const e=qt(Ig,null),n=re(()=>e?e.rootZIndex.value-100:PI),i=Ke([]),s=oi(new Map),r=oi(new Map),a=oi(new Map),l=oi(new Map),h=oi(new Map),{resizeRef:d,contentRect:p}=yC(),f=re(()=>{const P=new Map,T=t.overlaps??[];for(const R of T.filter(L=>L.includes(":"))){const[L,B]=R.split(":");if(!i.value.includes(L)||!i.value.includes(B))continue;const U=s.get(L),z=s.get(B),H=r.get(L),q=r.get(B);!U||!z||!H||!q||(P.set(B,{position:U.value,amount:parseInt(H.value,10)}),P.set(L,{position:z.value,amount:-parseInt(q.value,10)}))}return P}),v=re(()=>{const P=[...new Set([...a.values()].map(R=>R.value))].sort((R,L)=>R-L),T=[];for(const R of P){const L=i.value.filter(B=>{var U;return((U=a.get(B))==null?void 0:U.value)===R});T.push(...L)}return $7(T,s,r,l)}),_=re(()=>!Array.from(h.values()).some(P=>P.value)),y=re(()=>v.value[v.value.length-1].layer),b=re(()=>({"--v-layout-left":Ct(y.value.left),"--v-layout-right":Ct(y.value.right),"--v-layout-top":Ct(y.value.top),"--v-layout-bottom":Ct(y.value.bottom),..._.value?void 0:{transition:"none"}})),x=re(()=>v.value.slice(1).map((P,T)=>{let{id:R}=P;const{layer:L}=v.value[T],B=r.get(R),U=s.get(R);return{id:R,...L,size:Number(B.value),position:U.value}})),k=P=>x.value.find(T=>T.id===P),I=Qn("createLayout"),D=ft(!1);Cs(()=>{D.value=!0}),wi(Ig,{register:(P,T)=>{let{id:R,order:L,position:B,layoutSize:U,elementSize:z,active:H,disableTransitions:q,absolute:Z}=T;a.set(R,L),s.set(R,B),r.set(R,U),l.set(R,H),q&&h.set(R,q);const oe=Dc(GD,I==null?void 0:I.vnode).indexOf(P);oe>-1?i.value.splice(oe,0,R):i.value.push(R);const ae=re(()=>x.value.findIndex(Ce=>Ce.id===R)),ye=re(()=>n.value+v.value.length*2-ae.value*2),we=re(()=>{const Ce=B.value==="left"||B.value==="right",Oe=B.value==="right",He=B.value==="bottom",at=z.value??U.value,ze=at===0?"%":"px",pe={[B.value]:0,zIndex:ye.value,transform:`translate${Ce?"X":"Y"}(${(H.value?0:-(at===0?100:at))*(Oe||He?-1:1)}${ze})`,position:Z.value||n.value!==PI?"absolute":"fixed",..._.value?void 0:{transition:"none"}};if(!D.value)return pe;const Se=x.value[ae.value];if(!Se)throw new Error(`[Vuetify] Could not find layout item "${R}"`);const Ne=f.value.get(R);return Ne&&(Se[Ne.position]+=Ne.amount),{...pe,height:Ce?`calc(100% - ${Se.top}px - ${Se.bottom}px)`:z.value?`${z.value}px`:void 0,left:Oe?void 0:`${Se.left}px`,right:Oe?`${Se.right}px`:void 0,top:B.value!=="bottom"?`${Se.top}px`:void 0,bottom:B.value!=="top"?`${Se.bottom}px`:void 0,width:Ce?z.value?`${z.value}px`:void 0:`calc(100% - ${Se.left}px - ${Se.right}px)`}}),_e=re(()=>({zIndex:ye.value-1}));return{layoutItemStyles:we,layoutItemScrimStyles:_e,zIndex:ye}},unregister:P=>{a.delete(P),s.delete(P),r.delete(P),l.delete(P),h.delete(P),i.value=i.value.filter(T=>T!==P)},mainRect:y,mainStyles:b,getLayoutItem:k,items:x,layoutRect:p,rootZIndex:n});const N=re(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),V=re(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:N,layoutStyles:V,getLayoutItem:k,items:x,layoutRect:p,layoutRef:d}}function qD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=Hi(e,n),{aliases:s={},components:r={},directives:a={}}=i,l=z8(i.defaults),h=D7(i.display,i.ssr),d=tX(i.theme),p=dX(i.icons),f=wX(i.locale),v=O7(i.date,f),_=V7(i.goTo,f);return{install:b=>{for(const x in a)b.directive(x,a[x]);for(const x in r)b.component(x,r[x]);for(const x in s)b.component(x,Ru({...s[x],name:x,aliasName:s[x].name}));if(d.install(b),b.provide(fu,l),b.provide(d_,h),b.provide(xg,d),b.provide(l_,p),b.provide(Eg,f),b.provide(UD,v.options),b.provide(EI,v.instance),b.provide(WD,_),yn&&i.ssr)if(b.$nuxt)b.$nuxt.hook("app:suspense:resolve",()=>{h.update()});else{const{mount:x}=b;b.mount=function(){const k=x(...arguments);return li(()=>h.update()),b.mount=x,k}}Hr.reset(),b.mixin({computed:{$vuetify(){return oi({defaults:xc.call(this,fu),display:xc.call(this,d_),theme:xc.call(this,xg),icons:xc.call(this,l_),locale:xc.call(this,Eg),date:xc.call(this,EI)})}}})},defaults:l,display:h,theme:d,icons:p,locale:f,date:v,goTo:_}}const H7="3.7.6";qD.version=H7;function xc(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const W7=Bo({__name:"AppFooter",setup(t,{expose:e}){e();const{mobile:n}=TC(),i=re(()=>[{title:n.value?"T.H.":"Timo Haas",icon:"mdi-github",href:"https://github.com/haasentimo"},{title:n.value?"O.B.":"Oskar Borkenhagen",icon:"mdi-github",href:"https://github.com/Ostabo"},{title:n.value?"L.B.":"Lars Bürger",icon:"mdi-github",href:"https://github.com/LarsBuergerr"}]),s={mobile:n,items:i};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),z7=Fe({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Wr(),...Dt(),...Gr(),...kC(),...os(),...Gn({tag:"footer"}),...Zn()},"VFooter"),KD=rt()({name:"VFooter",props:z7(),setup(t,e){let{slots:n}=e;const i=Ke(),{themeClasses:s}=ci(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rs(wt(t,"color")),{borderClasses:l}=zr(t),{elevationClasses:h}=qr(t),{roundedClasses:d}=as(t),p=ft(32),{resizeRef:f}=yC(_=>{_.length&&(p.value=_[0].target.clientHeight)}),v=re(()=>t.height==="auto"?p.value:parseInt(t.height,10));return Ls(()=>t.app,()=>{const _=IC({id:t.name,order:re(()=>parseInt(t.order,10)),position:re(()=>"bottom"),layoutSize:v,elementSize:re(()=>t.height==="auto"?void 0:v.value),active:re(()=>t.app),absolute:wt(t,"absolute")});Ji(()=>{i.value=_.layoutItemStyles.value})}),gt(()=>Q(t.tag,{ref:f,class:["v-footer",s.value,r.value,l.value,h.value,d.value,t.class],style:[a.value,t.app?i.value:{height:Ct(t.height)},t.style]},n)),{}}}),G7={class:"w-75 overflow-hidden d-inline-flex"},q7=["href","title"],K7={class:"text-caption text-disabled",style:{position:"absolute",right:"16px"}};function Y7(t,e,n,i,s,r){return en(),Rn(KD,{app:"",height:"40",elevation:"8"},{default:Et(()=>[Ki("span",G7,[(en(!0),Jc(Pt,null,Hb(i.items,a=>(en(),Jc("a",{key:a.title,class:"d-inline-flex mx-2 social-link flex-nowrap text-no-wrap",href:a.href,rel:"noopener noreferrer",target:"_blank",title:a.title},[$n(Nl(a.title)+" ",1),Q(Vs,{icon:a.icon,class:"ms-2"},null,8,["icon"])],8,q7))),128))]),Ki("div",K7,[$n(" © "+Nl(new Date().getFullYear())+" ",1),e[0]||(e[0]=Ki("span",{class:"d-none d-sm-inline-block"},"Cloud Porsche AG",-1))])]),_:1})}const X7=of(W7,[["render",Y7],["__scopeId","data-v-6704560a"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/AppFooter.vue"]]),J7=Bo({__name:"Register",emits:["back","verificationSend"],setup(t,{expose:e,emit:n}){e();const i=ns(),s=re(()=>i.isDark),r=n,a=sC(),l=[y=>y?!0:"E-mail is required.",y=>/.+@.+\..+/.test(y)?!0:"E-mail must be valid."],h=[y=>y?!0:"Password is required.",y=>y.length>=6?!0:"Password must be at least 6 characters."],d=Ke(""),p=Ke(""),f=Ke(null);async function v(){f.value=null;try{const b=(await $4(a,d.value,p.value)).user;await aO(b),r("verificationSend"),r("back")}catch(y){f.value=y instanceof Error?y.message:"An unknown error occurred."}}const _={appStore:i,isDark:s,emit:r,auth:a,emailRules:l,passwordRules:h,email:d,password:p,error:f,register:v};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),Q7=lf("v-alert-title"),Z7=["success","info","warning","error"],eJ=Fe({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:mn,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>Z7.includes(t)},...Dt(),...zo(),...Kr(),...Gr(),...df(),...Ey(),...os(),...Gn(),...Zn(),...Zl({variant:"flat"})},"VAlert"),Ag=rt()({name:"VAlert",props:eJ(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=un(t,"modelValue"),r=re(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=re(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:l}=ci(t),{colorClasses:h,colorStyles:d,variantClasses:p}=uf(a),{densityClasses:f}=Fa(t),{dimensionStyles:v}=Yr(t),{elevationClasses:_}=qr(t),{locationStyles:y}=ff(t),{positionClasses:b}=Ty(t),{roundedClasses:x}=as(t),{textColorClasses:k,textColorStyles:I}=Do(wt(t,"borderColor")),{t:D}=Mu(),N=re(()=>({"aria-label":D(t.closeLabel),onClick(V){s.value=!1,n("click:close",V)}}));return()=>{const V=!!(i.prepend||r.value),P=!!(i.title||t.title),T=!!(i.close||t.closable);return s.value&&Q(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},l.value,h.value,f.value,_.value,b.value,x.value,p.value,t.class],style:[d.value,v.value,y.value,t.style],role:"alert"},{default:()=>{var R,L;return[cf(!1,"v-alert"),t.border&&Q("div",{key:"border",class:["v-alert__border",k.value],style:I.value},null),V&&Q("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?Q(En,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):Q(Vs,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),Q("div",{class:"v-alert__content"},[P&&Q(Q7,{key:"title"},{default:()=>{var B;return[((B=i.title)==null?void 0:B.call(i))??t.title]}}),((R=i.text)==null?void 0:R.call(i))??t.text,(L=i.default)==null?void 0:L.call(i)]),i.append&&Q("div",{key:"append",class:"v-alert__append"},[i.append()]),T&&Q("div",{key:"close",class:"v-alert__close"},[i.close?Q(En,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var B;return[(B=i.close)==null?void 0:B.call(i,{props:N.value})]}}):Q(xn,dt({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},N.value),null)])]}})}}}),YD=Symbol.for("vuetify:form"),tJ=Fe({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function nJ(t){const e=un(t,"modelValue"),n=re(()=>t.disabled),i=re(()=>t.readonly),s=ft(!1),r=Ke([]),a=Ke([]);async function l(){const p=[];let f=!0;a.value=[],s.value=!0;for(const v of r.value){const _=await v.validate();if(_.length>0&&(f=!1,p.push({id:v.id,errorMessages:_})),!f&&t.fastFail)break}return a.value=p,s.value=!1,{valid:f,errors:a.value}}function h(){r.value.forEach(p=>p.reset())}function d(){r.value.forEach(p=>p.resetValidation())}return ht(r,()=>{let p=0,f=0;const v=[];for(const _ of r.value)_.isValid===!1?(f++,v.push({id:_.id,errorMessages:_.errorMessages})):_.isValid===!0&&p++;a.value=v,e.value=f>0?!1:p===r.value.length?!0:null},{deep:!0,flush:"post"}),wi(YD,{register:p=>{let{id:f,vm:v,validate:_,reset:y,resetValidation:b}=p;r.value.some(x=>x.id===f)&&Rr(`Duplicate input name "${f}"`),r.value.push({id:f,validate:_,reset:y,resetValidation:b,vm:vo(v),isValid:null,errorMessages:[]})},unregister:p=>{r.value=r.value.filter(f=>f.id!==p)},update:(p,f,v)=>{const _=r.value.find(y=>y.id===p);_&&(_.isValid=f,_.errorMessages=v)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:wt(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:l,reset:h,resetValidation:d}}function XD(t){const e=qt(YD,null);return{...e,isReadonly:re(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:re(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const Ib=Symbol("Forwarded refs");function Ab(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Nu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[Ib]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const l=Reflect.get(a.value,r);return typeof l=="function"?l.bind(a.value):l}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const l of n)if(l.value&&Reflect.has(l.value,r))return Reflect.set(l.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var l;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const h of n){if(!h.value)continue;const d=Ab(h.value,r)??("_"in h.value?Ab((l=h.value._)==null?void 0:l.setupState,r):void 0);if(d)return d}for(const h of n){const d=h.value&&h.value[Ib];if(!d)continue;const p=d.slice();for(;p.length;){const f=p.shift(),v=Ab(f.value,r);if(v)return v;const _=f.value&&f.value[Ib];_&&p.push(..._)}}}}})}const iJ=Fe({...Dt(),...tJ()},"VForm"),JD=rt()({name:"VForm",props:iJ(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=nJ(t),r=Ke();function a(h){h.preventDefault(),s.reset()}function l(h){const d=h,p=s.validate();d.then=p.then.bind(p),d.catch=p.catch.bind(p),d.finally=p.finally.bind(p),i("submit",d),d.defaultPrevented||p.then(f=>{var _;let{valid:v}=f;v&&((_=r.value)==null||_.submit())}),d.preventDefault()}return gt(()=>{var h;return Q("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:l},[(h=n.default)==null?void 0:h.call(n,s)])}),Nu(s,r)}}),sJ=Fe({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function xs(t,e,n){return rt()({name:t,props:sJ({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(l){i.origin&&(l.style.transformOrigin=i.origin)},onLeave(l){if(i.leaveAbsolute){const{offsetTop:h,offsetLeft:d,offsetWidth:p,offsetHeight:f}=l;l._transitionInitialStyles={position:l.style.position,top:l.style.top,left:l.style.left,width:l.style.width,height:l.style.height},l.style.position="absolute",l.style.top=`${h}px`,l.style.left=`${d}px`,l.style.width=`${p}px`,l.style.height=`${f}px`}i.hideOnLeave&&l.style.setProperty("display","none","important")},onAfterLeave(l){if(i.leaveAbsolute&&(l!=null&&l._transitionInitialStyles)){const{position:h,top:d,left:p,width:f,height:v}=l._transitionInitialStyles;delete l._transitionInitialStyles,l.style.position=h||"",l.style.top=d||"",l.style.left=p||"",l.style.width=f||"",l.style.height=v||""}}};return()=>{const l=i.group?z_:Ao;return $o(l,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function QD(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return rt()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?z_:Ao;return()=>$o(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function ZD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=_i(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const l=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const h=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=l.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=h})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const l=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,l!=null&&(a.style[n]=l),delete a._initialStyle}}const rJ=Fe({target:[Object,Array]},"v-dialog-transition"),eN=rt()({name:"VDialogTransition",props:rJ(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var v;await new Promise(_=>requestAnimationFrame(_)),await new Promise(_=>requestAnimationFrame(_)),s.style.visibility="";const{x:a,y:l,sx:h,sy:d,speed:p}=RI(t.target,s),f=Nc(s,[{transform:`translate(${a}px, ${l}px) scale(${h}, ${d})`,opacity:0},{}],{duration:225*p,easing:K8});(v=OI(s))==null||v.forEach(_=>{Nc(_,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*p,easing:wg})}),f.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var v;await new Promise(_=>requestAnimationFrame(_));const{x:a,y:l,sx:h,sy:d,speed:p}=RI(t.target,s);Nc(s,[{},{transform:`translate(${a}px, ${l}px) scale(${h}, ${d})`,opacity:0}],{duration:125*p,easing:Y8}).finished.then(()=>r()),(v=OI(s))==null||v.forEach(_=>{Nc(_,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*p,easing:wg})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?Q(Ao,dt({name:"dialog-transition"},i,{css:!1}),n):Q(Ao,{name:"dialog-transition"},n)}});function OI(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function RI(t,e){const n=rD(t),i=dC(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(k=>parseFloat(k)),[a,l]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let h=n.left+n.width/2;a==="left"||l==="left"?h-=n.width/2:(a==="right"||l==="right")&&(h+=n.width/2);let d=n.top+n.height/2;a==="top"||l==="top"?d-=n.height/2:(a==="bottom"||l==="bottom")&&(d+=n.height/2);const p=n.width/i.width,f=n.height/i.height,v=Math.max(1,p,f),_=p/v||0,y=f/v||0,b=i.width*i.height/(window.innerWidth*window.innerHeight),x=b>.12?Math.min(1.5,(b-.12)*10+1):1;return{x:h-(s+i.left),y:d-(r+i.top),sx:_,sy:y,speed:x}}xs("fab-transition","center center","out-in");xs("dialog-bottom-transition");xs("dialog-top-transition");const oJ=xs("fade-transition"),$ee=xs("scale-transition");xs("scroll-x-transition");xs("scroll-x-reverse-transition");xs("scroll-y-transition");xs("scroll-y-reverse-transition");xs("slide-x-transition");xs("slide-x-reverse-transition");const tN=xs("slide-y-transition");xs("slide-y-reverse-transition");const nN=QD("expand-transition",ZD()),aJ=QD("expand-x-transition",ZD("",!0)),lJ=Fe({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Dt(),...Sy({transition:{component:tN}})},"VCounter"),cJ=rt()({name:"VCounter",functional:!0,props:lJ(),setup(t,e){let{slots:n}=e;const i=re(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return gt(()=>Q(Ir,{transition:t.transition},{default:()=>[Pi(Q("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[bu,t.active]])]})),{}}}),uJ=Fe({text:String,onClick:bs(),...Dt(),...Zn()},"VLabel"),hJ=rt()({name:"VLabel",props:uJ(),setup(t,e){let{slots:n}=e;return gt(()=>{var i;return Q("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),dJ=Fe({floating:Boolean,...Dt()},"VFieldLabel"),zp=rt()({name:"VFieldLabel",props:dJ(),setup(t,e){let{slots:n}=e;return gt(()=>Q(hJ,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}});function iN(t){const{t:e}=Mu();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],l=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return Q(Vs,{icon:t[`${s}Icon`],"aria-label":l,onClick:a},null)}return{InputIcon:n}}const AC=Fe({focused:Boolean,"onUpdate:focused":bs()},"focus");function PC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur();const n=un(t,"focused"),i=re(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const fJ=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],sN=Fe({appendInnerIcon:mn,bgColor:String,clearable:Boolean,clearIcon:{type:mn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:mn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>fJ.includes(t)},"onClick:clear":bs(),"onClick:appendInner":bs(),"onClick:prependInner":bs(),...Dt(),...vC(),...os(),...Zn()},"VField"),rN=rt()({name:"VField",inheritAttrs:!1,props:{id:String,...AC(),...sN()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=ci(t),{loaderClasses:a}=bC(t),{focusClasses:l,isFocused:h,focus:d,blur:p}=PC(t),{InputIcon:f}=iN(t),{roundedClasses:v}=as(t),{rtlClasses:_}=Xr(),y=re(()=>t.dirty||t.active),b=re(()=>!t.singleLine&&!!(t.label||s.label)),x=Hr(),k=re(()=>t.id||`input-${x}`),I=re(()=>`${k.value}-messages`),D=Ke(),N=Ke(),V=Ke(),P=re(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:T,backgroundColorStyles:R}=rs(wt(t,"bgColor")),{textColorClasses:L,textColorStyles:B}=Do(re(()=>t.error||t.disabled?void 0:y.value&&h.value?t.color:t.baseColor));ht(y,q=>{if(b.value){const Z=D.value.$el,se=N.value.$el;requestAnimationFrame(()=>{const oe=dC(Z),ae=se.getBoundingClientRect(),ye=ae.x-oe.x,we=ae.y-oe.y-(oe.height/2-ae.height/2),_e=ae.width/.75,Ce=Math.abs(_e-oe.width)>1?{maxWidth:Ct(_e)}:void 0,Oe=getComputedStyle(Z),He=getComputedStyle(se),at=parseFloat(Oe.transitionDuration)*1e3||150,ze=parseFloat(He.getPropertyValue("--v-field-label-scale")),pe=He.getPropertyValue("color");Z.style.visibility="visible",se.style.visibility="hidden",Nc(Z,{transform:`translate(${ye}px, ${we}px) scale(${ze})`,color:pe,...Ce},{duration:at,easing:wg,direction:q?"normal":"reverse"}).finished.then(()=>{Z.style.removeProperty("visibility"),se.style.removeProperty("visibility")})})}},{flush:"post"});const U=re(()=>({isActive:y,isFocused:h,controlRef:V,blur:p,focus:d}));function z(q){q.target!==document.activeElement&&q.preventDefault()}function H(q){var Z;q.key!=="Enter"&&q.key!==" "||(q.preventDefault(),q.stopPropagation(),(Z=t["onClick:clear"])==null||Z.call(t,new MouseEvent("click")))}return gt(()=>{var ye,we,_e;const q=t.variant==="outlined",Z=!!(s["prepend-inner"]||t.prependInnerIcon),se=!!(t.clearable||s.clear),oe=!!(s["append-inner"]||t.appendInnerIcon||se),ae=()=>s.label?s.label({...U.value,label:t.label,props:{for:k.value}}):t.label;return Q("div",dt({class:["v-field",{"v-field--active":y.value,"v-field--appended":oe,"v-field--center-affix":t.centerAffix??!P.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Z,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!ae(),[`v-field--variant-${t.variant}`]:!0},r.value,T.value,l.value,a.value,v.value,_.value,t.class],style:[R.value,t.style],onClick:z},n),[Q("div",{class:"v-field__overlay"},null),Q(ED,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),Z&&Q("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&Q(f,{key:"prepend-icon",name:"prependInner"},null),(ye=s["prepend-inner"])==null?void 0:ye.call(s,U.value)]),Q("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&b.value&&Q(zp,{key:"floating-label",ref:N,class:[L.value],floating:!0,for:k.value,style:B.value},{default:()=>[ae()]}),b.value&&Q(zp,{key:"label",ref:D,for:k.value},{default:()=>[ae()]}),(we=s.default)==null?void 0:we.call(s,{...U.value,props:{id:k.value,class:"v-field__input","aria-describedby":I.value},focus:d,blur:p})]),se&&Q(aJ,{key:"clear"},{default:()=>[Pi(Q("div",{class:"v-field__clearable",onMousedown:Ce=>{Ce.preventDefault(),Ce.stopPropagation()}},[Q(En,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...U.value,props:{onKeydown:H,onFocus:d,onBlur:p,onClick:t["onClick:clear"]}}):Q(f,{name:"clear",onKeydown:H,onFocus:d,onBlur:p},null)]})]),[[bu,t.dirty]])]}),oe&&Q("div",{key:"append",class:"v-field__append-inner"},[(_e=s["append-inner"])==null?void 0:_e.call(s,U.value),t.appendInnerIcon&&Q(f,{key:"append-icon",name:"appendInner"},null)]),Q("div",{class:["v-field__outline",L.value],style:B.value},[q&&Q(Pt,null,[Q("div",{class:"v-field__outline__start"},null),b.value&&Q("div",{class:"v-field__outline__notch"},[Q(zp,{ref:N,floating:!0,for:k.value},{default:()=>[ae()]})]),Q("div",{class:"v-field__outline__end"},null)]),P.value&&b.value&&Q(zp,{ref:N,floating:!0,for:k.value},{default:()=>[ae()]})])])}),{controlRef:V}}});function pJ(t){const e=Object.keys(rN.props).filter(n=>!uC(n)&&n!=="class"&&n!=="style");return ZM(t,e)}const mJ=Fe({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Dt(),...Sy({transition:{component:tN,leaveAbsolute:!0,group:!0}})},"VMessages"),gJ=rt()({name:"VMessages",props:mJ(),setup(t,e){let{slots:n}=e;const i=re(()=>Ns(t.messages)),{textColorClasses:s,textColorStyles:r}=Do(re(()=>t.color));return gt(()=>Q(Ir,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,l)=>Q("div",{class:"v-messages__message",key:`${l}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),yJ=Fe({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...AC()},"validation");function vJ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ur(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hr();const i=un(t,"modelValue"),s=re(()=>t.validationValue===void 0?i.value:t.validationValue),r=XD(t),a=Ke([]),l=ft(!0),h=re(()=>!!(Ns(i.value===""?null:i.value).length||Ns(s.value===""?null:s.value).length)),d=re(()=>{var D;return(D=t.errorMessages)!=null&&D.length?Ns(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),p=re(()=>{var V;let D=(t.validateOn??((V=r.validateOn)==null?void 0:V.value))||"input";D==="lazy"&&(D="input lazy"),D==="eager"&&(D="input eager");const N=new Set((D==null?void 0:D.split(" "))??[]);return{input:N.has("input"),blur:N.has("blur")||N.has("input")||N.has("invalid-input"),invalidInput:N.has("invalid-input"),lazy:N.has("lazy"),eager:N.has("eager")}}),f=re(()=>{var D;return t.error||(D=t.errorMessages)!=null&&D.length?!1:t.rules.length?l.value?a.value.length||p.value.lazy?null:!0:!a.value.length:!0}),v=ft(!1),_=re(()=>({[`${e}--error`]:f.value===!1,[`${e}--dirty`]:h.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),y=Qn("validation"),b=re(()=>t.name??bi(n));Ud(()=>{var D;(D=r.register)==null||D.call(r,{id:b.value,vm:y,validate:I,reset:x,resetValidation:k})}),Ci(()=>{var D;(D=r.unregister)==null||D.call(r,b.value)}),Cs(async()=>{var D;p.value.lazy||await I(!p.value.eager),(D=r.update)==null||D.call(r,b.value,f.value,d.value)}),Ls(()=>p.value.input||p.value.invalidInput&&f.value===!1,()=>{ht(s,()=>{if(s.value!=null)I();else if(t.focused){const D=ht(()=>t.focused,N=>{N||I(),D()})}})}),Ls(()=>p.value.blur,()=>{ht(()=>t.focused,D=>{D||I()})}),ht([f,d],()=>{var D;(D=r.update)==null||D.call(r,b.value,f.value,d.value)});async function x(){i.value=null,await li(),await k()}async function k(){l.value=!0,p.value.lazy?a.value=[]:await I(!p.value.eager)}async function I(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const N=[];v.value=!0;for(const V of t.rules){if(N.length>=+(t.maxErrors??1))break;const T=await(typeof V=="function"?V:()=>V)(s.value);if(T!==!0){if(T!==!1&&typeof T!="string"){console.warn(`${T} is not a valid value. Rule functions must return boolean true or a string.`);continue}N.push(T||"")}}return a.value=N,v.value=!1,l.value=D,a.value}return{errorMessages:d,isDirty:h,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:l,isValid:f,isValidating:v,reset:x,resetValidation:k,validate:I,validationClasses:_}}const oN=Fe({id:String,appendIcon:mn,centerAffix:{type:Boolean,default:!0},prependIcon:mn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":bs(),"onClick:append":bs(),...Dt(),...zo(),...c8(Kr(),["maxWidth","minWidth","width"]),...Zn(),...yJ()},"VInput"),MI=rt()({name:"VInput",props:{...oN()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=Fa(t),{dimensionStyles:a}=Yr(t),{themeClasses:l}=ci(t),{rtlClasses:h}=Xr(),{InputIcon:d}=iN(t),p=Hr(),f=re(()=>t.id||`input-${p}`),v=re(()=>`${f.value}-messages`),{errorMessages:_,isDirty:y,isDisabled:b,isReadonly:x,isPristine:k,isValid:I,isValidating:D,reset:N,resetValidation:V,validate:P,validationClasses:T}=vJ(t,"v-input",f),R=re(()=>({id:f,messagesId:v,isDirty:y,isDisabled:b,isReadonly:x,isPristine:k,isValid:I,isValidating:D,reset:N,resetValidation:V,validate:P})),L=re(()=>{var B;return(B=t.errorMessages)!=null&&B.length||!k.value&&_.value.length?_.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return gt(()=>{var q,Z,se,oe;const B=!!(i.prepend||t.prependIcon),U=!!(i.append||t.appendIcon),z=L.value.length>0,H=!t.hideDetails||t.hideDetails==="auto"&&(z||!!i.details);return Q("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,l.value,h.value,T.value,t.class],style:[a.value,t.style]},[B&&Q("div",{key:"prepend",class:"v-input__prepend"},[(q=i.prepend)==null?void 0:q.call(i,R.value),t.prependIcon&&Q(d,{key:"prepend-icon",name:"prepend"},null)]),i.default&&Q("div",{class:"v-input__control"},[(Z=i.default)==null?void 0:Z.call(i,R.value)]),U&&Q("div",{key:"append",class:"v-input__append"},[t.appendIcon&&Q(d,{key:"append-icon",name:"append"},null),(se=i.append)==null?void 0:se.call(i,R.value)]),H&&Q("div",{class:"v-input__details"},[Q(gJ,{id:v.value,active:z,messages:L.value},{message:i.message}),(oe=i.details)==null?void 0:oe.call(i,R.value)])])}),{reset:N,resetValidation:V,validate:P,isValid:I,errorMessages:_}}}),bJ=["color","file","time","date","datetime-local","week","month"],OC=Fe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...oN(),...sN()},"VTextField"),La=rt()({name:"VTextField",directives:{Intersect:VD},inheritAttrs:!1,props:OC(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=un(t,"modelValue"),{isFocused:a,focus:l,blur:h}=PC(t),d=re(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),p=re(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),f=re(()=>["plain","underlined"].includes(t.variant));function v(P,T){var R,L;!t.autofocus||!P||(L=(R=T[0].target)==null?void 0:R.focus)==null||L.call(R)}const _=Ke(),y=Ke(),b=Ke(),x=re(()=>bJ.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function k(){var P;b.value!==document.activeElement&&((P=b.value)==null||P.focus()),a.value||l()}function I(P){i("mousedown:control",P),P.target!==b.value&&(k(),P.preventDefault())}function D(P){k(),i("click:control",P)}function N(P){P.stopPropagation(),k(),li(()=>{r.value=null,p8(t["onClick:clear"],P)})}function V(P){var R;const T=P.target;if(r.value=T.value,(R=t.modelModifiers)!=null&&R.trim&&["text","search","password","tel","url"].includes(t.type)){const L=[T.selectionStart,T.selectionEnd];li(()=>{T.selectionStart=L[0],T.selectionEnd=L[1]})}}return gt(()=>{const P=!!(s.counter||t.counter!==!1&&t.counter!=null),T=!!(P||s.details),[R,L]=h8(n),{modelValue:B,...U}=MI.filterProps(t),z=pJ(t);return Q(MI,dt({ref:_,modelValue:r.value,"onUpdate:modelValue":H=>r.value=H,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":f.value},t.class],style:t.style},R,U,{centerAffix:!f.value,focused:a.value}),{...s,default:H=>{let{id:q,isDisabled:Z,isDirty:se,isReadonly:oe,isValid:ae}=H;return Q(rN,dt({ref:y,onMousedown:I,onClick:D,"onClick:clear":N,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},z,{id:q.value,active:x.value||se.value,dirty:se.value||t.dirty,disabled:Z.value,focused:a.value,error:ae.value===!1}),{...s,default:ye=>{let{props:{class:we,..._e}}=ye;const Ce=Pi(Q("input",dt({ref:b,value:r.value,onInput:V,autofocus:t.autofocus,readonly:oe.value,disabled:Z.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:k,onBlur:h},_e,L),null),[[Hd("intersect"),{handler:v},null,{once:!0}]]);return Q(Pt,null,[t.prefix&&Q("span",{class:"v-text-field__prefix"},[Q("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?Q("div",{class:we,"data-no-activator":""},[s.default(),Ce]):Bs(Ce,{class:we}),t.suffix&&Q("span",{class:"v-text-field__suffix"},[Q("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:T?H=>{var q;return Q(Pt,null,[(q=s.details)==null?void 0:q.call(s,H),P&&Q(Pt,null,[Q("span",null,null),Q(cJ,{active:t.persistentCounter||a.value,value:d.value,max:p.value,disabled:t.disabled},s.counter)])])}:void 0})}),Nu({},_,y,b)}});function _J(){return!0}function aN(t,e,n){if(!t||lN(t,n)===!1)return!1;const i=dD(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function lN(t,e){return(typeof e.value=="object"&&e.value.closeConditional||_J)(t)}function wJ(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&aN(t,e,n)&&setTimeout(()=>{lN(t,n)&&i&&i(t)},0)}function DI(t,e){const n=dD(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const CJ={mounted(t,e){const n=s=>wJ(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=aN(s,t,e)};DI(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(DI(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Pb(t,e){return{x:t.x+e.x,y:t.y+e.y}}function xJ(t,e){return{x:t.x-e.x,y:t.y-e.y}}function NI(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Pb({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Pb({x:s,y:r},e)}return Pb({x:e.width/2,y:e.height/2},e)}const cN={static:SJ,connected:IJ},EJ=Fe({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in cN},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function TJ(t,e){const n=Ke({}),i=Ke();yn&&Ls(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,l;ht(()=>t.locationStrategy,r),ws(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(l=cN[t.locationStrategy](e,t,n))==null?void 0:l.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function SJ(){}function kJ(t,e){const n=dC(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function IJ(t,e,n){(Array.isArray(t.target.value)||Q8(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=hC(()=>{const y=s_(e.location,t.isRtl.value),b=e.origin==="overlap"?y:e.origin==="auto"?xb(y):s_(e.origin,t.isRtl.value);return y.side===b.side&&y.align===Eb(b).align?{preferredAnchor:eI(y),preferredOrigin:eI(b)}:{preferredAnchor:y,preferredOrigin:b}}),[a,l,h,d]=["minWidth","minHeight","maxWidth","maxHeight"].map(y=>re(()=>{const b=parseFloat(e[y]);return isNaN(b)?1/0:b})),p=re(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const y=e.offset.split(" ").map(parseFloat);return y.length<2&&y.push(0),y}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let f=!1;const v=new ResizeObserver(()=>{f&&_()});ht([t.target,t.contentEl],(y,b)=>{let[x,k]=y,[I,D]=b;I&&!Array.isArray(I)&&v.unobserve(I),x&&!Array.isArray(x)&&v.observe(x),D&&v.unobserve(D),k&&v.observe(k)},{immediate:!0}),ws(()=>{v.disconnect()});function _(){if(f=!1,requestAnimationFrame(()=>f=!0),!t.target.value||!t.contentEl.value)return;const y=rD(t.target.value),b=kJ(t.contentEl.value,t.isRtl.value),x=Cg(t.contentEl.value),k=12;x.length||(x.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(b.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),b.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const I=x.reduce((U,z)=>{const H=z.getBoundingClientRect(),q=new Ml({x:z===document.documentElement?0:H.x,y:z===document.documentElement?0:H.y,width:z.clientWidth,height:z.clientHeight});return U?new Ml({x:Math.max(U.left,q.left),y:Math.max(U.top,q.top),width:Math.min(U.right,q.right)-Math.max(U.left,q.left),height:Math.min(U.bottom,q.bottom)-Math.max(U.top,q.top)}):q},void 0);I.x+=k,I.y+=k,I.width-=k*2,I.height-=k*2;let D={anchor:s.value,origin:r.value};function N(U){const z=new Ml(b),H=NI(U.anchor,y),q=NI(U.origin,z);let{x:Z,y:se}=xJ(H,q);switch(U.anchor.side){case"top":se-=p.value[0];break;case"bottom":se+=p.value[0];break;case"left":Z-=p.value[0];break;case"right":Z+=p.value[0];break}switch(U.anchor.align){case"top":se-=p.value[1];break;case"bottom":se+=p.value[1];break;case"left":Z-=p.value[1];break;case"right":Z+=p.value[1];break}return z.x+=Z,z.y+=se,z.width=Math.min(z.width,h.value),z.height=Math.min(z.height,d.value),{overflows:nI(z,I),x:Z,y:se}}let V=0,P=0;const T={x:0,y:0},R={x:!1,y:!1};let L=-1;for(;;){if(L++>10){Rd("Infinite loop detected in connectedLocationStrategy");break}const{x:U,y:z,overflows:H}=N(D);V+=U,P+=z,b.x+=U,b.y+=z;{const q=tI(D.anchor),Z=H.x.before||H.x.after,se=H.y.before||H.y.after;let oe=!1;if(["x","y"].forEach(ae=>{if(ae==="x"&&Z&&!R.x||ae==="y"&&se&&!R.y){const ye={anchor:{...D.anchor},origin:{...D.origin}},we=ae==="x"?q==="y"?Eb:xb:q==="y"?xb:Eb;ye.anchor=we(ye.anchor),ye.origin=we(ye.origin);const{overflows:_e}=N(ye);(_e[ae].before<=H[ae].before&&_e[ae].after<=H[ae].after||_e[ae].before+_e[ae].after<(H[ae].before+H[ae].after)/2)&&(D=ye,oe=R[ae]=!0)}}),oe)continue}H.x.before&&(V+=H.x.before,b.x+=H.x.before),H.x.after&&(V-=H.x.after,b.x-=H.x.after),H.y.before&&(P+=H.y.before,b.y+=H.y.before),H.y.after&&(P-=H.y.after,b.y-=H.y.after);{const q=nI(b,I);T.x=I.width-q.x.before-q.x.after,T.y=I.height-q.y.before-q.y.after,V+=q.x.before,b.x+=q.x.before,P+=q.y.before,b.y+=q.y.before}break}const B=tI(D.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${D.anchor.side} ${D.anchor.align}`,transformOrigin:`${D.origin.side} ${D.origin.align}`,top:Ct(Ob(P)),left:t.isRtl.value?void 0:Ct(Ob(V)),right:t.isRtl.value?Ct(Ob(-V)):void 0,minWidth:Ct(B==="y"?Math.min(a.value,y.width):a.value),maxWidth:Ct(LI(Mo(T.x,a.value===1/0?0:a.value,h.value))),maxHeight:Ct(LI(Mo(T.y,l.value===1/0?0:l.value,d.value)))}),{available:T,contentBox:b}}return ht(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>_()),li(()=>{const y=_();if(!y)return;const{available:b,contentBox:x}=y;x.height>b.y&&requestAnimationFrame(()=>{_(),requestAnimationFrame(()=>{_()})})}),{updateLocation:_}}function Ob(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function LI(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let f_=!0;const Pg=[];function AJ(t){!f_||Pg.length?(Pg.push(t),p_()):(f_=!1,t(),p_())}let VI=-1;function p_(){cancelAnimationFrame(VI),VI=requestAnimationFrame(()=>{const t=Pg.shift();t&&t(),Pg.length?p_():f_=!0})}const pm={none:null,close:RJ,block:MJ,reposition:DJ},PJ=Fe({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in pm}},"VOverlay-scroll-strategies");function OJ(t,e){if(!yn)return;let n;Ji(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=mu(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=pm[t.scrollStrategy])==null||i.call(pm,e,t,n)}))}),ws(()=>{n==null||n.stop()})}function RJ(t){function e(n){t.isActive.value=!1}uN(t.targetEl.value??t.contentEl.value,e)}function MJ(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...Cg(t.targetEl.value,e.contained?n:void 0),...Cg(t.contentEl.value,e.contained?n:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(l=>mC(l)&&l)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((l,h)=>{l.style.setProperty("--v-body-scroll-x",Ct(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",Ct(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",Ct(s)),l.classList.add("v-overlay-scroll-blocked")}),ws(()=>{i.forEach((l,h)=>{const d=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),p=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),f=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-d,l.scrollTop=-p,l.style.scrollBehavior=f}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function DJ(t,e,n){let i=!1,s=-1,r=-1;function a(l){AJ(()=>{var p,f;const h=performance.now();(f=(p=t.updateLocation).value)==null||f.call(p,l),i=(performance.now()-h)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?l=>l():requestIdleCallback)(()=>{n.run(()=>{uN(t.targetEl.value??t.contentEl.value,l=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(l)})})):a(l)})})}),ws(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function uN(t,e){const n=[document,...Cg(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),ws(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const m_=Symbol.for("vuetify:v-menu"),hN=Fe({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function dN(t,e){let n=()=>{};function i(a){n==null||n();const l=Number(a?t.openDelay:t.closeDelay);return new Promise(h=>{n=y8(l,()=>{e==null||e(a),h(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const NJ=Fe({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...hN()},"VOverlay-activator");function LJ(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=Qn("useActivator"),a=Ke();let l=!1,h=!1,d=!0;const p=re(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),f=re(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!p.value),{runOpenDelay:v,runCloseDelay:_}=dN(t,R=>{R===(t.openOnHover&&l||p.value&&h)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==R&&(d=!0),n.value=R)}),y=Ke(),b={onClick:R=>{R.stopPropagation(),a.value=R.currentTarget||R.target,n.value||(y.value=[R.clientX,R.clientY]),n.value=!n.value},onMouseenter:R=>{var L;(L=R.sourceCapabilities)!=null&&L.firesTouchEvents||(l=!0,a.value=R.currentTarget||R.target,v())},onMouseleave:R=>{l=!1,_()},onFocus:R=>{m8(R.target,":focus-visible")!==!1&&(h=!0,R.stopPropagation(),a.value=R.currentTarget||R.target,v())},onBlur:R=>{h=!1,R.stopPropagation(),_()}},x=re(()=>{const R={};return f.value&&(R.onClick=b.onClick),t.openOnHover&&(R.onMouseenter=b.onMouseenter,R.onMouseleave=b.onMouseleave),p.value&&(R.onFocus=b.onFocus,R.onBlur=b.onBlur),R}),k=re(()=>{const R={};if(t.openOnHover&&(R.onMouseenter=()=>{l=!0,v()},R.onMouseleave=()=>{l=!1,_()}),p.value&&(R.onFocusin=()=>{h=!0,v()},R.onFocusout=()=>{h=!1,_()}),t.closeOnContentClick){const L=qt(m_,null);R.onClick=()=>{n.value=!1,L==null||L.closeParents()}}return R}),I=re(()=>{const R={};return t.openOnHover&&(R.onMouseenter=()=>{d&&(l=!0,d=!1,v())},R.onMouseleave=()=>{l=!1,_()}),R});ht(i,R=>{var L;R&&(t.openOnHover&&!l&&(!p.value||!h)||p.value&&!h&&(!t.openOnHover||!l))&&!((L=s.value)!=null&&L.contains(document.activeElement))&&(n.value=!1)}),ht(n,R=>{R||setTimeout(()=>{y.value=void 0})},{flush:"post"});const D=bg();Ji(()=>{D.value&&li(()=>{a.value=D.el})});const N=bg(),V=re(()=>t.target==="cursor"&&y.value?y.value:N.value?N.el:fN(t.target,r)||a.value),P=re(()=>Array.isArray(V.value)?void 0:V.value);let T;return ht(()=>!!t.activator,R=>{R&&yn?(T=mu(),T.run(()=>{VJ(t,r,{activatorEl:a,activatorEvents:x})})):T&&T.stop()},{flush:"post",immediate:!0}),ws(()=>{T==null||T.stop()}),{activatorEl:a,activatorRef:D,target:V,targetEl:P,targetRef:N,activatorEvents:x,contentEvents:k,scrimEvents:I}}function VJ(t,e,n){let{activatorEl:i,activatorEvents:s}=n;ht(()=>t.activator,(h,d)=>{if(d&&h!==d){const p=l(d);p&&a(p)}h&&li(()=>r())},{immediate:!0}),ht(()=>t.activatorProps,()=>{r()}),ws(()=>{a()});function r(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;h&&_8(h,dt(s.value,d))}function a(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;h&&w8(h,dt(s.value,d))}function l(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const d=fN(h,e);return i.value=(d==null?void 0:d.nodeType)===Node.ELEMENT_NODE?d:void 0,i.value}}function fN(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function FJ(){if(!yn)return ft(!1);const{ssr:t}=TC();if(t){const e=ft(!1);return Cs(()=>{e.value=!0}),e}else return ft(!0)}const BJ=Fe({eager:Boolean},"lazy");function jJ(t,e){const n=ft(!1),i=re(()=>n.value||t.eager||e.value);ht(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function pf(){const e=Qn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const FI=Symbol.for("vuetify:stack"),Mh=oi([]);function $J(t,e,n){const i=Qn("useStack"),s=!n,r=qt(FI,void 0),a=oi({activeChildren:new Set});wi(FI,a);const l=ft(+e.value);Ls(t,()=>{var f;const p=(f=Mh.at(-1))==null?void 0:f[1];l.value=p?p+10:+e.value,s&&Mh.push([i.uid,l.value]),r==null||r.activeChildren.add(i.uid),ws(()=>{if(s){const v=Ze(Mh).findIndex(_=>_[0]===i.uid);Mh.splice(v,1)}r==null||r.activeChildren.delete(i.uid)})});const h=ft(!0);s&&Ji(()=>{var f;const p=((f=Mh.at(-1))==null?void 0:f[0])===i.uid;setTimeout(()=>h.value=p)});const d=re(()=>!a.activeChildren.size);return{globalTop:gu(h),localTop:d,stackStyles:re(()=>({zIndex:l.value}))}}function UJ(t){return{teleportTarget:re(()=>{const n=t();if(n===!0||!yn)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null){is(`Unable to locate target ${n}`);return}let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function HJ(t){const{modelValue:e,color:n,...i}=t;return Q(Ao,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&Q("div",dt({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Ay=Fe({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...NJ(),...Dt(),...Kr(),...BJ(),...EJ(),...PJ(),...Zn(),...Sy()},"VOverlay"),pu=rt()({name:"VOverlay",directives:{ClickOutside:CJ},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ay()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=Qn("VOverlay"),a=Ke(),l=Ke(),h=Ke(),d=un(t,"modelValue"),p=re({get:()=>d.value,set:ze=>{ze&&t.disabled||(d.value=ze)}}),{themeClasses:f}=ci(t),{rtlClasses:v,isRtl:_}=Xr(),{hasContent:y,onAfterLeave:b}=jJ(t,p),x=rs(re(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:k,localTop:I,stackStyles:D}=$J(p,wt(t,"zIndex"),t._disableGlobalStack),{activatorEl:N,activatorRef:V,target:P,targetEl:T,targetRef:R,activatorEvents:L,contentEvents:B,scrimEvents:U}=LJ(t,{isActive:p,isTop:I,contentEl:h}),{teleportTarget:z}=UJ(()=>{var Se,Ne,Ge;const ze=t.attach||t.contained;if(ze)return ze;const pe=((Se=N==null?void 0:N.value)==null?void 0:Se.getRootNode())||((Ge=(Ne=r.proxy)==null?void 0:Ne.$el)==null?void 0:Ge.getRootNode());return pe instanceof ShadowRoot?pe:!1}),{dimensionStyles:H}=Yr(t),q=FJ(),{scopeId:Z}=pf();ht(()=>t.disabled,ze=>{ze&&(p.value=!1)});const{contentStyles:se,updateLocation:oe}=TJ(t,{isRtl:_,contentEl:h,target:P,isActive:p});OJ(t,{root:a,contentEl:h,targetEl:T,isActive:p,updateLocation:oe});function ae(ze){s("click:outside",ze),t.persistent?Oe():p.value=!1}function ye(ze){return p.value&&k.value&&(!t.scrim||ze.target===l.value||ze instanceof MouseEvent&&ze.shadowTarget===l.value)}yn&&ht(p,ze=>{ze?window.addEventListener("keydown",we):window.removeEventListener("keydown",we)},{immediate:!0}),Ci(()=>{yn&&window.removeEventListener("keydown",we)});function we(ze){var pe,Se;ze.key==="Escape"&&k.value&&(t.persistent?Oe():(p.value=!1,(pe=h.value)!=null&&pe.contains(document.activeElement)&&((Se=N.value)==null||Se.focus())))}const _e=TD();Ls(()=>t.closeOnBack,()=>{kX(_e,ze=>{k.value&&p.value?(ze(!1),t.persistent?Oe():p.value=!1):ze()})});const Ce=Ke();ht(()=>p.value&&(t.absolute||t.contained)&&z.value==null,ze=>{if(ze){const pe=X8(a.value);pe&&pe!==document.scrollingElement&&(Ce.value=pe.scrollTop)}});function Oe(){t.noClickAnimation||h.value&&Nc(h.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:wg})}function He(){s("afterEnter")}function at(){b(),s("afterLeave")}return gt(()=>{var ze;return Q(Pt,null,[(ze=n.activator)==null?void 0:ze.call(n,{isActive:p.value,targetRef:R,props:dt({ref:V},L.value,t.activatorProps)}),q.value&&y.value&&Q(ij,{disabled:!z.value,to:z.value},{default:()=>[Q("div",dt({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":p.value,"v-overlay--contained":t.contained},f.value,v.value,t.class],style:[D.value,{"--v-overlay-opacity":t.opacity,top:Ct(Ce.value)},t.style],ref:a},Z,i),[Q(HJ,dt({color:x,modelValue:p.value&&!!t.scrim,ref:l},U.value),null),Q(Ir,{appear:!0,persisted:!0,transition:t.transition,target:P.value,onAfterEnter:He,onAfterLeave:at},{default:()=>{var pe;return[Pi(Q("div",dt({ref:h,class:["v-overlay__content",t.contentClass],style:[H.value,se.value]},B.value,t.contentProps),[(pe=n.default)==null?void 0:pe.call(n,{isActive:p})]),[[bu,p.value],[Hd("click-outside"),{handler:ae,closeConditional:ye,include:()=>[N.value]}]])]}})])]})])}),{activatorEl:N,scrimEl:l,target:P,animateClick:Oe,contentEl:h,globalTop:k,localTop:I,updateLocation:oe}}}),WJ=Fe({id:String,text:String,...Us(Ay({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),zJ=rt()({name:"VTooltip",props:WJ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=un(t,"modelValue"),{scopeId:s}=pf(),r=Hr(),a=re(()=>t.id||`v-tooltip-${r}`),l=Ke(),h=re(()=>t.location.split(" ").length>1?t.location:t.location+" center"),d=re(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),p=re(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),f=re(()=>dt({"aria-describedby":a.value},t.activatorProps));return gt(()=>{const v=pu.filterProps(t);return Q(pu,dt({ref:l,class:["v-tooltip",t.class],style:t.style,id:a.value},v,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,transition:p.value,absolute:!0,location:h.value,origin:d.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var x;for(var _=arguments.length,y=new Array(_),b=0;b<_;b++)y[b]=arguments[b];return((x=n.default)==null?void 0:x.call(n,...y))??t.text}})}),Nu({},l)}});function GJ(t,e){const n=typeof t=="string"?sA(t):t,i=qJ(n,e);return{mounted:i,updated:i,unmounted(s){UA(null,s)}}}function qJ(t,e){return function(n,i,s){var f,v,_;const r=typeof e=="function"?e(i):e,a=((f=i.value)==null?void 0:f.text)??i.value??(r==null?void 0:r.text),l=JM(i.value)?i.value:{},h=()=>a??n.textContent,d=(s.ctx===i.instance.$?(v=KJ(s,i.instance.$))==null?void 0:v.provides:(_=s.ctx)==null?void 0:_.provides)??i.instance.$.provides,p=$o(t,dt(r,l),h);p.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:d}),UA(p,n)}}function KJ(t,e){const n=new Set,i=r=>{var a,l;for(const h of r){if(!h)continue;if(h===t||h.el&&t.el&&h.el===t.el)return!0;n.add(h);let d;if(h.suspense?d=i([h.ssContent]):Array.isArray(h.children)?d=i(h.children):(a=h.component)!=null&&a.vnode&&(d=i([(l=h.component)==null?void 0:l.subTree])),d)return d;n.delete(h)}return!1};if(!i([e.subTree]))return Rd("Could not find original vnode, component will not inherit provides"),e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const Dl=GJ(zJ,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}});function YJ(t,e,n,i,s,r){return en(),Rn(Ld,{width:"100%",height:"100%",class:"d-flex justify-center align-center"},{default:Et(()=>[Q(Ld,{class:"pa-4"},{default:Et(()=>[Q(EC,null,{default:Et(()=>e[4]||(e[4]=[$n("Registration")])),_:1}),Q(xC,{class:"pb-8"},{default:Et(()=>e[5]||(e[5]=[$n(" Please register with a valid email and password. ")])),_:1}),Q(JD,{"on-submit":i.register},{default:Et(()=>[Q(La,{rules:i.emailRules,modelValue:i.email,"onUpdate:modelValue":e[0]||(e[0]=a=>i.email=a),label:"Email",required:"",outlined:""},null,8,["modelValue"]),Q(La,{rules:i.passwordRules,modelValue:i.password,"onUpdate:modelValue":e[1]||(e[1]=a=>i.password=a),label:"Password",required:"",outlined:"",type:"password",onKeyup:jA(i.register,["enter"])},null,8,["modelValue"]),Q(xn,{onClick:i.register,color:"primary",width:"100%"},{default:Et(()=>e[6]||(e[6]=[$n("Register")])),_:1})]),_:1})]),_:1}),Pi(Q(xn,{class:"position-absolute top-0 left-0 ma-5",icon:"mdi-arrow-left",slim:"",onClick:e[2]||(e[2]=a=>i.emit("back"))},null,512),[[Dl,"Back to Login"]]),Pi(Q(xn,{class:"position-absolute top-0 right-0 ma-5",icon:i.isDark?"mdi-weather-night":"mdi-weather-sunny",slim:"",onClick:e[3]||(e[3]=a=>i.appStore.toggleTheme())},null,8,["icon"]),[[Dl,"Toggle Theme"]]),i.error?(en(),Rn(Ag,{key:0,closable:"",type:"error",class:"position-absolute bottom-0 ma-5 slide-y-transition"},{default:Et(()=>[$n(Nl(i.error),1)]),_:1})):ps("",!0)]),_:1})}const XJ=of(J7,[["render",YJ],["__scopeId","data-v-6200fa47"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/Register.vue"]]),JJ=Bo({__name:"Login",setup(t,{expose:e}){e();const n=!1,i=ns(),s=re(()=>i.isDark),r=sC(),a=bP(),l=re(()=>a.params.tenantId),h=[L=>L?!0:"E-mail is required.",L=>/.+@.+\..+/.test(L)?!0:"E-mail must be valid."],d=Ke(""),p=Ke(""),f=!0,v=new mo,_=!0,y=new go,b=Ke(null),x=Ke(""),k=Ke(!1),I=Ke(void 0);function D(){b.value=null,U4(r,d.value,p.value).then(L=>{const B=L.user;B.emailVerified?x.value="Successfully logged in!":(b.value="Email not verified. Please check your inbox to verify your email before logging in.",I.value=B)}).catch(L=>{console.error("Failed sign-in",L),b.value=L})}function N(L){b.value=null,c3(r,L).catch(B=>{console.error("Failed sign",B),b.value=B})}function V(){k.value=!0}function P(){b.value=null,j4(r,d.value).then(()=>{x.value="Password reset email sent."}).catch(L=>{console.error("Failed reset",L),b.value="Please enter a valid email address."})}function T(){b.value=null,I.value&&aO(I.value).then(()=>{x.value="Verification email sent."}).catch(L=>{console.error("Failed resend",L),b.value=L}).finally(()=>{I.value=void 0})}const R={isProd:n,appStore:i,isDark:s,auth:r,route:a,tenantId:l,emailRules:h,email:d,password:p,allowGoogle:f,googleProvider:v,allowGithub:_,githubProvider:y,error:b,successMessage:x,registerSheet:k,notVerified:I,signIn:D,signInPopup:N,openRegister:V,resetPassword:P,resendVerifyEmail:T};return Object.defineProperty(R,"__isScriptSetup",{enumerable:!1,value:!0}),R}}),pN=Fe({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ay({origin:"center center",scrollStrategy:"block",transition:{component:eN},zIndex:2400})},"VDialog"),BI=rt()({name:"VDialog",props:pN(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=un(t,"modelValue"),{scopeId:r}=pf(),a=Ke();function l(p){var _,y;const f=p.relatedTarget,v=p.target;if(f!==v&&((_=a.value)!=null&&_.contentEl)&&((y=a.value)!=null&&y.globalTop)&&![document,a.value.contentEl].includes(v)&&!a.value.contentEl.contains(v)){const b=vg(a.value.contentEl);if(!b.length)return;const x=b[0],k=b[b.length-1];f===x?k.focus():x.focus()}}Ci(()=>{document.removeEventListener("focusin",l)}),yn&&ht(()=>s.value&&t.retainFocus,p=>{p?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0});function h(){var p;n("afterEnter"),(p=a.value)!=null&&p.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function d(){n("afterLeave")}return ht(s,async p=>{var f;p||(await li(),(f=a.value.activatorEl)==null||f.focus({preventScroll:!0}))}),gt(()=>{const p=pu.filterProps(t),f=dt({"aria-haspopup":"dialog"},t.activatorProps),v=dt({tabindex:-1},t.contentProps);return Q(pu,dt({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},p,{modelValue:s.value,"onUpdate:modelValue":_=>s.value=_,"aria-modal":"true",activatorProps:f,contentProps:v,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:h,onAfterLeave:d},r),{activator:i.activator,default:function(){for(var _=arguments.length,y=new Array(_),b=0;b<_;b++)y[b]=arguments[b];return Q(En,{root:"VDialog"},{default:()=>{var x;return[(x=i.default)==null?void 0:x.call(i,...y)]}})}})}),Nu({},a)}}),QJ=Fe({inset:Boolean,...pN({transition:"bottom-sheet-transition"})},"VBottomSheet"),g_=rt()({name:"VBottomSheet",props:QJ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=un(t,"modelValue");return gt(()=>{const s=BI.filterProps(t);return Q(BI,dt(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),ZJ=Fe({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Dt(),...Zn()},"VDivider"),Lc=rt()({name:"VDivider",props:ZJ(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=ci(t),{textColorClasses:r,textColorStyles:a}=Do(wt(t,"color")),l=re(()=>{const h={};return t.length&&(h[t.vertical?"height":"width"]=Ct(t.length)),t.thickness&&(h[t.vertical?"borderRightWidth":"borderTopWidth"]=Ct(t.thickness)),h});return gt(()=>{const h=Q("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[l.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?Q("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[h,Q("div",{class:"v-divider__content"},[i.default()]),h]):h}),{}}}),eQ={key:0};function tQ(t,e,n,i,s,r){const a=XJ;return en(),Jc(Pt,null,[Q(Ld,{width:"100%",height:"100%",class:"d-flex justify-center align-center"},{default:Et(()=>[Q(Ld,{class:"pa-4",loading:i.appStore.authLoading},{default:Et(()=>[Q(EC,null,{default:Et(()=>e[9]||(e[9]=[$n("Authentication")])),_:1}),Q(xC,{class:"pb-8"},{default:Et(()=>e[10]||(e[10]=[$n(" You need to be authenticated to access this page. ")])),_:1}),Q(JD,{"on-submit":i.signIn},{default:Et(()=>[Q(La,{rules:i.emailRules,modelValue:i.email,"onUpdate:modelValue":e[0]||(e[0]=l=>i.email=l),label:"Email",required:"",outlined:""},null,8,["modelValue"]),Q(La,{modelValue:i.password,"onUpdate:modelValue":e[1]||(e[1]=l=>i.password=l),label:"Password",required:"",outlined:"",type:"password",onKeyup:jA(i.signIn,["enter"])},null,8,["modelValue"]),Q(xn,{onClick:i.signIn,color:"primary",width:"100%"},{default:Et(()=>e[11]||(e[11]=[$n("Confirm")])),_:1})]),_:1}),Q(FD,{class:"w-100 text-center text-grey"},{default:Et(()=>[i.tenantId===(i.isProd?"free-tier":"free")?(en(),Jc("span",eQ,[e[12]||(e[12]=$n("No Account yet? Register ")),Ki("a",{class:"register-link text-accent",onClick:i.openRegister},"here")])):ps("",!0),e[16]||(e[16]=Ki("br",null,null,-1)),e[17]||(e[17]=Ki("br",null,null,-1)),Ki("small",null,[e[13]||(e[13]=$n("Forgot your Password?")),e[14]||(e[14]=Ki("br",null,null,-1)),e[15]||(e[15]=$n(" Enter your email and click ")),Ki("a",{class:"register-link text-accent",onClick:i.resetPassword},"Reset Password")])]),_:1}),i.tenantId===(i.isProd?"free-tier":"free")?(en(),Rn(Lc,{key:0,class:"ma-4"})):ps("",!0),i.tenantId===(i.isProd?"free-tier":"free")?(en(),Rn(a_,{key:1,class:"d-flex justify-center align-center",rounded:"",variant:"outlined",divided:""},{default:Et(()=>[i.allowGoogle?Pi((en(),Rn(xn,{key:0,class:"pa-2",icon:"mdi-google",onClick:e[2]||(e[2]=l=>i.signInPopup(i.googleProvider))},null,512)),[[Dl,"Sign in with Google","bottom"]]):ps("",!0),i.allowGithub?Pi((en(),Rn(xn,{key:1,class:"pa-2",icon:"mdi-github",onClick:e[3]||(e[3]=l=>i.signInPopup(i.githubProvider))},null,512)),[[Dl,"Sign in with GitHub","bottom"]]):ps("",!0)]),_:1})):ps("",!0)]),_:1},8,["loading"]),Pi(Q(xn,{class:"position-absolute top-0 right-0 ma-5",icon:i.isDark?"mdi-weather-night":"mdi-weather-sunny",slim:"",onClick:e[4]||(e[4]=l=>i.appStore.toggleTheme())},null,8,["icon"]),[[Dl,"Toggle Theme"]]),i.error?(en(),Rn(Ag,{key:0,closable:"",type:"error",class:"position-absolute bottom-0 ma-5 slide-y-transition"},{append:Et(()=>[i.notVerified?(en(),Rn(xn,{key:0,variant:"outlined",onClick:e[5]||(e[5]=l=>i.resendVerifyEmail())},{default:Et(()=>e[18]||(e[18]=[$n("Resend ")])),_:1})):ps("",!0)]),default:Et(()=>[$n(Nl(i.error)+" ",1)]),_:1})):ps("",!0),i.successMessage?(en(),Rn(Ag,{key:1,closable:"",type:"success",class:"position-absolute bottom-0 ma-5"},{default:Et(()=>[$n(Nl(i.successMessage),1)]),_:1})):ps("",!0)]),_:1}),Q(g_,{modelValue:i.registerSheet,"onUpdate:modelValue":e[8]||(e[8]=l=>i.registerSheet=l),fullscreen:"","retain-focus":"",scrim:!0},{default:Et(()=>[Q(a,{onBack:e[6]||(e[6]=l=>i.registerSheet=!1),onVerificationSend:e[7]||(e[7]=l=>i.successMessage="Verification Email sent to your email adress.")})]),_:1},8,["modelValue"])],64)}const nQ=of(JJ,[["render",tQ],["__scopeId","data-v-47199182"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/Login.vue"]]),Fr=Object.create(null);Fr.open="0";Fr.close="1";Fr.ping="2";Fr.pong="3";Fr.message="4";Fr.upgrade="5";Fr.noop="6";const mm=Object.create(null);Object.keys(Fr).forEach(t=>{mm[Fr[t]]=t});const y_={type:"error",data:"parser error"},mN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",gN=typeof ArrayBuffer=="function",yN=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,RC=({type:t,data:e},n,i)=>mN&&e instanceof Blob?n?i(e):jI(e,i):gN&&(e instanceof ArrayBuffer||yN(e))?n?i(e):jI(new Blob([e]),i):i(Fr[t]+(e||"")),jI=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function $I(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Rb;function iQ(t,e){if(mN&&t.data instanceof Blob)return t.data.arrayBuffer().then($I).then(e);if(gN&&(t.data instanceof ArrayBuffer||yN(t.data)))return e($I(t.data));RC(t,!1,n=>{Rb||(Rb=new TextEncoder),e(Rb.encode(n))})}const UI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<UI.length;t++)zh[UI.charCodeAt(t)]=t;const sQ=t=>{let e=t.length*.75,n=t.length,i,s=0,r,a,l,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),p=new Uint8Array(d);for(i=0;i<n;i+=4)r=zh[t.charCodeAt(i)],a=zh[t.charCodeAt(i+1)],l=zh[t.charCodeAt(i+2)],h=zh[t.charCodeAt(i+3)],p[s++]=r<<2|a>>4,p[s++]=(a&15)<<4|l>>2,p[s++]=(l&3)<<6|h&63;return d},rQ=typeof ArrayBuffer=="function",MC=(t,e)=>{if(typeof t!="string")return{type:"message",data:vN(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:oQ(t.substring(1),e)}:mm[n]?t.length>1?{type:mm[n],data:t.substring(1)}:{type:mm[n]}:y_},oQ=(t,e)=>{if(rQ){const n=sQ(t);return vN(n,e)}else return{base64:!0,data:t}},vN=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},bN="",aQ=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,a)=>{RC(r,!1,l=>{i[a]=l,++s===n&&e(i.join(bN))})})},lQ=(t,e)=>{const n=t.split(bN),i=[];for(let s=0;s<n.length;s++){const r=MC(n[s],e);if(i.push(r),r.type==="error")break}return i};function cQ(){return new TransformStream({transform(t,e){iQ(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Mb;function Gp(t){return t.reduce((e,n)=>e+n.length,0)}function qp(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function uQ(t,e){Mb||(Mb=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(i===0){if(Gp(n)<1)break;const h=qp(n,1);r=(h[0]&128)===128,s=h[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Gp(n)<2)break;const h=qp(n,2);s=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(Gp(n)<8)break;const h=qp(n,8),d=new DataView(h.buffer,h.byteOffset,h.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){l.enqueue(y_);break}s=p*Math.pow(2,32)+d.getUint32(4),i=3}else{if(Gp(n)<s)break;const h=qp(n,s);l.enqueue(MC(r?h:Mb.decode(h),e)),i=0}if(s===0||s>t){l.enqueue(y_);break}}}})}const _N=4;function Jn(t){if(t)return hQ(t)}function hQ(t){for(var e in Jn.prototype)t[e]=Jn.prototype[e];return t}Jn.prototype.on=Jn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Jn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Jn.prototype.off=Jn.prototype.removeListener=Jn.prototype.removeAllListeners=Jn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Jn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};Jn.prototype.emitReserved=Jn.prototype.emit;Jn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Jn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Py=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ms=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),dQ="arraybuffer";function wN(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const fQ=Ms.setTimeout,pQ=Ms.clearTimeout;function Oy(t,e){e.useNativeTimers?(t.setTimeoutFn=fQ.bind(Ms),t.clearTimeoutFn=pQ.bind(Ms)):(t.setTimeoutFn=Ms.setTimeout.bind(Ms),t.clearTimeoutFn=Ms.clearTimeout.bind(Ms))}const mQ=1.33;function gQ(t){return typeof t=="string"?yQ(t):Math.ceil((t.byteLength||t.size)*mQ)}function yQ(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function CN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function vQ(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function bQ(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class _Q extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class DC extends Jn{constructor(e){super(),this.writable=!1,Oy(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new _Q(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=MC(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=vQ(e);return n.length?"?"+n:""}}class wQ extends DC{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};lQ(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,aQ(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=CN()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let xN=!1;try{xN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const CQ=xN;function xQ(){}class EQ extends wQ{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}let Yc=class gm extends Jn{constructor(e,n,i){super(),this.createRequest=e,Oy(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=wN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=gm.requestsCount++,gm.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=xQ,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete gm.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yc.requestsCount=0;Yc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",HI);else if(typeof addEventListener=="function"){const t="onpagehide"in Ms?"pagehide":"unload";addEventListener(t,HI,!1)}}function HI(){for(let t in Yc.requests)Yc.requests.hasOwnProperty(t)&&Yc.requests[t].abort()}const TQ=function(){const t=EN({xdomain:!1});return t&&t.responseType!==null}();class SQ extends EQ{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=TQ&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Yc(EN,this.uri(),e)}}function EN(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||CQ))return new XMLHttpRequest}catch{}if(!e)try{return new Ms[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const TN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kQ extends DC{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=TN?{}:wN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;RC(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}s&&Py(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=CN()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Db=Ms.WebSocket||Ms.MozWebSocket;class IQ extends kQ{createSocket(e,n,i){return TN?new Db(e,n,i):n?new Db(e,n):new Db(e)}doWrite(e,n){this.ws.send(n)}}class AQ extends DC{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=uQ(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=cQ();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const r=()=>{i.read().then(({done:l,value:h})=>{l||(this.onPacket(h),r())}).catch(l=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this._writer.write(i).then(()=>{s&&Py(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const PQ={websocket:IQ,webtransport:AQ,polling:SQ},OQ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,RQ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function v_(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=OQ.exec(t||""),r={},a=14;for(;a--;)r[RQ[a]]=s[a]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=MQ(r,r.path),r.queryKey=DQ(r,r.query),r}function MQ(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function DQ(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}const b_=typeof addEventListener=="function"&&typeof removeEventListener=="function",ym=[];b_&&addEventListener("offline",()=>{ym.forEach(t=>t())},!1);class Aa extends Jn{constructor(e,n){if(super(),this.binaryType=dQ,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=v_(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=v_(n.host).host);Oy(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bQ(this.opts.query)),b_&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ym.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=_N,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Aa.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Aa.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=gQ(s)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Py(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(Aa.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),b_&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=ym.indexOf(this._offlineEventListener);i!==-1&&ym.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Aa.protocol=_N;class NQ extends Aa{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;Aa.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!i)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Aa.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function r(){i||(i=!0,p(),n.close(),n=null)}const a=f=>{const v=new Error("probe error: "+f);v.transport=n.name,r(),this.emitReserved("upgradeError",v)};function l(){a("transport closed")}function h(){a("socket closed")}function d(f){n&&f.name!==n.name&&r()}const p=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",l),this.off("close",h),this.off("upgrading",d)};n.once("open",s),n.once("error",a),n.once("close",l),this.once("close",h),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let LQ=class extends NQ{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>PQ[s]).filter(s=>!!s)),super(e,i)}};function VQ(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=v_(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const FQ=typeof ArrayBuffer=="function",BQ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,SN=Object.prototype.toString,jQ=typeof Blob=="function"||typeof Blob<"u"&&SN.call(Blob)==="[object BlobConstructor]",$Q=typeof File=="function"||typeof File<"u"&&SN.call(File)==="[object FileConstructor]";function NC(t){return FQ&&(t instanceof ArrayBuffer||BQ(t))||jQ&&t instanceof Blob||$Q&&t instanceof File}function vm(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(vm(t[n]))return!0;return!1}if(NC(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return vm(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&vm(t[n]))return!0;return!1}function UQ(t){const e=[],n=t.data,i=t;return i.data=__(n,e),i.attachments=e.length,{packet:i,buffers:e}}function __(t,e){if(!t)return t;if(NC(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=__(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=__(t[i],e));return n}return t}function HQ(t,e){return t.data=w_(t.data,e),delete t.attachments,t}function w_(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=w_(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=w_(t[n],e));return t}const WQ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zQ=5;var Vt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Vt||(Vt={}));class GQ{constructor(e){this.replacer=e}encode(e){return(e.type===Vt.EVENT||e.type===Vt.ACK)&&vm(e)?this.encodeAsBinary({type:e.type===Vt.EVENT?Vt.BINARY_EVENT:Vt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Vt.BINARY_EVENT||e.type===Vt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=UQ(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function WI(t){return Object.prototype.toString.call(t)==="[object Object]"}class LC extends Jn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===Vt.BINARY_EVENT;i||n.type===Vt.BINARY_ACK?(n.type=i?Vt.EVENT:Vt.ACK,this.reconstructor=new qQ(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(NC(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Vt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Vt.BINARY_EVENT||i.type===Vt.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(r,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(LC.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Vt.CONNECT:return WI(n);case Vt.DISCONNECT:return n===void 0;case Vt.CONNECT_ERROR:return typeof n=="string"||WI(n);case Vt.EVENT:case Vt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&WQ.indexOf(n[0])===-1);case Vt.ACK:case Vt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qQ{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=HQ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const KQ=Object.freeze(Object.defineProperty({__proto__:null,Decoder:LC,Encoder:GQ,get PacketType(){return Vt},protocol:zQ},Symbol.toStringTag,{value:"Module"}));function er(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const YQ=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kN extends Jn{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[er(e,"open",this.onopen.bind(this)),er(e,"packet",this.onpacket.bind(this)),er(e,"error",this.onerror.bind(this)),er(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,s,r;if(YQ.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Vt.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,f=n.pop();this._registerAckCallback(p,f),a.id=p}const l=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,h=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!l||(h?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),a=(...l)=>{this.io.clearTimeoutFn(r),n.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((i,s)=>{const r=(a,l)=>a?s(a):i(l);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Vt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vt.EVENT:case Vt.BINARY_EVENT:this.onevent(e);break;case Vt.ACK:case Vt.BINARY_ACK:this.onack(e);break;case Vt.DISCONNECT:this.ondisconnect();break;case Vt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:Vt.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Lu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Lu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Lu.prototype.reset=function(){this.attempts=0};Lu.prototype.setMin=function(t){this.ms=t};Lu.prototype.setMax=function(t){this.max=t};Lu.prototype.setJitter=function(t){this.jitter=t};class C_ extends Jn{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Oy(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Lu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||KQ;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new LQ(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=er(n,"open",function(){i.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=er(n,"error",r);if(this._timeout!==!1){const l=this._timeout,h=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},l);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(er(e,"ping",this.onping.bind(this)),er(e,"data",this.ondata.bind(this)),er(e,"error",this.onerror.bind(this)),er(e,"close",this.onclose.bind(this)),er(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Py(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new kN(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Dh={};function bm(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=VQ(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,a=Dh[s]&&r in Dh[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let h;return l?h=new C_(i,e):(Dh[s]||(Dh[s]=new C_(i,e)),h=Dh[s]),n.query&&!e.query&&(e.query=n.queryKey),h.socket(n.path,e)}Object.assign(bm,{Manager:C_,Socket:kN,io:bm,connect:bm});function XQ(t,e){console.debug("Initializing WS");const n=ns().api.propertyManagement,i=n.split("/").at(3);console.debug("WS Path: ",i);const s={authorization:t};e!=="free"&&Object.assign(s,{"tenant-id":e});const r=bm(n.replace(i,""),{path:(i?"/"+i:"")+"/socket.io/",extraHeaders:s,reconnectionAttempts:5});r.on("connect",function(){console.info("WS Connected"),ns().updateWsConnection(r)}),r.on("disconnect",function(){console.info("WS Disconnected"),ns().updateWsConnection(r)}),r.on("pong",function(){setTimeout(()=>{r.emit("ping")},1e4)}),r.on("parking-properties",function(a){a&&a.length>0&&lC().setProperties(a)})}const JQ=Bo({__name:"App",setup(t,{expose:e}){e();const n=!0,i=()=>{window.open("https://app.cloud-porsche.com/prod/#/","_blank")},s=Ke(!0),r=Ke([]),a=ns(),l=aC(),h=KM(),d=re(()=>a.isDark),p=k0(),f=sC(),v=bP(),_=()=>{const N=v.params.tenantId;return!N||!f?null:(f.tenantId=N==="free"?null:N,N)},y=re(()=>_());f==null||f.onAuthStateChanged(async N=>{var V;if(a.setAuthLoading(!0),a.$reset(),l.$reset(),h.$reset(),await Kl.isReady(),await _(),N){const P=await((V=k0().value)==null?void 0:V.getIdToken(!0)),T=await N.getIdTokenResult();try{await f.updateCurrentUser(N)}catch(R){console.error(R),await uw(f);return}a.setCurrUid(N.uid),await I(y.value),T.claims.role?a.setCurrUserRole(T.claims.role):a.setCurrUserRole("user"),XQ(P,y.value),await x.fetchProperties(),await l.fetchAllData(),await h.fetchUsers(y.value,N.uid)}a.setAuthLoading(!1)});const b="cloud-porsche.firebaseapp.com";f&&b.includes("localhost")&&tO(f,b);const x=lC(),k=Ke(void 0),I=async N=>{const V=qK(),P=GK(V,"Tenants",N),T=(await sY(P)).data();if(!T){k.value="Tenant not found or offline";return}a.setTenantInfo(T)},D={isStaging:n,navigateToProd:i,drawerOpen:s,openNavigations:r,appStore:a,monitoringStore:l,userStore:h,isDark:d,user:p,auth:f,route:v,determineCurrentTenantId:_,tenantId:y,authDomain:b,propertyStore:x,tenantInfoError:k,fetchTenantInfo:I,get router(){return Kl},Login:nQ,get verifiedIfPassword(){return jM}};return Object.defineProperty(D,"__isScriptSetup",{enumerable:!1,value:!0}),D}}),QQ=Fe({...Dt(),...B7({fullHeight:!0}),...Zn()},"VApp"),ZQ=rt()({name:"VApp",props:QQ(),setup(t,e){let{slots:n}=e;const i=ci(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:l}=U7(t),{rtlClasses:h}=Xr();return gt(()=>{var d;return Q("div",{ref:l,class:["v-application",i.themeClasses.value,s.value,h.value,t.class],style:[t.style]},[Q("div",{class:"v-application__wrap"},[(d=n.default)==null?void 0:d.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),eZ=Fe({text:String,...Dt(),...Gn()},"VToolbarTitle"),tZ=rt()({name:"VToolbarTitle",props:eZ(),setup(t,e){let{slots:n}=e;return gt(()=>{const i=!!(n.default||n.text||t.text);return Q(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&Q("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),nZ=[null,"prominent","default","comfortable","compact"],IN=Fe({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>nZ.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Wr(),...Dt(),...Gr(),...os(),...Gn({tag:"header"}),...Zn()},"VToolbar"),zI=rt()({name:"VToolbar",props:IN(),setup(t,e){var _;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rs(wt(t,"color")),{borderClasses:r}=zr(t),{elevationClasses:a}=qr(t),{roundedClasses:l}=as(t),{themeClasses:h}=ci(t),{rtlClasses:d}=Xr(),p=ft(!!(t.extended||(_=n.extension)!=null&&_.call(n))),f=re(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),v=re(()=>p.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Ou({VBtn:{variant:"text"}}),gt(()=>{var k;const y=!!(t.title||n.title),b=!!(n.image||t.image),x=(k=n.extension)==null?void 0:k.call(n);return p.value=!!(t.extended||x),Q(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,l.value,h.value,d.value,t.class],style:[s.value,t.style]},{default:()=>[b&&Q("div",{key:"image",class:"v-toolbar__image"},[n.image?Q(En,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):Q(ky,{key:"image-img",cover:!0,src:t.image},null)]),Q(En,{defaults:{VTabs:{height:Ct(f.value)}}},{default:()=>{var I,D,N;return[Q("div",{class:"v-toolbar__content",style:{height:Ct(f.value)}},[n.prepend&&Q("div",{class:"v-toolbar__prepend"},[(I=n.prepend)==null?void 0:I.call(n)]),y&&Q(tZ,{key:"title",text:t.title},{text:n.title}),(D=n.default)==null?void 0:D.call(n),n.append&&Q("div",{class:"v-toolbar__append"},[(N=n.append)==null?void 0:N.call(n)])])]}}),Q(En,{defaults:{VTabs:{height:Ct(v.value)}}},{default:()=>[Q(nN,null,{default:()=>[p.value&&Q("div",{class:"v-toolbar__extension",style:{height:Ct(v.value)}},[x])]})]})]})}),{contentHeight:f,extensionHeight:v}}}),iZ=Fe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function sZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=Ke(null),a=ft(0),l=ft(0),h=ft(0),d=ft(!1),p=ft(!1),f=re(()=>Number(t.scrollThreshold)),v=re(()=>Mo((f.value-a.value)/f.value||0)),_=()=>{const y=r.value;if(!y||n&&!n.value)return;i=a.value,a.value="window"in y?y.pageYOffset:y.scrollTop;const b=y instanceof Window?document.documentElement.scrollHeight:y.scrollHeight;if(s!==b){s=b;return}p.value=a.value<i,h.value=Math.abs(a.value-f.value)};return ht(p,()=>{l.value=l.value||a.value}),ht(d,()=>{l.value=0}),Cs(()=>{ht(()=>t.scrollTarget,y=>{var x;const b=y?document.querySelector(y):window;if(!b){Rr(`Unable to locate element with identifier ${y}`);return}b!==r.value&&((x=r.value)==null||x.removeEventListener("scroll",_),r.value=b,r.value.addEventListener("scroll",_,{passive:!0}))},{immediate:!0})}),Ci(()=>{var y;(y=r.value)==null||y.removeEventListener("scroll",_)}),n&&ht(n,_,{immediate:!0}),{scrollThreshold:f,currentScroll:a,currentThreshold:h,isScrollActive:d,scrollRatio:v,isScrollingUp:p,savedScroll:l}}function Ry(){const t=ft(!1);return Cs(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:re(()=>t.value?void 0:{transition:"none !important"}),isBooted:gu(t)}}const rZ=Fe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...IN(),...kC(),...iZ(),height:{type:[Number,String],default:64}},"VAppBar"),oZ=rt()({name:"VAppBar",props:rZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ke(),s=un(t,"modelValue"),r=re(()=>{var D;const I=new Set(((D=t.scrollBehavior)==null?void 0:D.split(" "))??[]);return{hide:I.has("hide"),fullyHide:I.has("fully-hide"),inverted:I.has("inverted"),collapse:I.has("collapse"),elevate:I.has("elevate"),fadeImage:I.has("fade-image")}}),a=re(()=>{const I=r.value;return I.hide||I.fullyHide||I.inverted||I.collapse||I.elevate||I.fadeImage||!s.value}),{currentScroll:l,scrollThreshold:h,isScrollingUp:d,scrollRatio:p}=sZ(t,{canScroll:a}),f=re(()=>r.value.hide||r.value.fullyHide),v=re(()=>t.collapse||r.value.collapse&&(r.value.inverted?p.value>0:p.value===0)),_=re(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?l.value>0:l.value===0)),y=re(()=>r.value.fadeImage?r.value.inverted?1-p.value:p.value:void 0),b=re(()=>{var N,V;if(r.value.hide&&r.value.inverted)return 0;const I=((N=i.value)==null?void 0:N.contentHeight)??0,D=((V=i.value)==null?void 0:V.extensionHeight)??0;return f.value?l.value<h.value||r.value.fullyHide?I+D:I:I+D});Ls(re(()=>!!t.scrollBehavior),()=>{Ji(()=>{f.value?r.value.inverted?s.value=l.value>h.value:s.value=d.value||l.value<h.value:s.value=!0})});const{ssrBootStyles:x}=Ry(),{layoutItemStyles:k}=IC({id:t.name,order:re(()=>parseInt(t.order,10)),position:wt(t,"location"),layoutSize:b,elementSize:ft(void 0),active:s,absolute:wt(t,"absolute")});return gt(()=>{const I=zI.filterProps(t);return Q(zI,dt({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...k.value,"--v-toolbar-image-opacity":y.value,height:void 0,...x.value},t.style]},I,{collapse:v.value,flat:_.value}),n)}),{}}}),aZ=Fe({...DD({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),lZ=rt()({name:"VAppBarNavIcon",props:aZ(),setup(t,e){let{slots:n}=e;return gt(()=>Q(xn,dt(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),x_=lf("v-spacer","div","VSpacer"),E_=Symbol.for("vuetify:list");function AN(){const t=qt(E_,{hasPrepend:ft(!1),updateHasPrepend:()=>null}),e={hasPrepend:ft(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return wi(E_,e),t}function PN(){return qt(E_,null)}const VC=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=Ze(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of Ns(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},ON=t=>{const e=VC(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=Ze(r);const l=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:l})},in:(i,s,r)=>{let a=new Set;if(i!=null){const l=Ns(i);l.length&&(a=e.in(l.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},cZ=t=>{const e=VC(t);return{activate:i=>{let{id:s,activated:r,children:a,...l}=i;return s=Ze(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...l})},in:e.in,out:e.out}},uZ=t=>{const e=ON(t);return{activate:i=>{let{id:s,activated:r,children:a,...l}=i;return s=Ze(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...l})},in:e.in,out:e.out}},hZ={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},RN={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},dZ={open:RN.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},FC=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=Ze(i),t&&!s){const a=Array.from(r.entries()).reduce((l,h)=>{let[d,p]=h;return p==="on"&&l.push(d),l},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},MN=t=>{const e=FC(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=Ze(r);const l=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:l})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},fZ=t=>{const e=FC(t);return{select:i=>{let{id:s,selected:r,children:a,...l}=i;return s=Ze(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...l})},in:e.in,out:e.out}},pZ=t=>{const e=MN(t);return{select:i=>{let{id:s,selected:r,children:a,...l}=i;return s=Ze(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...l})},in:e.in,out:e.out}},mZ=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:l}=n;i=Ze(i);const h=new Map(r),d=[i];for(;d.length;){const f=d.shift();r.set(Ze(f),s?"on":"off"),a.has(f)&&d.push(...a.get(f))}let p=Ze(l.get(i));for(;p;){const f=a.get(p),v=f.every(y=>r.get(Ze(y))==="on"),_=f.every(y=>!r.has(Ze(y))||r.get(Ze(y))==="off");r.set(p,v?"on":_?"off":"indeterminate"),p=Ze(l.get(p))}return t&&!s&&Array.from(r.entries()).reduce((v,_)=>{let[y,b]=_;return b==="on"&&v.push(y),v},[]).length===0?h:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Vd=Symbol.for("vuetify:nested"),DN={id:ft(),root:{register:()=>null,unregister:()=>null,parents:Ke(new Map),children:Ke(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ke(!1),selectable:Ke(!1),opened:Ke(new Set),activated:Ke(new Set),selected:Ke(new Map),selectedValues:Ke([]),getPath:()=>[]}},gZ=Fe({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),yZ=t=>{let e=!1;const n=Ke(new Map),i=Ke(new Map),s=un(t,"opened",t.opened,y=>new Set(y),y=>[...y.values()]),r=re(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return cZ(t.mandatory);case"single-leaf":return uZ(t.mandatory);case"independent":return VC(t.mandatory);case"single-independent":default:return ON(t.mandatory)}}),a=re(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return pZ(t.mandatory);case"leaf":return fZ(t.mandatory);case"independent":return FC(t.mandatory);case"single-independent":return MN(t.mandatory);case"classic":default:return mZ(t.mandatory)}}),l=re(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return dZ;case"single":return hZ;case"multiple":default:return RN}}),h=un(t,"activated",t.activated,y=>r.value.in(y,n.value,i.value),y=>r.value.out(y,n.value,i.value)),d=un(t,"selected",t.selected,y=>a.value.in(y,n.value,i.value),y=>a.value.out(y,n.value,i.value));Ci(()=>{e=!0});function p(y){const b=[];let x=y;for(;x!=null;)b.unshift(x),x=i.value.get(x);return b}const f=Qn("nested"),v=new Set,_={id:ft(),root:{opened:s,activatable:wt(t,"activatable"),selectable:wt(t,"selectable"),activated:h,selected:d,selectedValues:re(()=>{const y=[];for(const[b,x]of d.value.entries())x==="on"&&y.push(b);return y}),register:(y,b,x)=>{if(v.has(y)){const k=p(y).map(String).join(" -> "),I=p(b).concat(y).map(String).join(" -> ");Rd(`Multiple nodes with the same ID
	${k}
	${I}`);return}else v.add(y);b&&y!==b&&i.value.set(y,b),x&&n.value.set(y,[]),b!=null&&n.value.set(b,[...n.value.get(b)||[],y])},unregister:y=>{if(e)return;v.delete(y),n.value.delete(y);const b=i.value.get(y);if(b){const x=n.value.get(b)??[];n.value.set(b,x.filter(k=>k!==y))}i.value.delete(y)},open:(y,b,x)=>{f.emit("click:open",{id:y,value:b,path:p(y),event:x});const k=l.value.open({id:y,value:b,opened:new Set(s.value),children:n.value,parents:i.value,event:x});k&&(s.value=k)},openOnSelect:(y,b,x)=>{const k=l.value.select({id:y,value:b,selected:new Map(d.value),opened:new Set(s.value),children:n.value,parents:i.value,event:x});k&&(s.value=k)},select:(y,b,x)=>{f.emit("click:select",{id:y,value:b,path:p(y),event:x});const k=a.value.select({id:y,value:b,selected:new Map(d.value),children:n.value,parents:i.value,event:x});k&&(d.value=k),_.root.openOnSelect(y,b,x)},activate:(y,b,x)=>{if(!t.activatable)return _.root.select(y,!0,x);f.emit("click:activate",{id:y,value:b,path:p(y),event:x});const k=r.value.activate({id:y,value:b,activated:new Set(h.value),children:n.value,parents:i.value,event:x});k&&(h.value=k)},children:n,parents:i,getPath:p}};return wi(Vd,_),_.root},NN=(t,e)=>{const n=qt(Vd,DN),i=Symbol(Hr()),s=re(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,l)=>n.root.open(s.value,a,l),openOnSelect:(a,l)=>n.root.openOnSelect(s.value,a,l),isOpen:re(()=>n.root.opened.value.has(s.value)),parent:re(()=>n.root.parents.value.get(s.value)),activate:(a,l)=>n.root.activate(s.value,a,l),isActivated:re(()=>n.root.activated.value.has(Ze(s.value))),select:(a,l)=>n.root.select(s.value,a,l),isSelected:re(()=>n.root.selected.value.get(Ze(s.value))==="on"),isIndeterminate:re(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:re(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return Ud(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),Ci(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&wi(Vd,r),r},vZ=()=>{const t=qt(Vd,DN);wi(Vd,{...t,isGroupActivator:!0})},bZ=Ru({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return vZ(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),_Z=Fe({activeColor:String,baseColor:String,color:String,collapseIcon:{type:mn,default:"$collapse"},expandIcon:{type:mn,default:"$expand"},prependIcon:mn,appendIcon:mn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Dt(),...Gn()},"VListGroup"),Og=rt()({name:"VListGroup",props:_Z(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=NN(wt(t,"value"),!0),a=re(()=>`v-list-group--id-${String(r.value)}`),l=PN(),{isBooted:h}=Ry();function d(_){_.stopPropagation(),s(!i.value,_)}const p=re(()=>({onClick:d,class:"v-list-group__header",id:a.value})),f=re(()=>i.value?t.collapseIcon:t.expandIcon),v=re(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&f.value,appendIcon:t.appendIcon||!t.subgroup&&f.value,title:t.title,value:t.value}}));return gt(()=>Q(t.tag,{class:["v-list-group",{"v-list-group--prepend":l==null?void 0:l.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&Q(En,{defaults:v.value},{default:()=>[Q(bZ,null,{default:()=>[n.activator({props:p.value,isOpen:i.value})]})]}),Q(Ir,{transition:{component:nN},disabled:!h.value},{default:()=>{var _;return[Pi(Q("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(_=n.default)==null?void 0:_.call(n)]),[[bu,i.value]])]}})]})),{isOpen:i}}}),wZ=Fe({opacity:[Number,String],...Dt(),...Gn()},"VListItemSubtitle"),CZ=rt()({name:"VListItemSubtitle",props:wZ(),setup(t,e){let{slots:n}=e;return gt(()=>Q(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),xZ=lf("v-list-item-title"),EZ=Fe({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:mn,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:mn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:bs(),onClickOnce:bs(),...Wr(),...Dt(),...zo(),...Kr(),...Gr(),...os(),...wC(),...Gn(),...Zn(),...Zl({variant:"text"})},"VListItem"),_r=rt()({name:"VListItem",directives:{Ripple:CC},props:EZ(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=_C(t,n),a=re(()=>t.value===void 0?r.href.value:t.value),{activate:l,isActivated:h,select:d,isOpen:p,isSelected:f,isIndeterminate:v,isGroupActivator:_,root:y,parent:b,openOnSelect:x,id:k}=NN(a,!1),I=PN(),D=re(()=>{var He;return t.active!==!1&&(t.active||((He=r.isActive)==null?void 0:He.value)||(y.activatable.value?h.value:f.value))}),N=re(()=>t.link!==!1&&r.isLink.value),V=re(()=>!!I&&(y.selectable.value||y.activatable.value||t.value!=null)),P=re(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||V.value)),T=re(()=>t.rounded||t.nav),R=re(()=>t.color??t.activeColor),L=re(()=>({color:D.value?R.value??t.baseColor:t.baseColor,variant:t.variant}));ht(()=>{var He;return(He=r.isActive)==null?void 0:He.value},He=>{He&&B()}),Ud(()=>{var He;(He=r.isActive)!=null&&He.value&&B()});function B(){b.value!=null&&y.open(b.value,!0),x(!0)}const{themeClasses:U}=ci(t),{borderClasses:z}=zr(t),{colorClasses:H,colorStyles:q,variantClasses:Z}=uf(L),{densityClasses:se}=Fa(t),{dimensionStyles:oe}=Yr(t),{elevationClasses:ae}=qr(t),{roundedClasses:ye}=as(T),we=re(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),_e=re(()=>({isActive:D.value,select:d,isOpen:p.value,isSelected:f.value,isIndeterminate:v.value}));function Ce(He){var at;s("click",He),P.value&&((at=r.navigate)==null||at.call(r,He),!_&&(y.activatable.value?l(!h.value,He):(y.selectable.value||t.value!=null)&&d(!f.value,He)))}function Oe(He){(He.key==="Enter"||He.key===" ")&&(He.preventDefault(),He.target.dispatchEvent(new MouseEvent("click",He)))}return gt(()=>{const He=N.value?"a":t.tag,at=i.title||t.title!=null,ze=i.subtitle||t.subtitle!=null,pe=!!(t.appendAvatar||t.appendIcon),Se=!!(pe||i.append),Ne=!!(t.prependAvatar||t.prependIcon),Ge=!!(Ne||i.prepend);return I==null||I.updateHasPrepend(Ge),t.activeColor&&A8("active-color",["color","base-color"]),Pi(Q(He,dt({class:["v-list-item",{"v-list-item--active":D.value,"v-list-item--disabled":t.disabled,"v-list-item--link":P.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Ge&&(I==null?void 0:I.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&D.value},U.value,z.value,H.value,se.value,ae.value,we.value,ye.value,Z.value,t.class],style:[q.value,oe.value,t.style],tabindex:P.value?I?-2:0:void 0,"aria-selected":V.value?y.activatable.value?h.value:y.selectable.value?f.value:D.value:void 0,onClick:Ce,onKeydown:P.value&&!N.value&&Oe},r.linkProps),{default:()=>{var pt;return[cf(P.value||D.value,"v-list-item"),Ge&&Q("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?Q(En,{key:"prepend-defaults",disabled:!Ne,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Re;return[(Re=i.prepend)==null?void 0:Re.call(i,_e.value)]}}):Q(Pt,null,[t.prependAvatar&&Q(Sg,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&Q(Vs,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),Q("div",{class:"v-list-item__spacer"},null)]),Q("div",{class:"v-list-item__content","data-no-activator":""},[at&&Q(xZ,{key:"title"},{default:()=>{var Re;return[((Re=i.title)==null?void 0:Re.call(i,{title:t.title}))??t.title]}}),ze&&Q(CZ,{key:"subtitle"},{default:()=>{var Re;return[((Re=i.subtitle)==null?void 0:Re.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(pt=i.default)==null?void 0:pt.call(i,_e.value)]),Se&&Q("div",{key:"append",class:"v-list-item__append"},[i.append?Q(En,{key:"append-defaults",disabled:!pe,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Re;return[(Re=i.append)==null?void 0:Re.call(i,_e.value)]}}):Q(Pt,null,[t.appendIcon&&Q(Vs,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&Q(Sg,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),Q("div",{class:"v-list-item__spacer"},null)])]}}),[[Hd("ripple"),P.value&&t.ripple]])}),{activate:l,isActivated:h,isGroupActivator:_,isSelected:f,list:I,select:d,root:y,id:k}}}),TZ=Fe({color:String,inset:Boolean,sticky:Boolean,title:String,...Dt(),...Gn()},"VListSubheader"),SZ=rt()({name:"VListSubheader",props:TZ(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=Do(wt(t,"color"));return gt(()=>{const r=!!(n.default||t.title);return Q(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&Q("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),kZ=Fe({items:Array,returnObject:Boolean},"VListChildren"),LN=rt()({name:"VListChildren",props:kZ(),setup(t,e){let{slots:n}=e;return AN(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var v,_;let{children:a,props:l,type:h,raw:d}=r;if(h==="divider")return((v=n.divider)==null?void 0:v.call(n,{props:l}))??Q(Lc,l,null);if(h==="subheader")return((_=n.subheader)==null?void 0:_.call(n,{props:l}))??Q(SZ,l,null);const p={subtitle:n.subtitle?y=>{var b;return(b=n.subtitle)==null?void 0:b.call(n,{...y,item:d})}:void 0,prepend:n.prepend?y=>{var b;return(b=n.prepend)==null?void 0:b.call(n,{...y,item:d})}:void 0,append:n.append?y=>{var b;return(b=n.append)==null?void 0:b.call(n,{...y,item:d})}:void 0,title:n.title?y=>{var b;return(b=n.title)==null?void 0:b.call(n,{...y,item:d})}:void 0},f=Og.filterProps(l);return a?Q(Og,dt({value:l==null?void 0:l.value},f),{activator:y=>{let{props:b}=y;const x={...l,...b,value:t.returnObject?d:l.value};return n.header?n.header({props:x}):Q(_r,x,p)},default:()=>Q(LN,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:l}):Q(_r,dt(l,{value:t.returnObject?d:l.value}),p)}))}}}),IZ=Fe({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:af}},"list-items");function T_(t,e){const n=yo(e,t.itemTitle,e),i=yo(e,t.itemValue,n),s=yo(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?Us(e,["children"]):e:void 0:yo(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?VN(t,s):void 0,raw:e}}function VN(t,e){const n=[];for(const i of e)n.push(T_(t,i));return n}function Hee(t){const e=re(()=>VN(t,t.items)),n=re(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?T_(t,a):e.value.find(l=>t.valueComparator(a,l.value))||T_(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:l}=a;return l}):r.map(a=>{let{value:l}=a;return l})}return{items:e,transformIn:i,transformOut:s}}function AZ(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function PZ(t,e){const n=yo(e,t.itemType,"item"),i=AZ(e)?e:yo(e,t.itemTitle),s=yo(e,t.itemValue,void 0),r=yo(e,t.itemChildren),a=t.itemProps===!0?Us(e,["children"]):yo(e,t.itemProps),l={title:i,value:s,...a};return{type:n,title:l.title,value:l.value,props:l,children:n==="item"&&r?FN(t,r):void 0,raw:e}}function FN(t,e){const n=[];for(const i of e)n.push(PZ(t,i));return n}function OZ(t){return{items:re(()=>FN(t,t.items))}}const RZ=Fe({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:mn,collapseIcon:mn,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":bs(),"onClick:select":bs(),"onUpdate:opened":bs(),...gZ({selectStrategy:"single-leaf",openStrategy:"list"}),...Wr(),...Dt(),...zo(),...Kr(),...Gr(),itemType:{type:String,default:"type"},...IZ(),...os(),...Gn(),...Zn(),...Zl({variant:"text"})},"VList"),GI=rt()({name:"VList",props:RZ(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=OZ(t),{themeClasses:s}=ci(t),{backgroundColorClasses:r,backgroundColorStyles:a}=rs(wt(t,"bgColor")),{borderClasses:l}=zr(t),{densityClasses:h}=Fa(t),{dimensionStyles:d}=Yr(t),{elevationClasses:p}=qr(t),{roundedClasses:f}=as(t),{children:v,open:_,parents:y,select:b,getPath:x}=yZ(t),k=re(()=>t.lines?`v-list--${t.lines}-line`:void 0),I=wt(t,"activeColor"),D=wt(t,"baseColor"),N=wt(t,"color");AN(),Ou({VListGroup:{activeColor:I,baseColor:D,color:N,expandIcon:wt(t,"expandIcon"),collapseIcon:wt(t,"collapseIcon")},VListItem:{activeClass:wt(t,"activeClass"),activeColor:I,baseColor:D,color:N,density:wt(t,"density"),disabled:wt(t,"disabled"),lines:wt(t,"lines"),nav:wt(t,"nav"),slim:wt(t,"slim"),variant:wt(t,"variant")}});const V=ft(!1),P=Ke();function T(H){V.value=!0}function R(H){V.value=!1}function L(H){var q;!V.value&&!(H.relatedTarget&&((q=P.value)!=null&&q.contains(H.relatedTarget)))&&z()}function B(H){const q=H.target;if(!(!P.value||["INPUT","TEXTAREA"].includes(q.tagName))){if(H.key==="ArrowDown")z("next");else if(H.key==="ArrowUp")z("prev");else if(H.key==="Home")z("first");else if(H.key==="End")z("last");else return;H.preventDefault()}}function U(H){V.value=!0}function z(H){if(P.value)return ud(P.value,H)}return gt(()=>Q(t.tag,{ref:P,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,l.value,h.value,p.value,k.value,f.value,t.class],style:[a.value,d.value,t.style],tabindex:t.disabled||V.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:T,onFocusout:R,onFocus:L,onKeydown:B,onMousedown:U},{default:()=>[Q(LN,{items:i.value,returnObject:t.returnObject},n)]})),{open:_,select:b,focus:z,children:v,parents:y,getPath:x}}}),MZ=Fe({scrollable:Boolean,...Dt(),...Kr(),...Gn({tag:"main"})},"VMain"),DZ=rt()({name:"VMain",props:MZ(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Yr(t),{mainStyles:s}=j7(),{ssrBootStyles:r}=Ry();return gt(()=>Q(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,l;return[t.scrollable?Q("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(l=n.default)==null?void 0:l.call(n)]}})),{}}});function NZ(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=ft(!1),r=ft(0),a=re(()=>{const d=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[d]:Ct(r.value)}:{top:i.value.top}]});Cs(()=>{ht(n,d=>{d?window.addEventListener("scroll",h,{passive:!0}):window.removeEventListener("scroll",h)},{immediate:!0})}),Ci(()=>{window.removeEventListener("scroll",h)});let l=0;function h(){const d=l>window.scrollY?"up":"down",p=e.value.getBoundingClientRect(),f=parseFloat(i.value.top??0),v=window.scrollY-Math.max(0,r.value-f),_=p.height+Math.max(r.value,f)-window.scrollY-window.innerHeight,y=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;p.height<window.innerHeight-f?(s.value="top",r.value=f):d==="up"&&s.value==="bottom"||d==="down"&&s.value==="top"?(r.value=window.scrollY+p.top-y,s.value=!0):d==="down"&&_<=0?(r.value=0,s.value="bottom"):d==="up"&&v<=0&&(y?s.value!=="top"&&(r.value=-v+y+f,s.value="top"):(r.value=p.top+v,s.value="top")),l=window.scrollY}return{isStuck:s,stickyStyles:a}}const LZ=100,VZ=20;function qI(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function KI(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=qI(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return qI(e)*1e3}function FZ(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new f8(VZ))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var d;const r=(d=t[s])==null?void 0:d.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],l=[],h=[];for(const p of r){if(a[0]-p[0]>LZ)break;l.push({t:p[0],d:p[1].clientX}),h.push({t:p[0],d:p[1].clientY})}return{x:KI(l),y:KI(h),get direction(){const{x:p,y:f}=this,[v,_]=[Math.abs(p),Math.abs(f)];return v>_&&p>=0?"right":v>_&&p<=0?"left":_>v&&f>=0?"down":_>v&&f<=0?"up":BZ()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function BZ(){throw new Error}function jZ(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;Cs(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",D,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),Ci(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",D),window.removeEventListener("touchend",N)});const l=re(()=>["left","right"].includes(a.value)),{addMovement:h,endTouch:d,getVelocity:p}=FZ();let f=!1;const v=ft(!1),_=ft(0),y=ft(0);let b;function x(P,T){return(a.value==="left"?P:a.value==="right"?document.documentElement.clientWidth-P:a.value==="top"?P:a.value==="bottom"?document.documentElement.clientHeight-P:Ec())-(T?s.value:0)}function k(P){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const R=a.value==="left"?(P-y.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-P-y.value)/s.value:a.value==="top"?(P-y.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-P-y.value)/s.value:Ec();return T?Math.max(0,Math.min(1,R)):R}function I(P){if(r.value)return;const T=P.changedTouches[0].clientX,R=P.changedTouches[0].clientY,L=25,B=a.value==="left"?T<L:a.value==="right"?T>document.documentElement.clientWidth-L:a.value==="top"?R<L:a.value==="bottom"?R>document.documentElement.clientHeight-L:Ec(),U=n.value&&(a.value==="left"?T<s.value:a.value==="right"?T>document.documentElement.clientWidth-s.value:a.value==="top"?R<s.value:a.value==="bottom"?R>document.documentElement.clientHeight-s.value:Ec());(B||U||n.value&&i.value)&&(b=[T,R],y.value=x(l.value?T:R,n.value),_.value=k(l.value?T:R),f=y.value>-20&&y.value<80,d(P),h(P))}function D(P){const T=P.changedTouches[0].clientX,R=P.changedTouches[0].clientY;if(f){if(!P.cancelable){f=!1;return}const B=Math.abs(T-b[0]),U=Math.abs(R-b[1]);(l.value?B>U&&B>3:U>B&&U>3)?(v.value=!0,f=!1):(l.value?U:B)>3&&(f=!1)}if(!v.value)return;P.preventDefault(),h(P);const L=k(l.value?T:R,!1);_.value=Math.max(0,Math.min(1,L)),L>1?y.value=x(l.value?T:R,!0):L<0&&(y.value=x(l.value?T:R,!1))}function N(P){if(f=!1,!v.value)return;h(P),v.value=!1;const T=p(P.changedTouches[0].identifier),R=Math.abs(T.x),L=Math.abs(T.y);(l.value?R>L&&R>400:L>R&&L>3)?n.value=T.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||Ec()):n.value=_.value>.5}const V=re(()=>v.value?{transform:a.value==="left"?`translateX(calc(-100% + ${_.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${_.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${_.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${_.value*s.value}px))`:Ec(),transition:"none"}:void 0);return Ls(v,()=>{var R,L;const P=((R=e.value)==null?void 0:R.style.transform)??null,T=((L=e.value)==null?void 0:L.style.transition)??null;Ji(()=>{var B,U,z,H;(U=e.value)==null||U.style.setProperty("transform",((B=V.value)==null?void 0:B.transform)||"none"),(H=e.value)==null||H.style.setProperty("transition",((z=V.value)==null?void 0:z.transition)||null)}),ws(()=>{var B,U;(B=e.value)==null||B.style.setProperty("transform",P),(U=e.value)==null||U.style.setProperty("transition",T)})}),{isDragging:v,dragProgress:_,dragStyles:V}}function Ec(){throw new Error}const $Z=["start","end","left","right","top","bottom"],UZ=Fe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>$Z.includes(t)},sticky:Boolean,...Wr(),...Dt(),...hN(),...N7({mobile:null}),...Gr(),...kC(),...os(),...Gn({tag:"nav"}),...Zn()},"VNavigationDrawer"),HZ=rt()({name:"VNavigationDrawer",props:UZ(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=Xr(),{themeClasses:a}=ci(t),{borderClasses:l}=zr(t),{backgroundColorClasses:h,backgroundColorStyles:d}=rs(wt(t,"color")),{elevationClasses:p}=qr(t),{displayClasses:f,mobile:v}=TC(t),{roundedClasses:_}=as(t),y=TD(),b=un(t,"modelValue",null,_e=>!!_e),{ssrBootStyles:x}=Ry(),{scopeId:k}=pf(),I=Ke(),D=ft(!1),{runOpenDelay:N,runCloseDelay:V}=dN(t,_e=>{D.value=_e}),P=re(()=>t.rail&&t.expandOnHover&&D.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),T=re(()=>r_(t.location,r.value)),R=re(()=>t.persistent),L=re(()=>!t.permanent&&(v.value||t.temporary)),B=re(()=>t.sticky&&!L.value&&T.value!=="bottom");Ls(()=>t.expandOnHover&&t.rail!=null,()=>{ht(D,_e=>i("update:rail",!_e))}),Ls(()=>!t.disableResizeWatcher,()=>{ht(L,_e=>!t.permanent&&li(()=>b.value=!_e))}),Ls(()=>!t.disableRouteWatcher&&!!y,()=>{ht(y.currentRoute,()=>L.value&&(b.value=!1))}),ht(()=>t.permanent,_e=>{_e&&(b.value=!0)}),t.modelValue==null&&!L.value&&(b.value=t.permanent||!v.value);const{isDragging:U,dragProgress:z}=jZ({el:I,isActive:b,isTemporary:L,width:P,touchless:wt(t,"touchless"),position:T}),H=re(()=>{const _e=L.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):P.value;return U.value?_e*z.value:_e}),q=re(()=>["top","bottom"].includes(t.location)?0:P.value),{layoutItemStyles:Z,layoutItemScrimStyles:se}=IC({id:t.name,order:re(()=>parseInt(t.order,10)),position:T,layoutSize:H,elementSize:q,active:re(()=>b.value||U.value),disableTransitions:re(()=>U.value),absolute:re(()=>t.absolute||B.value&&typeof oe.value!="string")}),{isStuck:oe,stickyStyles:ae}=NZ({rootEl:I,isSticky:B,layoutItemStyles:Z}),ye=rs(re(()=>typeof t.scrim=="string"?t.scrim:null)),we=re(()=>({...U.value?{opacity:z.value*.2,transition:"none"}:void 0,...se.value}));return Ou({VList:{bgColor:"transparent"}}),gt(()=>{const _e=s.image||t.image;return Q(Pt,null,[Q(t.tag,dt({ref:I,onMouseenter:N,onMouseleave:V,class:["v-navigation-drawer",`v-navigation-drawer--${T.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":D.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":L.value,"v-navigation-drawer--persistent":R.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":B.value},a.value,h.value,l.value,f.value,p.value,_.value,t.class],style:[d.value,Z.value,x.value,ae.value,t.style,["top","bottom"].includes(T.value)?{height:"auto"}:{}]},k,n),{default:()=>{var Ce,Oe,He;return[_e&&Q("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?Q(En,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):Q(ky,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&Q("div",{class:"v-navigation-drawer__prepend"},[(Ce=s.prepend)==null?void 0:Ce.call(s)]),Q("div",{class:"v-navigation-drawer__content"},[(Oe=s.default)==null?void 0:Oe.call(s)]),s.append&&Q("div",{class:"v-navigation-drawer__append"},[(He=s.append)==null?void 0:He.call(s)])]}}),Q(Ao,{name:"fade-transition"},{default:()=>[L.value&&(U.value||b.value)&&!!t.scrim&&Q("div",dt({class:["v-navigation-drawer__scrim",ye.backgroundColorClasses.value],style:[we.value,ye.backgroundColorStyles.value],onClick:()=>{R.value||(b.value=!1)}},k),null)]})])}),{isStuck:oe}}}),WZ={class:"d-flex align-center flex-grow-1"};function zZ(t,e,n,i,s,r){const a=sA("RouterView"),l=X7,h=GX;return en(),Rn(ZQ,{theme:i.isDark?"dark":"light"},{default:Et(()=>{var d,p;return[Q(oZ,{title:(d=i.appStore.tenant.info)==null?void 0:d.tenantName,density:"comfortable"},{prepend:Et(()=>[Q(lZ,{onClick:e[0]||(e[0]=f=>i.drawerOpen=!i.drawerOpen)})]),default:Et(()=>[Q(x_),Pi(Q(Vs,{class:"pl-6 pr-6",color:i.appStore.wsStatus?"success":"error",icon:i.appStore.wsStatus?"mdi-wifi":"mdi-wifi-off"},null,8,["color","icon"]),[[Dl,i.appStore.wsStatus?"WS Connected":"WS Disconnected"]]),Pi(Q(xn,{icon:i.isDark?"mdi-weather-night":"mdi-weather-sunny",slim:"",onClick:e[1]||(e[1]=f=>i.appStore.toggleTheme())},null,8,["icon"]),[[Dl,"Toggle Theme"]])]),_:1},8,["title"]),Q(HZ,{modelValue:i.drawerOpen,"onUpdate:modelValue":e[3]||(e[3]=f=>i.drawerOpen=f),elevation:"4"},{append:Et(()=>[Q(GI,{nav:""},{default:Et(()=>[i.user?(en(),Rn(_r,{key:0,to:`/${i.tenantId}/profile`,title:"Profile",value:"profile","prepend-icon":"mdi-account-circle",active:i.router.currentRoute.value.path===`/${i.tenantId}/profile`},null,8,["to","active"])):ps("",!0),Q(_r,{"prepend-icon":"mdi-cog",to:`/${i.tenantId}/settings`,title:"Settings",value:"settings",active:i.router.currentRoute.value.path===`${i.tenantId}/settings`},null,8,["to","active"])]),_:1})]),default:Et(()=>[Q(GI,{nav:"",opened:i.openNavigations,"onUpdate:opened":e[2]||(e[2]=f=>i.openNavigations=f)},{default:Et(()=>[Q(_r,{"prepend-icon":"mdi-monitor-dashboard",to:`/${i.tenantId}/`,title:"Dashboard",value:"dashboard",active:i.router.currentRoute.value.path===`/${i.tenantId}/`},null,8,["to","active"]),Q(Og,null,{activator:Et(({props:f})=>[Q(_r,dt(f,{"prepend-icon":"mdi-garage-variant",title:"Properties"}),null,16)]),default:Et(()=>[Q(_r,{to:`/${i.tenantId}/property`,"prepend-icon":"mdi-view-list",title:"Management",value:"properties",active:i.router.currentRoute.value.path===`/${i.tenantId}/property`},null,8,["to","active"]),(en(!0),Jc(Pt,null,Hb(i.propertyStore.properties,f=>(en(),Rn(_r,{to:`/${i.tenantId}/property/${f.id}`,title:f.name??f.id,value:f.id,active:i.router.currentRoute.value.path===`/${i.tenantId}/property/${f.id}`},null,8,["to","title","value","active"]))),256))]),_:1}),Q(Og,null,{activator:Et(({props:f})=>[Q(_r,dt(f,{"prepend-icon":"mdi-hammer-wrench",title:"Defects"}),null,16)]),default:Et(()=>[(en(!0),Jc(Pt,null,Hb(i.propertyStore.properties,f=>(en(),Rn(_r,{to:`/${i.tenantId}/defects/${f.id}`,title:f.name??f.id,value:f.id,active:i.router.currentRoute.value.path===`/${i.tenantId}/defects/${f.id}`},null,8,["to","title","value","active"]))),256))]),_:1})]),_:1},8,["opened"])]),_:1},8,["modelValue"]),Q(DZ,null,{default:Et(()=>[Q(a,null,{default:Et(({Component:f})=>[f?(en(),Rn(Ao,{key:0,mode:"out-in"},{default:Et(()=>[(en(),Rn(lj,null,[(en(),Rn(t$,null,{fallback:Et(()=>[Q(xD,{indeterminate:"",color:"primary"})]),default:Et(()=>[(en(),Rn(rA(f)))]),_:2},1024))],1024))]),_:2},1024)):ps("",!0)]),_:1}),i.tenantInfoError?(en(),Rn(Ag,{key:0,class:"position-absolute bottom-0 ma-16",type:"error",closable:"",onInput:e[4]||(e[4]=f=>i.tenantInfoError=void 0)},{default:Et(()=>[$n(Nl(i.tenantInfoError),1)]),_:1})):ps("",!0)]),_:1}),i.isStaging?(en(),Rn(KD,{key:0,app:"",height:"40",elevation:"8",color:"warning"},{default:Et(()=>[Ki("span",WZ,[e[7]||(e[7]=$n(" This is a staging environment, this is not secure and meant for testing purposes. ")),Q(x_),Q(xn,{"append-icon":"mdi-open-in-new",variant:"text",onClick:e[5]||(e[5]=f=>i.navigateToProd())},{default:Et(()=>e[6]||(e[6]=[$n("Navigate to Production")])),_:1})])]),_:1})):ps("",!0),Q(l),Q(g_,{"model-value":!i.appStore.authLoading&&(!i.user||i.verifiedIfPassword(i.user)),fullscreen:"","close-on-content-click":!1,"close-on-back":!1,persistent:"","retain-focus":"",scrim:!0},{default:Et(()=>[Q(i.Login)]),_:1},8,["model-value"]),Q(g_,{"model-value":i.monitoringStore.free_data.left_free_api_calls===0&&!((p=i.user)!=null&&p.tenantId),fullscreen:"","close-on-content-click":!1,"close-on-back":!1,persistent:"","retain-focus":"",scrim:!0},{default:Et(()=>[Q(h)]),_:1},8,["model-value"])]}),_:1},8,["theme"])}const GZ=of(JQ,[["render",zZ],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/App.vue"]]),BN=Fe({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),YI=rt()({name:"VConfirmEdit",props:BN(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=un(t,"modelValue"),r=Ke();Ji(()=>{r.value=structuredClone(Ze(s.value))});const{t:a}=Mu(),l=re(()=>af(s.value,r.value));function h(){s.value=r.value,n("save",r.value)}function d(){r.value=structuredClone(Ze(s.value)),n("cancel")}function p(v){return Q(Pt,null,[Q(xn,dt({disabled:l.value,variant:"text",color:t.color,onClick:d,text:a(t.cancelText)},v),null),Q(xn,dt({disabled:l.value,variant:"text",color:t.color,onClick:h,text:a(t.okText)},v),null)])}let f=!1;return gt(()=>{var v;return Q(Pt,null,[(v=i.default)==null?void 0:v.call(i,{model:r,save:h,cancel:d,isPristine:l.value,get actions(){return f=!0,p}}),!f&&p()])}),{save:h,cancel:d,isPristine:l}}}),jN=Fe({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:mn,default:"$next"},prevIcon:{type:mn,default:"$prev"},modeIcon:{type:mn,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),XI=rt()({name:"VDatePickerControls",props:jN(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=re(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=re(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=re(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=re(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function l(){n("click:prev")}function h(){n("click:next")}function d(){n("click:year")}function p(){n("click:month")}return gt(()=>Q("div",{class:["v-date-picker-controls"]},[Q(xn,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:p},null),Q(xn,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:d},null),Q(x_,{key:"mode-spacer"},null),Q("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[Q(xn,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:l},null),Q(xn,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:h},null)])])),{}}}),qZ=Fe({appendIcon:mn,color:String,header:String,transition:String,onClick:bs()},"VDatePickerHeader"),JI=rt()({name:"VDatePickerHeader",props:qZ(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=rs(t,"color");function a(){n("click")}function l(){n("click:append")}return gt(()=>{const h=!!(i.default||t.header),d=!!(i.append||t.appendIcon);return Q("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&Q("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),h&&Q(Ir,{key:"content",name:t.transition},{default:()=>{var p;return[Q("div",{key:t.header,class:"v-date-picker-header__content"},[((p=i.default)==null?void 0:p.call(i))??t.header])]}}),d&&Q("div",{class:"v-date-picker-header__append"},[i.append?Q(En,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var p;return[(p=i.append)==null?void 0:p.call(i)]}}):Q(xn,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:l},null)])])}),{}}}),KZ=Fe({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function YZ(t){const e=Du(),n=un(t,"modelValue",[],_=>Ns(_)),i=re(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=un(t,"year",void 0,_=>{const y=_!=null?Number(_):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),y))},_=>e.getYear(_)),r=un(t,"month",void 0,_=>{const y=_!=null?Number(_):e.getMonth(i.value),b=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(b,y)},_=>e.getMonth(_)),a=re(()=>{const _=Number(t.firstDayOfWeek??0);return t.weekdays.map(y=>(y+_)%7)}),l=re(()=>{const _=e.getWeekArray(r.value,t.firstDayOfWeek),y=_.flat(),b=6*7;if(t.weeksInMonth==="static"&&y.length<b){const x=y[y.length-1];let k=[];for(let I=1;I<=b-y.length;I++)k.push(e.addDays(x,I)),I%7===0&&(_.push(k),k=[])}return _});function h(_,y){return _.filter(b=>a.value.includes(e.toJsDate(b).getDay())).map((b,x)=>{const k=e.toISO(b),I=!e.isSameMonth(b,r.value),D=e.isSameDay(b,e.startOfMonth(r.value)),N=e.isSameDay(b,e.endOfMonth(r.value)),V=e.isSameDay(b,r.value);return{date:b,isoDate:k,formatted:e.format(b,"keyboardDate"),year:e.getYear(b),month:e.getMonth(b),isDisabled:v(b),isWeekStart:x%7===0,isWeekEnd:x%7===6,isToday:e.isSameDay(b,y),isAdjacent:I,isHidden:I&&!t.showAdjacentMonths,isStart:D,isSelected:n.value.some(P=>e.isSameDay(b,P)),isEnd:N,isSame:V,localized:e.format(b,"dayOfMonth")}})}const d=re(()=>{const _=e.startOfWeek(i.value,t.firstDayOfWeek),y=[];for(let x=0;x<=6;x++)y.push(e.addDays(_,x));const b=e.date();return h(y,b)}),p=re(()=>{const _=l.value.flat(),y=e.date();return h(_,y)}),f=re(()=>l.value.map(_=>_.length?R7(e,_[0]):null));function v(_){if(t.disabled)return!0;const y=e.date(_);return t.min&&e.isAfter(e.date(t.min),y)||t.max&&e.isAfter(y,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(b=>e.isSameDay(e.date(b),y)):typeof t.allowedDates=="function"?!t.allowedDates(y):!1}return{displayValue:i,daysInMonth:p,daysInWeek:d,genDays:h,model:n,weeksInMonth:l,weekDays:a,weekNumbers:f}}const $N=Fe({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...KZ()},"VDatePickerMonth"),QI=rt()({name:"VDatePickerMonth",props:$N(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ke(),{daysInMonth:r,model:a,weekNumbers:l}=YZ(t),h=Du(),d=ft(),p=ft(),f=ft(!1),v=re(()=>f.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(d.value=a.value[0],a.value.length>1&&(p.value=a.value[a.value.length-1]));const _=re(()=>{const k=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=k});ht(r,(k,I)=>{I&&(f.value=h.isBefore(k[0].date,I[0].date))});function y(k){const I=h.startOfDay(k);if(a.value.length===0?d.value=void 0:a.value.length===1&&(d.value=a.value[0],p.value=void 0),!d.value)d.value=I,a.value=[d.value];else if(p.value)d.value=k,p.value=void 0,a.value=[d.value];else{if(h.isSameDay(I,d.value)){d.value=void 0,a.value=[];return}else h.isBefore(I,d.value)?(p.value=h.endOfDay(d.value),d.value=I):p.value=h.endOfDay(I);const D=h.getDiff(p.value,d.value,"days"),N=[d.value];for(let V=1;V<D;V++){const P=h.addDays(d.value,V);N.push(P)}N.push(p.value),a.value=N}}function b(k){const I=a.value.findIndex(D=>h.isSameDay(D,k));if(I===-1)a.value=[...a.value,k];else{const D=[...a.value];D.splice(I,1),a.value=D}}function x(k){t.multiple==="range"?y(k):t.multiple?b(k):a.value=[k]}return()=>Q("div",{class:"v-date-picker-month"},[t.showWeek&&Q("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&Q("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[$n(" ")]),l.value.map(k=>Q("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[k]))]),Q(Ir,{name:v.value},{default:()=>{var k;return[Q("div",{ref:s,key:(k=r.value[0].date)==null?void 0:k.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&h.getWeekdays(t.firstDayOfWeek).map(I=>Q("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[I])),r.value.map((I,D)=>{const N={props:{onClick:()=>x(I.date)},item:I,i:D};return _.value&&!I.isSelected&&(I.isDisabled=!0),Q("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":I.isAdjacent,"v-date-picker-month__day--hide-adjacent":I.isHidden,"v-date-picker-month__day--selected":I.isSelected,"v-date-picker-month__day--week-end":I.isWeekEnd,"v-date-picker-month__day--week-start":I.isWeekStart}],"data-v-date":I.isDisabled?void 0:I.isoDate},[(t.showAdjacentMonths||!I.isAdjacent)&&Q(En,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(I.isSelected||I.isToday)&&!I.isDisabled?t.color:void 0,disabled:I.isDisabled,icon:!0,ripple:!1,text:I.localized,variant:I.isDisabled?I.isToday?"outlined":"text":I.isToday&&!I.isSelected?"outlined":"flat",onClick:()=>x(I.date)}}},{default:()=>{var V;return[((V=i.day)==null?void 0:V.call(i,N))??Q(xn,N.props,null)]}})])})])]}})])}}),UN=Fe({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),ZI=rt()({name:"VDatePickerMonths",props:UN(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Du(),r=un(t,"modelValue"),a=re(()=>{let l=s.startOfYear(s.date());return t.year&&(l=s.setYear(l,t.year)),_y(12).map(h=>{const d=s.format(l,"monthShort"),p=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),l)||t.max&&s.isAfter(l,s.startOfMonth(s.date(t.max))));return l=s.getNextMonth(l),{isDisabled:p,text:d,value:h}})});return Ji(()=>{r.value=r.value??s.getMonth(s.date())}),gt(()=>Q("div",{class:"v-date-picker-months",style:{height:Ct(t.height)}},[Q("div",{class:"v-date-picker-months__content"},[a.value.map((l,h)=>{var f;const d={active:r.value===h,color:r.value===h?t.color:void 0,disabled:l.isDisabled,rounded:!0,text:l.text,variant:r.value===l.value?"flat":"text",onClick:()=>p(h)};function p(v){if(r.value===v){n("update:modelValue",r.value);return}r.value=v}return((f=i.month)==null?void 0:f.call(i,{month:l,i:h,props:d}))??Q(xn,dt({key:"month"},d),null)})])])),{}}}),HN=Fe({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),e1=rt()({name:"VDatePickerYears",props:HN(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Du(),r=un(t,"modelValue"),a=re(()=>{const h=s.getYear(s.date());let d=h-100,p=h+52;t.min&&(d=s.getYear(s.date(t.min))),t.max&&(p=s.getYear(s.date(t.max)));let f=s.startOfYear(s.date());return f=s.setYear(f,d),_y(p-d+1,d).map(v=>{const _=s.format(f,"year");return f=s.setYear(f,s.getYear(f)+1),{text:_,value:v}})});Ji(()=>{r.value=r.value??s.getYear(s.date())});const l=bg();return Cs(async()=>{var h;await li(),(h=l.el)==null||h.scrollIntoView({block:"center"})}),gt(()=>Q("div",{class:"v-date-picker-years",style:{height:Ct(t.height)}},[Q("div",{class:"v-date-picker-years__content"},[a.value.map((h,d)=>{var f;const p={ref:r.value===h.value?l:void 0,active:r.value===h.value,color:r.value===h.value?t.color:void 0,rounded:!0,text:h.text,variant:r.value===h.value?"flat":"text",onClick:()=>{if(r.value===h.value){n("update:modelValue",r.value);return}r.value=h.value}};return((f=i.year)==null?void 0:f.call(i,{year:h,i:d,props:p}))??Q(xn,dt({key:"month"},p),null)})])])),{}}}),XZ=lf("v-picker-title"),WN=Fe({color:String,...Wr(),...Dt(),...Kr(),...Gr(),...df(),...Ey(),...os(),...Gn(),...Zn()},"VSheet"),t1=rt()({name:"VSheet",props:WN(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=ci(t),{backgroundColorClasses:s,backgroundColorStyles:r}=rs(wt(t,"color")),{borderClasses:a}=zr(t),{dimensionStyles:l}=Yr(t),{elevationClasses:h}=qr(t),{locationStyles:d}=ff(t),{positionClasses:p}=Ty(t),{roundedClasses:f}=as(t);return gt(()=>Q(t.tag,{class:["v-sheet",i.value,s.value,a.value,h.value,p.value,f.value,t.class],style:[r.value,l.value,d.value,t.style]},n)),{}}}),zN=Fe({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...WN()},"VPicker"),n1=rt()({name:"VPicker",props:zN(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=rs(wt(t,"color"));return gt(()=>{const r=t1.filterProps(t),a=!!(t.title||n.title);return Q(t1,dt(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var l;return[!t.hideHeader&&Q("div",{key:"header",class:[i.value],style:[s.value]},[a&&Q(XZ,{key:"picker-title"},{default:()=>{var h;return[((h=n.title)==null?void 0:h.call(n))??t.title]}}),n.header&&Q("div",{class:"v-picker__header"},[n.header()])]),Q("div",{class:"v-picker__body"},[(l=n.default)==null?void 0:l.call(n)]),n.actions&&Q(En,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[Q("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),GN=Fe({header:{type:String,default:"$vuetify.datePicker.header"},...jN(),...$N({weeksInMonth:"static"}),...Us(UN(),["modelValue"]),...Us(HN(),["modelValue"]),...zN({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),i1=rt()({name:"VDatePicker",props:GN(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Du(),{t:r}=Mu(),a=un(t,"modelValue",void 0,L=>Ns(L),L=>t.multiple?L:L[0]),l=un(t,"viewMode"),h=re(()=>{var B;const L=s.date((B=a.value)==null?void 0:B[0]);return L&&s.isValid(L)?L:s.date()}),d=Ke(Number(t.month??s.getMonth(s.startOfMonth(h.value)))),p=Ke(Number(t.year??s.getYear(s.startOfYear(s.setMonth(h.value,d.value))))),f=ft(!1),v=re(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),_=re(()=>{let L=s.date();return L=s.setDate(L,1),L=s.setMonth(L,d.value),L=s.setYear(L,p.value),s.format(L,"monthAndYear")}),y=re(()=>`date-picker-header${f.value?"-reverse":""}-transition`),b=re(()=>{const L=s.date(t.min);return t.min&&s.isValid(L)?L:null}),x=re(()=>{const L=s.date(t.max);return t.max&&s.isValid(L)?L:null}),k=re(()=>{if(t.disabled)return!0;const L=[];if(l.value!=="month")L.push("prev","next");else{let B=s.date();if(B=s.setYear(B,p.value),B=s.setMonth(B,d.value),b.value){const U=s.addDays(s.startOfMonth(B),-1);s.isAfter(b.value,U)&&L.push("prev")}if(x.value){const U=s.addDays(s.endOfMonth(B),1);s.isAfter(U,x.value)&&L.push("next")}}return L});function I(){d.value<11?d.value++:(p.value++,d.value=0,R(p.value)),T(d.value)}function D(){d.value>0?d.value--:(p.value--,d.value=11,R(p.value)),T(d.value)}function N(){l.value="month"}function V(){l.value=l.value==="months"?"month":"months"}function P(){l.value=l.value==="year"?"month":"year"}function T(L){l.value==="months"&&V(),n("update:month",L)}function R(L){l.value==="year"&&P(),n("update:year",L)}return ht(a,(L,B)=>{const U=Ns(B),z=Ns(L);if(!z.length)return;const H=s.date(U[U.length-1]),q=s.date(z[z.length-1]),Z=s.getMonth(q),se=s.getYear(q);Z!==d.value&&(d.value=Z,T(d.value)),se!==p.value&&(p.value=se,R(p.value)),f.value=s.isBefore(H,q)}),gt(()=>{const L=n1.filterProps(t),B=XI.filterProps(t),U=JI.filterProps(t),z=QI.filterProps(t),H=Us(ZI.filterProps(t),["modelValue"]),q=Us(e1.filterProps(t),["modelValue"]),Z={header:v.value,transition:y.value};return Q(n1,dt(L,{class:["v-date-picker",`v-date-picker--${l.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var se;return((se=i.title)==null?void 0:se.call(i))??Q("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?Q(En,{defaults:{VDatePickerHeader:{...Z}}},{default:()=>{var se;return[(se=i.header)==null?void 0:se.call(i,Z)]}}):Q(JI,dt({key:"header"},U,Z,{onClick:l.value!=="month"?N:void 0}),{...i,default:void 0}),default:()=>Q(Pt,null,[Q(XI,dt(B,{disabled:k.value,text:_.value,"onClick:next":I,"onClick:prev":D,"onClick:month":V,"onClick:year":P}),null),Q(oJ,{hideOnLeave:!0},{default:()=>[l.value==="months"?Q(ZI,dt({key:"date-picker-months"},H,{modelValue:d.value,"onUpdate:modelValue":[se=>d.value=se,T],min:b.value,max:x.value,year:p.value}),null):l.value==="year"?Q(e1,dt({key:"date-picker-years"},q,{modelValue:p.value,"onUpdate:modelValue":[se=>p.value=se,R],min:b.value,max:x.value}),null):Q(QI,dt({key:"date-picker-month"},z,{modelValue:a.value,"onUpdate:modelValue":se=>a.value=se,month:d.value,"onUpdate:month":[se=>d.value=se,T],year:p.value,"onUpdate:year":[se=>p.value=se,R],min:b.value,max:x.value}),null)]})]),actions:i.actions})}),{}}}),JZ=Fe({id:String,submenu:Boolean,...Us(Ay({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:eN}}),["absolute"])},"VMenu"),QZ=rt()({name:"VMenu",props:JZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=un(t,"modelValue"),{scopeId:s}=pf(),{isRtl:r}=Xr(),a=Hr(),l=re(()=>t.id||`v-menu-${a}`),h=Ke(),d=qt(m_,null),p=ft(new Set);wi(m_,{register(){p.value.add(a)},unregister(){p.value.delete(a)},closeParents(x){setTimeout(()=>{var k;!p.value.size&&!t.persistent&&(x==null||(k=h.value)!=null&&k.contentEl&&!v8(x,h.value.contentEl))&&(i.value=!1,d==null||d.closeParents())},40)}}),Ci(()=>{d==null||d.unregister(),document.removeEventListener("focusin",f)}),V_(()=>i.value=!1);async function f(x){var D,N,V;const k=x.relatedTarget,I=x.target;await li(),i.value&&k!==I&&((D=h.value)!=null&&D.contentEl)&&((N=h.value)!=null&&N.globalTop)&&![document,h.value.contentEl].includes(I)&&!h.value.contentEl.contains(I)&&((V=vg(h.value.contentEl)[0])==null||V.focus())}ht(i,x=>{x?(d==null||d.register(),yn&&document.addEventListener("focusin",f,{once:!0})):(d==null||d.unregister(),yn&&document.removeEventListener("focusin",f))},{immediate:!0});function v(x){d==null||d.closeParents(x)}function _(x){var k,I,D,N,V;if(!t.disabled)if(x.key==="Tab"||x.key==="Enter"&&!t.closeOnContentClick){if(x.key==="Enter"&&(x.target instanceof HTMLTextAreaElement||x.target instanceof HTMLInputElement&&x.target.closest("form")))return;x.key==="Enter"&&x.preventDefault(),iD(vg((k=h.value)==null?void 0:k.contentEl,!1),x.shiftKey?"prev":"next",T=>T.tabIndex>=0)||(i.value=!1,(D=(I=h.value)==null?void 0:I.activatorEl)==null||D.focus())}else t.submenu&&x.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(V=(N=h.value)==null?void 0:N.activatorEl)==null||V.focus())}function y(x){var I;if(t.disabled)return;const k=(I=h.value)==null?void 0:I.contentEl;k&&i.value?x.key==="ArrowDown"?(x.preventDefault(),x.stopImmediatePropagation(),ud(k,"next")):x.key==="ArrowUp"?(x.preventDefault(),x.stopImmediatePropagation(),ud(k,"prev")):t.submenu&&(x.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:x.key===(r.value?"ArrowLeft":"ArrowRight")&&(x.preventDefault(),ud(k,"first"))):(t.submenu?x.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(x.key))&&(i.value=!0,x.preventDefault(),setTimeout(()=>setTimeout(()=>y(x))))}const b=re(()=>dt({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":l.value,onKeydown:y},t.activatorProps));return gt(()=>{const x=pu.filterProps(t);return Q(pu,dt({ref:h,id:l.value,class:["v-menu",t.class],style:t.style},x,{modelValue:i.value,"onUpdate:modelValue":k=>i.value=k,absolute:!0,activatorProps:b.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":v,onKeydown:_},s),{activator:n.activator,default:function(){for(var k=arguments.length,I=new Array(k),D=0;D<k;D++)I[D]=arguments[D];return Q(En,{root:"VMenu"},{default:()=>{var N;return[(N=n.default)==null?void 0:N.call(n,...I)]}})}})}),Nu({id:l,ΨopenChildren:p},h)}}),ZZ=Fe({hideActions:Boolean,...AC(),...BN(),...OC({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...Us(GN({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),eee=rt()({name:"VDateInput",props:ZZ(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Mu(),s=Du(),{isFocused:r,focus:a,blur:l}=PC(t),h=un(t,"modelValue",t.multiple?[]:null),d=ft(!1),p=re(()=>{const b=Ns(h.value);if(!b.length)return null;if(t.multiple===!0)return i("$vuetify.datePicker.itemsSelected",b.length);if(t.multiple==="range"){const x=b[0],k=b[b.length-1];return s.isValid(x)&&s.isValid(k)?`${s.format(x,"keyboardDate")} - ${s.format(k,"keyboardDate")}`:""}return s.isValid(h.value)?s.format(h.value,"keyboardDate"):""}),f=re(()=>!t.disabled&&!t.readonly);function v(b){if(b.key!=="Enter")return;if(!d.value||!r.value){d.value=!0;return}const x=b.target;h.value=s.date(x.value)}function _(b){b.preventDefault(),b.stopPropagation(),d.value=!0}function y(){d.value=!1}gt(()=>{const b=YI.filterProps(t),x=i1.filterProps(Us(t,["active"])),k=La.filterProps(t);return Q(La,dt(k,{class:t.class,style:t.style,modelValue:p.value,onKeydown:f.value?v:void 0,focused:d.value||r.value,onFocus:a,onBlur:l,"onClick:control":f.value?_:void 0,"onClick:prepend":f.value?_:void 0}),{default:()=>{var I;return[Q(QZ,{modelValue:d.value,"onUpdate:modelValue":D=>d.value=D,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[Q(YI,dt(b,{modelValue:h.value,"onUpdate:modelValue":D=>h.value=D,onSave:y}),{default:D=>{let{actions:N,model:V}=D;return Q(i1,dt(x,{modelValue:t.hideActions?h.value:V.value,"onUpdate:modelValue":P=>{t.hideActions?(h.value=P,t.multiple||(d.value=!1)):V.value=P},onMousedown:P=>P.preventDefault()}),{actions:t.hideActions?void 0:N})}})]}),(I=n.default)==null?void 0:I.call(n)]}})})}}),tee={defaults:{global:{rounded:"sm"},VAvatar:{rounded:"circle"},VAutocomplete:{variant:"underlined"},VBanner:{color:"primary"},VBtn:{color:"primary",rounded:0},VCheckbox:{color:"secondary"},VCombobox:{variant:"underlined"},VSelect:{variant:"underlined"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"underlined"},VTextField:{variant:"underlined"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:hf}},theme:{themes:{light:{colors:{primary:"#3F51B5","primary-darken-1":"#303F9F","primary-lighten-1":"#C5CAE9",secondary:"#FF4081","secondary-darken-1":"#F50057","secondary-lighten-1":"#FF80AB",accent:"#009688"}}}}},nee={defaults:{global:{rounded:"md"},VAvatar:{rounded:"circle"},VAutocomplete:{variant:"filled"},VBanner:{color:"primary"},VBtn:{color:"primary"},VCheckbox:{color:"secondary"},VCombobox:{variant:"filled"},VSelect:{variant:"filled"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"filled"},VTextField:{variant:"filled"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:hf}},theme:{themes:{light:{colors:{primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020"}}}}},iee={defaults:{VAppBar:{flat:!0},VAutocomplete:{variant:"filled"},VBanner:{color:"primary"},VBottomSheet:{contentClass:"rounded-t-xl overflow-hidden"},VBtn:{color:"primary",rounded:"xl"},VBtnGroup:{rounded:"xl",VBtn:{rounded:null}},VCard:{rounded:"lg"},VCheckbox:{color:"secondary",inset:!0},VChip:{rounded:"sm"},VCombobox:{variant:"filled"},VNavigationDrawer:{},VSelect:{variant:"filled"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"filled"},VTextField:{variant:"filled"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:hf}},theme:{themes:{light:{colors:{primary:"#6750a4",secondary:"#b4b0bb",tertiary:"#7d5260",error:"#b3261e",surface:"#fffbfe"}}}}},see=Fe({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...Us(OC({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),ree=rt()({name:"VNumberInput",props:{...see()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=un(t,"modelValue"),s=re({get:()=>i.value,set(B){if(B===null||B===""){i.value=null;return}const U=Number(B);!isNaN(U)&&U<=t.max&&U>=t.min&&(i.value=U)}}),r=Ke(),a=re(()=>Xk(t.step)),l=re(()=>typeof s.value=="number"?Xk(s.value):0),h=XD(t),d=re(()=>h.isDisabled.value||h.isReadonly.value),p=re(()=>d.value?!1:(s.value??0)+t.step<=t.max),f=re(()=>d.value?!1:(s.value??0)-t.step>=t.min),v=re(()=>t.hideInput?"stacked":t.controlVariant),_=re(()=>v.value==="split"?"$plus":"$collapse"),y=re(()=>v.value==="split"?"$minus":"$expand"),b=re(()=>v.value==="split"?"default":"small"),x=re(()=>v.value==="stacked"?"auto":"100%"),k=re(()=>({click:N})),I=re(()=>({click:V}));Cs(()=>{d.value||L()});function D(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(d.value)return;if(s.value==null){s.value=Mo(0,t.min,t.max);return}const U=Math.max(l.value,a.value);B?p.value&&(s.value=+(s.value+t.step).toFixed(U)):f.value&&(s.value=+(s.value-t.step).toFixed(U))}function N(B){B.stopPropagation(),D()}function V(B){B.stopPropagation(),D(!1)}function P(B){var Z,se,oe;if(!B.data)return;const U=(Z=B.target)==null?void 0:Z.value,z=(se=B.target)==null?void 0:se.selectionStart,H=(oe=B.target)==null?void 0:oe.selectionEnd,q=U?U.slice(0,z)+B.data+U.slice(H):B.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(q)||B.preventDefault()}async function T(B){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(B.key)||B.ctrlKey||["ArrowDown","ArrowUp"].includes(B.key)&&(B.preventDefault(),L(),await li(),B.key==="ArrowDown"?D(!1):D())}function R(B){B.stopPropagation()}function L(){if(!r.value)return;const B=r.value.value;B&&!isNaN(+B)?s.value=Mo(+B,t.min,t.max):s.value=null}return gt(()=>{const{modelValue:B,...U}=La.filterProps(t);function z(){return n.increment?Q(En,{key:"increment-defaults",defaults:{VBtn:{disabled:!p.value,flat:!0,height:x.value,size:b.value,icon:_.value}}},{default:()=>[n.increment(k.value)]}):Q(xn,{disabled:!p.value,flat:!0,key:"increment-btn",height:x.value,"data-testid":"increment","aria-hidden":"true",icon:_.value,onClick:N,onMousedown:R,size:b.value,tabindex:"-1"},null)}function H(){return n.decrement?Q(En,{key:"decrement-defaults",defaults:{VBtn:{disabled:!f.value,flat:!0,height:x.value,size:b.value,icon:y.value}}},{default:()=>[n.decrement(I.value)]}):Q(xn,{disabled:!f.value,flat:!0,key:"decrement-btn",height:x.value,"data-testid":"decrement","aria-hidden":"true",icon:y.value,size:b.value,tabindex:"-1",onClick:V,onMousedown:R},null)}function q(){return Q("div",{class:"v-number-input__control"},[H(),Q(Lc,{vertical:v.value!=="stacked"},null),z()])}function Z(){return!t.hideInput&&!t.inset?Q(Lc,{vertical:!0},null):void 0}const se=v.value==="split"?Q("div",{class:"v-number-input__control"},[Q(Lc,{vertical:!0},null),z()]):t.reverse?void 0:Q(Pt,null,[Z(),q()]),oe=n["append-inner"]||se,ae=v.value==="split"?Q("div",{class:"v-number-input__control"},[H(),Q(Lc,{vertical:!0},null)]):t.reverse?Q(Pt,null,[q(),Z()]):void 0,ye=n["prepend-inner"]||ae;return Q(La,dt({ref:r,modelValue:s.value,"onUpdate:modelValue":we=>s.value=we,onBeforeinput:P,onChange:L,onKeydown:T,class:["v-number-input",{"v-number-input--default":v.value==="default","v-number-input--hide-input":t.hideInput,"v-number-input--inset":t.inset,"v-number-input--reverse":t.reverse,"v-number-input--split":v.value==="split","v-number-input--stacked":v.value==="stacked"},t.class]},U,{style:t.style,inputmode:"decimal"}),{...n,"append-inner":oe?function(){var Oe;for(var we=arguments.length,_e=new Array(we),Ce=0;Ce<we;Ce++)_e[Ce]=arguments[Ce];return Q(Pt,null,[(Oe=n["append-inner"])==null?void 0:Oe.call(n,..._e),se])}:void 0,"prepend-inner":ye?function(){var Oe;for(var we=arguments.length,_e=new Array(we),Ce=0;Ce<we;Ce++)_e[Ce]=arguments[Ce];return Q(Pt,null,[ae,(Oe=n["prepend-inner"])==null?void 0:Oe.call(n,..._e)])}:void 0})}),Nu({},r)}});var oee=(t=>(t.NONE="Default Vuetify",t.MD1="Material Design 1",t.MD2="Material Design 2",t.MD3="Material Design 3",t))(oee||{});function aee(t){switch(t){case"Material Design 1":return tee;case"Material Design 2":return nee;case"Material Design 3":return iee;default:return}}const lee=qD({blueprint:aee(localStorage.getItem("material")),theme:{themes:{light:{colors:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},dark:{colors:{primary:"#BB86FC",secondary:"#03DAC6",accent:"#82B1FF",error:"#CF6679",info:"#2196F3",success:"#03DAC6",warning:"#FBC02D"}}}},icons:{defaultSet:"mdi",aliases:gD,sets:{mdi:hf}},components:{VDateInput:eee,VNumberInput:ree}});var qN={exports:{}};(function(t){(function(e,n){t.exports?(n.default=n,t.exports=e&&e.document?n(e):n):(e.Dashboards&&e.Dashboards.error(16,!0),e.Dashboards=n(e))})(typeof window<"u"?window:Mc,function(e){var n={};function i(s,r,a,l){!s.hasOwnProperty(r)&&(s[r]=l.apply(null,a),e&&typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:r,module:s[r]}})))}return i(n,"Core/Globals.js",[],function(){var s,r;return(r=s||(s={})).SVG_NS="http://www.w3.org/2000/svg",r.product="Highcharts",r.version="3.1.0",r.win=e!==void 0?e:{},r.doc=r.win.document,r.svg=r.doc&&r.doc.createElementNS&&!!r.doc.createElementNS(r.SVG_NS,"svg").createSVGRect,r.userAgent=r.win.navigator&&r.win.navigator.userAgent||"",r.isChrome=r.win.chrome,r.isFirefox=r.userAgent.indexOf("Firefox")!==-1,r.isMS=/(edge|msie|trident)/i.test(r.userAgent)&&!r.win.opera,r.isSafari=!r.isChrome&&r.userAgent.indexOf("Safari")!==-1,r.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(r.userAgent),r.isWebKit=r.userAgent.indexOf("AppleWebKit")!==-1,r.deg2rad=2*Math.PI/360,r.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],r.noop=function(){},r.supportsPassiveEvents=function(){let a=!1;if(!r.isMS){let l=Object.defineProperty({},"passive",{get:function(){a=!0}});r.win.addEventListener&&r.win.removeEventListener&&(r.win.addEventListener("testPassive",r.noop,l),r.win.removeEventListener("testPassive",r.noop,l))}return a}(),r.charts=[],r.composed=[],r.dateFormats={},r.seriesTypes={},r.symbolSizes={},r.chartCount=0,s}),i(n,"Core/Utilities.js",[n["Core/Globals.js"]],function(s){let r,{charts:a,doc:l,win:h}=s;function d(q,Z,se,oe){let ae=Z?"Highcharts error":"Highcharts warning";q===32&&(q=`${ae}: Deprecated member`);let ye=x(q),we=ye?`${ae} #${q}: www.highcharts.com/errors/${q}/`:q.toString();if(oe!==void 0){let _e="";ye&&(we+="?"),B(oe,function(Ce,Oe){_e+=`
 - ${Oe}: ${Ce}`,ye&&(we+=encodeURI(Oe)+"="+encodeURI(Ce))}),we+=_e}z(s,"displayError",{chart:se,code:q,message:we,params:oe},function(){if(Z)throw Error(we);h.console&&d.messages.indexOf(we)===-1&&console.warn(we)}),d.messages.push(we)}function p(q,Z){return parseInt(q,Z||10)}function f(q){return typeof q=="string"}function v(q){let Z=Object.prototype.toString.call(q);return Z==="[object Array]"||Z==="[object Array Iterator]"}function _(q,Z){return!!q&&typeof q=="object"&&(!Z||!v(q))}function y(q){return _(q)&&typeof q.nodeType=="number"}function b(q){let Z=q&&q.constructor;return!!(_(q,!0)&&!y(q)&&Z&&Z.name&&Z.name!=="Object")}function x(q){return typeof q=="number"&&!isNaN(q)&&q<1/0&&q>-1/0}function k(q){return q!=null}function I(q,Z,se){let oe,ae=f(Z)&&!k(se),ye=(we,_e)=>{k(we)?q.setAttribute(_e,we):ae?(oe=q.getAttribute(_e))||_e!=="class"||(oe=q.getAttribute(_e+"Name")):q.removeAttribute(_e)};return f(Z)?ye(se,Z):B(Z,ye),oe}function D(q){return v(q)?q:[q]}function N(q,Z){let se;for(se in q||(q={}),Z)q[se]=Z[se];return q}function V(){let q=arguments,Z=q.length;for(let se=0;se<Z;se++){let oe=q[se];if(oe!=null)return oe}}function P(q,Z){N(q.style,Z)}function T(q){return Math.pow(10,Math.floor(Math.log(q)/Math.LN10))}function R(q,Z){return q>1e14?q:parseFloat(q.toPrecision(Z||14))}(d||(d={})).messages=[],Math.easeInOutSine=function(q){return-.5*(Math.cos(Math.PI*q)-1)};let L=Array.prototype.find?function(q,Z){return q.find(Z)}:function(q,Z){let se,oe=q.length;for(se=0;se<oe;se++)if(Z(q[se],se))return q[se]};function B(q,Z,se){for(let oe in q)Object.hasOwnProperty.call(q,oe)&&Z.call(se||q[oe],q[oe],oe,q)}function U(q,Z,se){function oe(we,_e){let Ce=q.removeEventListener;Ce&&Ce.call(q,we,_e,!1)}function ae(we){let _e,Ce;q.nodeName&&(Z?(_e={})[Z]=!0:_e=we,B(_e,function(Oe,He){if(we[He])for(Ce=we[He].length;Ce--;)oe(He,we[He][Ce].fn)}))}let ye=typeof q=="function"&&q.prototype||q;if(Object.hasOwnProperty.call(ye,"hcEvents")){let we=ye.hcEvents;if(Z){let _e=we[Z]||[];se?(we[Z]=_e.filter(function(Ce){return se!==Ce.fn}),oe(Z,se)):(ae(we),we[Z]=[])}else ae(we),delete ye.hcEvents}}function z(q,Z,se,oe){if(se=se||{},l.createEvent&&(q.dispatchEvent||q.fireEvent&&q!==s)){let ae=l.createEvent("Events");ae.initEvent(Z,!0,!0),se=N(ae,se),q.dispatchEvent?q.dispatchEvent(se):q.fireEvent(Z,se)}else if(q.hcEvents){se.target||N(se,{preventDefault:function(){se.defaultPrevented=!0},target:q,type:Z});let ae=[],ye=q,we=!1;for(;ye.hcEvents;)Object.hasOwnProperty.call(ye,"hcEvents")&&ye.hcEvents[Z]&&(ae.length&&(we=!0),ae.unshift.apply(ae,ye.hcEvents[Z])),ye=Object.getPrototypeOf(ye);we&&ae.sort((_e,Ce)=>_e.order-Ce.order),ae.forEach(_e=>{_e.fn.call(q,se)===!1&&se.preventDefault()})}oe&&!se.defaultPrevented&&oe.call(q,se)}let H=function(){let q=Math.random().toString(36).substring(2,9)+"-",Z=0;return function(){return"highcharts-"+(r?"":q)+Z++}}();return h.jQuery&&(h.jQuery.fn.highcharts=function(){let q=[].slice.call(arguments);if(this[0])return q[0]?(new s[f(q[0])?q.shift():"Chart"](this[0],q[0],q[1]),this):a[I(this[0],"data-highcharts-chart")]}),{addEvent:function(q,Z,se,oe={}){let ae=typeof q=="function"&&q.prototype||q;Object.hasOwnProperty.call(ae,"hcEvents")||(ae.hcEvents={});let ye=ae.hcEvents;s.Point&&q instanceof s.Point&&q.series&&q.series.chart&&(q.series.chart.runTrackerClick=!0);let we=q.addEventListener;we&&we.call(q,Z,se,!!s.supportsPassiveEvents&&{passive:oe.passive===void 0?Z.indexOf("touch")!==-1:oe.passive,capture:!1}),ye[Z]||(ye[Z]=[]);let _e={fn:se,order:typeof oe.order=="number"?oe.order:1/0};return ye[Z].push(_e),ye[Z].sort((Ce,Oe)=>Ce.order-Oe.order),function(){U(q,Z,se)}},arrayMax:function(q){let Z=q.length,se=q[0];for(;Z--;)q[Z]>se&&(se=q[Z]);return se},arrayMin:function(q){let Z=q.length,se=q[0];for(;Z--;)q[Z]<se&&(se=q[Z]);return se},attr:I,clamp:function(q,Z,se){return q>Z?q<se?q:se:Z},clearTimeout:function(q){k(q)&&clearTimeout(q)},correctFloat:R,createElement:function(q,Z,se,oe,ae){let ye=l.createElement(q);return Z&&N(ye,Z),ae&&P(ye,{padding:"0",border:"none",margin:"0"}),se&&P(ye,se),oe&&oe.appendChild(ye),ye},crisp:function(q,Z=0,se){let oe=Z%2/2,ae=se?-1:1;return(Math.round(q*ae-oe)+oe)*ae},css:P,defined:k,destroyObjectProperties:function(q,Z,se){B(q,function(oe,ae){oe!==Z&&(oe!=null&&oe.destroy)&&oe.destroy(),(oe!=null&&oe.destroy||!se)&&delete q[ae]})},diffObjects:function(q,Z,se,oe){let ae={};return function ye(we,_e,Ce,Oe){let He=se?_e:we;B(we,function(at,ze){if(!Oe&&oe&&oe.indexOf(ze)>-1&&_e[ze]){at=D(at),Ce[ze]=[];for(let pe=0;pe<Math.max(at.length,_e[ze].length);pe++)_e[ze][pe]&&(at[pe]===void 0?Ce[ze][pe]=_e[ze][pe]:(Ce[ze][pe]={},ye(at[pe],_e[ze][pe],Ce[ze][pe],Oe+1)))}else _(at,!0)&&!at.nodeType?(Ce[ze]=v(at)?[]:{},ye(at,_e[ze]||{},Ce[ze],Oe+1),Object.keys(Ce[ze]).length!==0||ze==="colorAxis"&&Oe===0||delete Ce[ze]):(we[ze]!==_e[ze]||ze in we&&!(ze in _e))&&ze!=="__proto__"&&ze!=="constructor"&&(Ce[ze]=He[ze])})}(q,Z,ae,0),ae},discardElement:function(q){q&&q.parentElement&&q.parentElement.removeChild(q)},erase:function(q,Z){let se=q.length;for(;se--;)if(q[se]===Z){q.splice(se,1);break}},error:d,extend:N,extendClass:function(q,Z){let se=function(){};return se.prototype=new q,N(se.prototype,Z),se},find:L,fireEvent:z,getAlignFactor:(q="")=>({center:.5,right:1,middle:.5,bottom:1})[q]||0,getClosestDistance:function(q,Z){let se,oe,ae,ye=!Z;return q.forEach(we=>{if(we.length>1)for(ae=we.length-1;ae>0;ae--)(oe=we[ae]-we[ae-1])<0&&!ye?(Z==null||Z(),Z=void 0):oe&&(se===void 0||oe<se)&&(se=oe)}),se},getMagnitude:T,getNestedProperty:function(q,Z){let se=q.split(".");for(;se.length&&k(Z);){let oe=se.shift();if(oe===void 0||oe==="__proto__")return;if(oe==="this"){let ye;return _(Z)&&(ye=Z["@this"]),ye??Z}let ae=Z[oe];if(!k(ae)||typeof ae=="function"||typeof ae.nodeType=="number"||ae===h)return;Z=ae}return Z},getStyle:function q(Z,se,oe){let ae;if(se==="width"){let we=Math.min(Z.offsetWidth,Z.scrollWidth),_e=Z.getBoundingClientRect&&Z.getBoundingClientRect().width;return _e<we&&_e>=we-1&&(we=Math.floor(_e)),Math.max(0,we-(q(Z,"padding-left",!0)||0)-(q(Z,"padding-right",!0)||0))}if(se==="height")return Math.max(0,Math.min(Z.offsetHeight,Z.scrollHeight)-(q(Z,"padding-top",!0)||0)-(q(Z,"padding-bottom",!0)||0));let ye=h.getComputedStyle(Z,void 0);return ye&&(ae=ye.getPropertyValue(se),V(oe,se!=="opacity")&&(ae=p(ae))),ae},insertItem:function(q,Z){let se,oe=q.options.index,ae=Z.length;for(se=q.options.isInternal?ae:0;se<ae+1;se++)if(!Z[se]||x(oe)&&oe<V(Z[se].options.index,Z[se]._i)||Z[se].options.isInternal){Z.splice(se,0,q);break}return se},isArray:v,isClass:b,isDOMElement:y,isFunction:function(q){return typeof q=="function"},isNumber:x,isObject:_,isString:f,merge:function(q,...Z){let se,oe=[q,...Z],ae={},ye=function(_e,Ce){return typeof _e!="object"&&(_e={}),B(Ce,function(Oe,He){He!=="__proto__"&&He!=="constructor"&&(!_(Oe,!0)||b(Oe)||y(Oe)?_e[He]=Ce[He]:_e[He]=ye(_e[He]||{},Oe))}),_e};q===!0&&(ae=oe[1],oe=Array.prototype.slice.call(oe,2));let we=oe.length;for(se=0;se<we;se++)ae=ye(ae,oe[se]);return ae},normalizeTickInterval:function(q,Z,se,oe,ae){let ye,we=q;se=V(se,T(q));let _e=q/se;for(!Z&&(Z=ae?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],oe===!1&&(se===1?Z=Z.filter(function(Ce){return Ce%1==0}):se<=.1&&(Z=[1/se]))),ye=0;ye<Z.length&&(we=Z[ye],(!ae||!(we*se>=q))&&(ae||!(_e<=(Z[ye]+(Z[ye+1]||Z[ye]))/2)));ye++);return R(we*se,-Math.round(Math.log(.001)/Math.LN10))},objectEach:B,offset:function(q){let Z=l.documentElement,se=q.parentElement||q.parentNode?q.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:se.top+(h.pageYOffset||Z.scrollTop)-(Z.clientTop||0),left:se.left+(h.pageXOffset||Z.scrollLeft)-(Z.clientLeft||0),width:se.width,height:se.height}},pad:function(q,Z,se){return Array((Z||2)+1-String(q).replace("-","").length).join(se||"0")+q},pick:V,pInt:p,pushUnique:function(q,Z){return 0>q.indexOf(Z)&&!!q.push(Z)},relativeLength:function(q,Z,se){return/%$/.test(q)?Z*parseFloat(q)/100+(se||0):parseFloat(q)},removeEvent:U,replaceNested:function(q,...Z){let se,oe;do for(oe of(se=q,Z))q=q.replace(oe[0],oe[1]);while(q!==se);return q},splat:D,stableSort:function(q,Z){let se,oe,ae=q.length;for(oe=0;oe<ae;oe++)q[oe].safeI=oe;for(q.sort(function(ye,we){return(se=Z(ye,we))===0?ye.safeI-we.safeI:se}),oe=0;oe<ae;oe++)delete q[oe].safeI},syncTimeout:function(q,Z,se){return Z>0?setTimeout(q,Z,se):(q.call(0,se),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(q){return f(q)?q.substring(0,1).toUpperCase()+q.substring(1):String(q)},uniqueKey:H,useSerialIds:function(q){return r=V(q,r)},wrap:function(q,Z,se){let oe=q[Z];q[Z]=function(){let ae=arguments,ye=this;return se.apply(this,[function(){return oe.apply(ye,arguments.length?arguments:ae)}].concat([].slice.call(arguments)))}}}}),i(n,"Core/Renderer/HTML/AST.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{SVG_NS:a,win:l}=s,{attr:h,createElement:d,css:p,error:f,isFunction:v,isString:_,objectEach:y,splat:b}=r,{trustedTypes:x}=l,k=x&&v(x.createPolicy)&&x.createPolicy("highcharts",{createHTML:N=>N}),I=k?k.createHTML(""):"";class D{static filterUserAttributes(V){return y(V,(P,T)=>{let R=!0;D.allowedAttributes.indexOf(T)===-1&&(R=!1),["background","dynsrc","href","lowsrc","src"].indexOf(T)!==-1&&(R=_(P)&&D.allowedReferences.some(L=>P.indexOf(L)===0)),R||(f(33,!1,void 0,{"Invalid attribute in config":`${T}`}),delete V[T]),_(P)&&V[T]&&(V[T]=P.replace(/</g,"&lt;"))}),V}static parseStyle(V){return V.split(";").reduce((P,T)=>{let R=T.split(":").map(B=>B.trim()),L=R.shift();return L&&R.length&&(P[L.replace(/-([a-z])/g,B=>B[1].toUpperCase())]=R.join(":")),P},{})}static setElementHTML(V,P){V.innerHTML=D.emptyHTML,P&&new D(P).addToDOM(V)}constructor(V){this.nodes=typeof V=="string"?this.parseMarkup(V):V}addToDOM(V){return function P(T,R){let L;return b(T).forEach(function(B){let U,z=B.tagName,H=B.textContent?s.doc.createTextNode(B.textContent):void 0,q=D.bypassHTMLFiltering;if(z)if(z==="#text")U=H;else if(D.allowedTags.indexOf(z)!==-1||q){let Z=z==="svg"?a:R.namespaceURI||a,se=s.doc.createElementNS(Z,z),oe=B.attributes||{};y(B,function(ae,ye){ye!=="tagName"&&ye!=="attributes"&&ye!=="children"&&ye!=="style"&&ye!=="textContent"&&(oe[ye]=ae)}),h(se,q?oe:D.filterUserAttributes(oe)),B.style&&p(se,B.style),H&&se.appendChild(H),P(B.children||[],se),U=se}else f(33,!1,void 0,{"Invalid tagName in config":z});U&&R.appendChild(U),L=U}),L}(this.nodes,V)}parseMarkup(V){let P,T=[];V=V.trim().replace(/ style=(["'])/g," data-style=$1");try{P=new DOMParser().parseFromString(k?k.createHTML(V):V,"text/html")}catch{}if(!P){let L=d("div");L.innerHTML=V,P={body:L}}let R=(L,B)=>{let U=L.nodeName.toLowerCase(),z={tagName:U};U==="#text"&&(z.textContent=L.textContent||"");let H=L.attributes;if(H){let q={};[].forEach.call(H,Z=>{Z.name==="data-style"?z.style=D.parseStyle(Z.value):q[Z.name]=Z.value}),z.attributes=q}if(L.childNodes.length){let q=[];[].forEach.call(L.childNodes,Z=>{R(Z,q)}),q.length&&(z.children=q)}B.push(z)};return[].forEach.call(P.body.childNodes,L=>R(L,T)),T}}return D.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],D.allowedReferences=["https://","http://","mailto:","/","../","./","#"],D.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],D.emptyHTML=I,D.bypassHTMLFiltering=!1,D}),i(n,"Dashboards/Components/ComponentRegistry.js",[],function(){var s,r;return(r=s||(s={})).types={},r.registerComponent=function(a,l){return!!a&&!r.types[a]&&!!(r.types[a]=l)},s}),i(n,"Dashboards/Globals.js",[],function(){var s,r;return(r=s||(s={})).classNamePrefix="highcharts-dashboards-",r.classNames={layout:r.classNamePrefix+"layout",cell:r.classNamePrefix+"cell",cellHover:r.classNamePrefix+"cell-state-hover",cellActive:r.classNamePrefix+"cell-state-active",cellLoading:r.classNamePrefix+"cell-state-loading",row:r.classNamePrefix+"row",layoutsWrapper:r.classNamePrefix+"layouts-wrapper",boardContainer:r.classNamePrefix+"wrapper"},r.guiElementType={row:"row",cell:"cell",layout:"layout"},r.boards=[],r.win=e,r.doc=document,r.noop=function(){},r.isMS=/(edge|msie|trident)/i.test(r.win.navigator&&r.win.navigator.userAgent||"")&&!r.win.opera,r.supportsPassiveEvents=function(){let a=!1;if(!r.isMS){let l=Object.defineProperty({},"passive",{get:function(){a=!0}});r.win.addEventListener&&r.win.removeEventListener&&(r.win.addEventListener("testPassive",r.noop,l),r.win.removeEventListener("testPassive",r.noop,l))}return a}(),s}),i(n,"Dashboards/EditMode/EditGlobals.js",[n["Dashboards/Globals.js"]],function(s){let r=s.classNamePrefix+"edit-";return{classNames:{resizeSnap:r+"resize-snap",resizeSnapX:r+"resize-snap-x",resizeSnapY:r+"resize-snap-y",separator:r+"separator",contextMenuBtn:r+"context-menu-btn",contextMenuBtnText:r+"context-menu-btn-text",contextMenu:r+"context-menu",contextMenuItem:r+"context-menu-item",editModeEnabled:r+"enabled",editToolbar:r+"toolbar",editToolbarCellOutline:r+"toolbar-cell-outline",editToolbarRowOutline:r+"toolbar-row-outline",editToolbarItem:r+"toolbar-item",editToolbarRow:r+"toolbar-row",editToolbarCell:r+"toolbar-cell",editSidebar:r+"sidebar",editSidebarShow:r+"sidebar-show",editSidebarHide:r+"sidebar-hide",editSidebarHeader:r+"sidebar-header",editSidebarTitle:r+"sidebar-title",editSidebarMenuItem:r+"sidebar-item",rowContextHighlight:r+"row-context-highlight",cellEditHighlight:r+"cell-highlight",dashboardCellEditHighlightActive:r+"cell-highlight-active",dragMock:r+"drag-mock",dropPointer:r+"drop-pointer",contextDetectionPointer:r+"ctx-detection-pointer",resizePointer:r+"resize-pointer",currentEditedElement:r+"unmask",maskElement:r+"mask",menuItem:r+"menu-item",menu:r+"menu",menuVerticalSeparator:r+"menu-vertical-separator",menuHorizontalSeparator:r+"menu-horizontal-separator",menuDestroy:r+"menu-destroy",editSidebarWrapper:r+"sidebar-wrapper",customSelect:r+"custom-select",customSelectButton:r+"custom-option-button",toggleContainer:r+"toggle-container",toggleWrapper:r+"toggle-wrapper",toggleSlider:r+"toggle-slider",toggleWrapperColored:r+"toggle-wrapper-colored",toggleLabels:r+"toggle-labels",button:r+"button",sidebarNavButton:r+"sidebar-button-nav",labelText:r+"label-text",editSidebarTabBtn:r+"sidebar-tab-btn",editToolsBtn:r+"tools-btn",editTools:r+"tools",editGridItems:r+"grid-items",confirmationPopup:r+"confirmation-popup",popupButtonContainer:r+"confirmation-popup-button-container",popupContentContainer:r+"confirmation-popup-content",popupCancelBtn:r+"confirmation-popup-cancel-btn",popupConfirmBtn:r+"confirmation-popup-confirm-btn",popupCloseButton:r+"popup-close",editOverlay:r+"overlay",editOverlayActive:r+"overlay-active",resizerMenuBtnActive:r+"resizer-menu-btn-active",sidebarCloseButton:r+"close-btn",editSidebarTabBtnWrapper:r+"tabs-buttons-wrapper",editSidebarRight:r+"sidebar-right",editSidebarRightShow:r+"sidebar-right-show",viewFullscreen:r+"view-fullscreen",accordionMenu:r+"accordion-menu",accordionContainer:r+"accordion",accordionHeader:r+"accordion-header",accordionHeaderBtn:r+"accordion-header-btn",accordionHeaderWrapper:r+"accordion-header-wrapper",accordionHeaderIcon:r+"accordion-header-icon",accordionContent:r+"accordion-content",accordionNestedWrapper:r+"accordion-nested",accordionMenuButtonsContainer:r+"accordion-menu-buttons-container",accordionMenuButton:r+"accordion-menu-button",accordionStandaloneWrapper:r+"accordion-standalone-wrapper",hiddenElement:r+"hidden-element",collapsableContentHeader:r+"collapsable-content-header",standaloneElement:r+"standalone-element",collapsedElement:r+"collapsed-element",dropdown:r+"dropdown",dropdownContent:r+"dropdown-content",dropdownButton:r+"dropdown-button",dropdownButtonContent:r+"dropdown-button-content",dropdownIcon:r+"pointer",icon:r+"icon"},lang:{accessibility:{contextMenu:{button:"Context menu"},editMode:{editMode:"Edit mode toggle button"}},addComponent:"Add component",cancelButton:"Cancel",caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you really want to destroy the cell?",confirmDestroyRow:"Do you really want to destroy the row?",confirmDiscardChanges:"Do you really want to discard the changes?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",htmlInput:"HTML",id:"Id",off:"off",on:"on",pointFormat:"Point format",settings:"Settings",style:"Styles",title:"Title",viewFullscreen:"View in full screen",sidebar:{HTML:"HTML",row:"Row",Highcharts:"Highcharts",DataGrid:"DataGrid",KPI:"KPI"}}}}),i(n,"Dashboards/Layout/GUIElement.js",[n["Dashboards/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,createElement:l,uniqueKey:h,objectEach:d,error:p}=r;return class{static getOffsets(f,v){let _={left:0,top:0,right:0,bottom:0};if(!f.container)return _;let y=f.container.getBoundingClientRect(),b=v?v.getBoundingClientRect():{left:0,top:0};return _.left=y.left-b.left,_.top=y.top-b.top,_.right=y.right-b.left,_.bottom=y.bottom-b.top,_}static getDimFromOffsets(f){return{width:f.right-f.left,height:f.bottom-f.top}}static getElementId(f){return s.classNamePrefix+f+"-"+h().slice(11)}static getPercentageWidth(f){let v,_=/^(\d{1})[\-\/\.](\d{1,2})$/;if(_.test(f)){let y=f.match(_)||[];v=((v=100*+y[1]/+y[2])<=100?v:100)+"%"}else if(f.indexOf("%")!==-1){let y=parseFloat(f);v=(y<=100?y>=0?y:0:100)+"%"}return v}getElementContainer(f){let v,_=this;if(f.render)f.attribs&&!f.attribs.id&&delete f.attribs.id;else if(typeof f.elementId=="string"){let y=document.getElementById(f.elementId);y?_.container=y:p("Element "+f.elementId+" does not exist")}return f.element instanceof HTMLElement?v=f.element:v=l("div",f.attribs||{},f.style||{},f.parentContainer),_.removeBindedEventFn=a(v,"bindedGUIElement",function(y){y.guiElement=_,y.stopImmediatePropagation()}),v}destroy(){let f=this;f.removeBindedEventFn&&f.removeBindedEventFn(),f.container&&f.container.parentNode&&f.container.parentNode.removeChild(f.container),d(f,function(v,_){delete f[_]})}getType(){return this.type}changeVisibility(f=!0,v){let _=this.isVisible&&!f||!this.isVisible&&f;this.container&&_&&(this.container.style.display=f?v||"block":"none",this.isVisible=f)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}}),i(n,"Dashboards/Layout/CellHTML.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/GUIElement.js"]],function(s,r,a){return class extends a{constructor(l){super(),this.type="cell-html",this.options=l,this.id=l.id,this.container=l.container,this.mountedComponent=l.mountedComponent}destroy(){var l;(l=this.mountedComponent)==null||l.destroy(),super.destroy()}setHighlight(){var l;this.container.classList.toggle(s.classNames.cellEditHighlight),(l=this.mountedComponent)==null||l.board.container.classList.toggle(s.classNames.dashboardCellEditHighlightActive)}setActiveState(){this.container&&this.container.classList.add(r.classNames.cellActive)}}}),i(n,"Dashboards/Actions/Bindings.js",[n["Dashboards/Components/ComponentRegistry.js"],n["Dashboards/Layout/CellHTML.js"],n["Dashboards/Globals.js"],n["Core/Utilities.js"]],function(s,r,a,l){var h;let{addEvent:d,fireEvent:p}=l;return function(f){function v(y,b){let x;typeof y=="string"&&document.querySelectorAll("#"+y).length>1&&console.warn(`Multiple cells have identical ID %c${y}%c, potentially leading to unexpected behavior. 
Ensure that each cell has a unique ID on the page.`,"font-weight: bold","");let k=b?b.querySelector("#"+y):document.getElementById(y);return k!==null&&p(k,"bindedGUIElement",{},function(I){x=I.guiElement}),x}async function _(y,b,x){var R,L,B,U;let k=y.states,I=y.events,D=y.renderTo||y.cell;if(!D){console.error("The%c renderTo%c option is required to render the component.","font-weight: bold","");return}if(b.mountedComponents.filter(z=>(z.options.renderTo||z.options.cell)===D).length>0){console.error(`A component has already been declared in the cell %c${D}%c use a different cell.`,"font-weight: bold","");return}x=x||f.getCell(D,b.container);let N=(x==null?void 0:x.container)||document.querySelector("#"+D);if(!N||!y.type){console.error(`The component is unable to find the HTML cell element %c${D}%c to render the content.`,"font-weight: bold","");return}let V=s.types[y.type];!V&&(console.error(`The component's type %c${y.type}%c does not exist.`,"font-weight: bold",""),x&&(V=s.types.HTML,y.title={text:((R=b.editMode)==null?void 0:R.lang.errorMessage)||"Something went wrong",className:a.classNamePrefix+"component-title-error "+a.classNamePrefix+"component-title"}));let P=new V(x,y,b),T=P.load().catch(z=>{var H;console.error(z),P.update({connector:{id:""},title:{text:((H=b.editMode)==null?void 0:H.lang.errorMessage)||"Something went wrong",className:a.classNamePrefix+"component-title-error "+a.classNamePrefix+"component-title"}})});return x&&(P.setCell(x),x.mountedComponent=P),b.mountedComponents.push({options:y,component:P,cell:x||new r({id:D,container:N,mountedComponent:P})}),x&&((L=k==null?void 0:k.active)!=null&&L.enabled)&&((B=k==null?void 0:k.active)!=null&&B.isActive)&&(x.setActiveState(),P.isActive=!0),p(P,"mount"),d(N,"click",()=>{var z;I&&I.click&&I.click.call(P),x&&P&&N&&((z=k==null?void 0:k.active)!=null&&z.enabled)&&(x.setActiveState(),P.isActive=!0)}),(U=k==null?void 0:k.hover)!=null&&U.enabled&&N.classList.add(a.classNames.cellHover),p(P,"afterLoad"),T}f.addComponent=_,f.componentFromJSON=function(y){let b=s.types[y.$class];if(!b)return;let x=f.getCell(y.options.renderTo||"");if(!x)return;let k=b.fromJSON(y,x);return k&&k.render(),k},f.getCell=function(y,b){let x=v(y,b);if(x&&x.getType()==="cell")return x},f.getRow=function(y,b){let x=v(y,b);if(x&&x.getType()==="row")return x},f.getLayout=function(y,b){let x=v(y,b);if(x&&x.getType()==="layout")return x}}(h||(h={})),h}),i(n,"Dashboards/Layout/Cell.js",[n["Dashboards/Actions/Bindings.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r,a,l,h){let{componentFromJSON:d}=s,{merge:p,fireEvent:f}=h;class v extends l{static fromJSON(y,b){if(b){let x=y.options,k=x.containerId;return b.layout.copyId&&(k=k+"_"+b.layout.copyId),new v(b,{id:k,parentContainerId:b.container&&b.container.id||x.parentContainerId,mountedComponentJSON:x.mountedComponentJSON,style:x.style,layoutJSON:x.layoutJSON,width:x.width,height:x.height})}}constructor(y,b,x){let k;super(),this.type=a.guiElementType.cell,this.id=b.id,this.options=b,this.row=y,this.isVisible=!0;let I=document.getElementById(b.parentContainerId||"")||y.container,D=y.layout.options||{},N=y.options||{},V=D.cellClassName||"";if(b.height&&(k=typeof b.height=="number"?b.height+"px":b.height),this.container=this.getElementContainer({render:y.layout.board.guiEnabled,parentContainer:I,attribs:{id:b.id,className:a.classNames.cell+" "+V},element:x,elementId:b.id,style:p(D.style,N.style,b.style,{height:k})}),this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON),this.options.layout&&this.setNestedLayout(),this.options.layoutJSON){let P=this.row.layout,T=P.board,R=P.constructor.fromJSON;this.nestedLayout=R(p(this.options.layoutJSON,{parentContainerId:this.options.id}),T,this)}}setNestedLayout(){let y=this.row.layout.board,b=this.row.layout.constructor,x=y.options.gui;this.nestedLayout=new b(y,p({},x&&x.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(y){this.id!==y.options.parentElement&&(y.options.parentElement=this.id);let b=d(y);return!!b&&(this.mountedComponent=b,!0)}destroy(){var x,k,I;let{row:y}=this;(x=this.mountedComponent)==null||x.destroy(),(k=this.nestedLayout)==null||k.destroy(),y.unmountCell(this);let b=((I=y.cells)==null?void 0:I.length)===0;super.destroy(),b&&y.destroy()}toJSON(){let y=(this.row.container||{}).id||"";return{$class:"Dashboards.Layout.Cell",options:{containerId:this.container.id,parentContainerId:y,width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(y=!0){super.changeVisibility(y);let b=this,x=b.row;b.row.getVisibleCells().length?b.isVisible&&!x.isVisible&&b.row.show():b.row.hide(),setTimeout(()=>{f(x,"cellChange",{row:x,cell:b})},0)}getParentCell(y){let b;if(y<=this.row.layout.level){if(this.row.layout.level===y)return this;if(this.row.layout.level-1>=0&&(b=this.row.layout.parentCell))return b.getParentCell(y)}}getOverlappingLevels(y,b,x){let k=this.row.layout.parentCell,I=[this.row.layout.level];if(k){let D=x||l.getOffsets(this)[y],N=l.getOffsets(k)[y];Math.abs(D-N)<b&&(I=[...I,...k.getOverlappingLevels(y,b,N)])}return I}setSize(y,b){let x=this.row.layout.board.editMode;if(this.container){if(y)if(y==="auto"&&this.container.style.flex!=="1 1 0%")this.container.style.flex="1 1 0%";else{let k=this.convertWidthToValue(y);k&&this.container.style.flex!=="0 0 "+k&&(this.container.style.flex="0 0 "+k),this.options.width=k}b&&(this.options.height=this.container.style.height=b+"px"),x&&(x.hideContextPointer(),x.cellToolbar&&x.cellToolbar.isVisible&&(x.cellToolbar.cell===this?x.cellToolbar.showToolbar(this):x.cellToolbar.hide())),f(this.row.layout.board,"cellResize",{cell:this}),f(this.row,"cellChange",{cell:this,row:this.row})}}setHighlight(y){let b=this.row.layout.board.editMode;if(this.container&&b){let x=this.container,k=x.classList.contains(r.classNames.cellEditHighlight);y||k?y&&k&&(x.classList.remove(r.classNames.cellEditHighlight),this.row.layout.board.container.classList.remove(r.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(x.classList.add(r.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(r.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(y=>{y.cell.container&&y.cell.container.classList.remove(a.classNames.cellActive),y.component.isActive=!1}),this.container&&this.container.classList.add(a.classNames.cellActive)}setLoadingState(y=!0){var b,x;(x=(b=this.container)==null?void 0:b.classList)==null||x.toggle(a.classNames.cellLoading,y)}convertWidthToValue(y){return typeof y=="number"?y+"px":/px/.test(y)?y:l.getPercentageWidth(y)||""}}return v}),i(n,"Dashboards/CallbackRegistry.js",[],function(){return class{constructor(){this.registry={}}addCallback(s,r){this.registry[s]=r}getCallback(s){return this.registry[s]}toJSON(){let s={};return Object.keys(this.registry).forEach(r=>{let{func:a,type:l}=this.getCallback(r);s[r]={func:a.toString(),type:l}}),s}}}),i(n,"Dashboards/Components/ConnectorHandler.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/Globals.js"]],function(s,r){return class{constructor(a,l){this.tableEvents=[],this.component=a,this.options=l}async initConnector(){let a=this.component,l=this.options.id,h=this.component.board.dataPool;if(l&&(this.connectorId!==l||h.isNewConnector(l))){a.cell instanceof s&&a.cell.setLoadingState();let d=await h.getConnector(l);this.setConnector(d)}return a}setConnector(a){for(;this.tableEvents.length;){let l=this.tableEvents.pop();typeof l=="function"&&l()}return this.connector=a,a&&(this.clearTableListeners(),this.setupTableListeners(a.table),a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",l=>{l.type==="afterSetModifier"&&l.modified&&(this.setupTableListeners(l.modified),this.component.emit({type:"tableChanged",connector:a}))}),a.table&&(this.presentationModifier?this.presentationTable=this.presentationModifier.modifyTable(a.table.modified.clone()).modified:this.presentationTable=a.table)),this.component}setupTableListeners(a){let l=this.connector;l&&a&&["afterDeleteRows","afterSetCell","afterSetColumns","afterSetRows"].forEach(h=>{this.tableEvents.push(a.on(h,d=>{clearTimeout(this.tableEventTimeout),this.tableEventTimeout=r.win.setTimeout(()=>{this.component.emit({...d,type:"tableChanged",targetConnector:l}),this.tableEventTimeout=void 0})}))})}clearTableListeners(){let a=this.connector,l=this.tableEvents;this.destroy(),a&&l.push(a.table.on("afterSetModifier",h=>{h.type==="afterSetModifier"&&(clearTimeout(this.tableEventTimeout),this.tableEventTimeout=r.win.setTimeout(()=>{a.emit({...h,type:"tableChanged",targetConnector:a}),this.tableEventTimeout=void 0}))}))}updateOptions(a){this.options=a}destroy(){this.tableEvents.forEach(a=>a()),this.tableEvents.length=0}}}),i(n,"Dashboards/Components/EditableOptions.js",[],function(){class s{constructor(a,l=s.defaultBindings){this.component=a,this.bindings=l}getOptions(){let a=this.component.options.editableOptions;if(!a)return[];for(let l=0,h=a.length;l<h;l++){let d=a[l];if(d.name==="connectorName"){let p=this.component.board,f=p?p.dataPool.getConnectorIds().map(v=>({name:v})):[];d.selectOptions=f}}return a}}return s.defaultBindings={keyMap:{color:"colorPicker",title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input",boolean:"toggle"},skipRedraw:[]},s.defaultTypeMap={string:"text",number:"input",boolean:"toggle"},s}),i(n,"Dashboards/Components/Sync/Emitter.js",[],function(){class s{static register(a){let{id:l}=a;this.registry[l]=a}static get(a){return this.registry[a]}constructor(a,l){this.id=a,this.func=l,s.register(this)}create(a){this.callback=this.func.call(a)}remove(){this.callback&&this.callback()}}return s.registry={},s}),i(n,"Dashboards/Components/Sync/Handler.js",[],function(){class s{static register(a){let{id:l}=a;this.registry[l]=a}static get(a){return this.registry[a]}constructor(a,l){this.id=a,this.func=l,s.register(this)}register(a){let{func:l}=this;this.callback=l.call(a)}remove(){this.callback&&this.callback()}}return s.registry={},s}),i(n,"Dashboards/Components/Sync/Sync.js",[n["Dashboards/Components/Sync/Emitter.js"],n["Dashboards/Components/Sync/Handler.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:l,isObject:h}=a;class d{constructor(f,v){this.component=f,this.predefinedSyncConfig=v,this.syncConfig=d.prepareSyncConfig(v,f.options.sync),this.registeredSyncHandlers={},this.registeredSyncEmitters={},this.isSyncing=!1,this.listeners=[]}static prepareSyncConfig(f,v={}){let{defaultSyncPairs:_,defaultSyncOptions:y}=f;return Object.keys(v).reduce((b,x)=>{if(x){let k=_[x],I=y[x],D=v[x],N=l(I||{},{enabled:h(D)?D.enabled:D},h(D)?D:{});if(k&&N.enabled)for(let V of["emitter","handler"])(N[V]===!0||N[V]===void 0)&&(N[V]=k[V]);b[x]=N}return b},{})}registerSyncEmitter(f){let{id:v}=f;this.registeredSyncEmitters[v]=f}isRegisteredEmitter(f){return!!this.registeredSyncEmitters[f]}registerSyncHandler(f){let{id:v}=f;this.registeredSyncHandlers[v]=f}isRegisteredHandler(f){return!!this.registeredSyncHandlers[f]}start(){let{component:f}=this;for(let v of(this.syncConfig=d.prepareSyncConfig(this.predefinedSyncConfig,f.options.sync),Object.keys(this.syncConfig))){let _=this.syncConfig[v];if(!_)continue;let{emitter:y,handler:b}=_;if(b){b===!0&&(b=d.defaultHandlers[v].handler);let x=new r(v,b);this.isRegisteredHandler(x.id)||(this.registerSyncHandler(x),x.register(f))}if(y){y===!0&&(y=d.defaultHandlers[v].emitter);let x=new s(v,y);this.isRegisteredEmitter(x.id)||(this.registerSyncEmitter(x),x.create(f))}}this.isSyncing=!0,this.listeners.push(f.on("update",()=>this.stop()))}stop(){let{component:f,listeners:v,registeredSyncHandlers:_,registeredSyncEmitters:y}=this;Object.keys(_).forEach(b=>{_[b].remove(),delete _[b]}),Object.keys(y).forEach(b=>{y[b].remove(),delete y[b]}),this.isSyncing=!1;for(let b=0,x=v.length;b<x;++b)v[b]();this.listeners.length=0,this.listeners.push(f.on("afterUpdate",()=>{this.start()}))}}return d.defaultHandlers={},d}),i(n,"Dashboards/Components/ComponentUtilities.js",[],function(){var s;return function(r){function a(h,d){let p=e.getComputedStyle(h);return d.map(f=>p[f])}function l(h,d){return d&&(h+=typeof d=="number"?d:parseFloat(d)),h}r.getMargins=function(h,d=!0){let p={x:["borderLeft","borderRight"],y:["borderTop","borderBottom"]};return{y:a(h,["marginTop","marginBottom",...d?p.y:[]]).reduce(l,0),x:a(h,["marginLeft","marginTop",...d?p.x:[]]).reduce(l,0)}},r.getPaddings=function(h){return{x:a(h,["paddingLeft","paddingRight"]).reduce(l,0),y:a(h,["paddingTop","paddingBottom"]).reduce(l,0)}},r.getStyles=a,r.sumPixels=l}(s||(s={})),s}),i(n,"Dashboards/Utilities.js",[n["Dashboards/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{doc:a,supportsPassiveEvents:l}=s,{error:h,isClass:d,isDOMElement:p,isObject:f,objectEach:v,uniqueKey:_}=r;function y(x,k){let I;for(I in x||(x={}),k)x[I]=k[I];return x}function b(x,k,I){function D(P,T){let R=x.removeEventListener;R&&R.call(x,P,T,!1)}function N(P){let T,R;x.nodeName&&(k?(T={})[k]=!0:T=P,v(T,function(L,B){if(P[B])for(R=P[B].length;R--;)D(B,P[B][R].fn)}))}let V=typeof x=="function"&&x.prototype||x;if(Object.hasOwnProperty.call(V,"hcEvents")){let P=V.hcEvents;if(k){let T=P[k]||[];I?(P[k]=T.filter(function(R){return I!==R.fn}),D(k,I)):(N(P),P[k]=[])}else N(P),delete V.hcEvents}}return{addEvent:function(x,k,I,D={}){let N=typeof x=="function"&&x.prototype||x;Object.hasOwnProperty.call(N,"hcEvents")||(N.hcEvents={});let V=N.hcEvents,P=x.addEventListener;P&&P.call(x,k,I,!!l&&{passive:D.passive===void 0?k.indexOf("touch")!==-1:D.passive,capture:!1}),V[k]||(V[k]=[]);let T={fn:I,order:typeof D.order=="number"?D.order:1/0};return V[k].push(T),V[k].sort((R,L)=>R.order-L.order),function(){b(x,k,I)}},deepClone:function x(k,I){if(Array.isArray(k))return k.map(D=>x(D,I));if(k&&typeof k=="object"){let D={};for(let N of Object.keys(k))I&&I.includes(N)?D[N]=k[N]:D[N]=x(k[N],I);return D}return k},error:function(x,k){if(x===16){console.warn("Dashboard error: Dashboards library loaded more than once.This may cause undefined behavior.");return}h(x,k)},fireEvent:function(x,k,I,D){if(I=I||{},a.createEvent&&(x.dispatchEvent||x.fireEvent&&x!==s)){let N=a.createEvent("Events");N.initEvent(k,!0,!0),I=y(N,I),x.dispatchEvent?x.dispatchEvent(I):x.fireEvent(k,I)}else if(x.hcEvents){I.target||y(I,{preventDefault:function(){I.defaultPrevented=!0},target:x,type:k});let N=[],V=x,P=!1;for(;V.hcEvents;)Object.hasOwnProperty.call(V,"hcEvents")&&V.hcEvents[k]&&(N.length&&(P=!0),N.unshift.apply(N,V.hcEvents[k])),V=Object.getPrototypeOf(V);P&&N.sort((T,R)=>T.order-R.order),N.forEach(T=>{T.fn.call(x,I)===!1&&I.preventDefault()})}D&&!I.defaultPrevented&&D.call(x,I)},merge:function(x,...k){let I=0,D={},N=Error("Recursive copy depth > 100"),V=(P,T)=>{if(typeof P!="object"&&(P={}),++I>100)throw N;return v(T,(R,L)=>{L!=="__proto__"&&L!=="constructor"&&(!f(R,!0)||d(R)||p(R)?P[L]=T[L]:P[L]=V(P[L]||{},R))}),--I,P};x===!0?D=k.shift():k.unshift(x);for(let P=0,T=k.length;P<T;++P)D=V(D,k[P]);return D},removeEvent:b,uniqueKey:function(){return`dashboard-${_().replace("highcharts-","")}`}}}),i(n,"Dashboards/Components/Component.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/CallbackRegistry.js"],n["Dashboards/Components/ConnectorHandler.js"],n["Dashboards/Components/EditableOptions.js"],n["Dashboards/Components/Sync/Sync.js"],n["Dashboards/Globals.js"],n["Core/Utilities.js"],n["Dashboards/Components/ComponentUtilities.js"],n["Dashboards/Utilities.js"]],function(s,r,a,l,h,d,p,f,v){let{classNamePrefix:_}=d,{createElement:y,isArray:b,merge:x,fireEvent:k,addEvent:I,objectEach:D,isFunction:N,getStyle:V,diffObjects:P}=p,{getMargins:T,getPaddings:R}=f,{deepClone:L,uniqueKey:B}=v;class U{static createTextElement(H,q,Z){if(typeof Z=="object"){let{className:se,text:oe,style:ae}=Z;return y(H,{className:se||`${_}component-${q}`,textContent:oe},ae)}if(typeof Z=="string")return y(H,{className:`${_}component-${q}`,textContent:Z},{})}constructor(H,q,Z){var oe,ae;this.connectorHandlers=[],this.callbackRegistry=new r,this.cellListeners=[],this.resizeTimeouts=[],this.innerResizeTimeouts=[];let se=q.renderTo||q.cell;if(this.board=Z||((ae=(oe=H==null?void 0:H.row)==null?void 0:oe.layout)==null?void 0:ae.board)||{},this.parentElement=(H==null?void 0:H.container)||document.querySelector("#"+se),this.cell=H,this.options=x(U.defaultOptions,q),this.id=this.options.id&&this.options.id.length?this.options.id:B(),this.options.connector)for(let ye of b(this.options.connector)?this.options.connector:[this.options.connector])this.connectorHandlers.push(new a(this,ye));this.editableOptions=new l(this,q.editableOptionsBindings),this.dimensions={width:null,height:null},this.element=y("div",{className:this.options.className},{},this.parentElement),Number(V(this.element,"padding"))||(this.element.style.padding="0.1px"),this.contentElement=y("div",{className:`${this.options.className}-content`},{},this.element,!0),this.sync=new h(this,this.constructor.predefinedSyncConfig),this.setupEventListeners(),H&&(this.attachCellListeners(),this.on("update",()=>{this.cell instanceof s&&this.cell.setLoadingState()}),this.on("afterRender",()=>{this.cell instanceof s&&this.cell.setLoadingState(!1)})),this.on("tableChanged",()=>{this.onTableChanged()})}getOptionsOnDrop(H){return{}}getFirstConnector(){var H;return(H=this.connectorHandlers[0])==null?void 0:H.connector}attachCellListeners(){for(;this.cellListeners.length;){let H=this.cellListeners.pop();H&&H()}if(this.cell&&this.cell instanceof s&&Object.keys(this.cell).length){let H=this.cell.row.layout.board;this.cellListeners.push(I(H,"cellResize",()=>{this.resizeTo(this.parentElement)}),I(this.cell.row,"cellChange",q=>{let{row:Z}=q;Z&&this.cell&&Z.getCellIndex(this.cell)===void 0&&this.cell&&this.setCell(this.cell)}))}}setCell(H,q=!1){this.cell=H,H.container&&(this.parentElement=H.container),this.attachCellListeners(),q&&this.resizeTo(this.parentElement)}async initConnectors(){for(let H of(k(this,"setConnectors",{connectorHandlers:this.connectorHandlers}),this.connectorHandlers))await H.initConnector();return k(this,"afterSetConnectors",{connectorHandlers:this.connectorHandlers}),this}getContentHeight(){return(this.titleElement?this.titleElement.clientHeight+T(this.titleElement).y:0)+(this.captionElement?this.captionElement.clientHeight+T(this.captionElement).y:0)}resize(H,q){if(q){let Z=R(this.element).y+T(this.element).y;this.element.style.height="calc(100% - "+Z+"px)",this.contentElement.style.height="calc(100% - "+this.getContentHeight()+"px)"}else q===null&&(this.dimensions.height=null,this.element.style.removeProperty("height"));k(this,"resize",{width:H,height:q})}resizeDynamicContent(H,q){let{element:Z}=this;if(q){let se=T(Z).y,oe=R(Z).y;typeof q=="string"&&(q=parseFloat(q)),q=Math.round(q),Z.style.height=`${q-se-oe}px`,this.contentElement.style.height=`${Z.clientHeight-this.getContentHeight()-oe}px`}else q===null&&(this.dimensions.height=null,Z.style.removeProperty("height"));k(this,"resize",{width:H,height:q})}resizeTo(H){for(;this.resizeTimeouts.length;){let Z=this.resizeTimeouts.pop();Z&&cancelAnimationFrame(Z)}let q=requestAnimationFrame(()=>{let{width:Z,height:se}=H.getBoundingClientRect(),oe=R(H),ae=T(H);this.resize(Z-oe.x-ae.x,se-oe.y-ae.y)});this.resizeTimeouts.push(q)}async update(H,q=!0){var ae,ye;let Z={options:H,shouldForceRerender:!1};k(this,"update",Z),H.connector&&Array.isArray(this.options.connector)&&(this.options.connector=void 0),this.options=x(this.options,H);let se=this.options.connector?b(this.options.connector)?this.options.connector:[this.options.connector]:[],oe=se.length!==this.connectorHandlers.length;if(!oe)for(let we=0,_e=se.length;we<_e;we++){if(((ae=this.connectorHandlers[we])==null?void 0:ae.options.id)!==((ye=se[we])==null?void 0:ye.id)){oe=!0;break}this.connectorHandlers[we].updateOptions(se[we])}if(oe){for(let we of this.connectorHandlers)we.destroy();for(let we of(this.connectorHandlers.length=0,se))this.connectorHandlers.push(new a(this,we));await this.initConnectors()}(q||Z.shouldForceRerender)&&this.render()}setupEventListeners(){let H=this.options.events;H&&(Object.keys(H).forEach(Z=>{let se=H[Z];se&&this.callbackRegistry.addCallback(Z,{type:"component",func:se})}),D(H,(Z,se)=>{N(Z)&&this.on(se,Z)}));let q=()=>{this.resizeTo(this.parentElement)};if(typeof ResizeObserver=="function")this.resizeObserver=new ResizeObserver(q),this.resizeObserver.observe(this.element);else{let Z=I(e,"resize",q);I(this,"destroy",Z)}}setTitle(H){let q=this.titleElement;if(H&&(typeof H=="string"||H.text)){let Z=U.createTextElement("h2","title",H);Z&&(q?q.replaceWith(Z):this.element.insertBefore(Z,this.element.firstChild),this.titleElement=Z)}else if(q){q.remove(),delete this.titleElement;return}}setCaption(H){let q=this.captionElement;if(H&&(typeof H=="string"||H.text)){let Z=U.createTextElement("div","caption",H);Z&&(q?q.replaceWith(Z):this.element.appendChild(Z),this.captionElement=Z)}else if(q){q.remove(),delete this.captionElement;return}}async load(){return await this.initConnectors(),this.render(),this}render(){return this.emit({type:"render"}),this.setTitle(this.options.title),this.setCaption(this.options.caption),this.resizeTo(this.parentElement),this}destroy(){for(this.sync.isSyncing&&this.sync.stop();this.element.firstChild;)this.element.firstChild.remove();for(let H of(k(this,"unmount"),this.connectorHandlers))H.destroy();this.element.remove()}on(H,q){return I(this,H,q)}emit(H){H.target||(H.target=this),k(this,H.type,H)}toJSON(){let H={width:0,height:0};return D(this.dimensions,function(q,Z){q!==null&&(H[Z]=q)}),{$class:this.options.type,options:{renderTo:this.options.renderTo,parentElement:this.parentElement.id,dimensions:H,id:this.id,type:this.type}}}getOptions(){return P(this.options,U.defaultOptions)}getEditableOptions(){return L(this.options,["dataTable","points","series","data","editableOptions"])}getEditableOptionValue(H){if(!H)return;let q=this.getEditableOptions();for(let Z=0,se=H.length;Z<se;Z++){if(b(q)&&H[0]==="connector"&&q.length>1)return"multiple connectors";if(!q)return;(q=q[H[Z]])===!1&&(H.indexOf("title")>=0||H.indexOf("subtitle")>=0||H.indexOf("caption")>=0)&&(q="")}return q}}return U.Sync=h,U.predefinedSyncConfig={defaultSyncOptions:{},defaultSyncPairs:{}},U.defaultOptions={className:`${_}component`,id:"",title:!1,caption:!1,sync:h.defaultHandlers,editableOptions:[{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]},U}),i(n,"Dashboards/Components/HTMLComponent/HTMLComponentDefaults.js",[n["Dashboards/Components/Component.js"]],function(s){return{type:"HTML",className:[s.defaultOptions.className,`${s.defaultOptions.className}-html`].join(" "),elements:[],editableOptions:[...s.defaultOptions.editableOptions||[],{name:"htmlInput",propertyPath:["html"],type:"textarea"}]}}),i(n,"Dashboards/Components/HTMLComponent/HTMLSyncs/HTMLSyncs.js",[],function(){return{defaultSyncPairs:{},defaultSyncOptions:{}}}),i(n,"Dashboards/Components/HTMLComponent/HTMLComponent.js",[n["Core/Renderer/HTML/AST.js"],n["Dashboards/Components/Component.js"],n["Dashboards/Components/HTMLComponent/HTMLComponentDefaults.js"],n["Dashboards/Components/HTMLComponent/HTMLSyncs/HTMLSyncs.js"],n["Dashboards/Utilities.js"],n["Core/Utilities.js"]],function(s,r,a,l,h,d){let{merge:p,diffObjects:f}=d,{deepClone:v}=h;s.allowedTags=[...s.allowedTags,"option","select","label","input","textarea"],s.allowedAttributes=[...s.allowedAttributes,"for","value","checked","src","name","selected"],s.allowedReferences=[...s.allowedReferences,"data:image/"];class _ extends r{static fromJSON(b,x){let k=new _(x,p(b.options,{elements:b.elements?b.elements.map(I=>JSON.parse(I)):[]}));return k.emit({type:"fromJSON",json:b}),k}constructor(b,x){x.className&&(x.className=`${_.defaultOptions.className} ${x.className}`),super(b,x=p(_.defaultOptions,x)),this.options=x,this.type="HTML",this.elements=[]}async load(){var k;this.emit({type:"load"}),await super.load();let b=this.options,x=!1;if((k=b.elements)!=null&&k.length?this.elements=b.elements.map(function(I){return typeof I=="string"?new s(I).nodes[0]:(I.textContent||I.tagName||!I.attributes||(x=!0),I)}):b.html&&(this.elements=this.getElementsFromString(b.html),this.options.elements=this.elements),this.constructTree(),this.emit({type:"afterLoad"}),x)throw Error(`Missing tagName param in component: ${b.renderTo}`);return this}render(){return super.render(),this.constructTree(),this.sync.start(),this.emit({type:"afterRender"}),this}resize(b,x){return super.resize(b,x),this}async update(b,x=!0){b.html?(this.elements=this.getElementsFromString(b.html),this.options.elements=this.elements,this.constructTree()):b.elements&&(this.elements=b.elements),await super.update(b,x),this.emit({type:"afterUpdate"})}getOptionsOnDrop(){return{cell:"",type:"HTML",elements:[{tagName:"span",textContent:"[Your custom HTML here- edit the component]"}]}}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();new s(this.options.elements||[]).addToDOM(this.contentElement)}getElementsFromString(b){return new s(b).nodes}toJSON(){let b=(this.options.elements||[]).map(k=>JSON.stringify(k)),x=p(super.toJSON(),{elements:b,options:this.options});return this.emit({type:"toJSON",json:x}),x}getOptions(){return{...f(this.options,_.defaultOptions),type:"HTML"}}getEditableOptions(){return v(this.options,["editableOptions"])}getEditableOptionValue(b){if(b){if(b[0]==="html"){let x=this.getEditableOptions();return!x.html&&x.elements?this.getStringFromElements(x.elements):x[b[0]]}return super.getEditableOptionValue(b)}}getStringFromElements(b){let x="";for(let k of b)x+=this.serializeNode(k);return x}serializeNode(b){if(!b.tagName||b.tagName==="#text")return b.textContent||"";let x=b.attributes,k=`<${b.tagName}`;if(x){for(let I in x)if(Object.prototype.hasOwnProperty.call(x,I)){let D=x[I];D!==void 0&&(k+=` ${I}="${D}"`)}}return k+=">",k+=b.textContent||"",(b.children||[]).forEach(I=>{k+=this.serializeNode(I)}),k+=`</${b.tagName}>`}onTableChanged(b){var x;((x=b.detail)==null?void 0:x.sender)!==this.id&&this.render()}}return _.defaultOptions=p(r.defaultOptions,a),_.predefinedSyncConfig=l,_}),i(n,"Data/DataTableCore.js",[n["Core/Utilities.js"]],function(s){let{fireEvent:r,isArray:a,objectEach:l,uniqueKey:h}=s;return class{constructor(d={}){this.autoId=!d.id,this.columns={},this.id=d.id||h(),this.modified=this,this.rowCount=0,this.versionTag=h();let p=0;l(d.columns||{},(f,v)=>{this.columns[v]=f.slice(),p=Math.max(p,f.length)}),this.applyRowCount(p)}applyRowCount(d){this.rowCount=d,l(this.columns,p=>{a(p)&&(p.length=d)})}getColumn(d,p){return this.columns[d]}getColumns(d,p){return(d||Object.keys(this.columns)).reduce((f,v)=>(f[v]=this.columns[v],f),{})}getRow(d,p){return(p||Object.keys(this.columns)).map(f=>{var v;return(v=this.columns[f])==null?void 0:v[d]})}setColumn(d,p=[],f=0,v){this.setColumns({[d]:p},f,v)}setColumns(d,p,f){let v=this.rowCount;l(d,(_,y)=>{this.columns[y]=_.slice(),v=_.length}),this.applyRowCount(v),f!=null&&f.silent||(r(this,"afterSetColumns"),this.versionTag=h())}setRow(d,p=this.rowCount,f,v){let{columns:_}=this,y=f?this.rowCount+1:p+1;l(d,(b,x)=>{let k=_[x]||(v==null?void 0:v.addColumns)!==!1&&Array(y);k&&(f?k.splice(p,0,b):k[p]=b,_[x]=k)}),y>this.rowCount&&this.applyRowCount(y),v!=null&&v.silent||(r(this,"afterSetRows"),this.versionTag=h())}}}),i(n,"Data/DataTable.js",[n["Data/DataTableCore.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,defined:l,fireEvent:h,extend:d,uniqueKey:p}=r;class f extends s{static isNull(_){if(_===f.NULL)return!0;if(_ instanceof Array){if(!_.length)return!1;for(let y=0,b=_.length;y<b;++y)if(_[y]!==null)return!1}else{let y=Object.keys(_);if(!y.length)return!1;for(let b=0,x=y.length;b<x;++b)if(_[y[b]]!==null)return!1}return!0}constructor(_={}){super(_),this.modified=this}clone(_,y){let b={};this.emit({type:"cloneTable",detail:y}),_||(b.columns=this.columns),this.autoId||(b.id=this.id);let x=new f(b);return _||(x.versionTag=this.versionTag,x.originalRowIndexes=this.originalRowIndexes,x.localRowIndexes=this.localRowIndexes),this.emit({type:"afterCloneTable",detail:y,tableClone:x}),x}deleteColumns(_,y){let b=this.columns,x={},k={},I=this.modifier,D=this.rowCount;if((_=_||Object.keys(b)).length){this.emit({type:"deleteColumns",columnNames:_,detail:y});for(let N=0,V=_.length,P,T;N<V;++N)(P=b[T=_[N]])&&(x[T]=P,k[T]=Array(D)),delete b[T];return Object.keys(b).length||(this.rowCount=0,this.deleteRowIndexReferences()),I&&I.modifyColumns(this,k,0,y),this.emit({type:"afterDeleteColumns",columns:x,columnNames:_,detail:y}),x}}deleteRowIndexReferences(){delete this.originalRowIndexes,delete this.localRowIndexes}deleteRows(_,y=1,b){let x=[],k=[],I=this.modifier;if(this.emit({type:"deleteRows",detail:b,rowCount:y,rowIndex:_||0}),_===void 0&&(_=0,y=this.rowCount),y>0&&_<this.rowCount){let D=this.columns,N=Object.keys(D);for(let V=0,P=N.length,T,R;V<P;++V){R=(T=D[N[V]]).splice(_,y),V||(this.rowCount=T.length);for(let L=0,B=R.length;L<B;++L)x[L]=x[L]||[],x[L][V]=R[L];k.push(Array(P))}}return I&&I.modifyRows(this,k,_||0,b),this.emit({type:"afterDeleteRows",detail:b,rowCount:y,rowIndex:_||0,rows:x}),x}emit(_){["afterDeleteColumns","afterDeleteRows","afterSetCell","afterSetColumns","afterSetRows"].includes(_.type)&&(this.versionTag=p()),h(this,_.type,_)}getCell(_,y){let b=this.columns[_];if(b)return b[y]}getCellAsBoolean(_,y){let b=this.columns[_];return!!(b&&b[y])}getCellAsNumber(_,y,b){let x=this.columns[_],k=x&&x[y];switch(typeof k){case"boolean":return k?1:0;case"number":return isNaN(k)&&!b?null:k}return isNaN(k=parseFloat(`${k??""}`))&&!b?null:k}getCellAsString(_,y){let b=this.columns[_];return`${b&&b[y]}`}getColumn(_,y){return this.getColumns([_],y)[_]}getColumnAsNumbers(_,y){let b=this.columns[_],x=[];if(b){let k=b.length;if(y)for(let I=0;I<k;++I)x.push(this.getCellAsNumber(_,I,!0));else{for(let I=0,D;I<k;++I){if(typeof(D=b[I])=="number")return b.slice();if(D!=null)break}for(let I=0;I<k;++I)x.push(this.getCellAsNumber(_,I))}}return x}getColumnNames(){return Object.keys(this.columns)}getColumns(_,y){let b=this.columns,x={};_=_||Object.keys(b);for(let k=0,I=_.length,D,N;k<I;++k)(D=b[N=_[k]])&&(x[N]=y?D:D.slice());return x}getLocalRowIndex(_){let{localRowIndexes:y}=this;return y?y[_]:_}getModifier(){return this.modifier}getOriginalRowIndex(_){let{originalRowIndexes:y}=this;return y?y[_]:_}getRow(_,y){return this.getRows(_,1,y)[0]}getRowCount(){return this.rowCount}getRowIndexBy(_,y,b){let x=this.columns[_];if(x){let k=x.indexOf(y,b);if(k!==-1)return k}}getRowObject(_,y){return this.getRowObjects(_,1,y)[0]}getRowObjects(_=0,y=this.rowCount-_,b){let x=this.columns,k=Array(y);b=b||Object.keys(x);for(let I=_,D=0,N=Math.min(this.rowCount,_+y),V,P;I<N;++I,++D)for(let T of(P=k[D]={},b))V=x[T],P[T]=V?V[I]:void 0;return k}getRows(_=0,y=this.rowCount-_,b){let x=this.columns,k=Array(y);b=b||Object.keys(x);for(let I=_,D=0,N=Math.min(this.rowCount,_+y),V,P;I<N;++I,++D)for(let T of(P=k[D]=[],b))V=x[T],P.push(V?V[I]:void 0);return k}getVersionTag(){return this.versionTag}hasColumns(_){let y=this.columns;for(let b=0,x=_.length;b<x;++b)if(!y[_[b]])return!1;return!0}hasRowWith(_,y){let b=this.columns[_];return!!b&&b.indexOf(y)!==-1}on(_,y){return a(this,_,y)}renameColumn(_,y){let b=this.columns;return!!b[_]&&(_!==y&&(b[y]=b[_],delete b[_]),!0)}setCell(_,y,b,x){let k=this.columns,I=this.modifier,D=k[_];D&&D[y]===b||(this.emit({type:"setCell",cellValue:b,columnName:_,detail:x,rowIndex:y}),D||(D=k[_]=Array(this.rowCount)),y>=this.rowCount&&(this.rowCount=y+1),D[y]=b,I&&I.modifyCell(this,_,y,b),this.emit({type:"afterSetCell",cellValue:b,columnName:_,detail:x,rowIndex:y}))}setColumns(_,y,b){let x=this.columns,k=this.modifier,I=Object.keys(_),D=this.rowCount;if(this.emit({type:"setColumns",columns:_,columnNames:I,detail:b,rowIndex:y}),y===void 0)super.setColumns(_,y,d(b,{silent:!0}));else{for(let N=0,V=I.length,P,T;N<V;++N){P=_[T=I[N]];let R=x[T]?x[T]:x[T]=Array(this.rowCount);for(let L=y||0,B=P.length;L<B;++L)R[L]=P[L];D=Math.max(D,R.length)}this.applyRowCount(D)}k&&k.modifyColumns(this,_,y||0),this.emit({type:"afterSetColumns",columns:_,columnNames:I,detail:b,rowIndex:y})}setModifier(_,y){let b=this;return b.emit({type:"setModifier",detail:y,modifier:_,modified:b.modified}),b.modified=b,b.modifier=_,(_?_.modify(b):Promise.resolve(b)).then(x=>(x.emit({type:"afterSetModifier",detail:y,modifier:_,modified:x.modified}),x)).catch(x=>{throw b.emit({type:"setModifierError",error:x,modifier:_,modified:b.modified}),x})}setOriginalRowIndexes(_,y=!1){if(this.originalRowIndexes=_,y)return;let b=this.localRowIndexes=[];for(let x=0,k=_.length,I;x<k;++x)l(I=_[x])&&(b[I]=x)}setRow(_,y,b,x){this.setRows([_],y,b,x)}setRows(_,y=this.rowCount,b,x){let k=this.columns,I=Object.keys(k),D=this.modifier,N=_.length;this.emit({type:"setRows",detail:x,rowCount:N,rowIndex:y,rows:_});for(let P=0,T=y,R;P<N;++P,++T)if((R=_[P])===f.NULL)for(let L=0,B=I.length;L<B;++L)b?k[I[L]].splice(T,0,null):k[I[L]][T]=null;else if(R instanceof Array)for(let L=0,B=I.length;L<B;++L)k[I[L]][T]=R[L];else super.setRow(R,T,void 0,{silent:!0});let V=b?N+_.length:y+N;if(V>this.rowCount){this.rowCount=V;for(let P=0,T=I.length;P<T;++P)k[I[P]].length=V}D&&D.modifyRows(this,_,y),this.emit({type:"afterSetRows",detail:x,rowCount:N,rowIndex:y,rows:_})}}return f.NULL={},f.version="1.0.0",f}),i(n,"Data/Converters/DataConverter.js",[n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,fireEvent:l,isNumber:h,merge:d}=r;class p{constructor(v){this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})([\-\.\/])(\d{1,2})\2(\d{1,2})$/,parser:function(b){return b?Date.UTC(+b[1],b[3]-1,+b[4]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(b){return b?Date.UTC(+b[4],b[3]-1,+b[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(b){return b?Date.UTC(+b[4],b[1]-1,+b[3]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(b){let x=new Date;if(!b)return NaN;let k=+b[4];return k>x.getFullYear()-2e3?k+=1900:k+=2e3,Date.UTC(k,b[3]-1,+b[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(b){return b?Date.UTC(+b[4]+2e3,b[1]-1,+b[3]):NaN}}};let _=d(p.defaultOptions,v),y=_.decimalPoint;(y==="."||y===",")&&(y=y==="."?"\\.":",",this.decimalRegExp=RegExp("^(-?[0-9]+)"+y+"([0-9]+)$")),this.options=_}asBoolean(v){return typeof v=="boolean"?v:typeof v=="string"?v!==""&&v!=="0"&&v!=="false":!!this.asNumber(v)}asDate(v){let _;if(typeof v=="string")_=this.parseDate(v);else if(typeof v=="number")_=v;else{if(v instanceof Date)return v;_=this.parseDate(this.asString(v))}return new Date(_)}asGuessedType(v){return{number:this.asNumber,Date:this.asDate,string:this.asString}[this.guessType(v)].call(this,v)}asNumber(v){if(typeof v=="number")return v;if(typeof v=="boolean")return v?1:0;if(typeof v=="string"){let _=this.decimalRegExp;if(v.indexOf(" ")>-1&&(v=v.replace(/\s+/g,"")),_){if(!_.test(v))return NaN;v=v.replace(_,"$1.$2")}return parseFloat(v)}return v instanceof Date?v.getDate():v?v.getRowCount():NaN}asString(v){return""+v}deduceDateFormat(v,_,y){let b=[],x=[],k="YYYY/mm/dd",I,D=[],N=0,V=!1,P,T;for((!_||_>v.length)&&(_=v.length);N<_;N++)if(v[N]!==void 0&&v[N]&&v[N].length)for(T=0,I=v[N].trim().replace(/[\-\.\/]/g," ").split(" "),D=["","",""];T<I.length;T++)T<D.length&&(P=parseInt(I[T],10))&&(x[T]=!x[T]||x[T]<P?P:x[T],b[T]!==void 0?b[T]!==P&&(b[T]=!1):b[T]=P,P>31?P<100?D[T]="YY":D[T]="YYYY":P>12&&P<=31?(D[T]="dd",V=!0):D[T].length||(D[T]="mm"));if(V){for(T=0;T<b.length;T++)b[T]!==!1?x[T]>12&&D[T]!=="YY"&&D[T]!=="YYYY"&&(D[T]="YY"):x[T]>12&&D[T]==="mm"&&(D[T]="dd");D.length===3&&D[1]==="dd"&&D[2]==="dd"&&(D[2]="YY"),k=D.join("/")}return y&&(this.options.dateFormat=k),k}emit(v){l(this,v.type,v)}export(v,_){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")}getTable(){throw Error("Not implemented")}guessType(v){let _="string";if(typeof v=="string"){let y=this.trim(`${v}`),b=this.decimalRegExp,x=this.trim(y,!0);b&&(x=b.test(x)?x.replace(b,"$1.$2"):"");let k=parseFloat(x);+x===k?v=k:_=h(this.parseDate(v))?"Date":"string"}return typeof v=="number"&&(_=v>31536e6?"Date":"number"),_}on(v,_){return a(this,v,_)}parse(v){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")}parseDate(v,_){let y=this.options,b=_||y.dateFormat,x=NaN,k,I,D;if(y.parseDate)x=y.parseDate(v);else{if(b)(I=this.dateFormats[b])||(I=this.dateFormats["YYYY/mm/dd"]),(D=v.match(I.regex))&&(x=I.parser(D));else for(k in this.dateFormats)if(I=this.dateFormats[k],D=v.match(I.regex)){b=k,x=I.parser(D);break}!D&&(typeof(D=Date.parse(v))=="object"&&D!==null&&D.getTime?x=D.getTime()-6e4*D.getTimezoneOffset():h(D)&&(x=D-6e4*new Date(D).getTimezoneOffset(),v.indexOf("2001")===-1&&new Date(x).getFullYear()===2001&&(x=NaN)))}return x}trim(v,_){return typeof v=="string"&&(v=v.replace(/^\s+|\s+$/g,""),_&&/^[\d\s]+$/.test(v)&&(v=v.replace(/\s/g,""))),v}}return p.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},(p||(p={})).getTableFromColumns=function(f=[],v=[]){let _=new s;for(let y=0,b=Math.max(v.length,f.length);y<b;++y)_.setColumn(v[y]||`${y}`,f[y]);return _},p}),i(n,"Data/Converters/CSVConverter.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class l extends s{constructor(d){let p=a(l.defaultOptions,d);super(p),this.columns=[],this.headers=[],this.dataTypes=[],this.options=p}export(d,p=this.options){let{useLocalDecimalPoint:f,lineDelimiter:v}=p,_=this.options.firstRowAsNames!==!1,{decimalPoint:y,itemDelimiter:b}=p;y||(y=b!==","&&f?1.1.toLocaleString()[1]:"."),b||(b=y===","?";":",");let x=d.getSortedColumns(p.usePresentationOrder),k=Object.keys(x),I=[],D=k.length,N=[];_&&I.push(k.map(V=>`"${V}"`).join(b));for(let V=0;V<D;V++){let P,T=k[V],R=x[T],L=R.length,B=d.whatIs(T);B&&(P=B.dataType);for(let U=0;U<L;U++){let z=R[U];if(N[U]||(N[U]=[]),P==="string"?z='"'+z+'"':typeof z=="number"?z=String(z).replace(".",y):typeof z=="string"&&(z=`"${z}"`),N[U][V]=z,V===D-1){let H=V;for(;N[U].length>2&&N[U][H]===void 0;)N[U].pop(),H--;I.push(N[U].join(b))}}}return I.join(v)}parse(d,p){let f=this.dataTypes,v=a(this.options,d),{beforeParse:_,lineDelimiter:y,firstRowAsNames:b,itemDelimiter:x}=v,k,I=0,{csv:D,startRow:N,endRow:V}=v,P;if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:p,headers:this.headers}),D&&_&&(D=_(D)),D){if(k=D.replace(/\r\n|\r/g,`
`).split(y||`
`),(!N||N<0)&&(N=0),(!V||V>=k.length)&&(V=k.length-1),x||(this.guessedItemDelimiter=this.guessDelimiter(k)),b){let R=k[0].split(x||this.guessedItemDelimiter||",");for(let L=0;L<R.length;L++)R[L]=R[L].trim().replace(/^["']|["']$/g,"");this.headers=R,N++}let T=0;for(I=N;I<=V;I++)k[I][0]==="#"?T++:this.parseCSVRow(k[I],I-N-T);f.length&&f[0].length&&f[0][1]==="date"&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let R=0,L=this.columns.length;R<L;++R){P=this.columns[R];for(let B=0,U=P.length;B<U;++B)if(P[B]&&typeof P[B]=="string"){let z=this.asGuessedType(P[B]);z instanceof Date&&(z=z.getTime()),this.columns[R][B]=z}}}this.emit({type:"afterParse",columns:this.columns,detail:p,headers:this.headers})}parseCSVRow(d,p){let f=this,v=f.columns||[],_=f.dataTypes,{startColumn:y,endColumn:b}=f.options,x=f.options.itemDelimiter||f.guessedItemDelimiter,{decimalPoint:k}=f.options;k&&k!==x||(k=f.guessedDecimalPoint||".");let I=0,D="",N="",V=0,P=0,T=B=>{D=d[B]},R=B=>{_.length<P+1&&_.push([B]),_[P][_[P].length-1]!==B&&_[P].push(B)},L=()=>{if(y>V||V>b){++V,N="";return}if(typeof N=="string"?!isNaN(parseFloat(N))&&isFinite(N)?(N=parseFloat(N),R("number")):isNaN(Date.parse(N))?R("string"):(N=N.replace(/\//g,"-"),R("date")):R("number"),v.length<P+1&&v.push([]),typeof N!="number"&&f.guessType(N)!=="number"&&k){let B=N;N=N.replace(k,"."),f.guessType(N)!=="number"&&(N=B)}v[P][p]=N,N="",++P,++V};if(d.trim().length&&d.trim()[0]!=="#"){for(;I<d.length;I++){if(T(I),D==="#"&&!/^#[A-F\d]{3,3}|[A-F\d]{6,6}/i.test(d.substring(I))){L();return}if(D==='"')for(T(++I);I<d.length&&D!=='"';)N+=D,T(++I);else D===x?L():N+=D}L()}}guessDelimiter(d){let p=0,f=0,v,_={",":0,";":0,"	":0},y=d.length;for(let b=0;b<y;b++){let x=!1,k,I,D,N="";if(b>13)break;let V=d[b];for(let P=0;P<V.length&&(k=V[P],I=V[P+1],D=V[P-1],k!=="#");P++){if(k==='"')if(x){if(D!=='"'&&I!=='"'){for(;I===" "&&P<V.length;)I=V[++P];_[I]!==void 0&&_[I]++,x=!1}}else x=!0;else _[k]!==void 0?(isNaN(Date.parse(N=N.trim()))?(isNaN(Number(N))||!isFinite(Number(N)))&&_[k]++:_[k]++,N=""):N+=k;k===","&&f++,k==="."&&p++}}return _[";"]>_[","]?v=";":(_[","],_[";"],v=","),p>f?this.guessedDecimalPoint=".":this.guessedDecimalPoint=",",v}getTable(){return s.getTableFromColumns(this.columns,this.headers)}}return l.defaultOptions={...s.defaultOptions,lineDelimiter:`
`},l}),i(n,"Data/Modifiers/DataModifier.js",[n["Core/Utilities.js"]],function(s){var r;let{addEvent:a,fireEvent:l,merge:h}=s;class d{benchmark(f,v){let _=[],y=this,b=()=>{y.modifyTable(f),y.emit({type:"afterBenchmarkIteration"})},{iterations:x}=h({iterations:1},v);y.on("afterBenchmarkIteration",()=>{if(_.length===x){y.emit({type:"afterBenchmark",results:_});return}b()});let k={startTime:0,endTime:0};return y.on("modify",()=>{k.startTime=e.performance.now()}),y.on("afterModify",()=>{k.endTime=e.performance.now(),_.push(k.endTime-k.startTime)}),b(),_}emit(f){l(this,f.type,f)}modify(f,v){let _=this;return new Promise((y,b)=>{f.modified===f&&(f.modified=f.clone(!1,v));try{y(_.modifyTable(f,v))}catch(x){_.emit({type:"error",detail:v,table:f}),b(x)}})}modifyCell(f,v,_,y,b){return this.modifyTable(f)}modifyColumns(f,v,_,y){return this.modifyTable(f)}modifyRows(f,v,_,y){return this.modifyTable(f)}on(f,v){return a(this,f,v)}}return(r=d||(d={})).types={},r.registerType=function(p,f){return!!p&&!r.types[p]&&!!(r.types[p]=f)},d}),i(n,"Data/Connectors/DataConnector.js",[n["Data/Modifiers/DataModifier.js"],n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r,a){var l;let{addEvent:h,fireEvent:d,merge:p,pick:f}=a;class v{constructor(y={}){this.table=new r(y.dataTable),this.metadata=y.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(y,b){let x=this.metadata.columns;x[y]=p(x[y]||{},b)}describeColumns(y){let b,x=Object.keys(y);for(;typeof(b=x.pop())=="string";)this.describeColumn(b,y[b])}emit(y){d(this,y.type,y)}getColumnOrder(y){let b=this.metadata.columns,x=Object.keys(b||{});if(x.length)return x.sort((k,I)=>f(b[k].index,0)-f(b[I].index,0))}getSortedColumns(y){return this.table.getColumns(this.getColumnOrder(y))}load(){return d(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(y,b){return h(this,y,b)}save(){return d(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))}setColumnOrder(y){for(let b=0,x=y.length;b<x;++b)this.describeColumn(y[b],{index:b})}setModifierOptions(y){let b=y&&s.types[y.type];return this.table.setModifier(b?new b(y):void 0).then(()=>this)}startPolling(y=1e3){let b=this;e.clearTimeout(b._polling),b._polling=e.setTimeout(()=>b.load().catch(x=>b.emit({type:"loadError",error:x,table:b.table})).then(()=>{b._polling&&b.startPolling(y)}),y)}stopPolling(){e.clearTimeout(this._polling),delete this._polling}whatIs(y){return this.metadata.columns[y]}}return(l=v||(v={})).types={},l.registerType=function(_,y){return!!_&&!l.types[_]&&!!(l.types[_]=y)},v}),i(n,"Data/Connectors/CSVConnector.js",[n["Data/Converters/CSVConverter.js"],n["Data/Connectors/DataConnector.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:l}=a;class h extends r{constructor(p){let f=l(h.defaultOptions,p);super(f),this.converter=new s(f),this.options=f,f.enablePolling&&this.startPolling(1e3*Math.max(f.dataRefreshRate||0,1))}load(p){let f=this,v=f.converter,_=f.table,{csv:y,csvURL:b,dataModifier:x}=f.options;return f.emit({type:"load",csv:y,detail:p,table:_}),Promise.resolve(b?fetch(b).then(k=>k.text()):y||"").then(k=>(k&&(_.deleteColumns(),v.parse({csv:k}),_.setColumns(v.getTable().getColumns())),f.setModifierOptions(x).then(()=>k))).then(k=>(f.emit({type:"afterLoad",csv:k,detail:p,table:_}),f)).catch(k=>{throw f.emit({type:"loadError",detail:p,error:k,table:_}),k})}}return h.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0},r.registerType("CSV",h),h}),i(n,"Data/Converters/GoogleSheetsConverter.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a,uniqueKey:l}=r;class h extends s{constructor(p){let f=a(h.defaultOptions,p);super(f),this.columns=[],this.header=[],this.options=f}parse(p,f){var k;let v,_=a(this.options,p),y=(((k=_.json)==null?void 0:k.values)||[]).map(I=>I.slice());if(y.length===0)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:f,headers:this.header});let{beforeParse:b,json:x}=_;b&&x&&(y=b(x.values)),this.columns=y;for(let I=0,D=y.length;I<D;I++){v=y[I],this.header[I]=_.firstRowAsNames?`${v.shift()}`:l();for(let N=0,V=v.length;N<V;++N)if(v[N]&&typeof v[N]=="string"){let P=this.asGuessedType(v[N]);P instanceof Date&&(P=P.getTime()),this.columns[I][N]=P}}this.emit({type:"afterParse",columns:this.columns,detail:f,headers:this.header})}getTable(){return s.getTableFromColumns(this.columns,this.header)}}return h.defaultOptions={...s.defaultOptions},h}),i(n,"Data/Connectors/GoogleSheetsConnector.js",[n["Data/Connectors/DataConnector.js"],n["Data/Converters/GoogleSheetsConverter.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:l,pick:h}=a;class d extends s{constructor(f){let v=l(d.defaultOptions,f);super(v),this.converter=new r(v),this.options=v}load(f){let v=this,_=v.converter,y=v.table,{dataModifier:b,dataRefreshRate:x,enablePolling:k,firstRowAsNames:I,googleAPIKey:D,googleSpreadsheetKey:N}=v.options,V=d.buildFetchURL(D,N,v.options);if(v.emit({type:"load",detail:f,table:y,url:V}),!URL.canParse(V))throw Error("Invalid URL: "+V);return fetch(V).then(P=>P.json()).then(P=>{if(typeof P=="object"&&P&&typeof P.error=="object"&&P.error&&typeof P.error.code=="number"&&typeof P.error.message=="string"&&typeof P.error.status=="string")throw Error(P.error.message);return _.parse({firstRowAsNames:I,json:P}),y.deleteColumns(),y.setColumns(_.getTable().getColumns()),v.setModifierOptions(b)}).then(()=>(v.emit({type:"afterLoad",detail:f,table:y,url:V}),k&&setTimeout(()=>v.load(),1e3*Math.max(x||0,1)),v)).catch(P=>{throw v.emit({type:"loadError",detail:f,error:P,table:y}),P})}}return d.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},function(p){let f="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function v(_={}){let{endColumn:y,endRow:b,googleSpreadsheetRange:x,startColumn:k,startRow:I}=_;return x||(f[k||0]||"A")+(Math.max(I||0,0)+1)+":"+(f[h(y,25)]||"Z")+(b?Math.max(b,0):"Z")}p.buildFetchURL=function(_,y,b={}){let x=new URL(`https://sheets.googleapis.com/v4/spreadsheets/${y}/values/`),k=b.onlyColumnNames?"A1:Z1":v(b);x.pathname+=k;let I=x.searchParams;return I.set("alt","json"),b.onlyColumnNames||(I.set("dateTimeRenderOption","FORMATTED_STRING"),I.set("majorDimension","COLUMNS"),I.set("valueRenderOption","UNFORMATTED_VALUE")),I.set("prettyPrint","false"),I.set("key",_),x.href},p.buildQueryRange=v}(d||(d={})),s.registerType("GoogleSheets",d),d}),i(n,"Data/Converters/HTMLTableConverter.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class l extends s{constructor(d){let p=a(l.defaultOptions,d);super(p),this.columns=[],this.headers=[],this.options=p,p.tableElement&&(this.tableElement=p.tableElement,this.tableElementID=p.tableElement.id)}export(d,p=this.options){let f=p.firstRowAsNames!==!1,v=p.useMultiLevelHeaders,_=d.getSortedColumns(p.usePresentationOrder),y=Object.keys(_),b=[],x=y.length,k=[],I="";if(f){let N=[];if(v){for(let V of y){let P=(_[V].shift()||"").toString();N.push(P)}I=this.getTableHeaderHTML(y,N,p)}else I=this.getTableHeaderHTML(void 0,y,p)}for(let N=0;N<x;N++){let V=_[y[N]],P=V.length;for(let T=0;T<P;T++){let R=V[T];k[T]||(k[T]=[]),typeof R=="string"||typeof R=="number"||R===void 0||(R=(R||"").toString()),k[T][N]=this.getCellHTMLFromValue(N?"td":"th",null,N?"":'scope="row"',R),N===x-1&&b.push("<tr>"+k[T].join("")+"</tr>")}}let D="";return p.tableCaption&&(D='<caption class="highcharts-table-caption">'+p.tableCaption+"</caption>"),"<table>"+D+I+"<tbody>"+b.join("")+"</tbody></table>"}getCellHTMLFromValue(d,p,f,v,_){let y=v,b="text"+(p?" "+p:"");return typeof y=="number"?(y=y.toString(),_===","&&(y=y.replace(".",_)),b="number"):v||(y="",b="empty"),"<"+d+(f?" "+f:"")+' class="'+b+'">'+y+"</"+d+">"}getTableHeaderHTML(d=[],p=[],f=this.options){let{useMultiLevelHeaders:v,useRowspanHeaders:_}=f,y="<thead>",b=0,x=p&&p.length,k,I=0,D;if(v&&d&&p&&!function(N,V){let P=N.length;if(V.length!==P)return!1;for(;--P;)if(N[P]!==V[P])return!1;return!0}(d,p)){for(y+="<tr>";b<x;++b)(k=d[b])===d[b+1]?++I:I?(y+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(I+1)+'"',k),I=0):(k===p[b]?_?(D=2,delete p[b]):(D=1,p[b]=""):D=1,y+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(D>1?' valign="top" rowspan="'+D+'"':""),k));y+="</tr>"}if(p){for(y+="<tr>",b=0,x=p.length;b<x;++b)p[b]!==void 0&&(y+=this.getCellHTMLFromValue("th",null,'scope="col"',p[b]));y+="</tr>"}return y+"</thead>"}parse(d,p){let f=[],v=[],_=a(this.options,d),{endRow:y,startColumn:b,endColumn:x,firstRowAsNames:k}=_,I=_.tableElement||this.tableElement;if(!(I instanceof HTMLElement)){this.emit({type:"parseError",columns:f,detail:p,headers:v,error:"Not a valid HTML Table"});return}this.tableElement=I,this.tableElementID=I.id,this.emit({type:"parse",columns:this.columns,detail:p,headers:this.headers});let D=I.getElementsByTagName("tr"),N=D.length,V=0,P,{startRow:T}=_;if(k&&N){let R=D[0].children,L=R.length;for(let B=b;B<L&&!(B>x);B++)((P=R[B]).tagName==="TD"||P.tagName==="TH")&&v.push(P.innerHTML);T++}for(;V<N;){if(V>=T&&V<=y){let R=D[V].children,L=R.length,B=0;for(;B<L;){let U=B-b,z=f[U];if(((P=R[B]).tagName==="TD"||P.tagName==="TH")&&B>=b&&B<=x){f[U]||(f[U]=[]);let H=this.asGuessedType(P.innerHTML);H instanceof Date&&(H=H.getTime()),f[U][V-T]=H;let q=1;for(;V-T>=q&&z[V-T-q]===void 0;)z[V-T-q]=null,q++}B++}}V++}this.columns=f,this.headers=v,this.emit({type:"afterParse",columns:f,detail:p,headers:v})}getTable(){return s.getTableFromColumns(this.columns,this.headers)}}return l.defaultOptions={...s.defaultOptions,useRowspanHeaders:!0,useMultiLevelHeaders:!0},l}),i(n,"Data/Connectors/HTMLTableConnector.js",[n["Data/Connectors/DataConnector.js"],n["Core/Globals.js"],n["Data/Converters/HTMLTableConverter.js"],n["Core/Utilities.js"]],function(s,r,a,l){let{win:h}=r,{merge:d}=l;class p extends s{constructor(v){let _=d(p.defaultOptions,v);super(_),this.converter=new a(_),this.options=_}load(v){let _,y=this,b=y.converter,x=y.table,{dataModifier:k,table:I}=y.options;if(y.emit({type:"load",detail:v,table:x,tableElement:y.tableElement}),typeof I=="string"?(y.tableID=I,_=h.document.getElementById(I)):(_=I,y.tableID=_.id),y.tableElement=_||void 0,!y.tableElement){let D="HTML table not provided, or element with ID not found";return y.emit({type:"loadError",detail:v,error:D,table:x}),Promise.reject(Error(D))}return b.parse(d({tableElement:y.tableElement},y.options),v),x.deleteColumns(),x.setColumns(b.getTable().getColumns()),y.setModifierOptions(k).then(()=>(y.emit({type:"afterLoad",detail:v,table:x,tableElement:y.tableElement}),y))}}return p.defaultOptions={table:""},s.registerType("HTMLTable",p),p}),i(n,"Data/Converters/JSONConverter.js",[n["Data/Converters/DataConverter.js"],n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r,a){let{error:l,isArray:h,merge:d,objectEach:p}=a;class f extends s{constructor(_){let y=d(f.defaultOptions,_);super(y),this.columns=[],this.headers=[],this.options=y,this.table=new r}parse(_,y){let{beforeParse:b,orientation:x,firstRowAsNames:k,columnNames:I}=_=d(this.options,_),D=_.data;if(D){if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:y,headers:this.headers}),b&&(D=b(D)),D=D.slice(),x==="columns")for(let N=0,V=D.length;N<V;N++){let P=D[N];if(!(P instanceof Array))return;this.headers instanceof Array?(k?this.headers.push(`${P.shift()}`):I&&I instanceof Array&&this.headers.push(I[N]),this.table.setColumn(this.headers[N]||N.toString(),P)):l("JSONConverter: Invalid `columnNames` option.",!1)}else if(x==="rows"){k?this.headers=D.shift():I&&(this.headers=I);for(let N=0,V=D.length;N<V;N++){let P=D[N];if(h(P))for(let T=0,R=P.length;T<R;T++)this.columns.length<T+1&&this.columns.push([]),this.columns[T].push(P[T]),this.headers instanceof Array?this.table.setColumn(this.headers[T]||T.toString(),this.columns[T]):l("JSONConverter: Invalid `columnNames` option.",!1);else{let T=this.headers;if(T&&!(T instanceof Array)){let R={};p(T,(L,B)=>{R[B]=L.reduce((U,z)=>U[z],P)}),P=R}this.table.setRows([P],N)}}}this.emit({type:"afterParse",columns:this.columns,detail:y,headers:this.headers})}}getTable(){return this.table}}return f.defaultOptions={...s.defaultOptions,data:[],orientation:"rows"},f}),i(n,"Data/Connectors/JSONConnector.js",[n["Data/Connectors/DataConnector.js"],n["Core/Utilities.js"],n["Data/Converters/JSONConverter.js"]],function(s,r,a){let{merge:l}=r;class h extends s{constructor(p){let f=l(h.defaultOptions,p);super(f),this.converter=new a(f),this.options=f,f.enablePolling&&this.startPolling(1e3*Math.max(f.dataRefreshRate||0,1))}load(p){let f=this,v=f.converter,_=f.table,{data:y,dataUrl:b,dataModifier:x}=f.options;return f.emit({type:"load",data:y,detail:p,table:_}),Promise.resolve(b?fetch(b).then(k=>k.json()):y||[]).then(k=>(k&&(_.deleteColumns(),v.parse({data:k}),_.setColumns(v.getTable().getColumns())),f.setModifierOptions(x).then(()=>k))).then(k=>(f.emit({type:"afterLoad",data:k,detail:p,table:_}),f)).catch(k=>{throw f.emit({type:"loadError",detail:p,error:k,table:_}),k})}}return h.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"},s.registerType("JSON",h),h}),i(n,"Data/Modifiers/ChainModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class l extends s{constructor(d,...p){super(),this.chain=p,this.options=a(l.defaultOptions,d);let f=this.options.chain||[];for(let v=0,_=f.length,y,b;v<_;++v)(y=f[v]).type&&(b=s.types[y.type])&&p.push(new b(y))}add(d,p){this.emit({type:"addModifier",detail:p,modifier:d}),this.chain.push(d),this.emit({type:"addModifier",detail:p,modifier:d})}clear(d){this.emit({type:"clearChain",detail:d}),this.chain.length=0,this.emit({type:"afterClearChain",detail:d})}async modify(d,p){let f=this.options.reverse?this.chain.slice().reverse():this.chain.slice();d.modified===d&&(d.modified=d.clone(!1,p));let v=d;for(let _=0,y=f.length;_<y;++_){try{await f[_].modify(v,p)}catch(b){throw this.emit({type:"error",detail:p,table:d}),b}v=v.modified}return d.modified=v,d}modifyCell(d,p,f,v,_){let y=this.options.reverse?this.chain.reverse():this.chain;if(y.length){let b=d.clone();for(let x=0,k=y.length;x<k;++x)y[x].modifyCell(b,p,f,v,_),b=b.modified;d.modified=b}return d}modifyColumns(d,p,f,v){let _=this.options.reverse?this.chain.reverse():this.chain.slice();if(_.length){let y=d.clone();for(let b=0,x=_.length;b<x;++b)_[b].modifyColumns(y,p,f,v),y=y.modified;d.modified=y}return d}modifyRows(d,p,f,v){let _=this.options.reverse?this.chain.reverse():this.chain.slice();if(_.length){let y=d.clone();for(let b=0,x=_.length;b<x;++b)_[b].modifyRows(y,p,f,v),y=y.modified;d.modified=y}return d}modifyTable(d,p){this.emit({type:"modify",detail:p,table:d});let f=this.options.reverse?this.chain.reverse():this.chain.slice(),v=d.modified;for(let _=0,y=f.length;_<y;++_)v=f[_].modifyTable(v,p).modified;return d.modified=v,this.emit({type:"afterModify",detail:p,table:d}),d}remove(d,p){let f=this.chain;this.emit({type:"removeModifier",detail:p,modifier:d}),f.splice(f.indexOf(d),1),this.emit({type:"afterRemoveModifier",detail:p,modifier:d})}}return l.defaultOptions={type:"Chain"},s.registerType("Chain",l),l}),i(n,"Data/Modifiers/InvertModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class l extends s{constructor(d){super(),this.options=a(l.defaultOptions,d)}modifyCell(d,p,f,v,_){let y=d.modified,b=y.getRowIndexBy("columnNames",p);return b===void 0?y.setColumns(this.modifyTable(d.clone()).getColumns(),void 0,_):y.setCell(`${f}`,b,v,_),d}modifyColumns(d,p,f,v){let _=d.modified,y=_.getColumn("columnNames")||[],b=d.getColumnNames(),x=d.getRowCount()!==y.length;if(!x){for(let k=0,I=b.length;k<I;++k)if(b[k]!==y[k]){x=!0;break}}if(x)return this.modifyTable(d,v);b=Object.keys(p);for(let k=0,I=b.length,D,N,V;k<I;++k){D=p[N=b[k]],V=_.getRowIndexBy("columnNames",N)||_.getRowCount();for(let P=0,T=f,R=D.length;P<R;++P,++T)_.setCell(`${T}`,V,D[P],v)}return d}modifyRows(d,p,f,v){let _=d.getColumnNames(),y=d.modified,b=y.getColumn("columnNames")||[],x=d.getRowCount()!==b.length;if(!x){for(let k=0,I=_.length;k<I;++k)if(_[k]!==b[k]){x=!0;break}}if(x)return this.modifyTable(d,v);for(let k=0,I=f,D=p.length,N;k<D;++k,++I)if((N=p[k])instanceof Array)y.setColumn(`${I}`,N);else for(let V=0,P=_.length;V<P;++V)y.setCell(`${I}`,V,N[_[V]],v);return d}modifyTable(d,p){this.emit({type:"modify",detail:p,table:d});let f=d.modified;if(d.hasColumns(["columnNames"])){let v=((d.deleteColumns(["columnNames"])||{}).columnNames||[]).map(y=>`${y}`),_={};for(let y=0,b=d.getRowCount(),x;y<b;++y)(x=d.getRow(y))&&(_[v[y]]=x);f.deleteColumns(),f.setColumns(_)}else{let v={};for(let _=0,y=d.getRowCount(),b;_<y;++_)(b=d.getRow(_))&&(v[`${_}`]=b);v.columnNames=d.getColumnNames(),f.deleteColumns(),f.setColumns(v)}return this.emit({type:"afterModify",detail:p,table:d}),d}}return l.defaultOptions={type:"Invert"},s.registerType("Invert",l),l}),i(n,"Data/Modifiers/RangeModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class l extends s{constructor(d){super(),this.options=a(l.defaultOptions,d)}modifyTable(d,p){this.emit({type:"modify",detail:p,table:d});let f=[],{additive:v,ranges:_,strict:y}=this.options;if(_.length){let b=d.modified,x=d.getColumns(),k=[];for(let I=0,D=_.length,N,V;I<D;++I)if(N=_[I],!y||typeof N.minValue==typeof N.maxValue){I>0&&!v&&(b.deleteRows(),b.setRows(k),b.setOriginalRowIndexes(f,!0),x=b.getColumns(),k=[],f=[]),V=x[N.column]||[];for(let P=0,T=V.length,R,L,B;P<T;++P){switch(typeof(R=V[P])){default:continue;case"boolean":case"number":case"string":}(!y||typeof R==typeof N.minValue)&&R>=N.minValue&&R<=N.maxValue&&(v?(L=d.getRow(P),B=d.getOriginalRowIndex(P)):(L=b.getRow(P),B=b.getOriginalRowIndex(P)),L&&(k.push(L),f.push(B)))}}b.deleteRows(),b.setRows(k),b.setOriginalRowIndexes(f)}return this.emit({type:"afterModify",detail:p,table:d}),d}}return l.defaultOptions={type:"Range",ranges:[]},s.registerType("Range",l),l}),i(n,"Data/Modifiers/SortModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:l}=a;class h extends s{static ascending(p,f){return(p||0)<(f||0)?-1:(p||0)>(f||0)?1:0}static descending(p,f){return(f||0)<(p||0)?-1:(f||0)>(p||0)?1:0}constructor(p){super(),this.options=l(h.defaultOptions,p)}getRowReferences(p){let f=p.getRows(),v=[];for(let _=0,y=f.length;_<y;++_)v.push({index:_,row:f[_]});return v}modifyCell(p,f,v,_,y){let{orderByColumn:b,orderInColumn:x}=this.options;return f===b&&(x?(p.modified.setCell(f,v,_),p.modified.setColumn(x,this.modifyTable(new r({columns:p.getColumns([b,x])})).modified.getColumn(x))):this.modifyTable(p,y)),p}modifyColumns(p,f,v,_){let{orderByColumn:y,orderInColumn:b}=this.options,x=Object.keys(f);return x.indexOf(y)>-1&&(b&&f[x[0]].length?(p.modified.setColumns(f,v),p.modified.setColumn(b,this.modifyTable(new r({columns:p.getColumns([y,b])})).modified.getColumn(b))):this.modifyTable(p,_)),p}modifyRows(p,f,v,_){let{orderByColumn:y,orderInColumn:b}=this.options;return b&&f.length?(p.modified.setRows(f,v),p.modified.setColumn(b,this.modifyTable(new r({columns:p.getColumns([y,b])})).modified.getColumn(b))):this.modifyTable(p,_),p}modifyTable(p,f){this.emit({type:"modify",detail:f,table:p});let v=p.getColumnNames(),_=p.getRowCount(),y=this.getRowReferences(p),{direction:b,orderByColumn:x,orderInColumn:k}=this.options,I=b==="asc"?h.ascending:h.descending,D=v.indexOf(x),N=p.modified;if(D!==-1&&y.sort((V,P)=>I(V.row[D],P.row[D])),k){let V=[];for(let P=0;P<_;++P)V[y[P].index]=P;N.setColumns({[k]:V})}else{let V,P=[],T=[];for(let R=0;R<_;++R)V=y[R],P.push(N.getOriginalRowIndex(V.index)),T.push(V.row);N.setRows(T,0),N.setOriginalRowIndexes(P)}return this.emit({type:"afterModify",detail:f,table:p}),p}}return h.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"},s.registerType("Sort",h),h}),i(n,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){return class{constructor(s){this.board=s,this.addTabIndexToCells()}addTabIndexToCells(){let s,r=this.board.mountedComponents;for(let a=0,l=r.length;a<l;++a)(s=r[a].cell)&&s.container&&s.container.setAttribute("tabindex",-1)}}}),i(n,"Data/DataCursor.js",[],function(){class s{constructor(a={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=a}addListener(a,l,h){let d=this.listenerMap[a]=this.listenerMap[a]||{};return(d[l]=d[l]||[]).push(h),this}buildEmittingTag(a){return(a.cursor.type==="position"?[a.table.id,a.cursor.column,a.cursor.row,a.cursor.state,a.cursor.type]:[a.table.id,a.cursor.columns,a.cursor.firstRow,a.cursor.lastRow,a.cursor.state,a.cursor.type]).join("\0")}emitCursor(a,l,h,d){let p=a.id,f=l.state,v=this.listenerMap[p]&&this.listenerMap[p][f];if(v){let _=this.stateMap[p]=this.stateMap[p]??{},y=_[l.state]||[];d&&(y.length||(_[l.state]=y),s.getIndex(l,y)===-1&&y.push(l));let b={cursor:l,cursors:y,table:a};h&&(b.event=h);let x=this.emittingRegister,k=this.buildEmittingTag(b);if(x.indexOf(k)>=0)return this;try{this.emittingRegister.push(k);for(let I=0,D=v.length;I<D;++I)v[I].call(this,b)}finally{let I=this.emittingRegister.indexOf(k);I>=0&&this.emittingRegister.splice(I,1)}}return this}remitCursor(a,l){let h=this.stateMap[a]&&this.stateMap[a][l.state];if(h){let d=s.getIndex(l,h);d>=0&&h.splice(d,1)}return this}removeListener(a,l,h){let d=this.listenerMap[a]&&this.listenerMap[a][l];if(d){let p=d.indexOf(h);p>=0&&d.splice(p,1)}return this}}return s.version="1.0.0",function(r){function a(l,h){if(l.type==="range")return l;let d={type:"range",firstRow:l.row??(h&&h.firstRow)??0,lastRow:l.row??(h&&h.lastRow)??Number.MAX_VALUE,state:l.state};return l.column!==void 0&&(d.columns=[l.column]),d}r.getIndex=function(l,h){if(l.type==="position"){for(let d,p=0,f=h.length;p<f;++p)if((d=h[p]).type==="position"&&d.state===l.state&&d.column===l.column&&d.row===l.row)return p}else{let d=JSON.stringify(l.columns);for(let p,f=0,v=h.length;f<v;++f)if((p=h[f]).type==="range"&&p.state===l.state&&p.firstRow===l.firstRow&&p.lastRow===l.lastRow&&JSON.stringify(p.columns)===d)return f}return-1},r.isEqual=function(l,h){return l.type==="position"&&h.type==="position"?l.column===h.column&&l.row===h.row&&l.state===h.state:l.type==="range"&&h.type==="range"&&l.firstRow===h.firstRow&&l.lastRow===h.lastRow&&JSON.stringify(l.columns)===JSON.stringify(h.columns)},r.isInRange=function(l,h){h.type==="position"&&(h=a(h)),l.type==="position"&&(l=a(l,h));let d=l.columns,p=h.columns;return l.firstRow>=h.firstRow&&l.lastRow<=h.lastRow&&(!d||!p||d.every(f=>p.indexOf(f)>=0))},r.toPositions=function(l){if(l.type==="position")return[l];let h=l.columns||[],d=[],p=l.state;for(let f=l.firstRow,v=l.lastRow;f<v;++f){if(!h.length){d.push({type:"position",row:f,state:p});continue}for(let _=0,y=h.length;_<y;++_)d.push({type:"position",column:h[_],row:f,state:p})}return d},r.toRange=a}(s||(s={})),s}),i(n,"Dashboards/Serializable.js",[],function(){var s;return function(r){let a={},l={};r.fromJSON=function(h){let d=h.$class;if(typeof d!="string")throw Error("JSON has no $class property.");let p=a[d];if(p)return p.fromJSON(h);let f=l[d];if(f)return f.fromJSON(h);throw Error(`'${d}' unknown.`)},r.registerClassPrototype=function(h,d){if(a[h])throw Error("A serializer for '"+h+"' is already registered.");a[h]=d},r.registerHelper=function(h){if(l[h.$class])throw Error("A serializer for '"+h.$class+"' is already registered.");l[h.$class]=h},r.toJSON=function(h){let d;if(typeof h.fromJSON=="function"&&typeof h.toJSON=="function")return h.toJSON();let p=Object.keys(l),f=p.length;for(let v=0;v<f;++v)if((d=l[p[v]]).jsonSupportFor(h))return d.toJSON(h);throw Error("Object is not supported.")}}(s||(s={})),s}),i(n,"Dashboards/SerializeHelper/DataCursorHelper.js",[n["Data/DataCursor.js"],n["Dashboards/Serializable.js"]],function(s,r){let a={$class:"Data.DataCursor",fromJSON:function(l){return new s(l.stateMap)},jsonSupportFor:function(l){return l instanceof s},toJSON:function(l){let h,d,p,f,v,_=l.stateMap,y={},b=Object.keys(l.stateMap);for(let x=0,k=b.length;x<k;++x){v=Object.keys(_[p=b[x]]),y[p]={};for(let I=0,D=v.length;I<D;++I){f=v[I],h=_[p][f],y[p][f]=d=[];for(let N=0,V=h.length;N<V;++N)d.push({...h[N]})}}return{$class:"Data.DataCursor",stateMap:y}}};return r.registerHelper(a),a}),i(n,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),i(n,"Data/DataPool.js",[n["Data/Connectors/DataConnector.js"],n["Data/DataPoolDefaults.js"],n["Core/Utilities.js"]],function(s,r,a){class l{constructor(d=r){d.connectors=d.connectors||[],this.connectors={},this.options=d,this.waiting={}}emit(d){a.fireEvent(this,d.type,d)}getConnector(d){let p=this.connectors[d];if(p)return Promise.resolve(p);let f=this.waiting[d];if(!f){f=this.waiting[d]=[];let v=this.getConnectorOptions(d);if(!v)throw Error(`Connector '${d}' not found.`);this.loadConnector(v).then(_=>{delete this.waiting[d];for(let y=0,b=f.length;y<b;++y)f[y][0](_)}).catch(_=>{delete this.waiting[d];for(let y=0,b=f.length;y<b;++y)f[y][1](_)})}return new Promise((v,_)=>{f.push([v,_])})}getConnectorIds(){let d=this.options.connectors,p=[];for(let f=0,v=d.length;f<v;++f)p.push(d[f].id);return p}getConnectorOptions(d){let p=this.options.connectors;for(let f=0,v=p.length;f<v;++f)if(p[f].id===d)return p[f]}getConnectorTable(d){return this.getConnector(d).then(p=>p.table)}isNewConnector(d){return!this.connectors[d]}loadConnector(d){return new Promise((p,f)=>{this.emit({type:"load",options:d});let v=s.types[d.type];if(!v)throw Error(`Connector type not found. (${d.type})`);new v(d.options).load().then(_=>{this.connectors[d.id]=_,this.emit({type:"afterLoad",options:d}),p(_)}).catch(f)})}on(d,p){return a.addEvent(this,d,p)}setConnectorOptions(d){let p=this.options.connectors,f=this.connectors;this.emit({type:"setConnectorOptions",options:d});for(let v=0,_=p.length;v<_;++v)if(p[v].id===d.id){p.splice(v,1);break}f[d.id]&&(f[d.id].stopPolling(),delete f[d.id]),p.push(d),this.emit({type:"afterSetConnectorOptions",options:d})}}return l.version="1.0.0",l}),i(n,"Dashboards/Layout/Row.js",[n["Dashboards/Globals.js"],n["Dashboards/Layout/Cell.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/EditGlobals.js"]],function(s,r,a,l,h){let{pick:d,defined:p,merge:f,objectEach:v,fireEvent:_}=l;class y extends a{static fromJSON(x,k){if(k){let I=x.options,D=I.containerId||"";return D&&k.copyId&&(D=D+"_"+k.copyId),new y(k,{id:D,parentContainerId:k.container&&k.container.id||I.parentContainerId,cellsJSON:I.cells,style:I.style})}}static setContainerHeight(x,k){k&&(x.style.height=k+"px")}constructor(x,k,I){super(),this.type=s.guiElementType.row,this.layout=x,this.cells=[],this.options=k,this.isVisible=!0;let D=document.getElementById(k.parentContainerId||"")||x.container,N=x.options||{},V=N.rowClassName||"";this.container=this.getElementContainer({render:x.board.guiEnabled,parentContainer:D,attribs:{id:k.id,className:s.classNames.row+" "+V},element:I,elementId:k.id,style:f(N.style,k.style)}),this.options.cells&&this.setCells(),k.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(k.cellsJSON)}setCells(){let x,k,I,D=(this.layout.options||{}).cellClassName||"",N=d(this.options.cells,this.container&&this.container.getElementsByClassName(D))||[];for(k=0,I=N.length;k<I;++k)x=N[k],this.addCell(this.layout.board.guiEnabled?x:{id:""},x instanceof HTMLElement?x:void 0)}setCellsFromJSON(x){let k,I,D=[];for(let N=0,V=x.length;N<V;++N)I=x[N],(k=r.fromJSON({$class:I.$class,options:{containerId:I.options.containerId,parentContainerId:I.options.parentContainerId,width:I.options.width,height:I.options.height,style:I.options.style,layoutJSON:I.options.layoutJSON,mountedComponentJSON:void 0}},this))&&(this.cells.push(k),I.options.mountedComponentJSON&&D.push({cell:k,mountedComponentJSON:I.options.mountedComponentJSON}));for(let N=0,V=D.length;N<V;++N)D[N].cell.mountComponentFromJSON(D[N].mountedComponentJSON)}addCell(x,k,I){let D=new r(this,x,k);return p(I)?this.mountCell(D,I):this.cells.push(D),this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(D),D}destroy(){var I;let{layout:x}=this,k=[...this.cells];for(let D=0,N=k==null?void 0:k.length;D<N;++D)k[D]&&k[D].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),((I=x.rows)==null?void 0:I.length)===0&&x.destroy())}toJSON(){let x=(this.layout.container||{}).id||"",k=[];for(let I=0,D=this.cells.length;I<D;++I)k.push(this.cells[I].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,parentContainerId:x,cells:k,style:this.options.style}}}getOptions(){let x=[];for(let k=0,I=this.cells.length;k<I;++k)x.push(this.cells[k].getOptions());return{id:this.options.id,style:this.options.style,cells:x}}setSize(x){y.setContainerHeight(this.container,x)}getCellIndex(x){var k;for(let I=0,D=(k=this.cells)==null?void 0:k.length;I<D;++I)if(this.cells[I].id===x.id)return I}mountCell(x,k=0){let I=this,D=I.cells[k],N=I.cells[k-1];x.container&&(D&&D.container?D.container.parentNode.insertBefore(x.container,D.container):N&&N.container?N.container.parentNode.insertBefore(x.container,N.container.nextSibling):N||D||!I.container||I.container.appendChild(x.container),I.cells.splice(k,0,x),x.row=I,setTimeout(()=>{_(I,"cellChange",{row:I,cell:x})},0))}unmountCell(x){let k=this.getCellIndex(x);p(k)&&this.cells.splice(k,1),setTimeout(()=>{_(this,"cellChange",{row:this,cell:x})},0)}getVisibleCells(){let x=[];for(let k=0,I=this.cells.length;k<I;++k)this.cells[k].isVisible&&x.push(this.cells[k]);return x}changeVisibility(x=!0,k){super.changeVisibility(x,k),this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(){this.container.classList.toggle(h.classNames.rowContextHighlight)}getRowLevels(){let x,k,I={},D=[];for(let N=0,V=this.cells.length;N<V;++N)(x=this.cells[N]).isVisible&&(I[(k=a.getOffsets(x)).top]||(I[k.top]={top:k.top,bottom:k.bottom,cells:[]}),I[k.top].bottom<k.bottom&&(I[k.top].bottom=k.bottom),I[k.top].cells.push(x));return v(I,N=>{D.push(N)}),D}getRowLevelInfo(x){let k,I=this.getRowLevels();for(let D=0,N=I.length;D<N;++D)I[D].top<=x&&I[D].bottom>x&&(k={index:D,rowLevels:I,rowLevel:I[D]});return k}}return y}),i(n,"Dashboards/Layout/Layout.js",[n["Dashboards/Utilities.js"],n["Core/Utilities.js"],n["Dashboards/Layout/Row.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Globals.js"]],function(s,r,a,l,h){let{uniqueKey:d}=s,{pick:p,defined:f}=r;class v extends l{static fromJSON(y,b,x){let k=y.options,I=document.getElementById(y.options.containerId),D=new v(b,{id:k.containerId,copyId:I?d():"",parentContainerId:k.parentContainerId||b.container.id,rowsJSON:k.rows,style:k.style},x);return D&&!x&&b.layouts.push(D),D}static importLocal(y,b){let x,k=localStorage.getItem(h.classNamePrefix+y);return k&&(x=v.fromJSON(JSON.parse(k),b)),x}constructor(y,b,x){super(),this.type=h.guiElementType.layout,this.board=y,this.rows=[],this.options=b,this.isVisible=!0;let k=x?x.container:document.getElementById(b.parentContainerId||"")||y.layoutsWrapper;x?(this.parentCell=x,this.level=x.row.layout.level+1):this.level=0,b.copyId&&(this.copyId=b.copyId);let I=(this.options||{}).rowClassName||"";this.container=this.getElementContainer({render:y.guiEnabled,parentContainer:k,attribs:{id:(b.id||"")+(this.copyId?"_"+this.copyId:""),className:h.classNames.layout+" "+I},elementId:b.id,style:this.options.style}),this.options.rows&&this.setRows(),b.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(b.rowsJSON)}setRows(){let y,b,x,k=p(this.options.rows,this.container&&this.container.getElementsByClassName(this.options.rowClassName||""))||[];for(b=0,x=k.length;b<x;++b)y=k[b],this.addRow(this.board.guiEnabled?y:{},y instanceof HTMLElement?y:void 0)}setRowsFromJSON(y){let b;for(let x=0,k=y.length;x<k;++x)(b=a.fromJSON(y[x],this))&&this.rows.push(b)}addRow(y,b,x){let k=new a(this,y,b);return f(x)?this.mountRow(k,x):this.rows.push(k),this.board.editMode&&this.board.editMode.setRowEvents(k),k}destroy(){for(let y=this.board.layouts.length-1;y>=0;y--)this.board.layouts[y]===this&&this.board.layouts.splice(y,1);this.parentCell&&delete this.parentCell.nestedLayout;for(let y=this.rows.length-1;y>=0;y--)this.rows[y].destroy();this.parentCell&&this.parentCell.destroy(),super.destroy()}exportLocal(){localStorage.setItem(h.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(y){for(let b=0,x=this.rows.length;b<x;++b)if(this.rows[b]===y)return b}mountRow(y,b){let x=this.rows[b],k=this.rows[b-1];y.container&&(x&&x.container?x.container.parentNode.insertBefore(y.container,x.container):k&&k.container&&k.container.parentNode.insertBefore(y.container,k.container.nextSibling),this.rows.splice(b,0,y),y.layout=this)}unmountRow(y){let b=this.getRowIndex(y);f(b)&&this.rows.splice(b,1)}getVisibleRows(){let y=[];for(let b=0,x=this.rows.length;b<x;++b)this.rows[b].isVisible&&y.push(this.rows[b]);return y}changeVisibility(y=!0){super.changeVisibility(y),this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){let y=(this.board.container||{}).id||"",b=[];for(let x=0,k=this.rows.length;x<k;++x)b.push(this.rows[x].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:y,rows:b,style:this.options.style}}}getOptions(){let y=[];for(let b=0,x=this.rows.length;b<x;++b)y.push(this.rows[b].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:y}}}return v}),i(n,"Dashboards/Board.js",[n["Dashboards/Actions/Bindings.js"],n["Dashboards/Components/ComponentRegistry.js"],n["Dashboards/Accessibility/DashboardsAccessibility.js"],n["Data/DataCursor.js"],n["Dashboards/SerializeHelper/DataCursorHelper.js"],n["Data/DataPool.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/Layout.js"],n["Dashboards/Serializable.js"],n["Dashboards/Components/HTMLComponent/HTMLComponent.js"],n["Core/Utilities.js"]],function(s,r,a,l,h,d,p,f,v,_,y){var b;let{merge:x,addEvent:k,error:I,objectEach:D,uniqueKey:N}=y;class V{static board(T,R,L){return new V(T,R).init(L)}constructor(T,R){var L,B,U,z;this.componentTypes=r.types,this.options=x(V.defaultOptions,R),this.dataPool=new d(R.dataPool),this.id=N(),this.guiEnabled=!!R.gui&&((B=(L=this.options)==null?void 0:L.gui)==null?void 0:B.enabled),this.editModeEnabled=!!R.editMode&&((z=(U=this.options)==null?void 0:U.editMode)==null?void 0:z.enabled),this.layouts=[],this.mountedComponents=[],this.initContainer(T),this.initEditMode(),this.dataCursor=new l,this.index=p.boards.length,p.boards.push(this),this.a11y=new a(this)}init(T){let R=this.options,L=R.components?this.setComponents(R.components):[];return this.initEvents(),T?Promise.all(L).then(()=>this):this}initEvents(){let T=this,R=()=>{T.reflow()};if(typeof ResizeObserver=="function")this.resizeObserver=new ResizeObserver(R),this.resizeObserver.observe(T.container);else{let L=k(e,"resize",R);k(this,"destroy",L)}}initContainer(T){typeof T=="string"&&(T=e.document.getElementById(T)),T||I(13,!0),this.container=T}initEditMode(){if(Dashboards.EditMode)this.editMode=new Dashboards.EditMode(this,this.options.editMode);else if(this.editModeEnabled)throw Error("Missing layout.js module")}setComponents(T){let R=[];for(let L=0,B=T.length;L<B;++L)R.push(s.addComponent(T[L],this));return R}destroy(){var R,L,B;let T=this;for(let U=0,z=(R=T.layouts)==null?void 0:R.length;U<z;++U)T.layouts[U].destroy();(L=this.resizeObserver)==null||L.unobserve(T.container),(B=T.container)==null||B.remove(),D(T,function(U,z){delete T[z]}),p.boards[this.index]=void 0}exportLocal(){localStorage.setItem(p.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(T){return f.importLocal(T,this)}reflow(){if(this.editMode){let T=this.editMode.tools;this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer(),T.contextMenu&&T.contextMenu.updatePosition(T.contextButtonElement)}}fromJSON(T){let R=T.options,L=new V(R.containerId,{componentOptions:R.componentOptions,dataPool:R.dataPool,layoutsJSON:R.layouts});return L.dataCursor=h.fromJSON(T.dataCursor),L}toJSON(){let T=[];for(let R=0,L=this.layouts.length;R<L;++R)T.push(this.layouts[R].toJSON());return{$class:"Board",dataCursor:h.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:T,componentOptions:this.options.componentOptions}}}getOptions(){var R,L;let T={...this.options,components:[]};for(let B=0,U=this.mountedComponents.length;B<U;++B)this.mountedComponents[B].cell&&this.mountedComponents[B].cell.mountedComponent&&((R=T.components)==null||R.push(this.mountedComponents[B].component.getOptions()));if(this.guiEnabled){T.gui={layouts:[]};for(let B=0,U=this.layouts.length;B<U;++B)(L=T.gui.layouts)==null||L.push(this.layouts[B].getOptions())}else delete T.gui;return T}getComponentById(T){var R;return(R=this.mountedComponents.find(L=>L.component.id===T))==null?void 0:R.component}getComponentByCellId(T){var R;return(R=this.mountedComponents.find(L=>L.cell.id===T))==null?void 0:R.component}}return(b=V||(V={})).defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},layouts:[]},components:[]},b.importLocal=function(){let P=localStorage.getItem(p.classNamePrefix+"1");if(P)try{return v.fromJSON(JSON.parse(P))}catch(T){throw Error(""+T)}},v.registerClassPrototype("Board",V.prototype),r.registerComponent("HTML",_),V}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridExtremesSync.js",[],function(){return{defaultOptions:{},syncPair:{emitter:void 0,handler:function(){if(this.type!=="DataGrid")return;let s=this,r=this.sync.syncConfig.extremes,a=r.group?":"+r.group:"",{board:l}=s,h=d=>{var f,v;let p=d.cursor;if(p.type==="position"&&s.dataGrid&&typeof(p==null?void 0:p.row)=="number"){let{row:_}=p,{viewport:y}=s.dataGrid,b=(f=y==null?void 0:y.dataTable)==null?void 0:f.getLocalRowIndex(_);b!==void 0&&((v=s.dataGrid.viewport)==null||v.scrollToRow(b))}};if(l)return(()=>{var f,v,_;let{dataCursor:d}=l;if(!d)return;let p=(_=(v=(f=s.connectorHandlers)==null?void 0:f[0])==null?void 0:v.connector)==null?void 0:_.table;p&&d.addListener(p.id,"xAxis.extremes.min"+a,h)})(),()=>{var f,v,_;let d=(_=(v=(f=s.connectorHandlers)==null?void 0:f[0])==null?void 0:v.connector)==null?void 0:_.table,{dataCursor:p}=l;d&&p.removeListener(d.id,"xAxis.extremes.min"+a,h)}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridHighlightSync.js",[n["Core/Utilities.js"]],function(s){let{addEvent:r,removeEvent:a}=s;return{defaultOptions:{autoScroll:!1},syncPair:{emitter:function(){if(this.type!=="DataGrid")return;let{dataGrid:l,board:h}=this,d=this.sync.syncConfig.highlight,p=d.group?":"+d.group:"";if(!h||!l||!(d!=null&&d.enabled))return;let{dataCursor:f}=h,v=y=>{var x;let b=(x=this.getFirstConnector())==null?void 0:x.table;if(b){let k=y.target;f.emitCursor(b,{type:"position",row:k.row.id,column:k.column.id,state:"dataGrid.hoverRow"+p})}},_=()=>{var b;let y=(b=this.getFirstConnector())==null?void 0:b.table;y&&f.emitCursor(y,{type:"position",state:"dataGrid.hoverOut"+p})};return r(l,"cellMouseOver",v),r(l,"cellMouseOut",_),function(){a(l.container,"cellMouseOver",v),a(l.container,"cellMouseOut",_)}},handler:function(){if(this.type!=="DataGrid")return;let l=this,{board:h}=l,d=l.sync.syncConfig.highlight,p=d.group?":"+d.group:"";if(!(d!=null&&d.enabled))return;let f=_=>{let y=_.cursor;if(y.type!=="position")return;let{row:b,column:x}=y,{dataGrid:k}=l,I=k==null?void 0:k.viewport;if(b===void 0||!I)return;let D=I.dataTable.getLocalRowIndex(b);D!==void 0&&(d.autoScroll&&I.scrollToRow(D),k.hoverRow(D),k.hoverColumn(x))},v=()=>{let{dataGrid:_}=l;_&&(_.hoverColumn(),_.hoverRow())};if(h)return(()=>{var b,x,k;let{dataCursor:_}=h;if(!_)return;let y=(k=(x=(b=l.connectorHandlers)==null?void 0:b[0])==null?void 0:x.connector)==null?void 0:k.table;y&&(_.addListener(y.id,"point.mouseOver"+p,f),_.addListener(y.id,"point.mouseOut"+p,v))})(),()=>{var b,x,k;let _=h.dataCursor,y=(k=(x=(b=l.connectorHandlers)==null?void 0:b[0])==null?void 0:x.connector)==null?void 0:k.table;y&&(_.removeListener(y.id,"point.mouseOver"+p,f),_.removeListener(y.id,"point.mouseOut"+p,v))}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridVisibilitySync.js",[],function(){return{defaultOptions:{},syncPair:{emitter:void 0,handler:function(){if(this.type!=="DataGrid")return;let s=this,r=this.sync.syncConfig.visibility,a=r.group?":"+r.group:"",{board:l}=s,h=d=>{let p=d.cursor,f=s.dataGrid;f&&p.type==="position"&&p.column&&f.updateColumn(p.column,{enabled:p.state!=="series.hide"+a})};if(l)return(()=>{var f,v,_;let{dataCursor:d}=l;if(!d)return;let p=(_=(v=(f=s.connectorHandlers)==null?void 0:f[0])==null?void 0:v.connector)==null?void 0:_.table;p&&(d.addListener(p.id,"series.show"+a,h),d.addListener(p.id,"series.hide"+a,h))})(),()=>{var f,v,_;let d=(_=(v=(f=s.connectorHandlers)==null?void 0:f[0])==null?void 0:v.connector)==null?void 0:_.table,{dataCursor:p}=l;d&&(p.removeListener(d.id,"series.show"+a,h),p.removeListener(d.id,"series.hide"+a,h))}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridSyncs.js",[n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridExtremesSync.js"],n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridHighlightSync.js"],n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridVisibilitySync.js"]],function(s,r,a){return{defaultSyncPairs:{extremes:s.syncPair,highlight:r.syncPair,visibility:a.syncPair},defaultSyncOptions:{extremes:s.defaultOptions,highlight:r.defaultOptions,visibility:a.defaultOptions}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridComponentDefaults.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{uniqueKey:a}=r;return{dataGridClassName:"dataGrid-container",dataGridID:"dataGrid-"+a(),dataGridOptions:{},editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"},{name:"DataGrid options",type:"nested",nestedOptions:[{name:"General",options:[{name:"Caption/title",propertyPath:["dataGridOptions","caption","text"],type:"input"},{name:"Columns distribution",propertyPath:["dataGridOptions","rendering","columns","distribution"],type:"select",selectOptions:[{name:"full"},{name:"fixed"}]},{name:"Editable DataGrid",propertyPath:["dataGridOptions","columnDefaults","cells","editable"],type:"toggle"},{name:"Resizable columns",propertyPath:["dataGridOptions","columnDefaults","resizing"],type:"toggle"},{name:"Sortable columns",propertyPath:["dataGridOptions","columnDefaults","sorting","sortable"],type:"toggle"},{name:"Cell text truncation",propertyPath:["dataGridOptions","rendering","rows","strictHeights"],type:"toggle"}]}]},{name:"DataGrid class name",propertyPath:["dataGridClassName"],type:"input"},{name:"DataGrid ID",propertyPath:["dataGridID"],type:"input"}],onUpdate:(l,h)=>{let d=l.target;if(d){let p=d.closest(".highcharts-datagrid-row"),f=d.closest(".highcharts-datagrid-cell");if(p&&p instanceof HTMLElement&&f&&f instanceof HTMLElement){let v=p.dataset.rowIndex,{columnName:_}=f.dataset;if(v!==void 0&&_!==void 0){let y=h.table;if(y){let b=new s().asGuessedType(d.value);b instanceof Date&&(b=b.toString()),y.setCell(_,Number(v),b)}}}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridComponent.js",[n["Dashboards/Components/Component.js"],n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridSyncs.js"],n["Dashboards/Components/DataGridComponent/DataGridComponentDefaults.js"],n["Core/Utilities.js"],n["Dashboards/Utilities.js"]],function(s,r,a,l,h){let{merge:d,diffObjects:p}=l,{deepClone:f}=h;class v extends s{static fromJSON(y,b){let x=new v(b,d(y.options,{dataGridOptions:JSON.parse(y.options.dataGridOptions||"")}));return x.emit({type:"fromJSON",json:y}),x}constructor(y,b,x){super(y,b=d(v.defaultOptions,b),x),this.options=b,this.type="DataGrid",this.setOptions()}async update(y){var b,x,k,I,D,N,V;await super.update(y),this.setOptions(),this.dataGrid&&(this.dataGrid.update(this.options.dataGridOptions??{},!1),((k=(x=(b=this.dataGrid)==null?void 0:b.viewport)==null?void 0:x.dataTable)==null?void 0:k.id)!==((D=(I=this.getFirstConnector())==null?void 0:I.table)==null?void 0:D.id)&&this.dataGrid.update({dataTable:(V=(N=this.getFirstConnector())==null?void 0:N.table)==null?void 0:V.modified},!1),this.dataGrid.renderViewport()),this.emit({type:"afterUpdate"})}render(){return super.render(),this.dataGrid?this.dataGrid.renderViewport():this.dataGrid=this.constructDataGrid(),this.sync.start(),this.emit({type:"afterRender"}),this}resize(y,b){var x,k;b?this.contentElement.style.minHeight="0":b===null&&this.contentElement.style.removeProperty("min-height"),this.resizeDynamicContent(y,b),(k=(x=this.dataGrid)==null?void 0:x.viewport)==null||k.reflow()}onTableChanged(){var y,b,x;(x=this.dataGrid)==null||x.update({dataTable:(b=(y=this.getFirstConnector())==null?void 0:y.table)==null?void 0:b.modified})}getEditableOptions(){var b;let y=this.options;return f(d({dataGridOptions:(b=this.dataGrid)==null?void 0:b.options},y),["editableOptions","dataTable"])}getOptionsOnDrop(y){let b=y.editMode.board.dataPool.getConnectorIds(),x={cell:"",type:"DataGrid"};return b.length&&(x={...x,connector:{id:b[0]}}),x}getOptions(){var b,x,k,I;let y=d(this.options);return(b=y.connector)!=null&&b.id?(x=y.dataGridOptions)==null||delete x.dataTable:(I=(k=y.dataGridOptions)==null?void 0:k.dataTable)!=null&&I.id&&(y.dataGridOptions.dataTable={columns:y.dataGridOptions.dataTable.columns}),{...p(y,v.defaultOptions),type:"DataGrid"}}destroy(){var y;this.sync.stop(),(y=this.dataGrid)==null||y.destroy(),super.destroy()}setOptions(){this.options.dataGridClassName&&(this.contentElement.classList.value=a.className+" "+this.options.dataGridClassName),this.options.dataGridID&&(this.contentElement.id=this.options.dataGridID)}constructDataGrid(){var I;let y=v.DataGridNamespace;if(!y)throw Error("DataGrid not connected.");let b=(I=this.getFirstConnector())==null?void 0:I.table,x=this.options.dataGridOptions??{};b&&(x.dataTable=b.modified);let k=new y.DataGrid(this.contentElement,x);return this.options.dataGridOptions=k.options,k}}return v.predefinedSyncConfig=r,v.defaultOptions=d(s.defaultOptions,a),v}),i(n,"Dashboards/Plugins/DataGridPlugin.js",[n["Dashboards/Components/DataGridComponent/DataGridComponent.js"]],function(s){return{custom:{connectDataGrid:function(r){s.DataGridNamespace=r}},name:"DataGrid.DashboardsPlugin",onRegister:function(r){let{ComponentRegistry:a}=r;a.registerComponent("DataGrid",s)},onUnregister:function(r){}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsExtremesSync.js",[n["Core/Utilities.js"]],function(s){let{addEvent:r,isString:a}=s;return{defaultOptions:{},syncPair:{emitter:function(){var x,k;if(this.type!=="Highcharts")return;let l=this,h=[],{chart:d,board:p}=l,f=(k=(x=l.connectorHandlers)==null?void 0:x[0])==null?void 0:k.connector,v=f&&f.table,_=this.sync.syncConfig.extremes,y=_.group?":"+_.group:"",{dataCursor:b}=p;if(v&&d){let I=P=>{var R;let T=!!P.resetSelection;if((!P.trigger||P.trigger&&P.trigger!=="dashboards-sync")&&!T){let L=P.target,B=Object.keys(l.seriesFromConnector),U=B.length>0?d.get(B[0]):L.series[0];if(U){let z=U.points.filter(Z=>Z.isInside||!1),H={type:"position",state:`${L.coll}.extremes.min${y}`},q={type:"position",state:`${L.coll}.extremes.max${y}`};if(B.length>0&&L.coll==="xAxis"&&z.length){let Z,se=((R=l.connectorHandlers[0])==null?void 0:R.options).columnAssignment;if(se){let oe=se.find(ae=>ae.seriesId===U.options.id);if(oe){let ae=oe.data;Z=a(ae)?ae:Array.isArray(ae)?ae[ae.length-1]:ae.y}}Z||(Z=L.dateTime&&(v.hasColumns(["x"])?"x":U.options.id??U.name)),H.row=z[0].index,H.column=Z,q.row=z[z.length-1].index,q.column=Z}b.emitCursor(v,H,P,!0).emitCursor(v,q,P,!0)}}},D=()=>d.axes.map(P=>r(P,"afterSetExtremes",I)),N=D(),V=()=>{N.forEach(P=>{P()}),N=[]};h.push(r(d,"selection",P=>{P.resetSelection&&(V(),b.emitCursor(v,{type:"position",state:"chart.zoomOut"+y},P),N.push(...D()))})),h.push(()=>{b.remitCursor(v.id,{type:"position",state:"xAxis.extremes.min"+y}),b.remitCursor(v.id,{type:"position",state:"xAxis.extremes.max"+y}),V()})}return function(){h.forEach(I=>{I()})}},handler:function(){var v;if(this.type!=="Highcharts")return;let l=this,h=this.sync.syncConfig.extremes,d=h.group?":"+h.group:"",{chart:p,board:f}=l;if(p&&f&&((v=p.zooming)!=null&&v.type)){let _=p.zooming.type.split("").map(b=>b+"Axis"),y=[];return _.forEach(b=>{let x=k=>{let{cursor:I,event:D}=k;if(I.type==="position"){let N=D==null?void 0:D.target;if(N&&p){let V=p[b],P=!1;V.forEach(T=>{N.coll===T.coll&&N!==T&&N.min!==null&&N.max!==null&&(T.max!==N.max||T.min!==N.min)&&(T.setExtremes(N.min,N.max,!1,void 0,{trigger:"dashboards-sync"}),P=!0)}),P&&!p.resetZoomButton&&p.showResetZoom(),p.redraw()}}};f&&(()=>{var D,N;let{dataCursor:k}=f,I=(N=(D=l.connectorHandlers)==null?void 0:D[0])==null?void 0:N.connector;if(I){let{table:V}=I;k.addListener(V.id,`${b}.extremes.min${d}`,x),k.addListener(V.id,`${b}.extremes.max${d}`,x);let P=()=>{p.zoomOut(),setTimeout(()=>{l.element.querySelectorAll(".highcharts-reset-zoom").forEach(T=>{T.remove()})})};k.addListener(V.id,"chart.zoomOut",P),y.push(()=>{k.removeListener(V.id,`${b}.extremes.min${d}`,x),k.removeListener(V.id,`${b}.extremes.max${d}`,x),k.removeListener(V.id,"chart.zoomOut"+d,P)})}})()}),function(){y.forEach(b=>{b()})}}}}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsHighlightSync.js",[n["Dashboards/Utilities.js"]],function(s){let{error:r}=s;return{defaultOptions:{affectedSeriesId:null,highlightPoint:!0,showTooltip:!0,showCrosshair:!0},syncPair:{emitter:function(){var f,v,_;if(this.type!=="Highcharts")return;let{chart:a,board:l}=this,h=this.sync.syncConfig.highlight,d=h.group?":"+h.group:"";if(!h.enabled||!a)return;let{dataCursor:p}=l;for(let y=0,b=((f=a.series)==null?void 0:f.length)??0;y<b;++y){let x,k=a.series[y],I=k.options.id??"",D=this.seriesFromConnector[I],N=(v=D==null?void 0:D.connector)==null?void 0:v.table;if(!N)continue;let V=N==null?void 0:N.modified,P=(_=D.columnAssignment)==null?void 0:_.find(T=>T.seriesId===I);if(P){let{data:T}=P;x=typeof T=="string"?T:Array.isArray(T)?T[1]:T.y??T.value}x||(x=k.name),k.update({point:{events:{mouseOver:function(){p.emitCursor(N,{type:"position",row:V.getOriginalRowIndex(this.index),column:x,state:"point.mouseOver"+d})},mouseOut:function(){p.emitCursor(N,{type:"position",row:V.getOriginalRowIndex(this.index),column:x,state:"point.mouseOut"+d})}}}},!1)}return a.redraw(),function(){a&&a.series&&(a.series.forEach(y=>{y.update({point:{events:{mouseOver:void 0,mouseOut:void 0}}},!1)}),a.redraw())}},handler:function(){if(this.type!=="Highcharts")return;let a=this,l=this.sync.syncConfig.highlight.group?":"+this.sync.syncConfig.highlight.group:"",{chart:h,board:d}=a,p=_=>{var k,I;let{table:y,cursor:b}=_,x=this.sync.syncConfig.highlight;if(h&&((k=h.series)!=null&&k.length)&&b.type==="position"){let D,N=x.affectedSeriesId;if(x.affectedSeriesId){let P=h.get(x.affectedSeriesId);P!=null&&P.points?D=P:r("No series with ID '"+N+"' found in the chart. Affected series will be selected according to the column assignment.")}if(!D){let P=Object.keys(a.seriesFromConnector);for(let T=0,R=P.length;T<R;++T){let L=P[T],B=a.seriesFromConnector[L];if(((I=B==null?void 0:B.connector)==null?void 0:I.table)!==y)continue;let U=B.columnAssignment;if(D=h.get(L),!U)break;let{data:z}=U.find(H=>H.seriesId===L)??{};if(!z||!b.column)break;if(typeof z=="string"){if(z===b.column)break}else if(Array.isArray(z)){if(z.includes(b.column))break}else if(Object.keys(z).map(H=>z[H]).includes(b.column))break}}let V=b.row;if(D!=null&&D.visible&&V!==void 0){let P=y.modified.getLocalRowIndex(V);if(P===void 0)return;let T=D.data[P];if(T!=null&&T.visible)return T}}},f=_=>{var k,I,D;let y=this.sync.syncConfig.highlight;if(!y.enabled)return;let b=p(_);if(!b||!h||!b.isInside&&b.series.isCartesian||b===h.hoverPoint)return;let x=h.tooltip;if(x&&y.showTooltip){let N=x.shared,V=h.hoverPoint,P=(V==null?void 0:V.series)||h.hoverSeries,T=(k=h.pointer)==null?void 0:k.getHoverData(b,P,h.series,!0,!0);h.tooltip&&(T!=null&&T.hoverPoints.length)&&x.refresh(N?T.hoverPoints:b)}y.highlightPoint&&(!(x!=null&&x.shared)&&y.showTooltip||!y.showTooltip)&&b.setState("hover"),y.showCrosshair&&((I=b.series.xAxis)==null||I.drawCrosshair(void 0,b),(D=b.series.yAxis)==null||D.drawCrosshair(void 0,b))},v=_=>{var D,N;let y=this.sync.syncConfig.highlight;if(!h||!h.series.length||!y.enabled)return;let b=p(_);if(b&&(!b.isInside&&b.series.isCartesian||b===h.hoverPoint))return;let x=!1,k=()=>{let V=h.series.length;for(let P=0;P<V;P++){let T=h.series[P].points,R=T.length;for(let L=0;L<R;L++)T[L].setState()}},I=h.tooltip;if(I&&y.showTooltip&&(I.hide(),I.shared&&(k(),x=!0)),y.highlightPoint&&!x&&(b?b.setState():k()),y.showCrosshair)if(b)(D=b.series.xAxis)==null||D.drawCrosshair(),(N=b.series.yAxis)==null||N.drawCrosshair();else{let V=h.xAxis,P=h.yAxis;for(let T=0,R=V.length;T<R;T++)V[T].drawCrosshair();for(let T=0,R=P.length;T<R;T++)P[T].drawCrosshair()}};if(d)return(()=>{var b,x;let{dataCursor:_}=d,{connectorHandlers:y}=this;if(_)for(let k=0,I=y.length;k<I;++k){let D=(x=(b=y[k])==null?void 0:b.connector)==null?void 0:x.table;D&&(_.addListener(D.id,"point.mouseOver"+l,f),_.addListener(D.id,"dataGrid.hoverRow"+l,f),_.addListener(D.id,"point.mouseOut"+l,v),_.addListener(D.id,"dataGrid.hoverOut"+l,v))}})(),()=>{var b,x;let{dataCursor:_}=d,{connectorHandlers:y}=this;if(_)for(let k=0,I=y.length;k<I;++k){let D=(x=(b=y[k])==null?void 0:b.connector)==null?void 0:x.table;D&&(_.removeListener(D.id,"point.mouseOver"+l,f),_.removeListener(D.id,"dataGrid.hoverRow"+l,f),_.removeListener(D.id,"point.mouseOut"+l,v),_.removeListener(D.id,"dataGrid.hoverOut"+l,v))}}}}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsVisibilitySync.js",[],function(){return{defaultOptions:{},syncPair:{emitter:function(){if(this.type!=="Highcharts")return;let s=this.sync.syncConfig.visibility,r=s.group?":"+s.group:"",{chart:a,board:l}=this,h=this.getFirstConnector();if(!l||!a)return;let d=h==null?void 0:h.table;if(d){let{dataCursor:p}=l,{series:f}=a;f.forEach(v=>{v.update({events:{show:function(){p.emitCursor(d,{type:"position",state:"series.show"+r,column:this.name})},hide:function(){p.emitCursor(d,{type:"position",state:"series.hide"+r,column:this.name})}}},!1)}),a.redraw()}return function(){var p;a&&((p=a.series)!=null&&p.length)&&(a.series.forEach(f=>{f.update({events:{show:void 0,hide:void 0}},!1)}),a.redraw())}},handler:function(){if(this.type!=="Highcharts")return;let s=this,r=this.sync.syncConfig.visibility,a=r.group?":"+r.group:"",{board:l}=s,h=(f,v)=>{for(let _ of f)if(_.name===v)return _},d=f=>{var _;let v=s.chart;if(v&&((_=v.series)!=null&&_.length)&&f.cursor.type==="position"&&f.cursor.column!==void 0){let y=h(v.series,f.cursor.column);y&&y.setVisible(!0,!0)}},p=f=>{var _;let v=s.chart;if(v&&((_=v.series)!=null&&_.length)&&f.cursor.type==="position"&&f.cursor.column!==void 0){let y=h(v.series,f.cursor.column);y&&y.setVisible(!1,!0)}};if(l)return(()=>{var _,y,b;let{dataCursor:f}=l;if(!f)return;let v=(b=(y=(_=s.connectorHandlers)==null?void 0:_[0])==null?void 0:y.connector)==null?void 0:b.table;v&&(f.addListener(v.id,"series.show"+a,d),f.addListener(v.id,"series.hide"+a,p))})(),()=>{var v,_,y;let f=(y=(_=(v=s.connectorHandlers)==null?void 0:v[0])==null?void 0:_.connector)==null?void 0:y.table;f&&(l.dataCursor.removeListener(f.id,"series.show"+a,d),l.dataCursor.removeListener(f.id,"series.hide"+a,p))}}}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsSyncs.js",[n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsExtremesSync.js"],n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsHighlightSync.js"],n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsVisibilitySync.js"]],function(s,r,a){return{defaultSyncPairs:{extremes:s.syncPair,highlight:r.syncPair,visibility:a.syncPair},defaultSyncOptions:{extremes:s.defaultOptions,highlight:r.defaultOptions,visibility:a.defaultOptions}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsComponentDefaults.js",[n["Dashboards/Components/Component.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a,uniqueKey:l}=r;return{allowConnectorUpdate:!0,className:[s.defaultOptions.className,`${s.defaultOptions.className}-highcharts`].join(" "),chartClassName:"chart-container",chartID:"chart-"+l(),chartOptions:{series:[]},chartConstructor:"chart",editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},...s.defaultOptions.editableOptions||[],{name:"chartOptions",type:"nested",nestedOptions:[{name:"chart",options:[{name:"title",propertyPath:["chartOptions","title","text"],type:"input"},{name:"subtitle",propertyPath:["chartOptions","subtitle","text"],type:"input"},{name:"type",propertyPath:["chartOptions","chart","type"],type:"select",selectOptions:[{name:"column",iconURL:"series-types/icon-column.svg"},{name:"line",iconURL:"series-types/icon-line.svg"},{name:"scatter",iconURL:"series-types/icon-scatter.svg"},{name:"pie",iconURL:"series-types/icon-pie.svg"}]}]},{name:"xAxis",options:[{name:"title",propertyPath:["chartOptions","xAxis","title","text"],type:"input"},{name:"type",propertyPath:["chartOptions","xAxis","type"],type:"select",selectOptions:[{name:"linear"},{name:"datetime"},{name:"logarithmic"}]}]},{name:"yAxis",options:[{name:"title",propertyPath:["chartOptions","yAxis","title","text"],type:"input"},{name:"type",propertyPath:["chartOptions","yAxis","type"],type:"select",selectOptions:[{name:"linear"},{name:"datetime"},{name:"logarithmic"}]}]},{name:"legend",showToggle:!0,propertyPath:["chartOptions","legend","enabled"],options:[{name:"align",propertyPath:["chartOptions","legend","align"],type:"select",selectOptions:[{name:"left"},{name:"center"},{name:"right"}]}]},{name:"tooltip",showToggle:!0,propertyPath:["chartOptions","tooltip","enabled"],options:[{name:"split",propertyPath:["chartOptions","tooltip","split"],type:"toggle"}]},{name:"dataLabels",propertyPath:["chartOptions","plotOptions","series","dataLabels","enabled"],showToggle:!0,options:[{name:"align",propertyPath:["chartOptions","plotOptions","series","dataLabels","align"],type:"select",selectOptions:[{name:"left"},{name:"center"},{name:"right"}]}]},{name:"credits",showToggle:!0,propertyPath:["chartOptions","credits","enabled"],options:[{name:"name",propertyPath:["chartOptions","credits","text"],type:"input"},{name:"url",propertyPath:["chartOptions","credits","href"],type:"input"}]}]},{name:"chartConfig",propertyPath:["chartOptions"],type:"textarea"},{name:"chartClassName",propertyPath:["chartClassName"],type:"input"},{name:"chartID",propertyPath:["chartID"],type:"input"}],editableOptionsBindings:a(s.defaultOptions.editableOptionsBindings,{skipRedraw:["chartOptions","chartConfig"]})}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsComponent.js",[n["Dashboards/Components/Component.js"],n["Data/Converters/DataConverter.js"],n["Data/DataTable.js"],n["Dashboards/Globals.js"],n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsSyncs.js"],n["Dashboards/Components/HighchartsComponent/HighchartsComponentDefaults.js"],n["Dashboards/Utilities.js"],n["Core/Utilities.js"]],function(s,r,a,l,h,d,p,f){let{createElement:v,diffObjects:_,isString:y,merge:b,splat:x}=f,{deepClone:k}=p;class I extends s{static fromJSON(N,V){let P=new I(V,b(N.options,{chartOptions:JSON.parse(N.options.chartOptions||"{}")}));return P.emit({type:"fromJSON",json:N}),P}constructor(N,V,P){for(let T of(super(N,V=b(I.defaultOptions,V),P),this.seriesFromConnector={},this.options=V,this.chartConstructor=this.options.chartConstructor||"chart",this.type="Highcharts",this.chartContainer=v("figure",void 0,void 0,this.contentElement,!0),this.setOptions(),this.chartOptions=b(this.options.chartOptions||{chart:{}},{tooltip:{}}),this.connectorHandlers)){let R=T.connector;R&&R.on("afterLoad",L=>{L.table&&R.table.setColumns(L.table.getColumns())})}this.innerResizeTimeouts=[]}onTableChanged(){this.updateSeries()}async load(){return this.emit({type:"load"}),await super.load(),this.emit({type:"afterLoad"}),this}render(){return super.render(),this.chart=this.getChart(),this.updateSeries(),this.emit({type:"afterRender"}),this.setupConnectorUpdate(),this.sync.start(),this}resize(N,V){for(this.resizeDynamicContent(N,V);this.innerResizeTimeouts.length;){let P=this.innerResizeTimeouts.pop();P&&clearTimeout(P)}return this.innerResizeTimeouts.push(setTimeout(()=>{var P;if(this.chart&&this.chart.container){let T=this.contentElement.offsetHeight-((P=this.chart)==null?void 0:P.container.offsetHeight);this.chart.setSize(null,Math.abs(T)>1?this.contentElement.offsetHeight:null,!1)}},33)),this}setupConnectorUpdate(){let{connectorHandlers:N,chart:V}=this;if(!V||!this.options.allowConnectorUpdate)return;let P=V.series.length;for(let T=0,R=N.length;T<R;T++){let L=N[T];for(let B=0;B<P;B++)V.series[B].update({point:{events:{update:U=>{this.onChartUpdate(U.target,L)}}}},!1)}}onChartUpdate(N,V){var U,z;let P,T=(U=V.connector)==null?void 0:U.table,R=V.columnAssignment,L=N.series.options.id,B=new r().asNumber(N.y);if(T){if(R&&L){let H=(z=R.find(q=>q.seriesId===L))==null?void 0:z.data;y(H)?P=H:Array.isArray(H)?P=H[1]:H&&(P=H.y??H.value)}P||(P=L??N.series.name),T.setCell(P,N.index,B)}}setOptions(){this.options.chartClassName&&(this.chartContainer.classList.value=d.className+" "+this.options.chartClassName),this.options.chartID&&(this.chartContainer.id=this.options.chartID)}async update(N,V=!0){await super.update(N,!1),this.setOptions(),this.chart&&this.chart.update(b(this.options.chartOptions)||{}),this.emit({type:"afterUpdate"}),V&&this.render()}updateSeries(){let{chart:N}=this,V=this.connectorHandlers;if(!N)return;let P=[];for(let R of V){let L=R.options.columnAssignment;if(!L&&R.presentationTable&&(L=this.getDefaultColumnAssignment(R.presentationTable.getColumnNames(),R.presentationTable)),L)for(let{seriesId:B}of(R.columnAssignment=L,L))B&&P.push(B)}let T=Object.keys(this.seriesFromConnector);for(let R=0,L=T.length;R<L;++R){let B=T[R];if(P.some(z=>z===B))continue;let U=N.get(B);U&&U.destroy()}for(let R of(this.seriesFromConnector={},V))this.updateSeriesFromConnector(R);N.redraw()}updateSeriesFromConnector(N){var L;let V=this.chart;if(!N.connector||!V||!N.presentationTable)return;let P=N.presentationTable.modified,T=(L=N.presentationTable.getModifier())==null?void 0:L.options,R=N.columnAssignment??[];for(let B=0,U=R.length;B<U;++B){let z=R[B],H=z.data,q=V.get(z.seriesId),Z={},se=oe=>{var ae;(T==null?void 0:T.type)==="Math"&&((ae=T.columnFormulas)!=null&&ae.some(ye=>oe(ye.column)))&&(Z.dragDrop={draggableY:!1})};if(y(H)){let oe=P.getColumn(H);oe&&(Z.data=oe.slice()),se(ae=>ae===H)}else if(Array.isArray(H)){let oe=new a({columns:P.getColumns(H)});Z.data=oe.getRows(),se(ae=>H.some(ye=>ye===ae))}else{let oe=Object.keys(H),ae=[];for(let we=0,_e=oe.length;we<_e;++we)ae.push(H[oe[we]]);let ye=new a({columns:P.getColumns(ae)});Z.keys=oe,Z.data=ye.getRows(),se(we=>ae.some(_e=>_e===we))}q?q.update(Z,!1):V.addSeries({name:z.seriesId,id:z.seriesId,...Z},!1),this.seriesFromConnector[z.seriesId]=N}}getChart(){return this.chart||this.createChart()}destroy(){var N;(N=this.chart)==null||N.destroy(),super.destroy()}getDefaultColumnAssignment(N=[],V){let P=[],T=V.getColumn(N[0]);if(T&&y(T[0])){for(let R=1,L=N.length;R<L;++R)P.push({seriesId:N[R],data:[N[0],N[R]]});return P}for(let R=0,L=N.length;R<L;++R)P.push({seriesId:N[R],data:N[R]});return P}createChart(){let N=I.charter||l.win.Highcharts;this.chartConstructor||(this.chartConstructor="chart");let V=N[this.chartConstructor];if(V)try{return this.chartConstructor==="chart"?N.Chart.chart(this.chartContainer,this.chartOptions):new V(this.chartContainer,this.chartOptions)}catch(P){throw Error(`The Highcharts component in cell '${this.cell.id}' is misconfigured. 
____________
${P}`)}if(typeof N.chart!="function")throw Error("Chart constructor not found");return this.chart}registerChartEvents(){if(this.chart&&this.chart.options){let N=this.chart.options;["chart","series","yAxis","xAxis","colorAxis","annotations","navigation"].map(V=>{let P=N[V]||{};return!Array.isArray(P)&&P.events&&(P=[P]),P&&typeof P=="object"&&Array.isArray(P)&&P.reduce((T,R,L)=>(R&&R.events&&(T[R.id||`${V}-${L}`]=R.events),T),{})||{}}).forEach(V=>{Object.keys(V).forEach(P=>{let T=V[P];Object.keys(T).forEach(R=>{this.callbackRegistry.addCallback(`${P}-${R}`,{type:"seriesEvent",func:T[R]})})})})}}getOptionsOnDrop(N){let V=N.editMode.board.dataPool.getConnectorIds(),P={cell:"",type:"Highcharts",chartOptions:{chart:{animation:!1,type:"column",zooming:{}}}};return V.length&&(P={...P,connector:{id:V[0]}}),P}toJSON(){let N=JSON.stringify(this.options.chartOptions),V=this.options.chartConstructor||"chart";this.registerChartEvents();let P=super.toJSON(),T={...P,type:"Highcharts",options:{...P.options,chartOptions:N,chartConstructor:V,type:"Highcharts",sync:{}}};return this.emit({type:"toJSON",json:T}),T}getOptions(){return{..._(this.options,I.defaultOptions),type:"Highcharts"}}getEditableOptions(){var R;let N=this.options,V=this.chart,P=V&&V.options,T=((R=P==null?void 0:P.chart)==null?void 0:R.type)||"line";return k(b({chartOptions:P},{chartOptions:{yAxis:x(V&&V.yAxis[0].options),xAxis:x(V&&V.xAxis[0].options),plotOptions:{series:(P&&P.plotOptions||{})[T]}}},N),["dataTable","points","series","data","editableOptions"])}getEditableOptionValue(N){return N?N.length===1&&N[0]==="chartOptions"?JSON.stringify(this.options.chartOptions,null,2):super.getEditableOptionValue.call(this,N):void 0}}return I.predefinedSyncConfig=h,I.defaultOptions=b(s.defaultOptions,d),I}),i(n,"Dashboards/Components/KPIComponent/KPISyncs/KPIExtremesSync.js",[n["Core/Utilities.js"]],function(s){let{defined:r}=s;return{defaultOptions:{},syncPair:{emitter:void 0,handler:function(){if(this.type!=="KPI")return;let a=this,l=this.sync.syncConfig.extremes,h=l.group?":"+l.group:"",{board:d}=this,p=f=>{var _,y;let v=f.cursor;if(v.type==="position"&&typeof(v==null?void 0:v.row)=="number"&&r(v.column)&&((y=(_=a.connectorHandlers)==null?void 0:_[0])!=null&&y.connector)&&!r(a.options.value)){let b=a.connectorHandlers[0].connector.table.modified.getCellAsString(v.column,v.row);a.setValue(b)}};if(d)return(()=>{var _;let{dataCursor:f}=d;if(!f)return;let v=(_=this.getFirstConnector())==null?void 0:_.table;v&&f.addListener(v.id,"xAxis.extremes.max"+h,p)})(),()=>{var _;let f=(_=this.getFirstConnector())==null?void 0:_.table,{dataCursor:v}=d;f&&v.removeListener(f.id,"xAxis.extremes.max"+h,p)}}}}}),i(n,"Dashboards/Components/KPIComponent/KPISyncs/KPISyncs.js",[n["Dashboards/Components/KPIComponent/KPISyncs/KPIExtremesSync.js"]],function(s){return{defaultSyncPairs:{extremes:s.syncPair},defaultSyncOptions:{extremes:s.defaultOptions}}}),i(n,"Dashboards/Components/KPIComponent/KPIComponentDefaults.js",[n["Dashboards/Components/Component.js"]],function(s){return{type:"KPI",className:[s.defaultOptions.className,`${s.defaultOptions.className}-kpi`].join(" "),minFontSize:20,thresholdColors:["#f45b5b","#90ed7d"],editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},...s.defaultOptions.editableOptions||[],{name:"Value",type:"input",propertyPath:["value"]},{name:"Column name",type:"input",propertyPath:["columnName"]},{name:"Value format",type:"input",propertyPath:["valueFormat"]}],linkedValueTo:{enabled:!0,seriesIndex:0,pointIndex:0}}}),i(n,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(n,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),i(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{win:a}=s,{defined:l,error:h,extend:d,isNumber:p,isObject:f,isString:v,merge:_,objectEach:y,pad:b,splat:x,timeUnits:k,ucfirst:I}=r,D=s.isSafari&&a.Intl&&!a.Intl.DateTimeFormat.prototype.formatRange,N=P=>P.main===void 0,V=P=>["D","L","M","X","J","V","S"].indexOf(P);return class{constructor(P){this.options={},this.variableTimezone=!1,this.Date=a.Date,this.update(P)}update(P={}){let T=P.timezone??"UTC";this.dTLCache={},this.options=P=_(!0,this.options,P);let{timezoneOffset:R,useUTC:L}=P;this.Date=P.Date||a.Date||Date,l(L)&&(T=L?"UTC":void 0),R&&R%60==0&&(T="Etc/GMT"+(R>0?"+":"")+R/60),this.variableTimezone=T!=="UTC"&&(T==null?void 0:T.indexOf("Etc/GMT"))!==0,this.timezone=T,["months","shortMonths","weekdays","shortWeekdays"].forEach(B=>{let U=/months/i.test(B),z=/short/.test(B),H={timeZone:"UTC"};H[U?"month":"weekday"]=z?"short":"long",this[B]=(U?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(q=>this.dateFormat(H,(U?31:1)*24*36e5*q))})}toParts(P){let[T,R,L,B,U,z,H]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},P,"es").split(/(?:, |\/|:)/g);return[B,+L-1,R,U,z,H,Math.floor(Number(P)||0)%1e3,V(T)].map(Number)}dateTimeFormat(P,T,R=this.options.locale){let L=JSON.stringify(P)+R;v(P)&&(P=this.str2dtf(P));let B=this.dTLCache[L];if(!B){P.timeZone??(P.timeZone=this.timezone);try{B=new Intl.DateTimeFormat(R,P)}catch(U){/Invalid time zone/i.test(U.message)?(h(34),P.timeZone="UTC",B=new Intl.DateTimeFormat(R,P)):h(U.message,!1)}}return this.dTLCache[L]=B,(B==null?void 0:B.format(T))||""}str2dtf(P,T={}){let R={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(R).forEach(L=>{P.indexOf(L)!==-1&&d(T,R[L])}),T}makeTime(P,T,R=1,L=0,B,U,z){let H=this.Date.UTC(P,T,R,L,B||0,U||0,z||0);if(this.timezone!=="UTC"){let q=this.getTimezoneOffset(H);if(H+=q,[2,3,8,9,10,11].indexOf(T)!==-1&&(L<5||L>20)){let Z=this.getTimezoneOffset(H);q!==Z?H+=Z-q:q-36e5!==this.getTimezoneOffset(H-36e5)||D||(H-=36e5)}}return H}parse(P){if(!v(P))return P??void 0;let T=(P=P.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(P),R=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(P);T||R||(P+="Z");let L=Date.parse(P);if(p(L))return L+(!T||R?this.getTimezoneOffset(L):0)}getTimezoneOffset(P){if(this.timezone!=="UTC"){let[T,R,L,B,U=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},P,"en").split(/(GMT|:)/).map(Number),z=-(36e5*(L+U/60));if(p(z))return z}return 0}dateFormat(P,T,R){var B;let L=(B=s.defaultOptions)==null?void 0:B.lang;if(!l(T)||isNaN(T))return(L==null?void 0:L.invalidDate)||"";if(v(P=P??"%Y-%m-%d %H:%M:%S")){let U,z=/%\[([a-zA-Z]+)\]/g;for(;U=z.exec(P);)P=P.replace(U[0],this.dateTimeFormat(U[1],T))}if(v(P)&&P.indexOf("%")!==-1){let U=this,[z,H,q,Z,se,oe,ae,ye]=this.toParts(T),we=(L==null?void 0:L.weekdays)||this.weekdays,_e=(L==null?void 0:L.shortWeekdays)||this.shortWeekdays,Ce=(L==null?void 0:L.months)||this.months,Oe=(L==null?void 0:L.shortMonths)||this.shortMonths;y(d({a:_e?_e[ye]:we[ye].substr(0,3),A:we[ye],d:b(q),e:b(q,2," "),w:ye,b:Oe[H],B:Ce[H],m:b(H+1),o:H+1,y:z.toString().substr(2,2),Y:z,H:b(Z),k:Z,I:b(Z%12||12),l:Z%12||12,M:b(se),p:Z<12?"AM":"PM",P:Z<12?"am":"pm",S:b(oe),L:b(ae,3)},s.dateFormats),function(He,at){if(v(P))for(;P.indexOf("%"+at)!==-1;)P=P.replace("%"+at,typeof He=="function"?He.call(U,T):He)})}else if(f(P)){let U=(this.getTimezoneOffset(T)||0)/36e5,z=this.options.timezone||"Etc/GMT"+(U>=0?"+":"")+U,{prefix:H="",suffix:q=""}=P;P=H+this.dateTimeFormat(d({timeZone:z},P),T)+q}return R?I(P):P}resolveDTLFormat(P){return f(P,!0)?f(P,!0)&&N(P)?{main:P}:P:{main:(P=x(P))[0],from:P[1],to:P[2]}}getTimeTicks(P,T,R,L){let B=this,U=[],z={},{count:H=1,unitRange:q}=P,[Z,se,oe,ae,ye,we]=B.toParts(T),_e=(T||0)%1e3,Ce;if(L??(L=1),l(T)){if(_e=q>=k.second?0:H*Math.floor(_e/H),q>=k.second&&(we=q>=k.minute?0:H*Math.floor(we/H)),q>=k.minute&&(ye=q>=k.hour?0:H*Math.floor(ye/H)),q>=k.hour&&(ae=q>=k.day?0:H*Math.floor(ae/H)),q>=k.day&&(oe=q>=k.month?1:Math.max(1,H*Math.floor(oe/H))),q>=k.month&&(se=q>=k.year?0:H*Math.floor(se/H)),q>=k.year&&(Z-=Z%H),q===k.week){H&&(T=B.makeTime(Z,se,oe,ae,ye,we,_e));let at=V(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},T,"es"));oe+=-at+L+(at<L?-7:0)}T=B.makeTime(Z,se,oe,ae,ye,we,_e),B.variableTimezone&&l(R)&&(Ce=R-T>4*k.month||B.getTimezoneOffset(T)!==B.getTimezoneOffset(R));let Oe=T,He=1;for(;Oe<R;)U.push(Oe),q===k.year?Oe=B.makeTime(Z+He*H,0):q===k.month?Oe=B.makeTime(Z,se+He*H):Ce&&(q===k.day||q===k.week)?Oe=B.makeTime(Z,se,oe+He*H*(q===k.day?1:7)):Ce&&q===k.hour&&H>1?Oe=B.makeTime(Z,se,oe,ae+He*H):Oe+=q*H,He++;U.push(Oe),q<=k.hour&&U.length<1e4&&U.forEach(at=>{at%18e5==0&&B.dateFormat("%H%M%S%L",at)==="000000000"&&(z[at]="day")})}return U.info=d(P,{higherRanks:z,totalRange:q*H}),U}getDateFormat(P,T,R,L){let B=this.dateFormat("%m-%d %H:%M:%S.%L",T),U="01-01 00:00:00.000",z={millisecond:15,second:12,minute:9,hour:6,day:3},H="millisecond",q=H;for(H in k){if(P===k.week&&+this.dateFormat("%w",T)===R&&B.substr(6)===U.substr(6)){H="week";break}if(k[H]>P){H=q;break}if(z[H]&&B.substr(z[H])!==U.substr(z[H]))break;H!=="week"&&(q=H)}return this.resolveDTLFormat(L[H]).main}}}),i(n,"Core/Defaults.js",[n["Core/Chart/ChartDefaults.js"],n["Core/Globals.js"],n["Core/Color/Palettes.js"],n["Core/Time.js"],n["Core/Utilities.js"]],function(s,r,a,l,h){let{isTouchDevice:d}=r,{fireEvent:p,merge:f}=h,v={colors:a.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:s,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:y=>Math.sqrt(1-Math.pow(y-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:d?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};v.chart.styledMode=!1;let _=new l(v.time);return{defaultOptions:v,defaultTime:_,getOptions:function(){return v},setOptions:function(y){return p(r,"setOptions",{options:y}),f(!0,v,y),y.time&&_.update(v.time),y.lang&&"locale"in y.lang&&_.update({locale:y.lang.locale}),v}}}),i(n,"Core/Templating.js",[n["Core/Defaults.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],function(s,r,a){let{defaultOptions:l,defaultTime:h}=s,{doc:d}=r,{extend:p,getNestedProperty:f,isArray:v,isNumber:_,isObject:y,pick:b,ucfirst:x}=a,k={add:(V,P)=>V+P,divide:(V,P)=>P!==0?V/P:"",eq:(V,P)=>V==P,each:function(V){let P=arguments[arguments.length-1];return!!v(V)&&V.map((T,R)=>D(P.body,p(y(T)?T:{"@this":T},{"@index":R,"@first":R===0,"@last":R===V.length-1}))).join("")},ge:(V,P)=>V>=P,gt:(V,P)=>V>P,if:V=>!!V,le:(V,P)=>V<=P,lt:(V,P)=>V<P,multiply:(V,P)=>V*P,ne:(V,P)=>V!=P,subtract:(V,P)=>V-P,ucfirst:x,unless:V=>!V},I={};function D(V="",P,T){let R=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@"'’= #\(\)]+)\}/gu,L=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@"'= ]+)\)/gu,B=[],U=/f$/,z=/\.(\d)/,H=(T==null?void 0:T.options.lang)||l.lang,q=T&&T.time||h,Z=T&&T.numberFormatter||N,se=(_e="")=>{let Ce;return _e==="true"||_e!=="false"&&((Ce=Number(_e)).toString()===_e?Ce:/^["'].+["']$/.test(_e)?_e.slice(1,-1):f(_e,P))},oe,ae,ye=0,we;for(;(oe=R.exec(V))!==null;){let _e=oe,Ce=L.exec(oe[1]);Ce&&(oe=Ce,we=!0),ae&&ae.isBlock||(ae={ctx:P,expression:oe[1],find:oe[0],isBlock:oe[1].charAt(0)==="#",start:oe.index,startInner:oe.index+oe[0].length,length:oe[0].length});let Oe=(ae.isBlock?_e:oe)[1].split(" ")[0].replace("#","");k[Oe]&&(ae.isBlock&&Oe===ae.fn&&ye++,ae.fn||(ae.fn=Oe));let He=oe[1]==="else";if(ae.isBlock&&ae.fn&&(oe[1]===`/${ae.fn}`||He))if(ye)!He&&ye--;else{let at=ae.startInner,ze=V.substr(at,oe.index-at);ae.body===void 0?(ae.body=ze,ae.startInner=oe.index+oe[0].length):ae.elseBody=ze,ae.find+=ze+oe[0],He||(B.push(ae),ae=void 0)}else ae.isBlock||B.push(ae);if(Ce&&!(ae!=null&&ae.isBlock))break}return B.forEach(_e=>{let Ce,Oe,{body:He,elseBody:at,expression:ze,fn:pe}=_e;if(pe){let Se=[_e],Ne=[],Ge=ze.length,pt=0,Re;for(Oe=0;Oe<=Ge;Oe++){let ut=ze.charAt(Oe);Re||ut!=='"'&&ut!=="'"?Re===ut&&(Re=""):Re=ut,Re||ut!==" "&&Oe!==Ge||(Ne.push(ze.substr(pt,Oe-pt)),pt=Oe+1)}for(Oe=k[pe].length;Oe--;)Se.unshift(se(Ne[Oe+1]));Ce=k[pe].apply(P,Se),_e.isBlock&&typeof Ce=="boolean"&&(Ce=D(Ce?He:at,P,T))}else{let Se=ze.split(":");if(Ce=se(Se.shift()||""),Se.length&&typeof Ce=="number"){let Ne=Se.join(":");if(U.test(Ne)){let Ge=parseInt((Ne.match(z)||["","-1"])[1],10);Ce!==null&&(Ce=Z(Ce,Ge,H.decimalPoint,Ne.indexOf(",")>-1?H.thousandsSep:""))}else Ce=q.dateFormat(Ne,Ce),we&&(Ce=`"${Ce}"`)}}V=V.replace(_e.find,b(Ce,""))}),we?D(V,P,T):V}function N(V,P,T,R){var we,_e;P=+P;let L,B,[U,z]=(V=+V||0).toString().split("e").map(Number),H=((we=this==null?void 0:this.options)==null?void 0:we.lang)||l.lang,q=(V.toString().split(".")[1]||"").split("e")[0].length,Z=P,se={};T??(T=H.decimalPoint),R??(R=H.thousandsSep),P===-1?P=Math.min(q,20):_(P)?P&&z<0&&((B=P+z)>=0?(U=+U.toExponential(B).split("e")[0],P=B):(U=Math.floor(U),V=P<20?+(U*Math.pow(10,z)).toFixed(P):0,z=0)):P=2,z&&(P??(P=2),V=U),_(P)&&P>=0&&(se.minimumFractionDigits=P,se.maximumFractionDigits=P),R===""&&(se.useGrouping=!1);let oe=R||T,ae=oe?"en":(this==null?void 0:this.locale)||H.locale||((_e=d.body.closest("[lang]"))==null?void 0:_e.lang),ye=JSON.stringify(se)+ae;return L=(I[ye]??(I[ye]=new Intl.NumberFormat(ae,se))).format(V),oe&&(L=L.replace(/\,/g,R??",").replace(".",T??".")),(P||+L!=0)&&(!(z<0)||Z)||(L="0"),z&&+L!=0&&(L+="e"+(z<0?"":"+")+z),L}return{dateFormat:function(V,P,T){return h.dateFormat(V,P,T)},format:D,helpers:k,numberFormat:N}}),i(n,"Dashboards/Components/KPIComponent/KPIComponent.js",[n["Core/Renderer/HTML/AST.js"],n["Dashboards/Components/Component.js"],n["Dashboards/Components/KPIComponent/KPISyncs/KPISyncs.js"],n["Dashboards/Components/KPIComponent/KPIComponentDefaults.js"],n["Core/Templating.js"],n["Core/Utilities.js"]],function(s,r,a,l,h,d){let{format:p}=h,{createElement:f,css:v,defined:_,diffObjects:y,isArray:b,isNumber:x,merge:k}=d;class I extends r{static fromJSON(N,V){let P=N.options,T=P.chartOptions&&JSON.parse(P.chartOptions),R=JSON.parse(P.subtitle||"{}"),L=P.title&&JSON.parse(P.title);return new I(V,k(P,{chartOptions:T,title:L,subtitle:R}))}constructor(N,V,P){super(N,V=k(I.defaultOptions,V),P),this.options=V,this.type="KPI",this.value=f("span",{className:`${V.className}-value`},{},this.contentElement),this.subtitle=f("span",{className:this.getSubtitleClassName()},{},this.contentElement)}async load(){return await super.load(),this.linkValueToChart(),this}resize(N,V){return super.resize(N,V),this.chart&&this.chart.container&&this.chart.reflow(),this}render(){var V;super.render(),this.updateElements();let N=(V=I.charter)==null?void 0:V.Chart;return N&&this.options.chartOptions&&!this.chart?(this.chartContainer||(this.chartContainer=f("div",{className:`${this.options.className}-chart-container`},{padding:"0.1px"},this.contentElement)),this.chart=N.chart(this.chartContainer,k(I.defaultChartOptions,this.options.chartOptions))):this.chart&&!this.options.chartOptions&&"chartOptions"in this.options&&(this.chart.destroy(),this.chart=void 0),this.sync.start(),this.emit({type:"afterRender"}),this}async update(N,V=!0){await super.update(N),N.chartOptions&&this.chart&&this.chart.update(N.chartOptions),V&&this.render()}onTableChanged(){this.setValue()}destroy(){var N;(N=this.chart)==null||N.destroy(),super.destroy()}getValue(){if(_(this.options.value))return this.options.value;let N=this.getFirstConnector();if(N&&this.options.columnName){let V=N.table.modified,P=V.getColumn(this.options.columnName),T=(P==null?void 0:P.length)||0;return V.getCellAsString(this.options.columnName,T-1)}}setValue(N=this.getValue()){let{valueFormat:V,valueFormatter:P}=this.options;if(_(N)){let T;x(+N)&&(T=+N),P?N=P.call(this,N):V?N=p(V,{value:N}):x(N)&&(N=N.toLocaleString()),s.setElementHTML(this.value,""+N),this.linkValueToChart(T),this.prevValue=T}}linkValueToChart(N=this.getValue()){let V=this.chart,P=this.options.linkedValueTo;if(!V||!P.enabled||!_(N)||!x(+N))return;N=+N;let T=V.series[P.seriesIndex??0],R=T==null?void 0:T.points[P.pointIndex??0];if(T){if(R){R.update({y:N});return}T.addPoint({y:N});return}V.addSeries({data:[{y:N}]})}updateElements(){let{style:N,subtitle:V}=this.options;this.setValue(),s.setElementHTML(this.subtitle,this.getSubtitle()),N&&v(this.element,N),typeof V=="object"&&(V.style&&v(this.subtitle,V.style),this.subtitle.className=this.getSubtitleClassName()),this.chartContainer&&(this.chartContainer.style.flex=this.options.chartOptions?"1":"0"),this.chart&&this.chart.reflow(),this.value.style.color=this.getValueColor()}getSubtitle(){let{subtitle:N,value:V}=this.options;if(typeof N=="string")return N;if(N){if(x(this.prevValue)&&x(V)){let P=V-this.prevValue,T="";if(P>0)T='<span style="color:green">&#9650;</span> +';else{if(!(P<0))return this.subtitle.innerHTML;T='<span style="color:red">&#9660;</span> '}if(N.type==="diff")return T+P.toLocaleString();if(N.type==="diffpercent")return T+p("{v:,.2f}%",{v:P/this.prevValue*100})}return N.text||""}return""}getSubtitleClassName(){let{subtitle:N}=this.options;return`${r.defaultOptions.className}-subtitle`+(typeof N=="object"&&N.className||"")}getValueColor(){let{threshold:N,thresholdColors:V,value:P}=this.options;if(V&&N&&x(P)){if(b(N)){for(let T=N.length-1;T>=0;T--)if(P>=N[T])return T+1<V.length?V[T+1]:V[V.length-1]}else if(P>=N)return V[1];return V[0]}return""}getOptionsOnDrop(N){let V=N.editMode.board.dataPool.getConnectorIds(),P={cell:"",type:"KPI"};return V.length&&(P={...P,connector:{id:V[0]}}),P}toJSON(){let N=super.toJSON(),V={...N,type:"KPI",options:{...N.options,type:"KPI",value:this.options.value,subtitle:JSON.stringify(this.options.subtitle),title:JSON.stringify(this.options.title),threshold:this.options.threshold,thresholdColors:this.options.thresholdColors,chartOptions:JSON.stringify(this.options.chartOptions),valueFormat:this.options.valueFormat}};return this.emit({type:"toJSON",json:N}),V}getOptions(){return{...y(this.options,I.defaultOptions),type:"KPI"}}}return I.defaultOptions=k(r.defaultOptions,l),I.predefinedSyncConfig=a,I.defaultChartOptions={chart:{type:"spline",zooming:{mouseWheel:{enabled:!1}}},title:{text:void 0},xAxis:{visible:!1},yAxis:{visible:!1,title:{text:null}},legend:{enabled:!1},credits:{enabled:!1},tooltip:{outside:!0},plotOptions:{series:{marker:{enabled:!1}}}},I}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorComponentDefaults.js",[n["Dashboards/Components/Component.js"]],function(s){return{type:"Navigator",className:[s.defaultOptions.className,`${s.defaultOptions.className}-navigator`].join(" "),chartOptions:{chart:{animation:!1,height:200,type:"column",zooming:{mouseWheel:{enabled:!1}}},credits:{enabled:!1},legend:{enabled:!1},navigator:{enabled:!0,outlineWidth:0,series:{animation:!1,lineWidth:0,colorIndex:0},xAxis:{endOnTick:!0,gridZIndex:4,labels:{x:1,y:22},opposite:!0,showFirstLabel:!0,showLastLabel:!0,startOnTick:!0,tickPosition:"inside"},yAxis:{maxPadding:.5}},plotOptions:{series:{borderRadius:0,marker:{enabled:!1},states:{hover:{enabled:!1}}}},scrollbar:{enabled:!0},title:{text:""},tooltip:{enabled:!1},xAxis:{visible:!1,minRange:Number.MIN_VALUE},yAxis:{visible:!1}},editableOptions:(s.defaultOptions.editableOptions||[]).concat()}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncUtils.js",[],function(){var s,r;return(r=s||(s={})).setRangeOptions=function(a,l,h,d){let p=!1;for(let f=0,v=a.length;f<v;++f)if(a[f].column===l){a[f].maxValue=d,a[f].minValue=h,p=!0;break}p||a.push({column:l,maxValue:d,minValue:h})},r.unsetRangeOptions=function(a,l){for(let h=0,d=a.length;h<d;++h)if(a[h].column===l)return a.splice(h,1)[0]},s}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorCrossfilterSync.js",[n["Data/Modifiers/DataModifier.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncUtils.js"],n["Core/Utilities.js"]],function(s,r,a){let{Range:l}=s.types,{addEvent:h}=a;return{defaultOptions:{affectNavigator:!1},syncPair:{emitter:function(){let d;if(this.type!=="Navigator")return;let p=this,f=this.sync.syncConfig.crossfilter,v=f.group?":"+f.group:"",_=async y=>{var b,x;if((x=(b=p.connectorHandlers)==null?void 0:b[0])!=null&&x.connector){let k=p.connectorHandlers[0].connector.table,I=p.board.dataCursor,D=p.getColumnAssignment()[0],[N,V]=p.getAxisExtremes(),P=k.getModifier();P instanceof l?r.setRangeOptions(P.options.ranges,D,N,V):P=new l({ranges:[{column:D,maxValue:V,minValue:N}]}),await k.setModifier(P),I.emitCursor(k,{type:"position",column:D,row:k.getRowIndexBy(D,N),state:"crossfilter"+v},y),I.emitCursor(k,{type:"position",column:D,row:k.getRowIndexBy(D,V),state:"crossfilter"+v},y)}};return h(p.chart.xAxis[0],"afterSetExtremes",function(y){clearTimeout(d),d=setTimeout(_,50,this,y)})},handler:void 0}}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorExtremesSync.js",[n["Data/Modifiers/DataModifier.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncUtils.js"],n["Core/Utilities.js"]],function(s,r,a){let{Range:l}=s.types,{addEvent:h,pick:d}=a;return{defaultOptions:{},syncPair:{emitter:function(){let p;if(this.type!=="Navigator")return;let f=this,v=this.sync.syncConfig.extremes,_=v.group?":"+v.group:"",y=b=>{var x,k;if((k=(x=f.connectorHandlers)==null?void 0:x[0])!=null&&k.connector){let I=f.connectorHandlers[0].connector.table,D=f.board.dataCursor,N=f.getColumnAssignment()[0],[V,P]=f.getAxisExtremes();D.emitCursor(I,{type:"position",column:N,row:I.getRowIndexBy(N,V),state:"xAxis.extremes.min"+_},b),D.emitCursor(I,{type:"position",column:N,row:I.getRowIndexBy(N,P),state:"xAxis.extremes.max"+_},b)}};return h(f.chart.xAxis[0],"afterSetExtremes",function(b){clearTimeout(p),p=setTimeout(y,50,this,b)})},handler:function(){if(this.type!=="Navigator")return;let p=this,f=this.sync.syncConfig.extremes,v=f.group?":"+f.group:"",_=p.board.dataCursor,y=b=>{var P,T;let x=b.cursor;if(!((T=(P=p.connectorHandlers)==null?void 0:P[0])!=null&&T.connector))return;let k=p.connectorHandlers[0].connector.table,I=k.getColumnNames()[0],D=k.getRowCount(),N=0;x.type==="range"?(D=x.lastRow,N=x.firstRow,x.columns&&(I=d(x.columns[0],I))):x.state==="xAxis.extremes.max"+v?(I=d(x.column,I),D=d(x.row,D)):(I=d(x.column,I),N=d(x.row,N));let V=k.getModifier();if(typeof I=="string"&&V instanceof l){let R=V.options.ranges,L=k.getCell(I,N),B=k.getCell(I,D);B!=null&&L!=null&&(r.unsetRangeOptions(R,I),R.unshift({column:I,maxValue:B,minValue:L}),k.setModifier(V))}};return(()=>{var x,k,I;let b=(I=(k=(x=p.connectorHandlers)==null?void 0:x[0])==null?void 0:k.connector)==null?void 0:I.table;b&&(_.addListener(b.id,"xAxis.extremes"+v,y),_.addListener(b.id,"xAxis.extremes.max"+v,y),_.addListener(b.id,"xAxis.extremes.min"+v,y))})(),()=>{var x,k,I;let b=(I=(k=(x=p.connectorHandlers)==null?void 0:x[0])==null?void 0:k.connector)==null?void 0:I.table;b&&(_.removeListener(b.id,"xAxis.extremes"+v,y),_.removeListener(b.id,"xAxis.extremes.max"+v,y),_.removeListener(b.id,"xAxis.extremes.min"+v,y))}}}}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncs.js",[n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorCrossfilterSync.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorExtremesSync.js"]],function(s,r){return{defaultSyncPairs:{crossfilter:s.syncPair,extremes:r.syncPair},defaultSyncOptions:{crossfilter:s.defaultOptions,extremes:r.defaultOptions}}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorComponent.js",[n["Dashboards/Components/Component.js"],n["Dashboards/Globals.js"],n["Dashboards/Components/NavigatorComponent/NavigatorComponentDefaults.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncs.js"],n["Core/Utilities.js"]],function(s,r,a,l,h){let{diffObjects:d,isNumber:p,isString:f,merge:v,pick:_}=h;class y extends s{static fromJSON(x,k){let I=new y(k,x.options);return I.emit({type:"fromJSON",json:x}),I}constructor(x,k){var D;super(x,k),this.type="Navigator",this.options=v(y.defaultOptions,k);let I=y.charter.Chart||r.win.Highcharts;this.chartContainer=r.win.document.createElement("div"),this.chart=I.chart(this.chartContainer,this.options.chartOptions||{}),this.chartContainer.classList.add(r.classNamePrefix+"navigator"),(D=this.sync.syncConfig.crossfilter)!=null&&D.enabled&&this.chart.update(v({navigator:{xAxis:{labels:{format:"{value}"}}}},this.options.chartOptions||{}),!1)}adjustNavigator(){let x=this.chart,k=_(x.chartHeight,this.contentElement.clientHeight),I=this.contentElement.clientWidth,D={};if((x.chartHeight!==k||x.chartWidth!==I)&&(D.chart={height:k,width:I}),x.navigator){let N=x.navigator,V=N.top-x.plotTop+N.height;N.height!==V&&(D.navigator={handles:{height:Math.round(k/4)},height:V}),Object.keys(D).length&&x.update(D,!1),N.series&&N.series[0]&&N.series[0].update({type:x.series[0].type},!1)}else Object.keys(D).length&&x.update(D,!1)}getColumnAssignment(){let x,k=this.options.columnAssignment??this.options.columnAssignments??{};for(let D of Object.keys(k))if((x=k[D])!==null)return[D,x];let I=this.getFirstConnector();if(I){let D=I.table.getColumnNames();if(D.length)return[D[0],"y"]}return["","y"]}getOptions(){return{...d(this.options,a),type:"Navigator"}}getAxisExtremes(){let x=this.chart.xAxis[0],k=x.getExtremes(),I=p(k.min)?k.min:k.dataMin,D=p(k.max)?k.max:k.dataMax;return this.categories?[this.categories[Math.max(0,Math.ceil(I))],this.categories[Math.min(this.categories.length-1,Math.floor(D))]]:x.hasNames?[x.names[Math.ceil(I)],x.names[Math.floor(D)]]:[I,D]}async load(){return await super.load(),this.contentElement.appendChild(this.chartContainer),this.parentElement.appendChild(this.element),this.adjustNavigator(),this.emit({type:"afterLoad"}),this}onTableChanged(){this.renderNavigator()}redrawNavigator(){let x=this.resizeTimeouts;for(let k=0,I=x.length;k<I;++k)clearTimeout(x[k]);x.length=0,x.push(setTimeout(()=>{this.adjustNavigator(),this.chart.redraw()},33))}render(){return super.render(),this.renderNavigator(),this.sync.start(),this.emit({type:"afterRender"}),this}renderNavigator(){var I;let x=this.chart,k=this.getFirstConnector();if(k){let D,N=k.table,V=this.getColumnAssignment(),P=N.getColumn(V[0],!0)||[];D=(I=this.sync.syncConfig.crossfilter)!=null&&I.enabled?this.generateCrossfilterData():P.slice(),x.series[0]?x.series[0].setData(D,!1):x.addSeries({id:N.id,data:D},!1)}this.redrawNavigator()}generateCrossfilterData(){var R,L;let x,k=this.sync.syncConfig.crossfilter,I=(R=this.getFirstConnector())==null?void 0:R.table,D=(I==null?void 0:I.getColumn(this.getColumnAssignment()[0],!0))||[];if(!I||D.length<1||!k)return[];let N=[],V=[];for(let B=0,U=D.length;B<U;B++){let z=D[B];if(z!==null){if(p(z)||(z=`${z}`),this.stringData===void 0)this.stringData=f(z);else if(this.stringData!==f(z))throw Error("Mixed data types in crossfilter navigator are not supported.");N.push(z),V.indexOf(z)===-1&&V.push(z)}}V.sort((B,U)=>_(B,NaN)<_(U,NaN)?-1:B===U?0:1);let P=(L=I.getModifier())==null?void 0:L.options;if(k.affectNavigator&&P){let B=[],U=[],{ranges:z}=P;for(let q=0,Z=z.length;q<Z;q++)z[q].column!==this.getColumnAssignment()[0]&&(B.push(z[q]),U.push(I.getColumn(z[q].column,!0)||[]));x=[];let H=B.length;for(let q=0,Z=N.length;q<Z;q++){let se=N[q],oe=!0;for(let ae=0;ae<H;ae++){let ye=B[ae];if(!(U[ae][q]>=(ye.minValue??-1/0)&&U[ae][q]<=(ye.maxValue??1/0))){oe=!1;break}}oe&&x.push(se)}}else x=N;let T=[];if(this.stringData){this.categories=V;for(let B=0,U=V.length;B<U;B++)T.push([B,null])}else for(let B=0,U=V.length;B<U;B++)T.push([V[B],null]);for(let B=0,U=x.length;B<U;B++){let z=V.indexOf(x[B]);T[z][1]=(T[z][1]||0)+1}return T}resize(x,k){return super.resize(x,k),this.redrawNavigator(),this}async update(x,k=!0){var D;let I=this.chart;await super.update(x,!1),x.chartOptions&&I.update(v((D=this.sync.syncConfig.crossfilter)!=null&&D.enabled?{navigator:{xAxis:{labels:{format:"{value}"}}}}:{},x.chartOptions),!1),this.emit({type:"afterUpdate"}),k&&this.render()}getOptionsOnDrop(){return{}}}return y.defaultOptions=v(s.defaultOptions,a),y.predefinedSyncConfig=l,y}),i(n,"Dashboards/Plugins/HighchartsPlugin.js",[n["Dashboards/Components/HighchartsComponent/HighchartsComponent.js"],n["Dashboards/Components/KPIComponent/KPIComponent.js"],n["Dashboards/Components/NavigatorComponent/NavigatorComponent.js"]],function(s,r,a){return{custom:{connectHighcharts:function(l){s.charter=l,r.charter=l,a.charter=l}},name:"Highcharts.DashboardsPlugin",onRegister:function(l){let{ComponentRegistry:h}=l;h.registerComponent("Highcharts",s),h.registerComponent("KPI",r),h.registerComponent("Navigator",a)},onUnregister:function(l){}}}),i(n,"Dashboards/PluginHandler.js",[n["Dashboards/Board.js"],n["Dashboards/Components/Sync/Sync.js"],n["Dashboards/Components/ComponentRegistry.js"]],function(s,r,a){var l,h;return(h=l||(l={})).registry={},h.revision=0,h.addPlugin=function(d,p=d.name){let{maxRevision:f,minRevision:v,onRegister:_}=d;if(h.registry[p]){if(p!==d.name)throw Error(`Plugin '${p}' already registered.`);return}if(typeof v=="number"&&v>h.revision||typeof f=="number"&&f<h.revision)throw Error(`Plugin '${p}' does not support revision ${h.revision}.`);_({Board:s,ComponentRegistry:a,Sync:r,revision:h.revision}),h.registry[p]=d},h.removePlugin=function(d){h.registry[d]&&(h.registry[d].onUnregister({ComponentRegistry:a,Board:s,Sync:r,revision:h.revision}),delete h.registry[d])},l}),i(n,"masters/dashboards.src.js",[n["Core/Renderer/HTML/AST.js"],n["Data/Connectors/DataConnector.js"],n["Dashboards/Board.js"],n["Dashboards/Components/Component.js"],n["Dashboards/Components/ComponentRegistry.js"],n["Data/DataPool.js"],n["Data/DataCursor.js"],n["Data/Converters/DataConverter.js"],n["Data/Modifiers/DataModifier.js"],n["Data/DataTable.js"],n["Dashboards/Globals.js"],n["Dashboards/Plugins/DataGridPlugin.js"],n["Dashboards/Plugins/HighchartsPlugin.js"],n["Dashboards/PluginHandler.js"],n["Dashboards/Components/Sync/Sync.js"],n["Dashboards/Utilities.js"]],function(s,r,a,l,h,d,p,f,v,_,y,b,x,k,I,D){return y.board=a.board,y.addEvent=D.addEvent,y.error=D.error,y.merge=D.merge,y.removeEvent=D.removeEvent,y.uniqueKey=D.uniqueKey,y.AST=s,y.Board=a,y.Component=l,y.ComponentRegistry=h,y.DataConnector=r,y.DataConverter=f,y.DataCursor=p,y.DataModifier=v,y.DataPool=d,y.DataTable=_,y.DataGridPlugin=b,y.HighchartsPlugin=x,y.PluginHandler=k,y.Sync=I,y.win.Dashboards||(y.win.Dashboards=y),y.win.DataGrid&&(b.custom.connectDataGrid(y.win.DataGrid),y.PluginHandler.addPlugin(b)),y.win.Highcharts&&(x.custom.connectHighcharts(y.win.Highcharts),y.PluginHandler.addPlugin(x)),y}),n["masters/dashboards.src.js"]._modules=n,n["masters/dashboards.src.js"]})})(qN);var cee=qN.exports;const Rg=rC(cee);var KN={exports:{}};(function(t,e){(function(n,i){n._Highcharts=i(),t.exports=n._Highcharts})(typeof window>"u"?Mc:window,()=>(()=>{let n,i;var s,r,a,l,h,d,p,f,v,_,y,b,x,k,I,D,N,V={};V.d=(A,o)=>{for(var c in o)V.o(o,c)&&!V.o(A,c)&&Object.defineProperty(A,c,{enumerable:!0,get:o[c]})},V.o=(A,o)=>Object.prototype.hasOwnProperty.call(A,o);var P={};V.d(P,{default:()=>UF}),function(A){A.SVG_NS="http://www.w3.org/2000/svg",A.product="Highcharts",A.version="12.1.0",A.win=typeof window<"u"?window:{},A.doc=A.win.document,A.svg=A.doc&&A.doc.createElementNS&&!!A.doc.createElementNS(A.SVG_NS,"svg").createSVGRect,A.userAgent=A.win.navigator&&A.win.navigator.userAgent||"",A.isChrome=A.win.chrome,A.isFirefox=A.userAgent.indexOf("Firefox")!==-1,A.isMS=/(edge|msie|trident)/i.test(A.userAgent)&&!A.win.opera,A.isSafari=!A.isChrome&&A.userAgent.indexOf("Safari")!==-1,A.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(A.userAgent),A.isWebKit=A.userAgent.indexOf("AppleWebKit")!==-1,A.deg2rad=2*Math.PI/360,A.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],A.noop=function(){},A.supportsPassiveEvents=function(){let o=!1;if(!A.isMS){let c=Object.defineProperty({},"passive",{get:function(){o=!0}});A.win.addEventListener&&A.win.removeEventListener&&(A.win.addEventListener("testPassive",A.noop,c),A.win.removeEventListener("testPassive",A.noop,c))}return o}(),A.charts=[],A.composed=[],A.dateFormats={},A.seriesTypes={},A.symbolSizes={},A.chartCount=0}(s||(s={}));let T=s,{charts:R,doc:L,win:B}=T;function U(A,o,c,u){let m=o?"Highcharts error":"Highcharts warning";A===32&&(A=`${m}: Deprecated member`);let g=ae(A),w=g?`${m} #${A}: www.highcharts.com/errors/${A}/`:A.toString();if(u!==void 0){let C="";g&&(w+="?"),Se(u,function(S,O){C+=`
 - ${O}: ${S}`,g&&(w+=encodeURI(O)+"="+encodeURI(S))}),w+=C}Ge(T,"displayError",{chart:c,code:A,message:w,params:u},function(){if(o)throw Error(w);B.console&&U.messages.indexOf(w)===-1&&console.warn(w)}),U.messages.push(w)}function z(A,o){return parseInt(A,o||10)}function H(A){return typeof A=="string"}function q(A){let o=Object.prototype.toString.call(A);return o==="[object Array]"||o==="[object Array Iterator]"}function Z(A,o){return!!A&&typeof A=="object"&&(!o||!q(A))}function se(A){return Z(A)&&typeof A.nodeType=="number"}function oe(A){let o=A&&A.constructor;return!!(Z(A,!0)&&!se(A)&&o&&o.name&&o.name!=="Object")}function ae(A){return typeof A=="number"&&!isNaN(A)&&A<1/0&&A>-1/0}function ye(A){return A!=null}function we(A,o,c){let u,m=H(o)&&!ye(c),g=(w,C)=>{ye(w)?A.setAttribute(C,w):m?(u=A.getAttribute(C))||C!=="class"||(u=A.getAttribute(C+"Name")):A.removeAttribute(C)};return H(o)?g(c,o):Se(o,g),u}function _e(A){return q(A)?A:[A]}function Ce(A,o){let c;for(c in A||(A={}),o)A[c]=o[c];return A}function Oe(){let A=arguments,o=A.length;for(let c=0;c<o;c++){let u=A[c];if(u!=null)return u}}function He(A,o){Ce(A.style,o)}function at(A){return Math.pow(10,Math.floor(Math.log(A)/Math.LN10))}function ze(A,o){return A>1e14?A:parseFloat(A.toPrecision(o||14))}(U||(U={})).messages=[],Math.easeInOutSine=function(A){return-.5*(Math.cos(Math.PI*A)-1)};let pe=Array.prototype.find?function(A,o){return A.find(o)}:function(A,o){let c,u=A.length;for(c=0;c<u;c++)if(o(A[c],c))return A[c]};function Se(A,o,c){for(let u in A)Object.hasOwnProperty.call(A,u)&&o.call(c||A[u],A[u],u,A)}function Ne(A,o,c){function u(w,C){let S=A.removeEventListener;S&&S.call(A,w,C,!1)}function m(w){let C,S;A.nodeName&&(o?(C={})[o]=!0:C=w,Se(C,function(O,F){if(w[F])for(S=w[F].length;S--;)u(F,w[F][S].fn)}))}let g=typeof A=="function"&&A.prototype||A;if(Object.hasOwnProperty.call(g,"hcEvents")){let w=g.hcEvents;if(o){let C=w[o]||[];c?(w[o]=C.filter(function(S){return c!==S.fn}),u(o,c)):(m(w),w[o]=[])}else m(w),delete g.hcEvents}}function Ge(A,o,c,u){if(c=c||{},L.createEvent&&(A.dispatchEvent||A.fireEvent&&A!==T)){let m=L.createEvent("Events");m.initEvent(o,!0,!0),c=Ce(m,c),A.dispatchEvent?A.dispatchEvent(c):A.fireEvent(o,c)}else if(A.hcEvents){c.target||Ce(c,{preventDefault:function(){c.defaultPrevented=!0},target:A,type:o});let m=[],g=A,w=!1;for(;g.hcEvents;)Object.hasOwnProperty.call(g,"hcEvents")&&g.hcEvents[o]&&(m.length&&(w=!0),m.unshift.apply(m,g.hcEvents[o])),g=Object.getPrototypeOf(g);w&&m.sort((C,S)=>C.order-S.order),m.forEach(C=>{C.fn.call(A,c)===!1&&c.preventDefault()})}u&&!c.defaultPrevented&&u.call(A,c)}let pt=function(){let A=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(n?"":A)+o++}}();B.jQuery&&(B.jQuery.fn.highcharts=function(){let A=[].slice.call(arguments);if(this[0])return A[0]?(new T[H(A[0])?A.shift():"Chart"](this[0],A[0],A[1]),this):R[we(this[0],"data-highcharts-chart")]});let Re={addEvent:function(A,o,c,u={}){let m=typeof A=="function"&&A.prototype||A;Object.hasOwnProperty.call(m,"hcEvents")||(m.hcEvents={});let g=m.hcEvents;T.Point&&A instanceof T.Point&&A.series&&A.series.chart&&(A.series.chart.runTrackerClick=!0);let w=A.addEventListener;w&&w.call(A,o,c,!!T.supportsPassiveEvents&&{passive:u.passive===void 0?o.indexOf("touch")!==-1:u.passive,capture:!1}),g[o]||(g[o]=[]);let C={fn:c,order:typeof u.order=="number"?u.order:1/0};return g[o].push(C),g[o].sort((S,O)=>S.order-O.order),function(){Ne(A,o,c)}},arrayMax:function(A){let o=A.length,c=A[0];for(;o--;)A[o]>c&&(c=A[o]);return c},arrayMin:function(A){let o=A.length,c=A[0];for(;o--;)A[o]<c&&(c=A[o]);return c},attr:we,clamp:function(A,o,c){return A>o?A<c?A:c:o},clearTimeout:function(A){ye(A)&&clearTimeout(A)},correctFloat:ze,createElement:function(A,o,c,u,m){let g=L.createElement(A);return o&&Ce(g,o),m&&He(g,{padding:"0",border:"none",margin:"0"}),c&&He(g,c),u&&u.appendChild(g),g},crisp:function(A,o=0,c){let u=o%2/2,m=c?-1:1;return(Math.round(A*m-u)+u)*m},css:He,defined:ye,destroyObjectProperties:function(A,o,c){Se(A,function(u,m){u!==o&&(u!=null&&u.destroy)&&u.destroy(),(u!=null&&u.destroy||!c)&&delete A[m]})},diffObjects:function(A,o,c,u){let m={};return function g(w,C,S,O){let F=c?C:w;Se(w,function(M,j){if(!O&&u&&u.indexOf(j)>-1&&C[j]){M=_e(M),S[j]=[];for(let W=0;W<Math.max(M.length,C[j].length);W++)C[j][W]&&(M[W]===void 0?S[j][W]=C[j][W]:(S[j][W]={},g(M[W],C[j][W],S[j][W],O+1)))}else Z(M,!0)&&!M.nodeType?(S[j]=q(M)?[]:{},g(M,C[j]||{},S[j],O+1),Object.keys(S[j]).length!==0||j==="colorAxis"&&O===0||delete S[j]):(w[j]!==C[j]||j in w&&!(j in C))&&j!=="__proto__"&&j!=="constructor"&&(S[j]=F[j])})}(A,o,m,0),m},discardElement:function(A){A&&A.parentElement&&A.parentElement.removeChild(A)},erase:function(A,o){let c=A.length;for(;c--;)if(A[c]===o){A.splice(c,1);break}},error:U,extend:Ce,extendClass:function(A,o){let c=function(){};return c.prototype=new A,Ce(c.prototype,o),c},find:pe,fireEvent:Ge,getAlignFactor:(A="")=>({center:.5,right:1,middle:.5,bottom:1})[A]||0,getClosestDistance:function(A,o){let c,u,m,g=!o;return A.forEach(w=>{if(w.length>1)for(m=w.length-1;m>0;m--)(u=w[m]-w[m-1])<0&&!g?(o==null||o(),o=void 0):u&&(c===void 0||u<c)&&(c=u)}),c},getMagnitude:at,getNestedProperty:function(A,o){let c=A.split(".");for(;c.length&&ye(o);){let u=c.shift();if(u===void 0||u==="__proto__")return;if(u==="this"){let g;return Z(o)&&(g=o["@this"]),g??o}let m=o[u.replace(/[\\'"]/g,"")];if(!ye(m)||typeof m=="function"||typeof m.nodeType=="number"||m===B)return;o=m}return o},getStyle:function A(o,c,u){let m;if(c==="width"){let w=Math.min(o.offsetWidth,o.scrollWidth),C=o.getBoundingClientRect&&o.getBoundingClientRect().width;return C<w&&C>=w-1&&(w=Math.floor(C)),Math.max(0,w-(A(o,"padding-left",!0)||0)-(A(o,"padding-right",!0)||0))}if(c==="height")return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(A(o,"padding-top",!0)||0)-(A(o,"padding-bottom",!0)||0));let g=B.getComputedStyle(o,void 0);return g&&(m=g.getPropertyValue(c),Oe(u,c!=="opacity")&&(m=z(m))),m},insertItem:function(A,o){let c,u=A.options.index,m=o.length;for(c=A.options.isInternal?m:0;c<m+1;c++)if(!o[c]||ae(u)&&u<Oe(o[c].options.index,o[c]._i)||o[c].options.isInternal){o.splice(c,0,A);break}return c},isArray:q,isClass:oe,isDOMElement:se,isFunction:function(A){return typeof A=="function"},isNumber:ae,isObject:Z,isString:H,merge:function(A,...o){let c,u=[A,...o],m={},g=function(C,S){return typeof C!="object"&&(C={}),Se(S,function(O,F){F!=="__proto__"&&F!=="constructor"&&(!Z(O,!0)||oe(O)||se(O)?C[F]=S[F]:C[F]=g(C[F]||{},O))}),C};A===!0&&(m=u[1],u=Array.prototype.slice.call(u,2));let w=u.length;for(c=0;c<w;c++)m=g(m,u[c]);return m},normalizeTickInterval:function(A,o,c,u,m){let g,w=A;c=Oe(c,at(A));let C=A/c;for(!o&&(o=m?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],u===!1&&(c===1?o=o.filter(function(S){return S%1==0}):c<=.1&&(o=[1/c]))),g=0;g<o.length&&(w=o[g],(!m||!(w*c>=A))&&(m||!(C<=(o[g]+(o[g+1]||o[g]))/2)));g++);return ze(w*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Se,offset:function(A){let o=L.documentElement,c=A.parentElement||A.parentNode?A.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:c.top+(B.pageYOffset||o.scrollTop)-(o.clientTop||0),left:c.left+(B.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:c.width,height:c.height}},pad:function(A,o,c){return Array((o||2)+1-String(A).replace("-","").length).join(c||"0")+A},pick:Oe,pInt:z,pushUnique:function(A,o){return 0>A.indexOf(o)&&!!A.push(o)},relativeLength:function(A,o,c){return/%$/.test(A)?o*parseFloat(A)/100+(c||0):parseFloat(A)},removeEvent:Ne,replaceNested:function(A,...o){let c,u;do for(u of(c=A,o))A=A.replace(u[0],u[1]);while(A!==c);return A},splat:_e,stableSort:function(A,o){let c,u,m=A.length;for(u=0;u<m;u++)A[u].safeI=u;for(A.sort(function(g,w){return(c=o(g,w))===0?g.safeI-w.safeI:c}),u=0;u<m;u++)delete A[u].safeI},syncTimeout:function(A,o,c){return o>0?setTimeout(A,o,c):(A.call(0,c),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(A){return H(A)?A.substring(0,1).toUpperCase()+A.substring(1):String(A)},uniqueKey:pt,useSerialIds:function(A){return n=Oe(A,n)},wrap:function(A,o,c){let u=A[o];A[o]=function(){let m=arguments,g=this;return c.apply(this,[function(){return u.apply(g,arguments.length?arguments:m)}].concat([].slice.call(arguments)))}}},{win:ut}=T,{defined:ie,error:ce,extend:ve,isNumber:Ee,isObject:ke,isString:Ie,merge:je,objectEach:Ve,pad:Le,splat:Me,timeUnits:qe,ucfirst:We}=Re,Xe=T.isSafari&&ut.Intl&&!ut.Intl.DateTimeFormat.prototype.formatRange,tt=A=>A.main===void 0,kt=A=>["D","L","M","X","J","V","S"].indexOf(A),jt=class{constructor(A){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=ut.Date,this.update(A)}update(A={}){this.dTLCache={},this.options=A=je(!0,this.options,A);let{timezoneOffset:o,useUTC:c}=A;this.Date=A.Date||ut.Date||Date;let u=A.timezone;ie(c)&&(u=c?"UTC":void 0),o&&o%60==0&&(u="Etc/GMT"+(o>0?"+":"")+o/60),this.variableTimezone=u!=="UTC"&&(u==null?void 0:u.indexOf("Etc/GMT"))!==0,this.timezone=u,["months","shortMonths","weekdays","shortWeekdays"].forEach(m=>{let g=/months/i.test(m),w=/short/.test(m),C={timeZone:"UTC"};C[g?"month":"weekday"]=w?"short":"long",this[m]=(g?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(S=>this.dateFormat(C,(g?31:1)*24*36e5*S))})}toParts(A){let[o,c,u,m,g,w,C]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},A,"es").split(/(?:, |\/|:)/g);return[m,+u-1,c,g,w,C,Math.floor(Number(A)||0)%1e3,kt(o)].map(Number)}dateTimeFormat(A,o,c=this.options.locale){let u=JSON.stringify(A)+c;Ie(A)&&(A=this.str2dtf(A));let m=this.dTLCache[u];if(!m){A.timeZone??(A.timeZone=this.timezone);try{m=new Intl.DateTimeFormat(c,A)}catch(g){/Invalid time zone/i.test(g.message)?(ce(34),A.timeZone="UTC",m=new Intl.DateTimeFormat(c,A)):ce(g.message,!1)}}return this.dTLCache[u]=m,(m==null?void 0:m.format(o))||""}str2dtf(A,o={}){let c={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(c).forEach(u=>{A.indexOf(u)!==-1&&ve(o,c[u])}),o}makeTime(A,o,c=1,u=0,m,g,w){let C=this.Date.UTC(A,o,c,u,m||0,g||0,w||0);if(this.timezone!=="UTC"){let S=this.getTimezoneOffset(C);if(C+=S,[2,3,8,9,10,11].indexOf(o)!==-1&&(u<5||u>20)){let O=this.getTimezoneOffset(C);S!==O?C+=O-S:S-36e5!==this.getTimezoneOffset(C-36e5)||Xe||(C-=36e5)}}return C}parse(A){if(!Ie(A))return A??void 0;let o=(A=A.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(A),c=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(A);o||c||(A+="Z");let u=Date.parse(A);if(Ee(u))return u+(!o||c?this.getTimezoneOffset(u):0)}getTimezoneOffset(A){if(this.timezone!=="UTC"){let[o,c,u,m,g=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},A,"en").split(/(GMT|:)/).map(Number),w=-(36e5*(u+g/60));if(Ee(w))return w}return 0}dateFormat(A,o,c){var m;let u=(m=T.defaultOptions)==null?void 0:m.lang;if(!ie(o)||isNaN(o))return(u==null?void 0:u.invalidDate)||"";if(Ie(A=A??"%Y-%m-%d %H:%M:%S")){let g,w=/%\[([a-zA-Z]+)\]/g;for(;g=w.exec(A);)A=A.replace(g[0],this.dateTimeFormat(g[1],o))}if(Ie(A)&&A.indexOf("%")!==-1){let g=this,[w,C,S,O,F,M,j,W]=this.toParts(o),G=(u==null?void 0:u.weekdays)||this.weekdays,X=(u==null?void 0:u.shortWeekdays)||this.shortWeekdays,J=(u==null?void 0:u.months)||this.months,K=(u==null?void 0:u.shortMonths)||this.shortMonths;Ve(ve({a:X?X[W]:G[W].substr(0,3),A:G[W],d:Le(S),e:Le(S,2," "),w:W,b:K[C],B:J[C],m:Le(C+1),o:C+1,y:w.toString().substr(2,2),Y:w,H:Le(O),k:O,I:Le(O%12||12),l:O%12||12,M:Le(F),p:O<12?"AM":"PM",P:O<12?"am":"pm",S:Le(M),L:Le(j,3)},T.dateFormats),function(ee,te){if(Ie(A))for(;A.indexOf("%"+te)!==-1;)A=A.replace("%"+te,typeof ee=="function"?ee.call(g,o):ee)})}else if(ke(A)){let g=(this.getTimezoneOffset(o)||0)/36e5,w=this.timezone||"Etc/GMT"+(g>=0?"+":"")+g,{prefix:C="",suffix:S=""}=A;A=C+this.dateTimeFormat(ve({timeZone:w},A),o)+S}return c?We(A):A}resolveDTLFormat(A){return ke(A,!0)?ke(A,!0)&&tt(A)?{main:A}:A:{main:(A=Me(A))[0],from:A[1],to:A[2]}}getTimeTicks(A,o,c,u){let m=this,g=[],w={},{count:C=1,unitRange:S}=A,[O,F,M,j,W,G]=m.toParts(o),X=(o||0)%1e3,J;if(u??(u=1),ie(o)){if(X=S>=qe.second?0:C*Math.floor(X/C),S>=qe.second&&(G=S>=qe.minute?0:C*Math.floor(G/C)),S>=qe.minute&&(W=S>=qe.hour?0:C*Math.floor(W/C)),S>=qe.hour&&(j=S>=qe.day?0:C*Math.floor(j/C)),S>=qe.day&&(M=S>=qe.month?1:Math.max(1,C*Math.floor(M/C))),S>=qe.month&&(F=S>=qe.year?0:C*Math.floor(F/C)),S>=qe.year&&(O-=O%C),S===qe.week){C&&(o=m.makeTime(O,F,M,j,W,G,X));let te=kt(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},o,"es"));M+=-te+u+(te<u?-7:0)}o=m.makeTime(O,F,M,j,W,G,X),m.variableTimezone&&ie(c)&&(J=c-o>4*qe.month||m.getTimezoneOffset(o)!==m.getTimezoneOffset(c));let K=o,ee=1;for(;K<c;)g.push(K),S===qe.year?K=m.makeTime(O+ee*C,0):S===qe.month?K=m.makeTime(O,F+ee*C):J&&(S===qe.day||S===qe.week)?K=m.makeTime(O,F,M+ee*C*(S===qe.day?1:7)):J&&S===qe.hour&&C>1?K=m.makeTime(O,F,M,j+ee*C):K+=S*C,ee++;g.push(K),S<=qe.hour&&g.length<1e4&&g.forEach(te=>{te%18e5==0&&m.dateFormat("%H%M%S%L",te)==="000000000"&&(w[te]="day")})}return g.info=ve(A,{higherRanks:w,totalRange:S*C}),g}getDateFormat(A,o,c,u){let m=this.dateFormat("%m-%d %H:%M:%S.%L",o),g="01-01 00:00:00.000",w={millisecond:15,second:12,minute:9,hour:6,day:3},C="millisecond",S=C;for(C in qe){if(A===qe.week&&+this.dateFormat("%w",o)===c&&m.substr(6)===g.substr(6)){C="week";break}if(qe[C]>A){C=S;break}if(w[C]&&m.substr(w[C])!==g.substr(w[C]))break;C!=="week"&&(S=C)}return this.resolveDTLFormat(u[C]).main}},{isTouchDevice:$t}=T,{fireEvent:xi,merge:Sn}=Re,Dn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:A=>Math.sqrt(1-Math.pow(A-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:$t?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};Dn.chart.styledMode=!0,Dn.chart.styledMode=!1;let qn=new jt(Dn.time),Vn={defaultOptions:Dn,defaultTime:qn,getOptions:function(){return Dn},setOptions:function(A){return xi(T,"setOptions",{options:A}),Sn(!0,Dn,A),A.time&&qn.update(Dn.time),A.lang&&"locale"in A.lang&&qn.update({locale:A.lang.locale}),Dn}},{isNumber:Jr,merge:ei,pInt:nn,defined:Go}=Re;class Nn{static parse(o){return o?new Nn(o):Nn.None}constructor(o){let c,u,m,g;this.rgba=[NaN,NaN,NaN,NaN],this.input=o;let w=T.Color;if(w&&w!==Nn)return new w(o);if(typeof o=="object"&&o.stops!==void 0)this.stops=o.stops.map(C=>new Nn(C[1]));else if(typeof o=="string")for(this.input=o=Nn.names[o.toLowerCase()]||o,m=Nn.parsers.length;m--&&!u;)(c=(g=Nn.parsers[m]).regex.exec(o))&&(u=g.parse(c));u&&(this.rgba=u)}get(o){let c=this.input,u=this.rgba;if(typeof c=="object"&&this.stops!==void 0){let m=ei(c);return m.stops=[].slice.call(m.stops),this.stops.forEach((g,w)=>{m.stops[w]=[m.stops[w][0],g.get(o)]}),m}return u&&Jr(u[0])?o!=="rgb"&&(o||u[3]!==1)?o==="a"?`${u[3]}`:"rgba("+u.join(",")+")":"rgb("+u[0]+","+u[1]+","+u[2]+")":c}brighten(o){let c=this.rgba;if(this.stops)this.stops.forEach(function(u){u.brighten(o)});else if(Jr(o)&&o!==0)for(let u=0;u<3;u++)c[u]+=nn(255*o),c[u]<0&&(c[u]=0),c[u]>255&&(c[u]=255);return this}setOpacity(o){return this.rgba[3]=o,this}tweenTo(o,c){let u=this.rgba,m=o.rgba;if(!Jr(u[0])||!Jr(m[0]))return o.input||"none";let g=m[3]!==1||u[3]!==1,w=(S,O)=>S+(u[O]-S)*(1-c),C=m.slice(0,3).map(w).map(Math.round);return g&&C.push(w(m[3],3)),(g?"rgba(":"rgb(")+C.join(",")+")"}}Nn.names={white:"#ffffff",black:"#000000"},Nn.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(A){return[nn(A[1]),nn(A[2]),nn(A[3]),parseFloat(A[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(A){return[nn(A[1]),nn(A[2]),nn(A[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(A){return[nn(A[1]+A[1],16),nn(A[2]+A[2],16),nn(A[3]+A[3],16),Go(A[4])?nn(A[4]+A[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(A){return[nn(A[1],16),nn(A[2],16),nn(A[3],16),Go(A[4])?nn(A[4],16)/255:1]}}],Nn.None=new Nn("");let{parse:qo}=Nn,{win:Vu}=T,{isNumber:Ba,objectEach:Qr}=Re;class ui{constructor(o,c,u){this.pos=NaN,this.options=c,this.elem=o,this.prop=u}dSetter(){let o=this.paths,c=o&&o[0],u=o&&o[1],m=this.now||0,g=[];if(m!==1&&c&&u)if(c.length===u.length&&m<1)for(let w=0;w<u.length;w++){let C=c[w],S=u[w],O=[];for(let F=0;F<S.length;F++){let M=C[F],j=S[F];Ba(M)&&Ba(j)&&!(S[0]==="A"&&(F===4||F===5))?O[F]=M+m*(j-M):O[F]=j}g.push(O)}else g=u;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)}update(){let o=this.elem,c=this.prop,u=this.now,m=this.options.step;this[c+"Setter"]?this[c+"Setter"]():o.attr?o.element&&o.attr(c,u,null,!0):o.style[c]=u+this.unit,m&&m.call(o,u,this)}run(o,c,u){let m=this,g=m.options,w=function(O){return!w.stopped&&m.step(O)},C=Vu.requestAnimationFrame||function(O){setTimeout(O,13)},S=function(){for(let O=0;O<ui.timers.length;O++)ui.timers[O]()||ui.timers.splice(O--,1);ui.timers.length&&C(S)};o!==c||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=o,this.end=c,this.unit=u,this.now=this.start,this.pos=0,w.elem=this.elem,w.prop=this.prop,w()&&ui.timers.push(w)===1&&C(S)):(delete g.curAnim[this.prop],g.complete&&Object.keys(g.curAnim).length===0&&g.complete.call(this.elem))}step(o){let c,u,m=+new Date,g=this.options,w=this.elem,C=g.complete,S=g.duration,O=g.curAnim;return w.attr&&!w.element?c=!1:o||m>=S+this.startTime?(this.now=this.end,this.pos=1,this.update(),O[this.prop]=!0,u=!0,Qr(O,function(F){F!==!0&&(u=!1)}),u&&C&&C.call(w),c=!1):(this.pos=g.easing((m-this.startTime)/S),this.now=this.start+(this.end-this.start)*this.pos,this.update(),c=!0),c}initPath(o,c,u){let m=o.startX,g=o.endX,w=u.slice(),C=o.isArea,S=C?2:1,O=c&&u.length>c.length&&u.hasStackedCliffs,F,M,j,W,G=c&&c.slice();if(!G||O)return[w,w];function X(K,ee){for(;K.length<M;){let te=K[0],le=ee[M-K.length];if(le&&te[0]==="M"&&(le[0]==="C"?K[0]=["C",te[1],te[2],te[1],te[2],te[1],te[2]]:K[0]=["L",te[1],te[2]]),K.unshift(te),C){let he=K.pop();K.push(K[K.length-1],he)}}}function J(K){for(;K.length<M;){let ee=K[Math.floor(K.length/S)-1].slice();if(ee[0]==="C"&&(ee[1]=ee[5],ee[2]=ee[6]),C){let te=K[Math.floor(K.length/S)].slice();K.splice(K.length/2,0,ee,te)}else K.push(ee)}}if(m&&g&&g.length){for(j=0;j<m.length;j++){if(m[j]===g[0]){F=j;break}if(m[0]===g[g.length-m.length+j]){F=j,W=!0;break}if(m[m.length-1]===g[g.length-m.length+j]){F=m.length-j;break}}F===void 0&&(G=[])}return G.length&&Ba(F)&&(M=w.length+F*S,W?(X(G,w),J(w)):(X(w,G),J(G))),[G,w]}fillSetter(){ui.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,qo(this.start).tweenTo(qo(this.end),this.pos),void 0,!0)}}ui.timers=[];let{defined:ec,getStyle:mf,isArray:ja,isNumber:gf,isObject:ti,merge:Fu,objectEach:$a,pick:Ua}=Re;function Bu(A){return ti(A)?Fu({duration:500,defer:0},A):{duration:A?500:0,defer:0}}function yf(A,o){let c=ui.timers.length;for(;c--;)ui.timers[c].elem!==A||o&&o!==ui.timers[c].prop||(ui.timers[c].stopped=!0)}let kn={animate:function(A,o,c){let u,m="",g,w,C;ti(c)||(C=arguments,c={duration:C[2],easing:C[3],complete:C[4]}),gf(c.duration)||(c.duration=400),c.easing=typeof c.easing=="function"?c.easing:Math[c.easing]||Math.easeInOutSine,c.curAnim=Fu(o),$a(o,function(S,O){yf(A,O),w=new ui(A,c,O),g=void 0,O==="d"&&ja(o.d)?(w.paths=w.initPath(A,A.pathArray,o.d),w.toD=o.d,u=0,g=1):A.attr?u=A.attr(O):(u=parseFloat(mf(A,O))||0,O!=="opacity"&&(m="px")),g||(g=S),typeof g=="string"&&g.match("px")&&(g=g.replace(/px/g,"")),w.run(u,g,m)})},animObject:Bu,getDeferredAnimation:function(A,o,c){let u=Bu(o),m=c?[c]:A.series,g=0,w=0;return m.forEach(C=>{let S=Bu(C.options.animation);g=ti(o)&&ec(o.defer)?u.defer:Math.max(g,S.duration+S.defer),w=Math.min(u.duration,S.duration)}),A.renderer.forExport&&(g=0),{defer:Math.max(0,g-w),duration:Math.min(g,w)}},setAnimation:function(A,o){o.renderer.globalAnimation=Ua(A,o.options.chart.animation,!0)},stop:yf},{SVG_NS:vf,win:Dy}=T,{attr:tc,createElement:bf,css:ju,error:Ha,isFunction:pr,isString:$u,objectEach:Uu,splat:Hu}=Re,{trustedTypes:Wa}=Dy,za=Wa&&pr(Wa.createPolicy)&&Wa.createPolicy("highcharts",{createHTML:A=>A}),_f=za?za.createHTML(""):"";class dn{static filterUserAttributes(o){return Uu(o,(c,u)=>{let m=!0;dn.allowedAttributes.indexOf(u)===-1&&(m=!1),["background","dynsrc","href","lowsrc","src"].indexOf(u)!==-1&&(m=$u(c)&&dn.allowedReferences.some(g=>c.indexOf(g)===0)),m||(Ha(33,!1,void 0,{"Invalid attribute in config":`${u}`}),delete o[u]),$u(c)&&o[u]&&(o[u]=c.replace(/</g,"&lt;"))}),o}static parseStyle(o){return o.split(";").reduce((c,u)=>{let m=u.split(":").map(w=>w.trim()),g=m.shift();return g&&m.length&&(c[g.replace(/-([a-z])/g,w=>w[1].toUpperCase())]=m.join(":")),c},{})}static setElementHTML(o,c){o.innerHTML=dn.emptyHTML,c&&new dn(c).addToDOM(o)}constructor(o){this.nodes=typeof o=="string"?this.parseMarkup(o):o}addToDOM(o){return function c(u,m){let g;return Hu(u).forEach(function(w){let C,S=w.tagName,O=w.textContent?T.doc.createTextNode(w.textContent):void 0,F=dn.bypassHTMLFiltering;if(S)if(S==="#text")C=O;else if(dn.allowedTags.indexOf(S)!==-1||F){let M=S==="svg"?vf:m.namespaceURI||vf,j=T.doc.createElementNS(M,S),W=w.attributes||{};Uu(w,function(G,X){X!=="tagName"&&X!=="attributes"&&X!=="children"&&X!=="style"&&X!=="textContent"&&(W[X]=G)}),tc(j,F?W:dn.filterUserAttributes(W)),w.style&&ju(j,w.style),O&&j.appendChild(O),c(w.children||[],j),C=j}else Ha(33,!1,void 0,{"Invalid tagName in config":S});C&&m.appendChild(C),g=C}),g}(this.nodes,o)}parseMarkup(o){let c,u=[];o=o.trim().replace(/ style=(["'])/g," data-style=$1");try{c=new DOMParser().parseFromString(za?za.createHTML(o):o,"text/html")}catch{}if(!c){let g=bf("div");g.innerHTML=o,c={body:g}}let m=(g,w)=>{let C=g.nodeName.toLowerCase(),S={tagName:C};C==="#text"&&(S.textContent=g.textContent||"");let O=g.attributes;if(O){let F={};[].forEach.call(O,M=>{M.name==="data-style"?S.style=dn.parseStyle(M.value):F[M.name]=M.value}),S.attributes=F}if(g.childNodes.length){let F=[];[].forEach.call(g.childNodes,M=>{m(M,F)}),F.length&&(S.children=F)}w.push(S)};return[].forEach.call(c.body.childNodes,g=>m(g,u)),u}}dn.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],dn.allowedReferences=["https://","http://","mailto:","/","../","./","#"],dn.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],dn.emptyHTML=_f,dn.bypassHTMLFiltering=!1;let{defaultOptions:Ga,defaultTime:Wu}=Vn,{doc:zu}=T,{extend:qa,getNestedProperty:Zr,isArray:Gu,isNumber:wf,isObject:Cf,isString:xf,pick:Ef,ucfirst:qu}=Re,Ko={add:(A,o)=>A+o,divide:(A,o)=>o!==0?A/o:"",eq:(A,o)=>A==o,each:function(A){let o=arguments[arguments.length-1];return!!Gu(A)&&A.map((c,u)=>nc(o.body,qa(Cf(c)?c:{"@this":c},{"@index":u,"@first":u===0,"@last":u===A.length-1}))).join("")},ge:(A,o)=>A>=o,gt:(A,o)=>A>o,if:A=>!!A,le:(A,o)=>A<=o,lt:(A,o)=>A<o,multiply:(A,o)=>A*o,ne:(A,o)=>A!=o,subtract:(A,o)=>A-o,ucfirst:qu,unless:A=>!A},Ku={},Yu=A=>/^["'].+["']$/.test(A);function nc(A="",o,c){let u=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/gu,m=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/gu,g=[],w=/f$/,C=/\.(\d)/,S=(c==null?void 0:c.options.lang)||Ga.lang,O=c&&c.time||Wu,F=c&&c.numberFormatter||Tf,M=(J="")=>{let K;return J==="true"||J!=="false"&&((K=Number(J)).toString()===J?K:Yu(J)?J.slice(1,-1):Zr(J,o))},j,W,G=0,X;for(;(j=u.exec(A))!==null;){let J=j,K=m.exec(j[1]);K&&(j=K,X=!0),W&&W.isBlock||(W={ctx:o,expression:j[1],find:j[0],isBlock:j[1].charAt(0)==="#",start:j.index,startInner:j.index+j[0].length,length:j[0].length});let ee=(W.isBlock?J:j)[1].split(" ")[0].replace("#","");Ko[ee]&&(W.isBlock&&ee===W.fn&&G++,W.fn||(W.fn=ee));let te=j[1]==="else";if(W.isBlock&&W.fn&&(j[1]===`/${W.fn}`||te))if(G)!te&&G--;else{let le=W.startInner,he=A.substr(le,j.index-le);W.body===void 0?(W.body=he,W.startInner=j.index+j[0].length):W.elseBody=he,W.find+=he+j[0],te||(g.push(W),W=void 0)}else W.isBlock||g.push(W);if(K&&!(W!=null&&W.isBlock))break}return g.forEach(J=>{let K,ee,{body:te,elseBody:le,expression:he,fn:ue}=J;if(ue){let fe=[J],de=[],ge=he.length,Te=0,Ae;for(ee=0;ee<=ge;ee++){let $e=he.charAt(ee);Ae||$e!=='"'&&$e!=="'"?Ae===$e&&(Ae=""):Ae=$e,Ae||$e!==" "&&ee!==ge||(de.push(he.substr(Te,ee-Te)),Te=ee+1)}for(ee=Ko[ue].length;ee--;)fe.unshift(M(de[ee+1]));K=Ko[ue].apply(o,fe),J.isBlock&&typeof K=="boolean"&&(K=nc(K?te:le,o,c))}else{let fe=Yu(he)?[he]:he.split(":");if(K=M(fe.shift()||""),fe.length&&typeof K=="number"){let de=fe.join(":");if(w.test(de)){let ge=parseInt((de.match(C)||["","-1"])[1],10);K!==null&&(K=F(K,ge,S.decimalPoint,de.indexOf(",")>-1?S.thousandsSep:""))}else K=O.dateFormat(de,K)}m.lastIndex=0,m.test(J.find)&&xf(K)&&(K=`"${K}"`)}A=A.replace(J.find,Ef(K,""))}),X?nc(A,o,c):A}function Tf(A,o,c,u){var X,J;o=+o;let m,g,[w,C]=(A=+A||0).toString().split("e").map(Number),S=((X=this==null?void 0:this.options)==null?void 0:X.lang)||Ga.lang,O=(A.toString().split(".")[1]||"").split("e")[0].length,F=o,M={};c??(c=S.decimalPoint),u??(u=S.thousandsSep),o===-1?o=Math.min(O,20):wf(o)?o&&C<0&&((g=o+C)>=0?(w=+w.toExponential(g).split("e")[0],o=g):(w=Math.floor(w),A=o<20?+(w*Math.pow(10,C)).toFixed(o):0,C=0)):o=2,C&&(o??(o=2),A=w),wf(o)&&o>=0&&(M.minimumFractionDigits=o,M.maximumFractionDigits=o),u===""&&(M.useGrouping=!1);let j=u||c,W=j?"en":(this==null?void 0:this.locale)||S.locale||((J=zu.body.closest("[lang]"))==null?void 0:J.lang),G=JSON.stringify(M)+W;return m=(Ku[G]??(Ku[G]=new Intl.NumberFormat(W,M))).format(A),j&&(m=m.replace(/\,/g,u??",").replace(".",c??".")),(o||+m!=0)&&(!(C<0)||F)||(m="0"),C&&+m!=0&&(m+="e"+(C<0?"":"+")+C),m}let Qi={dateFormat:function(A,o,c){return Wu.dateFormat(A,o,c)},format:nc,helpers:Ko,numberFormat:Tf};(function(A){let o;A.rendererTypes={},A.getRendererType=function(c=o){return A.rendererTypes[c]||A.rendererTypes[o]},A.registerRendererType=function(c,u,m){A.rendererTypes[c]=u,(!o||m)&&(o=c,T.Renderer=u)}})(r||(r={}));let Yo=r,{clamp:Ny,pick:eo,pushUnique:zs,stableSort:Xo}=Re;(a||(a={})).distribute=function A(o,c,u){let m=o,g=m.reducedLen||c,w=(te,le)=>te.target-le.target,C=[],S=o.length,O=[],F=C.push,M,j,W,G=!0,X,J,K=0,ee;for(M=S;M--;)K+=o[M].size;if(K>g){for(Xo(o,(te,le)=>(le.rank||0)-(te.rank||0)),W=(ee=o[0].rank===o[o.length-1].rank)?S/2:-1,j=ee?W:S-1;W&&K>g;)X=o[M=Math.floor(j)],zs(O,M)&&(K-=X.size),j+=W,ee&&j>=o.length&&(W/=2,j=W);O.sort((te,le)=>le-te).forEach(te=>F.apply(C,o.splice(te,1)))}for(Xo(o,w),o=o.map(te=>({size:te.size,targets:[te.target],align:eo(te.align,.5)}));G;){for(M=o.length;M--;)X=o[M],J=(Math.min.apply(0,X.targets)+Math.max.apply(0,X.targets))/2,X.pos=Ny(J-X.size*X.align,0,c-X.size);for(M=o.length,G=!1;M--;)M>0&&o[M-1].pos+o[M-1].size>o[M].pos&&(o[M-1].size+=o[M].size,o[M-1].targets=o[M-1].targets.concat(o[M].targets),o[M-1].align=.5,o[M-1].pos+o[M-1].size>c&&(o[M-1].pos=c-o[M-1].size),o.splice(M,1),G=!0)}return F.apply(m,C),M=0,o.some(te=>{let le=0;return(te.targets||[]).some(()=>(m[M].pos=te.pos+le,u!==void 0&&Math.abs(m[M].pos-m[M].target)>u?(m.slice(0,M+1).forEach(he=>delete he.pos),m.reducedLen=(m.reducedLen||c)-.1*c,m.reducedLen>.1*c&&A(m,c,u),!0):(le+=m[M].size,M++,!1)))}),Xo(m,w),m};let to=a,{animate:Sf,animObject:fn,stop:Ka}=kn,{deg2rad:Jo,doc:Es,svg:Ly,SVG_NS:Ya,win:Vy,isFirefox:Fy}=T,{addEvent:By,attr:Xu,createElement:Xa,crisp:ls,css:Ju,defined:cs,erase:kf,extend:Ts,fireEvent:Qu,getAlignFactor:Zu,isArray:If,isFunction:Gs,isNumber:jy,isObject:$y,isString:Ja,merge:Qo,objectEach:no,pick:Ei,pInt:mr,pushUnique:Af,replaceNested:eh,syncTimeout:In,uniqueKey:Pf}=Re;class jn{_defaultGetter(o){let c=Ei(this[o+"Value"],this[o],this.element?this.element.getAttribute(o):null,0);return/^-?[\d\.]+$/.test(c)&&(c=parseFloat(c)),c}_defaultSetter(o,c,u){u.setAttribute(c,o)}add(o){let c,u=this.renderer,m=this.element;return o&&(this.parentGroup=o),this.textStr!==void 0&&this.element.nodeName==="text"&&u.buildText(this),this.added=!0,(!o||o.handleZ||this.zIndex)&&(c=this.zIndexSetter()),c||(o?o.element:u.box).appendChild(m),this.onAdd&&this.onAdd(),this}addClass(o,c){let u=c?"":this.attr("class")||"";return(o=(o||"").split(/ /g).reduce(function(m,g){return u.indexOf(g)===-1&&m.push(g),m},u?[u]:[]).join(" "))!==u&&this.attr("class",o),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(o,c,u,m=!0){let g={"text-align":o==null?void 0:o.align},w=this.renderer,C=w.alignedObjects,S=!!o;o?(this.alignOptions=o,this.alignByTranslate=c,this.alignTo=u):(o=this.alignOptions||{},c=this.alignByTranslate,u=this.alignTo);let O=!u||Ja(u)?u||"renderer":void 0;O&&(S&&Af(C,this),u=void 0);let F=Ei(u,w[O],w),M=(F.x||0)+(o.x||0)+((F.width||0)-(o.width||0))*Zu(o.align),j=(F.y||0)+(o.y||0)+((F.height||0)-(o.height||0))*Zu(o.verticalAlign);return g[c?"translateX":"x"]=Math.round(M),g[c?"translateY":"y"]=Math.round(j),m&&(this[this.placed?"animate":"attr"](g),this.placed=!0),this.alignAttr=g,this}alignSetter(o){let c={left:"start",center:"middle",right:"end"};c[o]&&(this.alignValue=o,this.element.setAttribute("text-anchor",c[o]))}animate(o,c,u){let m=fn(Ei(c,this.renderer.globalAnimation,!0)),g=m.defer;return Es.hidden&&(m.duration=0),m.duration!==0?(u&&(m.complete=u),In(()=>{this.element&&Sf(this,o,m)},g)):(this.attr(o,void 0,u||m.complete),no(o,function(w,C){m.step&&m.step.call(this,w,{prop:C,pos:1,elem:this})},this)),this}applyTextOutline(o){let c=this.element;o.indexOf("contrast")!==-1&&(o=o.replace(/contrast/g,this.renderer.getContrast(c.style.fill)));let u=o.split(" "),m=u[u.length-1],g=u[0];if(g&&g!=="none"&&T.svg){this.fakeTS=!0,g=g.replace(/(^[\d\.]+)(.*?)$/g,function(F,M,j){return 2*Number(M)+j}),this.removeTextOutline();let w=Es.createElementNS(Ya,"tspan");Xu(w,{class:"highcharts-text-outline",fill:m,stroke:m,"stroke-width":g,"stroke-linejoin":"round"});let C=c.querySelector("textPath")||c;[].forEach.call(C.childNodes,F=>{let M=F.cloneNode(!0);M.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(j=>M.removeAttribute(j)),w.appendChild(M)});let S=0;[].forEach.call(C.querySelectorAll("text tspan"),F=>{S+=Number(F.getAttribute("dy"))});let O=Es.createElementNS(Ya,"tspan");O.textContent="​",Xu(O,{x:Number(c.getAttribute("x")),dy:-S}),w.appendChild(O),C.insertBefore(w,C.firstChild)}}attr(o,c,u,m){let{element:g}=this,w=jn.symbolCustomAttribs,C,S,O=this,F;return typeof o=="string"&&c!==void 0&&(C=o,(o={})[C]=c),typeof o=="string"?O=(this[o+"Getter"]||this._defaultGetter).call(this,o,g):(no(o,function(M,j){F=!1,m||Ka(this,j),this.symbolName&&w.indexOf(j)!==-1&&(S||(this.symbolAttr(o),S=!0),F=!0),this.rotation&&(j==="x"||j==="y")&&(this.doTransform=!0),F||(this[j+"Setter"]||this._defaultSetter).call(this,M,j,g)},this),this.afterSetters()),u&&u.call(this),O}clip(o){if(o&&!o.clipPath){let c=Pf()+"-",u=this.renderer.createElement("clipPath").attr({id:c}).add(this.renderer.defs);Ts(o,{clipPath:u,id:c,count:0}),o.add(u)}return this.attr("clip-path",o?`url(${this.renderer.url}#${o.id})`:"none")}crisp(o,c){c=Math.round(c||o.strokeWidth||0);let u=o.x||this.x||0,m=o.y||this.y||0,g=(o.width||this.width||0)+u,w=(o.height||this.height||0)+m,C=ls(u,c),S=ls(m,c);return Ts(o,{x:C,y:S,width:ls(g,c)-C,height:ls(w,c)-S}),cs(o.strokeWidth)&&(o.strokeWidth=c),o}complexColor(o,c,u){let m=this.renderer,g,w,C,S,O,F,M,j,W,G,X=[],J;Qu(this.renderer,"complexColor",{args:arguments},function(){if(o.radialGradient?w="radialGradient":o.linearGradient&&(w="linearGradient"),w){if(C=o[w],O=m.gradients,F=o.stops,W=u.radialReference,If(C)&&(o[w]=C={x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientUnits:"userSpaceOnUse"}),w==="radialGradient"&&W&&!cs(C.gradientUnits)&&(S=C,C=Qo(C,m.getRadialAttr(W,S),{gradientUnits:"userSpaceOnUse"})),no(C,function(K,ee){ee!=="id"&&X.push(ee,K)}),no(F,function(K){X.push(K)}),O[X=X.join(",")])G=O[X].attr("id");else{C.id=G=Pf();let K=O[X]=m.createElement(w).attr(C).add(m.defs);K.radAttr=S,K.stops=[],F.forEach(function(ee){ee[1].indexOf("rgba")===0?(M=(g=Nn.parse(ee[1])).get("rgb"),j=g.get("a")):(M=ee[1],j=1);let te=m.createElement("stop").attr({offset:ee[0],"stop-color":M,"stop-opacity":j}).add(K);K.stops.push(te)})}J="url("+m.url+"#"+G+")",u.setAttribute(c,J),u.gradient=X,o.toString=function(){return J}}})}css(o){let c=this.styles,u={},m=this.element,g,w=!c;if(c&&no(o,function(C,S){c&&c[S]!==C&&(u[S]=C,w=!0)}),w){c&&(o=Ts(c,u)),o.width===null||o.width==="auto"?delete this.textWidth:m.nodeName.toLowerCase()==="text"&&o.width&&(g=this.textWidth=mr(o.width)),Ts(this.styles,o),g&&!Ly&&this.renderer.forExport&&delete o.width;let C=Fy&&o.fontSize||null;C&&(jy(C)||/^\d+$/.test(C))&&(o.fontSize+="px");let S=Qo(o);m.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(O=>S&&delete S[O]),S.color&&(S.fill=S.color)),Ju(m,S)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),o.textOutline&&this.applyTextOutline(o.textOutline)),this}dashstyleSetter(o){let c,u=this["stroke-width"];if(u==="inherit"&&(u=1),o=o&&o.toLowerCase()){let m=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(c=m.length;c--;)m[c]=""+mr(m[c])*Ei(u,NaN);o=m.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",o)}}destroy(){var S;let o=this,c=o.element||{},u=o.renderer,m=c.ownerSVGElement,g=c.nodeName==="SPAN"&&o.parentGroup||void 0,w,C;if(c.onclick=c.onmouseout=c.onmouseover=c.onmousemove=c.point=null,Ka(o),o.clipPath&&m){let O=o.clipPath;[].forEach.call(m.querySelectorAll("[clip-path],[CLIP-PATH]"),function(F){F.getAttribute("clip-path").indexOf(O.element.id)>-1&&F.removeAttribute("clip-path")}),o.clipPath=O.destroy()}if(o.connector=(S=o.connector)==null?void 0:S.destroy(),o.stops){for(C=0;C<o.stops.length;C++)o.stops[C].destroy();o.stops.length=0,o.stops=void 0}for(o.safeRemoveChild(c);g&&g.div&&g.div.childNodes.length===0;)w=g.parentGroup,o.safeRemoveChild(g.div),delete g.div,g=w;o.alignOptions&&kf(u.alignedObjects,o),no(o,function(O,F){o[F]&&o[F].parentGroup===o&&o[F].destroy&&o[F].destroy(),delete o[F]})}dSetter(o,c,u){If(o)&&(typeof o[0]=="string"&&(o=this.renderer.pathToSegments(o)),this.pathArray=o,o=o.reduce((m,g,w)=>g&&g.join?(w?m+" ":"")+g.join(" "):(g||"").toString(),"")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0"),this[c]!==o&&(u.setAttribute(c,o),this[c]=o)}fillSetter(o,c,u){typeof o=="string"?u.setAttribute(c,o):o&&this.complexColor(o,c,u)}hrefSetter(o,c,u){u.setAttributeNS("http://www.w3.org/1999/xlink",c,o)}getBBox(o,c){let u,m,g,w,{alignValue:C,element:S,renderer:O,styles:F,textStr:M}=this,{cache:j,cacheKeys:W}=O,G=S.namespaceURI===this.SVG_NS,X=Ei(c,this.rotation,0),J=O.styledMode?S&&jn.prototype.getStyle.call(S,"font-size"):F.fontSize;if(cs(M)&&((w=M.toString()).indexOf("<")===-1&&(w=w.replace(/\d/g,"0")),w+=["",O.rootFontSize,J,X,this.textWidth,C,F.lineClamp,F.textOverflow,F.fontWeight].join(",")),w&&!o&&(u=j[w]),!u||u.polygon){if(G||O.forExport){try{g=this.fakeTS&&function(ee){let te=S.querySelector(".highcharts-text-outline");te&&Ju(te,{display:ee})},Gs(g)&&g("none"),u=S.getBBox?Ts({},S.getBBox()):{width:S.offsetWidth,height:S.offsetHeight,x:0,y:0},Gs(g)&&g("")}catch{}(!u||u.width<0)&&(u={x:0,y:0,width:0,height:0})}else u=this.htmlGetBBox();m=u.height,G&&(u.height=m={"11px,17":14,"13px,20":16}[`${J||""},${Math.round(m)}`]||m),X&&(u=this.getRotatedBox(u,X));let K={bBox:u};Qu(this,"afterGetBBox",K),u=K.bBox}if(w&&(M===""||u.height>0)){for(;W.length>250;)delete j[W.shift()];j[w]||W.push(w),j[w]=u}return u}getRotatedBox(o,c){let{x:u,y:m,width:g,height:w}=o,{alignValue:C,translateY:S,rotationOriginX:O=0,rotationOriginY:F=0}=this,M=Zu(C),j=Number(this.element.getAttribute("y")||0)-(S?0:m),W=c*Jo,G=(c-90)*Jo,X=Math.cos(W),J=Math.sin(W),K=g*X,ee=g*J,te=Math.cos(G),le=Math.sin(G),[[he,ue],[fe,de]]=[O,F].map(mt=>[mt-mt*X,mt*J]),ge=u+M*(g-K)+he+de+j*te,Te=ge+K,Ae=Te-w*te,$e=Ae-K,xe=m+j-M*ee-ue+fe+j*le,Be=xe+ee,it=Be-w*le,xt=it-ee,et=Math.min(ge,Te,Ae,$e),bt=Math.min(xe,Be,it,xt),Qe=Math.max(ge,Te,Ae,$e)-et,ot=Math.max(xe,Be,it,xt)-bt;return{x:et,y:bt,width:Qe,height:ot,polygon:[[ge,xe],[Te,Be],[Ae,it],[$e,xt]]}}getStyle(o){return Vy.getComputedStyle(this.element||this,"").getPropertyValue(o)}hasClass(o){return(""+this.attr("class")).split(" ").indexOf(o)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(o,c){this.onEvents={},this.opacity=1,this.SVG_NS=Ya,this.element=c==="span"||c==="body"?Xa(c):Es.createElementNS(this.SVG_NS,c),this.renderer=o,this.styles={},Qu(this,"afterInit")}on(o,c){let{onEvents:u}=this;return u[o]&&u[o](),u[o]=By(this.element,o,c),this}opacitySetter(o,c,u){let m=Number(Number(o).toFixed(3));this.opacity=m,u.setAttribute(c,m)}reAlign(){var o;(o=this.alignOptions)!=null&&o.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(o){return this.attr("class",(""+this.attr("class")).replace(Ja(o)?RegExp(`(^| )${o}( |$)`):o," ").replace(/ +/g," ").trim())}removeTextOutline(){let o=this.element.querySelector("tspan.highcharts-text-outline");o&&this.safeRemoveChild(o)}safeRemoveChild(o){let c=o.parentNode;c&&c.removeChild(o)}setRadialReference(o){let c=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=o,c&&c.radAttr&&c.animate(this.renderer.getRadialAttr(o,c.radAttr)),this}shadow(o){var g;let{renderer:c}=this,u=Qo(((g=this.parentGroup)==null?void 0:g.rotation)===90?{offsetX:-1,offsetY:-1}:{},$y(o)?o:{}),m=c.shadowDefinition(u);return this.attr({filter:o?`url(${c.url}#${m})`:"none"})}show(o=!0){return this.attr({visibility:o?"inherit":"visible"})}"stroke-widthSetter"(o,c,u){this[c]=o,u.setAttribute(c,o)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let o=this.getStyle("stroke-width"),c=0,u;return/px$/.test(o)?c=mr(o):o!==""&&(Xu(u=Es.createElementNS(Ya,"rect"),{width:o,"stroke-width":0}),this.element.parentNode.appendChild(u),c=u.getBBox().width,u.parentNode.removeChild(u)),c}symbolAttr(o){let c=this;jn.symbolCustomAttribs.forEach(function(u){c[u]=Ei(o[u],c[u])}),c.attr({d:c.renderer.symbols[c.symbolName](c.x,c.y,c.width,c.height,c)})}textSetter(o){o!==this.textStr&&(delete this.textPxLength,this.textStr=o,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(o){let c=this.element,u=c.getElementsByTagName("title")[0]||Es.createElementNS(this.SVG_NS,"title");c.insertBefore?c.insertBefore(u,c.firstChild):c.appendChild(u),u.textContent=eh(Ei(o,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let o=this.element;return o.parentNode.appendChild(o),this}translate(o,c){return this.attr({translateX:o,translateY:c})}updateTransform(o="transform"){var j;let{element:c,matrix:u,rotation:m=0,rotationOriginX:g,rotationOriginY:w,scaleX:C,scaleY:S,translateX:O=0,translateY:F=0}=this,M=["translate("+O+","+F+")"];cs(u)&&M.push("matrix("+u.join(",")+")"),m&&(M.push("rotate("+m+" "+Ei(g,c.getAttribute("x"),0)+" "+Ei(w,c.getAttribute("y")||0)+")"),((j=this.text)==null?void 0:j.element.tagName)==="SPAN"&&this.text.attr({rotation:m,rotationOriginX:(g||0)-this.padding,rotationOriginY:(w||0)-this.padding})),(cs(C)||cs(S))&&M.push("scale("+Ei(C,1)+" "+Ei(S,1)+")"),M.length&&!(this.text||this).textPath&&c.setAttribute(o,M.join(" "))}visibilitySetter(o,c,u){o==="inherit"?u.removeAttribute(c):this[c]!==o&&u.setAttribute(c,o),this[c]=o}xGetter(o){return this.element.nodeName==="circle"&&(o==="x"?o="cx":o==="y"&&(o="cy")),this._defaultGetter(o)}zIndexSetter(o,c){let u=this.renderer,m=this.parentGroup,g=(m||u).element||u.box,w=this.element,C=g===u.box,S,O,F,M=!1,j,W=this.added,G;if(cs(o)?(w.setAttribute("data-z-index",o),o=+o,this[c]===o&&(W=!1)):cs(this[c])&&w.removeAttribute("data-z-index"),this[c]=o,W){for((o=this.zIndex)&&m&&(m.handleZ=!0),G=(S=g.childNodes).length-1;G>=0&&!M;G--)j=!cs(F=(O=S[G]).getAttribute("data-z-index")),O!==w&&(o<0&&j&&!C&&!G?(g.insertBefore(w,S[G]),M=!0):(mr(F)<=o||j&&(!cs(o)||o>=0))&&(g.insertBefore(w,S[G+1]),M=!0));M||(g.insertBefore(w,S[C?3:0]),M=!0)}return M}}jn.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],jn.prototype.strokeSetter=jn.prototype.fillSetter,jn.prototype.yGetter=jn.prototype.xGetter,jn.prototype.matrixSetter=jn.prototype.rotationOriginXSetter=jn.prototype.rotationOriginYSetter=jn.prototype.rotationSetter=jn.prototype.scaleXSetter=jn.prototype.scaleYSetter=jn.prototype.translateXSetter=jn.prototype.translateYSetter=jn.prototype.verticalAlignSetter=function(A,o){this[o]=A,this.doTransform=!0};let us=jn,{defined:th,extend:Of,getAlignFactor:Qa,isNumber:Zo,merge:qs,pick:Za,removeEvent:Rf}=Re;class hs extends us{constructor(o,c,u,m,g,w,C,S,O,F){let M;super(o,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=c,this.x=u,this.y=m,this.anchorX=w,this.anchorY=C,this.baseline=O,this.className=F,this.addClass(F==="button"?"highcharts-no-tooltip":"highcharts-label"),F&&this.addClass("highcharts-"+F),this.text=o.text(void 0,0,0,S).attr({zIndex:1}),typeof g=="string"&&((M=/^url\((.*?)\)$/.test(g))||this.renderer.symbols[g])&&(this.symbolKey=g),this.bBox=hs.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=o.styledMode||M,this.deferredAttr={},this.alignFactor=0}alignSetter(o){let c=Qa(o);this.textAlign=o,c!==this.alignFactor&&(this.alignFactor=c,this.bBox&&Zo(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(o,c){this.anchorX=o,this.boxAttr(c,Math.round(o)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(o,c){this.anchorY=o,this.boxAttr(c,o-this.ySetting)}boxAttr(o,c){this.box?this.box.attr(o,c):this.deferredAttr[o]=c}css(o){if(o){let c={};o=qs(o),hs.textProps.forEach(u=>{o[u]!==void 0&&(c[u]=o[u],delete o[u])}),this.text.css(c),"fontSize"in c||"fontWeight"in c?this.updateTextPadding():("width"in c||"textOverflow"in c)&&this.updateBoxSize()}return us.prototype.css.call(this,o)}destroy(){Rf(this.element,"mouseenter"),Rf(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),us.prototype.destroy.call(this)}fillSetter(o,c){o&&(this.needsBox=!0),this.fill=o,this.boxAttr(c,o)}getBBox(o,c){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:u,height:m=0,translateX:g=0,translateY:w=0,width:C=0}=this,S=Za(this.paddingLeft,u),O=c??(this.rotation||0),F={width:C,height:m,x:g+this.bBox.x-S,y:w+this.bBox.y-u+this.baselineOffset};return O&&(F=this.getRotatedBox(F,O)),F}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(o){this.heightSetting=o,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Za(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&th(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(o,c){Zo(o)?o!==this[c]&&(this[c]=o,this.updateTextPadding()):this[c]=void 0}rSetter(o,c){this.boxAttr(c,o)}strokeSetter(o,c){this.stroke=o,this.boxAttr(c,o)}"stroke-widthSetter"(o,c){o&&(this.needsBox=!0),this["stroke-width"]=o,this.boxAttr(c,o)}"text-alignSetter"(o){this.textAlign=o,this.updateTextPadding()}textSetter(o){o!==void 0&&this.text.attr({text:o}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let o,c=this.text,u={},m=this.padding,g=this.bBox=(!Zo(this.widthSetting)||!Zo(this.heightSetting)||this.textAlign)&&th(c.textStr)?c.getBBox(void 0,0):hs.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||g.height||0)+2*m;let w=this.renderer.fontMetrics(c);if(this.baselineOffset=m+Math.min((this.text.firstLineMetrics||w).b,g.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-w.h)/2),this.needsBox&&!c.textPath){if(!this.box){let C=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();C.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),C.add(this)}o=this.getCrispAdjust(),u.x=o,u.y=(this.baseline?-this.baselineOffset:0)+o,u.width=Math.round(this.width),u.height=Math.round(this.height),this.box.attr(Of(u,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let o=this.text,c=o.styles.textAlign||this.textAlign;if(!o.textPath){this.updateBoxSize();let u=this.baseline?0:this.baselineOffset,m=(this.paddingLeft??this.padding)+Qa(c)*(this.widthSetting??this.bBox.width);(m!==o.x||u!==o.y)&&(o.attr({align:c,x:m}),u!==void 0&&o.attr("y",u)),o.x=m,o.y=u}}widthSetter(o){this.widthSetting=Zo(o)?o:void 0,this.doUpdate=!0}getPaddedWidth(){let o=this.padding,c=Za(this.paddingLeft,o),u=Za(this.paddingRight,o);return(this.widthSetting||this.bBox.width||0)+c+u}xSetter(o){this.x=o,this.alignFactor&&(o-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(o),this.attr("translateX",this.xSetting)}ySetter(o){this.ySetting=this.y=Math.round(o),this.attr("translateY",this.ySetting)}}hs.emptyBBox={width:0,height:0,x:0,y:0},hs.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:nh,isNumber:ih,pick:gr}=Re;function sh(A,o,c,u,m){let g=[];if(m){let w=m.start||0,C=gr(m.r,c),S=gr(m.r,u||c),O=2e-4/(m.borderRadius?1:Math.max(C,1)),F=Math.abs((m.end||0)-w-2*Math.PI)<O,M=(m.end||0)-(F?O:0),j=m.innerR,W=gr(m.open,F),G=Math.cos(w),X=Math.sin(w),J=Math.cos(M),K=Math.sin(M),ee=gr(m.longArc,M-w-Math.PI<O?0:1),te=["A",C,S,0,ee,gr(m.clockwise,1),A+C*J,o+S*K];te.params={start:w,end:M,cx:A,cy:o},g.push(["M",A+C*G,o+S*X],te),nh(j)&&((te=["A",j,j,0,ee,nh(m.clockwise)?1-m.clockwise:0,A+j*G,o+j*X]).params={start:M,end:w,cx:A,cy:o},g.push(W?["M",A+j*J,o+j*K]:["L",A+j*J,o+j*K],te)),W||g.push(["Z"])}return g}function el(A,o,c,u,m){return m&&m.r?rh(A,o,c,u,m):[["M",A,o],["L",A+c,o],["L",A+c,o+u],["L",A,o+u],["Z"]]}function rh(A,o,c,u,m){let g=(m==null?void 0:m.r)||0;return[["M",A+g,o],["L",A+c-g,o],["A",g,g,0,0,1,A+c,o+g],["L",A+c,o+u-g],["A",g,g,0,0,1,A+c-g,o+u],["L",A+g,o+u],["A",g,g,0,0,1,A,o+u-g],["L",A,o+g],["A",g,g,0,0,1,A+g,o],["Z"]]}let oh={arc:sh,callout:function(A,o,c,u,m){let g=Math.min(m&&m.r||0,c,u),w=g+6,C=m&&m.anchorX,S=m&&m.anchorY||0,O=rh(A,o,c,u,{r:g});if(!ih(C)||C<c&&C>0&&S<u&&S>0)return O;if(A+C>c-w)if(S>o+w&&S<o+u-w)O.splice(3,1,["L",A+c,S-6],["L",A+c+6,S],["L",A+c,S+6],["L",A+c,o+u-g]);else if(C<c){let F=S<o+w,M=F?o:o+u;O.splice(F?2:5,0,["L",C,S],["L",A+c-g,M])}else O.splice(3,1,["L",A+c,u/2],["L",C,S],["L",A+c,u/2],["L",A+c,o+u-g]);else if(A+C<w)if(S>o+w&&S<o+u-w)O.splice(7,1,["L",A,S+6],["L",A-6,S],["L",A,S-6],["L",A,o+g]);else if(C>0){let F=S<o+w,M=F?o:o+u;O.splice(F?1:6,0,["L",C,S],["L",A+g,M])}else O.splice(7,1,["L",A,u/2],["L",C,S],["L",A,u/2],["L",A,o+g]);else S>u&&C<c-w?O.splice(5,1,["L",C+6,o+u],["L",C,o+u+6],["L",C-6,o+u],["L",A+g,o+u]):S<0&&C>w&&O.splice(1,1,["L",C-6,o],["L",C,o-6],["L",C+6,o],["L",c-g,o]);return O},circle:function(A,o,c,u){return sh(A+c/2,o+u/2,c/2,u/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(A,o,c,u){return[["M",A+c/2,o],["L",A+c,o+u/2],["L",A+c/2,o+u],["L",A,o+u/2],["Z"]]},rect:el,roundedRect:rh,square:el,triangle:function(A,o,c,u){return[["M",A+c/2,o],["L",A+c,o+u],["L",A,o+u],["Z"]]},"triangle-down":function(A,o,c,u){return[["M",A,o],["L",A+c,o],["L",A+c/2,o+u],["Z"]]}},{doc:io,SVG_NS:Mf,win:ah}=T,{attr:tl,extend:lh,fireEvent:Df,isString:ic,objectEach:Nf,pick:Lf}=Re,Ks=(A,o)=>A.substring(0,o)+"…",Vf=class{constructor(A){let o=A.styles;this.renderer=A.renderer,this.svgElement=A,this.width=A.textWidth,this.textLineHeight=o&&o.lineHeight,this.textOutline=o&&o.textOutline,this.ellipsis=!!(o&&o.textOverflow==="ellipsis"),this.lineClamp=o==null?void 0:o.lineClamp,this.noWrap=!!(o&&o.whiteSpace==="nowrap")}buildSVG(){let A=this.svgElement,o=A.element,c=A.renderer,u=Lf(A.textStr,"").toString(),m=u.indexOf("<")!==-1,g=o.childNodes,w=!A.added&&c.box,C=[u,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,A.getStyle("font-size"),A.styles.lineClamp,this.width].join(",");if(C!==A.textCache){A.textCache=C,delete A.actualWidth;for(let S=g.length;S--;)o.removeChild(g[S]);if(m||this.ellipsis||this.width||A.textPath||u.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(u))){if(u!==""){w&&w.appendChild(o);let S=new dn(u);this.modifyTree(S.nodes),S.addToDOM(o),this.modifyDOM(),this.ellipsis&&(o.textContent||"").indexOf("…")!==-1&&A.attr("title",this.unescapeEntities(A.textStr||"",["&lt;","&gt;"])),w&&w.removeChild(o)}}else o.appendChild(io.createTextNode(this.unescapeEntities(u)));ic(this.textOutline)&&A.applyTextOutline&&A.applyTextOutline(this.textOutline)}}modifyDOM(){let A,o=this.svgElement,c=tl(o.element,"x");for(o.firstLineMetrics=void 0;(A=o.element.firstChild)&&/^[\s\u200B]*$/.test(A.textContent||" ");)o.element.removeChild(A);[].forEach.call(o.element.querySelectorAll("tspan.highcharts-br"),(w,C)=>{w.nextSibling&&w.previousSibling&&(C===0&&w.previousSibling.nodeType===1&&(o.firstLineMetrics=o.renderer.fontMetrics(w.previousSibling)),tl(w,{dy:this.getLineHeight(w.nextSibling),x:c}))});let u=this.width||0;if(!u)return;let m=(w,C)=>{var X;let S=w.textContent||"",O=S.replace(/([^\^])-/g,"$1- ").split(" "),F=!this.noWrap&&(O.length>1||o.element.childNodes.length>1),M=this.getLineHeight(C),j=Math.max(0,u-.8*M),W=0,G=o.actualWidth;if(F){let J=[],K=[];for(;C.firstChild&&C.firstChild!==w;)K.push(C.firstChild),C.removeChild(C.firstChild);for(;O.length;)if(O.length&&!this.noWrap&&W>0&&(J.push(w.textContent||""),w.textContent=O.join(" ").replace(/- /g,"-")),this.truncate(w,void 0,O,W===0&&G||0,u,j,(ee,te)=>O.slice(0,te).join(" ").replace(/- /g,"-")),G=o.actualWidth,W++,this.lineClamp&&W>=this.lineClamp){O.length&&(this.truncate(w,w.textContent||"",void 0,0,u,j,Ks),w.textContent=((X=w.textContent)==null?void 0:X.replace("…",""))+"…");break}K.forEach(ee=>{C.insertBefore(ee,w)}),J.forEach(ee=>{C.insertBefore(io.createTextNode(ee),w);let te=io.createElementNS(Mf,"tspan");te.textContent="​",tl(te,{dy:M,x:c}),C.insertBefore(te,w)})}else this.ellipsis&&S&&this.truncate(w,S,void 0,0,u,j,Ks)},g=w=>{[].slice.call(w.childNodes).forEach(C=>{C.nodeType===ah.Node.TEXT_NODE?m(C,w):(C.className.baseVal.indexOf("highcharts-br")!==-1&&(o.actualWidth=0),g(C))})};g(o.element)}getLineHeight(A){let o=A.nodeType===ah.Node.TEXT_NODE?A.parentElement:A;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(o||this.svgElement.element).h}modifyTree(A){let o=(c,u)=>{let{attributes:m={},children:g,style:w={},tagName:C}=c,S=this.renderer.styledMode;if(C==="b"||C==="strong"?S?m.class="highcharts-strong":w.fontWeight="bold":(C==="i"||C==="em")&&(S?m.class="highcharts-emphasized":w.fontStyle="italic"),w&&w.color&&(w.fill=w.color),C==="br"){m.class="highcharts-br",c.textContent="​";let O=A[u+1];O&&O.textContent&&(O.textContent=O.textContent.replace(/^ +/gm,""))}else C==="a"&&g&&g.some(O=>O.tagName==="#text")&&(c.children=[{children:g,tagName:"tspan"}]);C!=="#text"&&C!=="a"&&(c.tagName="tspan"),lh(c,{attributes:m,style:w}),g&&g.filter(O=>O.tagName!=="#text").forEach(o)};A.forEach(o),Df(this.svgElement,"afterModifyTree",{nodes:A})}truncate(A,o,c,u,m,g,w){let C,S,O=this.svgElement,{rotation:F}=O,M=[],j=c&&!u?1:0,W=(o||c||"").length,G=W;c||(m=g);let X=function(J,K){let ee=K||J,te=A.parentNode;if(te&&M[ee]===void 0&&te.getSubStringLength)try{M[ee]=u+te.getSubStringLength(0,c?ee+1:ee)}catch{}return M[ee]};if(O.rotation=0,u+(S=X(A.textContent.length))>m){for(;j<=W;)G=Math.ceil((j+W)/2),c&&(C=w(c,G)),S=X(G,C&&C.length-1),j===W?j=W+1:S>m?W=G-1:j=G;W===0?A.textContent="":o&&W===o.length-1||(A.textContent=C||w(o||c,G)),this.ellipsis&&S>m&&this.truncate(A,A.textContent||"",void 0,0,m,g,Ks)}c&&c.splice(0,G),O.actualWidth=S,O.rotation=F}unescapeEntities(A,o){return Nf(this.renderer.escapes,function(c,u){o&&o.indexOf(c)!==-1||(A=A.toString().replace(RegExp(c,"g"),u))}),A}},{defaultOptions:Ff}=Vn,{charts:Bf,deg2rad:ch,doc:Ys,isFirefox:Mi,isMS:uh,isWebKit:jf,noop:ea,SVG_NS:E,symbolSizes:$,win:Y}=T,{addEvent:ne,attr:me,createElement:be,crisp:Ue,css:Jt,defined:vn,destroyObjectProperties:Ut,extend:An,isArray:hi,isNumber:Ss,isObject:Ti,isString:sc,merge:nl,pick:Uy,pInt:XN,replaceNested:JN,uniqueKey:QN}=Re;class $f{constructor(o,c,u,m,g,w,C){let S,O,F=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),M=F.element;C||F.css(this.getStyle(m||{})),o.appendChild(M),me(o,"dir","ltr"),o.innerHTML.indexOf("xmlns")===-1&&me(M,"xmlns",this.SVG_NS),this.box=M,this.boxWrapper=F,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Ys.createTextNode("Created with Highcharts 12.1.0")),this.defs=this.createElement("defs").add(),this.allowHTML=w,this.forExport=g,this.styledMode=C,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=F.getStyle("font-size"),this.setSize(c,u,!1),Mi&&o.getBoundingClientRect&&((S=function(){Jt(o,{left:0,top:0}),O=o.getBoundingClientRect(),Jt(o,{left:Math.ceil(O.left)-O.left+"px",top:Math.ceil(O.top)-O.top+"px"})})(),this.unSubPixelFix=ne(Y,"resize",S))}definition(o){return new dn([o]).addToDOM(this.defs.element)}getReferenceURL(){if((Mi||jf)&&Ys.getElementsByTagName("base").length){if(!vn(i)){let o=QN(),c=new dn([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:o},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${o})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Ys.body);Jt(c,{position:"fixed",top:0,left:0,zIndex:9e5});let u=Ys.elementFromPoint(6,6);i=(u&&u.id)==="hitme",Ys.body.removeChild(c)}if(i)return JN(Y.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(o){return this.style=An({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},o),this.style}setStyle(o){this.boxWrapper.css(this.getStyle(o))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let o=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Ut(this.gradients||{}),this.gradients=null,this.defs=o.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(o){return new this.Element(this,o)}getRadialAttr(o,c){return{cx:o[0]-o[2]/2+(c.cx||0)*o[2],cy:o[1]-o[2]/2+(c.cy||0)*o[2],r:(c.r||0)*o[2]}}shadowDefinition(o){let c=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(o).map(m=>`${m}-${o[m]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),u=nl({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},o);return this.defs.element.querySelector(`#${c}`)||this.definition({tagName:"filter",attributes:{id:c,filterUnits:u.filterUnits},children:this.getShadowFilterContent(u)}),c}getShadowFilterContent(o){return[{tagName:"feDropShadow",attributes:{dx:o.offsetX,dy:o.offsetY,"flood-color":o.color,"flood-opacity":Math.min(5*o.opacity,1),stdDeviation:o.width/2}}]}buildText(o){new Vf(o).buildSVG()}getContrast(o){let c=Nn.parse(o).rgba.map(m=>{let g=m/255;return g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}),u=.2126*c[0]+.7152*c[1]+.0722*c[2];return 1.05/(u+.05)>(u+.05)/.05?"#FFFFFF":"#000000"}button(o,c,u,m,g={},w,C,S,O,F){let M=this.label(o,c,u,O,void 0,void 0,F,void 0,"button"),j=this.styledMode,W=arguments,G=0;g=nl(Ff.global.buttonTheme,g),j&&(delete g.fill,delete g.stroke,delete g["stroke-width"]);let X=g.states||{},J=g.style||{};delete g.states,delete g.style;let K=[dn.filterUserAttributes(g)],ee=[J];return j||["hover","select","disabled"].forEach((te,le)=>{K.push(nl(K[0],dn.filterUserAttributes(W[le+5]||X[te]||{}))),ee.push(K[le+1].style),delete K[le+1].style}),ne(M.element,uh?"mouseover":"mouseenter",function(){G!==3&&M.setState(1)}),ne(M.element,uh?"mouseout":"mouseleave",function(){G!==3&&M.setState(G)}),M.setState=(te=0)=>{if(te!==1&&(M.state=G=te),M.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][te]),!j){M.attr(K[te]);let le=ee[te];Ti(le)&&M.css(le)}},M.attr(K[0]),!j&&(M.css(An({cursor:"default"},J)),F&&M.text.css({pointerEvents:"none"})),M.on("touchstart",te=>te.stopPropagation()).on("click",function(te){G!==3&&m.call(M,te)})}crispLine(o,c){let[u,m]=o;return vn(u[1])&&u[1]===m[1]&&(u[1]=m[1]=Ue(u[1],c)),vn(u[2])&&u[2]===m[2]&&(u[2]=m[2]=Ue(u[2],c)),o}path(o){let c=this.styledMode?{}:{fill:"none"};return hi(o)?c.d=o:Ti(o)&&An(c,o),this.createElement("path").attr(c)}circle(o,c,u){let m=Ti(o)?o:o===void 0?{}:{x:o,y:c,r:u},g=this.createElement("circle");return g.xSetter=g.ySetter=function(w,C,S){S.setAttribute("c"+C,w)},g.attr(m)}arc(o,c,u,m,g,w){let C;Ti(o)?(c=(C=o).y,u=C.r,m=C.innerR,g=C.start,w=C.end,o=C.x):C={innerR:m,start:g,end:w};let S=this.symbol("arc",o,c,u,u,C);return S.r=u,S}rect(o,c,u,m,g,w){let C=Ti(o)?o:o===void 0?{}:{x:o,y:c,r:g,width:Math.max(u||0,0),height:Math.max(m||0,0)},S=this.createElement("rect");return this.styledMode||(w!==void 0&&(C["stroke-width"]=w,An(C,S.crisp(C))),C.fill="none"),S.rSetter=function(O,F,M){S.r=O,me(M,{rx:O,ry:O})},S.rGetter=function(){return S.r||0},S.attr(C)}roundedRect(o){return this.symbol("roundedRect").attr(o)}setSize(o,c,u){this.width=o,this.height=c,this.boxWrapper.animate({width:o,height:c},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Uy(u,!0)?void 0:0}),this.alignElements()}g(o){let c=this.createElement("g");return o?c.attr({class:"highcharts-"+o}):c}image(o,c,u,m,g,w){let C={preserveAspectRatio:"none"};Ss(c)&&(C.x=c),Ss(u)&&(C.y=u),Ss(m)&&(C.width=m),Ss(g)&&(C.height=g);let S=this.createElement("image").attr(C),O=function(F){S.attr({href:o}),w.call(S,F)};if(w){S.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let F=new Y.Image;ne(F,"load",O),F.src=o,F.complete&&O({})}else S.attr({href:o});return S}symbol(o,c,u,m,g,w){let C,S,O,F,M=this,j=/^url\((.*?)\)$/,W=j.test(o),G=!W&&(this.symbols[o]?o:"circle"),X=G&&this.symbols[G];if(X)typeof c=="number"&&(S=X.call(this.symbols,c||0,u||0,m||0,g||0,w)),C=this.path(S),M.styledMode||C.attr("fill","none"),An(C,{symbolName:G||void 0,x:c,y:u,width:m,height:g}),w&&An(C,w);else if(W){O=o.match(j)[1];let J=C=this.image(O);J.imgwidth=Uy(w&&w.width,$[O]&&$[O].width),J.imgheight=Uy(w&&w.height,$[O]&&$[O].height),F=K=>K.attr({width:K.width,height:K.height}),["width","height"].forEach(K=>{J[`${K}Setter`]=function(ee,te){this[te]=ee;let{alignByTranslate:le,element:he,width:ue,height:fe,imgwidth:de,imgheight:ge}=this,Te=te==="width"?de:ge,Ae=1;w&&w.backgroundSize==="within"&&ue&&fe&&de&&ge?(Ae=Math.min(ue/de,fe/ge),me(he,{width:Math.round(de*Ae),height:Math.round(ge*Ae)})):he&&Te&&he.setAttribute(te,Te),!le&&de&&ge&&this.translate(((ue||0)-de*Ae)/2,((fe||0)-ge*Ae)/2)}}),vn(c)&&J.attr({x:c,y:u}),J.isImg=!0,J.symbolUrl=o,vn(J.imgwidth)&&vn(J.imgheight)?F(J):(J.attr({width:0,height:0}),be("img",{onload:function(){let K=Bf[M.chartIndex];this.width===0&&(Jt(this,{position:"absolute",top:"-999em"}),Ys.body.appendChild(this)),$[O]={width:this.width,height:this.height},J.imgwidth=this.width,J.imgheight=this.height,J.element&&F(J),this.parentNode&&this.parentNode.removeChild(this),M.imgCount--,M.imgCount||!K||K.hasLoaded||K.onload()},src:O}),this.imgCount++)}return C}clipRect(o,c,u,m){return this.rect(o,c,u,m,0)}text(o,c,u,m){let g={};if(m&&(this.allowHTML||!this.forExport))return this.html(o,c,u);g.x=Math.round(c||0),u&&(g.y=Math.round(u)),vn(o)&&(g.text=o);let w=this.createElement("text").attr(g);return m&&(!this.forExport||this.allowHTML)||(w.xSetter=function(C,S,O){let F=O.getElementsByTagName("tspan"),M=O.getAttribute(S);for(let j=0,W;j<F.length;j++)(W=F[j]).getAttribute(S)===M&&W.setAttribute(S,C);O.setAttribute(S,C)}),w}fontMetrics(o){let c=XN(us.prototype.getStyle.call(o,"font-size")||0),u=c<24?c+3:Math.round(1.2*c),m=Math.round(.8*u);return{h:u,b:m,f:c}}rotCorr(o,c,u){let m=o;return c&&u&&(m=Math.max(m*Math.cos(c*ch),4)),{x:-o/3*Math.sin(c*ch),y:m}}pathToSegments(o){let c=[],u=[],m={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let g=0;g<o.length;g++)sc(u[0])&&Ss(o[g])&&u.length===m[u[0].toUpperCase()]&&o.splice(g,0,u[0].replace("M","L").replace("m","l")),typeof o[g]=="string"&&(u.length&&c.push(u.slice(0)),u.length=0),u.push(o[g]);return c.push(u.slice(0)),c}label(o,c,u,m,g,w,C,S,O){return new hs(this,o,c,u,m,g,w,C,S,O)}alignElements(){this.alignedObjects.forEach(o=>o.align())}}An($f.prototype,{Element:us,SVG_NS:E,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:oh,draw:ea}),Yo.registerRendererType("svg",$f,!0);let{composed:ZN}=T,{attr:eL,css:rc,createElement:tL,defined:BC,extend:nL,getAlignFactor:iL,isNumber:sL,pInt:rL,pushUnique:oL}=Re;function jC(A,o,c){var m;let u=((m=this.div)==null?void 0:m.style)||c.style;us.prototype[`${o}Setter`].call(this,A,o,c),u&&(u[o]=A)}let aL=(A,o)=>{var c;if(!A.div){let u=eL(A.element,"class"),m=A.css,g=tL("div",u?{className:u}:void 0,{position:"absolute",left:`${A.translateX||0}px`,top:`${A.translateY||0}px`,...A.styles,display:A.display,opacity:A.opacity,visibility:A.visibility},((c=A.parentGroup)==null?void 0:c.div)||o);A.classSetter=(w,C,S)=>{S.setAttribute("class",w),g.className=w},A.translateXSetter=A.translateYSetter=(w,C)=>{A[C]=w,g.style[C==="translateX"?"left":"top"]=`${w}px`,A.doTransform=!0},A.opacitySetter=A.visibilitySetter=jC,A.css=w=>(m.call(A,w),w.cursor&&(g.style.cursor=w.cursor),w.pointerEvents&&(g.style.pointerEvents=w.pointerEvents),A),A.on=function(){return us.prototype.on.apply({element:g,onEvents:A.onEvents},arguments),A},A.div=g}return A.div};class hh extends us{static compose(o){oL(ZN,this.compose)&&(o.prototype.html=function(c,u,m){return new hh(this,"span").attr({text:c,x:Math.round(u),y:Math.round(m)})})}constructor(o,c){super(o,c),this.css({position:"absolute",...o.styledMode?{}:{fontFamily:o.style.fontFamily,fontSize:o.style.fontSize}})}getSpanCorrection(o,c,u){this.xCorr=-o*u,this.yCorr=-c}css(o){let c,{element:u}=this,m=u.tagName==="SPAN"&&o&&"width"in o,g=m&&o.width;return m&&(delete o.width,this.textWidth=rL(g)||void 0,c=!0),(o==null?void 0:o.textOverflow)==="ellipsis"&&(o.overflow="hidden"),o!=null&&o.lineClamp&&(o.display="-webkit-box",o.WebkitLineClamp=o.lineClamp,o.WebkitBoxOrient="vertical",o.overflow="hidden"),sL(Number(o==null?void 0:o.fontSize))&&(o.fontSize=o.fontSize+"px"),nL(this.styles,o),rc(u,o),c&&this.updateTransform(),this}htmlGetBBox(){let{element:o}=this;return{x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}}updateTransform(){var K;if(!this.added){this.alignOnAdd=!0;return}let{element:o,renderer:c,rotation:u,rotationOriginX:m,rotationOriginY:g,scaleX:w,scaleY:C,styles:S,textAlign:O="left",textWidth:F,translateX:M=0,translateY:j=0,x:W=0,y:G=0}=this,{display:X="block",whiteSpace:J}=S;if(rc(o,{marginLeft:`${M}px`,marginTop:`${j}px`}),o.tagName==="SPAN"){let ee,te=[u,O,o.innerHTML,F,this.textAlign].join(","),le=-(((K=this.parentGroup)==null?void 0:K.padding)*1)||0;if(F!==this.oldTextWidth){let de=this.textPxLength?this.textPxLength:(rc(o,{width:"",whiteSpace:J||"nowrap"}),o.offsetWidth),ge=F||0;(ge>this.oldTextWidth||de>ge)&&(/[ \-]/.test(o.textContent||o.innerText)||o.style.textOverflow==="ellipsis")&&(rc(o,{width:de>ge||u||w?F+"px":"auto",display:X,whiteSpace:J||"normal"}),this.oldTextWidth=F)}te!==this.cTT&&(ee=c.fontMetrics(o).b,BC(u)&&(u!==(this.oldRotation||0)||O!==this.oldAlign)&&this.setSpanRotation(u,le,le),this.getSpanCorrection(!BC(u)&&!this.textWidth&&this.textPxLength||o.offsetWidth,ee,iL(O)));let{xCorr:he=0,yCorr:ue=0}=this,fe={left:`${W+he}px`,top:`${G+ue}px`,textAlign:O,transformOrigin:`${(m??W)-he-W-le}px ${(g??G)-ue-G-le}px`};(w||C)&&(fe.transform=`scale(${w??1},${C??1})`),rc(o,fe),this.cTT=te,this.oldRotation=u,this.oldAlign=O}}setSpanRotation(o,c,u){rc(this.element,{transform:`rotate(${o}deg)`,transformOrigin:`${c}% ${u}px`})}add(o){let c,u=this.renderer.box.parentNode,m=[];if(this.parentGroup=o,o&&!(c=o.div)){let g=o;for(;g;)m.push(g),g=g.parentGroup;for(let w of m.reverse())c=aL(w,u)}return(c||u).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(o){o!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,dn.setElementHTML(this.element,o??""),this.textStr=o,this.doTransform=!0)}alignSetter(o){this.alignValue=this.textAlign=o,this.doTransform=!0}xSetter(o,c){this[c]=o,this.doTransform=!0}}let il=hh.prototype;il.visibilitySetter=il.opacitySetter=jC,il.ySetter=il.rotationSetter=il.rotationOriginXSetter=il.rotationOriginYSetter=il.xSetter,function(A){A.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},A.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:o}=this.axis.chart;return o(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(l||(l={}));let lL=l,{addEvent:cL,isFunction:uL,objectEach:hL,removeEvent:dL}=Re;(h||(h={})).registerEventOptions=function(A,o){A.eventOptions=A.eventOptions||{},hL(o.events,function(c,u){A.eventOptions[u]!==c&&(A.eventOptions[u]&&(dL(A,u,A.eventOptions[u]),delete A.eventOptions[u]),uL(c)&&(A.eventOptions[u]=c,cL(A,u,c,{order:0})))})};let Uf=h,{deg2rad:Hy}=T,{clamp:fL,correctFloat:Hf,defined:Wy,destroyObjectProperties:pL,extend:$C,fireEvent:dh,getAlignFactor:mL,isNumber:Wf,merge:gL,objectEach:yL,pick:Xs}=Re,oc=class{constructor(A,o,c,u,m){this.isNew=!0,this.isNewLabel=!0,this.axis=A,this.pos=o,this.type=c||"",this.parameters=m||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,dh(this,"init"),c||u||this.addLabel()}addLabel(){let A=this,o=A.axis,c=o.options,u=o.chart,m=o.categories,g=o.logarithmic,w=o.names,C=A.pos,S=Xs(A.options&&A.options.labels,c.labels),O=o.tickPositions,F=C===O[0],M=C===O[O.length-1],j=(!S.step||S.step===1)&&o.tickInterval===1,W=O.info,G=A.label,X,J,K,ee=this.parameters.category||(m?Xs(m[C],w[C],C):C);g&&Wf(ee)&&(ee=Hf(g.lin2log(ee))),o.dateTime&&(W?X=(J=u.time.resolveDTLFormat(c.dateTimeLabelFormats[!c.grid&&W.higherRanks[C]||W.unitName])).main:Wf(ee)&&(X=o.dateTime.getXDateFormat(ee,c.dateTimeLabelFormats||{}))),A.isFirst=F,A.isLast=M;let te={axis:o,chart:u,dateTimeLabelFormat:X,isFirst:F,isLast:M,pos:C,tick:A,tickPositionInfo:W,value:ee};dh(this,"labelFormat",te);let le=fe=>S.formatter?S.formatter.call(fe,fe):S.format?(fe.text=o.defaultLabelFormatter.call(fe),Qi.format(S.format,fe,u)):o.defaultLabelFormatter.call(fe),he=le.call(te,te),ue=J&&J.list;ue?A.shortenLabel=function(){for(K=0;K<ue.length;K++)if($C(te,{dateTimeLabelFormat:ue[K]}),G.attr({text:le.call(te,te)}),G.getBBox().width<o.getSlotWidth(A)-2*(S.padding||0))return;G.attr({text:""})}:A.shortenLabel=void 0,j&&o._addedPlotLB&&A.moveLabel(he,S),Wy(G)||A.movedLabel?G&&G.textStr!==he&&!j&&(!G.textWidth||S.style.width||G.styles.width||G.css({width:null}),G.attr({text:he}),G.textPxLength=G.getBBox().width):(A.label=G=A.createLabel(he,S),A.rotation=0)}createLabel(A,o,c){let u=this.axis,{renderer:m,styledMode:g}=u.chart,w=Wy(A)&&o.enabled?m.text(A,c==null?void 0:c.x,c==null?void 0:c.y,o.useHTML).add(u.labelGroup):void 0;if(w){let C=o.style.whiteSpace||"normal";g||w.css(gL(o.style,{whiteSpace:"nowrap"})),w.textPxLength=w.getBBox().width,g||w.css({whiteSpace:C})}return w}destroy(){pL(this,this.axis)}getPosition(A,o,c,u){let m=this.axis,g=m.chart,w=u&&g.oldChartHeight||g.chartHeight,C={x:A?Hf(m.translate(o+c,void 0,void 0,u)+m.transB):m.left+m.offset+(m.opposite?(u&&g.oldChartWidth||g.chartWidth)-m.right-m.left:0),y:A?w-m.bottom+m.offset-(m.opposite?m.height:0):Hf(w-m.translate(o+c,void 0,void 0,u)-m.transB)};return C.y=fL(C.y,-1e9,1e9),dh(this,"afterGetPosition",{pos:C}),C}getLabelPosition(A,o,c,u,m,g,w,C){let S,O,F=this.axis,M=F.transA,j=F.isLinked&&F.linkedParent?F.linkedParent.reversed:F.reversed,W=F.staggerLines,G=F.tickRotCorr||{x:0,y:0},X=u||F.reserveSpaceDefault?0:-F.labelOffset*(F.labelAlign==="center"?.5:1),J=m.distance,K={};return S=F.side===0?c.rotation?-J:-c.getBBox().height:F.side===2?G.y+J:Math.cos(c.rotation*Hy)*(G.y-c.getBBox(!1,0).height/2),Wy(m.y)&&(S=F.side===0&&F.horiz?m.y+S:m.y),A=A+Xs(m.x,[0,1,0,-1][F.side]*J)+X+G.x-(g&&u?g*M*(j?-1:1):0),o=o+S-(g&&!u?g*M*(j?1:-1):0),W&&(O=w/(C||1)%W,F.opposite&&(O=W-O-1),o+=O*(F.labelOffset/W)),K.x=A,K.y=Math.round(o),dh(this,"afterGetLabelPosition",{pos:K,tickmarkOffset:g,index:w}),K}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(A,o,c,u,m=!1,g){return g.crispLine([["M",A,o],["L",A+(m?0:-c),o+(m?c:0)]],u)}handleOverflow(A){let o=this.axis,c=o.options.labels,u=A.x,m=o.chart.chartWidth,g=o.chart.spacing,w=Xs(o.labelLeft,Math.min(o.pos,g[3])),C=Xs(o.labelRight,Math.max(o.isRadial?0:o.pos+o.len,m-g[1])),S=this.label,O=this.rotation,F=mL(o.labelAlign||S.attr("align")),M=S.getBBox().width,j=o.getSlotWidth(this),W=j,G=1,X,J,K;O||c.overflow!=="justify"?O<0&&u-F*M<w?K=Math.round(u/Math.cos(O*Hy)-w):O>0&&u+F*M>C&&(K=Math.round((m-u)/Math.cos(O*Hy))):(X=u-F*M,J=u+(1-F)*M,X<w?W=A.x+W*(1-F)-w:J>C&&(W=C-A.x+W*F,G=-1),(W=Math.min(j,W))<j&&o.labelAlign==="center"&&(A.x+=G*(j-W-F*(j-Math.min(M,W)))),(M>W||o.autoRotation&&(S.styles||{}).width)&&(K=W)),K&&S&&(this.shortenLabel?this.shortenLabel():S.css($C({},{width:Math.floor(K)+"px",lineClamp:o.isRadial?0:1})))}moveLabel(A,o){let c=this,u=c.label,m=c.axis,g=!1,w;u&&u.textStr===A?(c.movedLabel=u,g=!0,delete c.label):yL(m.ticks,function(C){g||C.isNew||C===c||!C.label||C.label.textStr!==A||(c.movedLabel=C.label,g=!0,C.labelPos=c.movedLabel.xy,delete C.label)}),!g&&(c.labelPos||u)&&(w=c.labelPos||u.xy,c.movedLabel=c.createLabel(A,o,w),c.movedLabel&&c.movedLabel.attr({opacity:0}))}render(A,o,c){let u=this.axis,m=u.horiz,g=this.pos,w=Xs(this.tickmarkOffset,u.tickmarkOffset),C=this.getPosition(m,g,w,o),S=C.x,O=C.y,F=u.pos,M=F+u.len,j=m?S:O;!u.chart.polar&&this.isNew&&(Hf(j)<F||j>M)&&(c=0);let W=Xs(c,this.label&&this.label.newOpacity,1);c=Xs(c,1),this.isActive=!0,this.renderGridLine(o,c),this.renderMark(C,c),this.renderLabel(C,o,W,A),this.isNew=!1,dh(this,"afterRender")}renderGridLine(A,o){let c=this.axis,u=c.options,m={},g=this.pos,w=this.type,C=Xs(this.tickmarkOffset,c.tickmarkOffset),S=c.chart.renderer,O=this.gridLine,F,M=u.gridLineWidth,j=u.gridLineColor,W=u.gridLineDashStyle;this.type==="minor"&&(M=u.minorGridLineWidth,j=u.minorGridLineColor,W=u.minorGridLineDashStyle),O||(c.chart.styledMode||(m.stroke=j,m["stroke-width"]=M||0,m.dashstyle=W),w||(m.zIndex=1),A&&(o=0),this.gridLine=O=S.path().attr(m).addClass("highcharts-"+(w?w+"-":"")+"grid-line").add(c.gridGroup)),O&&(F=c.getPlotLinePath({value:g+C,lineWidth:O.strokeWidth(),force:"pass",old:A,acrossPanes:!1}))&&O[A||this.isNew?"attr":"animate"]({d:F,opacity:o})}renderMark(A,o){let c=this.axis,u=c.options,m=c.chart.renderer,g=this.type,w=c.tickSize(g?g+"Tick":"tick"),C=A.x,S=A.y,O=Xs(u[g!=="minor"?"tickWidth":"minorTickWidth"],!g&&c.isXAxis?1:0),F=u[g!=="minor"?"tickColor":"minorTickColor"],M=this.mark,j=!M;w&&(c.opposite&&(w[0]=-w[0]),M||(this.mark=M=m.path().addClass("highcharts-"+(g?g+"-":"")+"tick").add(c.axisGroup),c.chart.styledMode||M.attr({stroke:F,"stroke-width":O})),M[j?"attr":"animate"]({d:this.getMarkPath(C,S,w[0],M.strokeWidth(),c.horiz,m),opacity:o}))}renderLabel(A,o,c,u){let m=this.axis,g=m.horiz,w=m.options,C=this.label,S=w.labels,O=S.step,F=Xs(this.tickmarkOffset,m.tickmarkOffset),M=A.x,j=A.y,W=!0;C&&Wf(M)&&(C.xy=A=this.getLabelPosition(M,j,C,g,S,F,u,O),(!this.isFirst||this.isLast||w.showFirstLabel)&&(!this.isLast||this.isFirst||w.showLastLabel)?!g||S.step||S.rotation||o||c===0||this.handleOverflow(A):W=!1,O&&u%O&&(W=!1),W&&Wf(A.y)?(A.opacity=c,C[this.isNewLabel?"attr":"animate"](A).show(!0),this.isNewLabel=!1):(C.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let A=this.label,o=this.axis;A&&!this.isNew&&(A.animate({opacity:0},void 0,A.destroy),delete this.label),o.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:vL}=kn,{xAxis:UC,yAxis:bL}=lL,{defaultOptions:zy}=Vn,{registerEventOptions:_L}=Uf,{deg2rad:wL}=T,{arrayMax:HC,arrayMin:CL,clamp:Gy,correctFloat:ds,defined:ln,destroyObjectProperties:xL,erase:WC,error:qy,extend:zf,fireEvent:Pn,getClosestDistance:zC,insertItem:EL,isArray:GC,isNumber:lt,isString:qC,merge:Gf,normalizeTickInterval:TL,objectEach:qf,pick:Tt,relativeLength:Kf,removeEvent:SL,splat:kL,syncTimeout:IL}=Re,KC=(A,o)=>TL(o,void 0,void 0,Tt(A.options.allowDecimals,o<.5||A.tickAmount!==void 0),!!A.tickAmount);zf(zy,{xAxis:UC,yAxis:Gf(UC,bL)});class ac{constructor(o,c,u){this.init(o,c,u)}init(o,c,u=this.coll){let m=u==="xAxis",g=this.isZAxis||(o.inverted?!m:m);this.chart=o,this.horiz=g,this.isXAxis=m,this.coll=u,Pn(this,"init",{userOptions:c}),this.opposite=Tt(c.opposite,this.opposite),this.side=Tt(c.side,this.side,g?this.opposite?0:2:this.opposite?1:3),this.setOptions(c);let w=this.options,C=w.labels;this.type??(this.type=w.type||"linear"),this.uniqueNames??(this.uniqueNames=w.uniqueNames??!0),Pn(this,"afterSetType"),this.userOptions=c,this.minPixelPadding=0,this.reversed=Tt(w.reversed,this.reversed),this.visible=w.visible,this.zoomEnabled=w.zoomEnabled,this.hasNames=this.type==="category"||w.categories===!0,this.categories=GC(w.categories)&&w.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=ln(w.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=w.minRange||w.maxZoom,this.range=w.range,this.offset=w.offset||0,this.max=void 0,this.min=void 0;let S=Tt(w.crosshair,kL(o.options.tooltip.crosshairs)[m?0:1]);this.crosshair=S===!0?{}:S,o.axes.indexOf(this)===-1&&(m?o.axes.splice(o.xAxis.length,0,this):o.axes.push(this),EL(this,o[this.coll])),o.orderItems(this.coll),this.series=this.series||[],o.inverted&&!this.isZAxis&&m&&!ln(this.reversed)&&(this.reversed=!0),this.labelRotation=lt(C.rotation)?C.rotation:void 0,_L(this,w),Pn(this,"afterInit")}setOptions(o){let c=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Gf(c,zy[this.coll],o),Pn(this,"afterSetOptions",{userOptions:o})}defaultLabelFormatter(){let o=this.axis,{numberFormatter:c}=this.chart,u=lt(this.value)?this.value:NaN,m=o.chart.time,g=o.categories,w=this.dateTimeLabelFormat,C=zy.lang,S=C.numericSymbols,O=C.numericSymbolMagnitude||1e3,F=o.logarithmic?Math.abs(u):o.tickInterval,M=S&&S.length,j,W;if(g)W=`${this.value}`;else if(w)W=m.dateFormat(w,u,!0);else if(M&&S&&F>=1e3)for(;M--&&W===void 0;)F>=(j=Math.pow(O,M+1))&&10*u%j==0&&S[M]!==null&&u!==0&&(W=c(u/j,-1)+S[M]);return W===void 0&&(W=Math.abs(u)>=1e4?c(u,-1):c(u,-1,void 0,"")),W}getSeriesExtremes(){let o,c=this;Pn(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=void 0,c.softThreshold=!c.isXAxis,c.series.forEach(u=>{if(u.reserveSpace()){let m=u.options,g,w=m.threshold,C,S;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=(w||0)&&(w=void 0),c.isXAxis)(g=u.getColumn("x")).length&&(g=c.logarithmic?g.filter(O=>O>0):g,C=(o=u.getXExtremes(g)).min,S=o.max,lt(C)||C instanceof Date||(g=g.filter(lt),C=(o=u.getXExtremes(g)).min,S=o.max),g.length&&(c.dataMin=Math.min(Tt(c.dataMin,C),C),c.dataMax=Math.max(Tt(c.dataMax,S),S)));else{let O=u.applyExtremes();lt(O.dataMin)&&(C=O.dataMin,c.dataMin=Math.min(Tt(c.dataMin,C),C)),lt(O.dataMax)&&(S=O.dataMax,c.dataMax=Math.max(Tt(c.dataMax,S),S)),ln(w)&&(c.threshold=w),(!m.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}}})}),Pn(this,"afterGetSeriesExtremes")}translate(o,c,u,m,g,w){var X;let C=this.linkedParent||this,S=m&&C.old?C.old.min:C.min;if(!lt(S))return NaN;let O=C.minPixelPadding,F=(C.isOrdinal||((X=C.brokenAxis)==null?void 0:X.hasBreaks)||C.logarithmic&&g)&&C.lin2val,M=1,j=0,W=m&&C.old?C.old.transA:C.transA,G=0;return W||(W=C.transA),u&&(M*=-1,j=C.len),C.reversed&&(M*=-1,j-=M*(C.sector||C.len)),c?(G=(o=o*M+j-O)/W+S,F&&(G=C.lin2val(G))):(F&&(o=C.val2lin(o)),G=M*(o-S)*W+j+M*O+(lt(w)?W*w:0),C.isRadial||(G=ds(G))),G}toPixels(o,c){var u;return this.translate(((u=this.chart)==null?void 0:u.time.parse(o))??NaN,!1,!this.horiz,void 0,!0)+(c?0:this.pos)}toValue(o,c){return this.translate(o-(c?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(o){let c=this,u=c.chart,m=c.left,g=c.top,w=o.old,C=o.value,S=o.lineWidth,O=w&&u.oldChartHeight||u.chartHeight,F=w&&u.oldChartWidth||u.chartWidth,M=c.transB,j=o.translatedValue,W=o.force,G,X,J,K,ee;function te(he,ue,fe){return W!=="pass"&&(he<ue||he>fe)&&(W?he=Gy(he,ue,fe):ee=!0),he}let le={value:C,lineWidth:S,old:w,force:W,acrossPanes:o.acrossPanes,translatedValue:j};return Pn(this,"getPlotLinePath",le,function(he){G=J=(j=Gy(j=Tt(j,c.translate(C,void 0,void 0,w)),-1e9,1e9))+M,X=K=O-j-M,lt(j)?c.horiz?(X=g,K=O-c.bottom+(c.options.isInternal?0:u.scrollablePixelsY||0),G=J=te(G,m,m+c.width)):(G=m,J=F-c.right+(u.scrollablePixelsX||0),X=K=te(X,g,g+c.height)):(ee=!0,W=!1),he.path=ee&&!W?void 0:u.renderer.crispLine([["M",G,X],["L",J,K]],S||1)}),le.path}getLinearTickPositions(o,c,u){let m,g,w,C=ds(Math.floor(c/o)*o),S=ds(Math.ceil(u/o)*o),O=[];if(ds(C+o)===C&&(w=20),this.single)return[c];for(m=C;m<=S&&(O.push(m),(m=ds(m+o,w))!==g);)g=m;return O}getMinorTickInterval(){let{minorTicks:o,minorTickInterval:c}=this.options;return o===!0?Tt(c,"auto"):o!==!1?c:void 0}getMinorTickPositions(){var F;let o=this.options,c=this.tickPositions,u=this.minorTickInterval,m=this.pointRangePadding||0,g=(this.min||0)-m,w=(this.max||0)+m,C=(F=this.brokenAxis)!=null&&F.hasBreaks?this.brokenAxis.unitLength:w-g,S=[],O;if(C&&C/u<this.len/3){let M=this.logarithmic;if(M)this.paddedTicks.forEach(function(j,W,G){W&&S.push.apply(S,M.getLogTickPositions(u,G[W-1],G[W],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")S=S.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(u),g,w,o.startOfWeek));else for(O=g+(c[0]-g)%u;O<=w&&O!==S[0];O+=u)S.push(O)}return S.length!==0&&this.trimTicks(S),S}adjustForMinRange(){let o=this.options,c=this.logarithmic,u=this.chart.time,{max:m,min:g,minRange:w}=this,C,S,O,F;this.isXAxis&&w===void 0&&!c&&(w=ln(o.min)||ln(o.max)||ln(o.floor)||ln(o.ceiling)?null:Math.min(5*(zC(this.series.map(M=>{let j=M.getColumn("x");return M.xIncrement?j.slice(0,2):j}))||0),this.dataMax-this.dataMin)),lt(m)&&lt(g)&&lt(w)&&m-g<w&&(S=this.dataMax-this.dataMin>=w,C=(w-m+g)/2,O=[g-C,u.parse(o.min)??g-C],S&&(O[2]=c?c.log2lin(this.dataMin):this.dataMin),F=[(g=HC(O))+w,u.parse(o.max)??g+w],S&&(F[2]=c?c.log2lin(this.dataMax):this.dataMax),(m=CL(F))-g<w&&(O[0]=m-w,O[1]=u.parse(o.min)??m-w,g=HC(O))),this.minRange=w,this.min=g,this.max=m}getClosest(){let o,c;if(this.categories)c=1;else{let u=[];this.series.forEach(function(m){let g=m.closestPointRange,w=m.getColumn("x");w.length===1?u.push(w[0]):m.sorted&&ln(g)&&m.reserveSpace()&&(c=ln(c)?Math.min(c,g):g)}),u.length&&(u.sort((m,g)=>m-g),o=zC([u]))}return o&&c?Math.min(o,c):o||c}nameToX(o){let c=GC(this.options.categories),u=c?this.categories:this.names,m=o.options.x,g;return o.series.requireSorting=!1,ln(m)||(m=this.uniqueNames&&u?c?u.indexOf(o.name):Tt(u.keys[o.name],-1):o.series.autoIncrement()),m===-1?!c&&u&&(g=u.length):lt(m)&&(g=m),g!==void 0?(this.names[g]=o.name,this.names.keys[o.name]=g):o.x&&(g=o.x),g}updateNames(){let o=this,c=this.names;c.length>0&&(Object.keys(c.keys).forEach(function(u){delete c.keys[u]}),c.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(u=>{u.xIncrement=null,(!u.points||u.isDirtyData)&&(o.max=Math.max(o.max||0,u.dataTable.rowCount-1),u.processData(),u.generatePoints());let m=u.getColumn("x").slice();u.data.forEach((g,w)=>{let C=m[w];g!=null&&g.options&&g.name!==void 0&&(C=o.nameToX(g))!==void 0&&C!==g.x&&(m[w]=g.x=C)}),u.dataTable.setColumn("x",m)}))}setAxisTranslation(){let o=this,c=o.max-o.min,u=o.linkedParent,m=!!o.categories,g=o.isXAxis,w=o.axisPointRange||0,C,S=0,O=0,F,M=o.transA;(g||m||w)&&(C=o.getClosest(),u?(S=u.minPointOffset,O=u.pointRangePadding):o.series.forEach(function(j){let W=m?1:g?Tt(j.options.pointRange,C,0):o.axisPointRange||0,G=j.options.pointPlacement;if(w=Math.max(w,W),!o.single||m){let X=j.is("xrange")?!g:g;S=Math.max(S,X&&qC(G)?0:W/2),O=Math.max(O,X&&G==="on"?0:W)}}),F=o.ordinal&&o.ordinal.slope&&C?o.ordinal.slope/C:1,o.minPointOffset=S*=F,o.pointRangePadding=O*=F,o.pointRange=Math.min(w,o.single&&m?1:c),g&&C&&(o.closestPointRange=C)),o.translationSlope=o.transA=M=o.staticScale||o.len/(c+O||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=M*S,Pn(this,"afterSetAxisTranslation")}minFromRange(){let{max:o,min:c}=this;return lt(o)&&lt(c)&&o-c||void 0}setTickInterval(o){var it,xt,et,bt;let{categories:c,chart:u,dataMax:m,dataMin:g,dateTime:w,isXAxis:C,logarithmic:S,options:O,softThreshold:F}=this,M=u.time,j=lt(this.threshold)?this.threshold:void 0,W=this.minRange||0,{ceiling:G,floor:X,linkedTo:J,softMax:K,softMin:ee}=O,te=lt(J)&&((it=u[this.coll])==null?void 0:it[J]),le=O.tickPixelInterval,he=O.maxPadding,ue=O.minPadding,fe=0,de,ge=lt(O.tickInterval)&&O.tickInterval>=0?O.tickInterval:void 0,Te,Ae,$e,xe;if(w||c||te||this.getTickAmount(),$e=Tt(this.userMin,M.parse(O.min)),xe=Tt(this.userMax,M.parse(O.max)),te?(this.linkedParent=te,de=te.getExtremes(),this.min=Tt(de.min,de.dataMin),this.max=Tt(de.max,de.dataMax),this.type!==te.type&&qy(11,!0,u)):(F&&ln(j)&&lt(m)&&lt(g)&&(g>=j?(Te=j,ue=0):m<=j&&(Ae=j,he=0)),this.min=Tt($e,Te,g),this.max=Tt(xe,Ae,m)),lt(this.max)&&lt(this.min)&&(S&&(this.positiveValuesOnly&&!o&&0>=Math.min(this.min,Tt(g,this.min))&&qy(10,!0,u),this.min=ds(S.log2lin(this.min),16),this.max=ds(S.log2lin(this.max),16)),this.range&&lt(g)&&(this.userMin=this.min=$e=Math.max(g,this.minFromRange()||0),this.userMax=xe=this.max,this.range=void 0)),Pn(this,"foundExtremes"),this.adjustForMinRange(),lt(this.min)&&lt(this.max)){if(!lt(this.userMin)&&lt(ee)&&ee<this.min&&(this.min=$e=ee),!lt(this.userMax)&&lt(K)&&K>this.max&&(this.max=xe=K),c||this.axisPointRange||(xt=this.stacking)!=null&&xt.usePercentage||te||!(fe=this.max-this.min)||(!ln($e)&&ue&&(this.min-=fe*ue),ln(xe)||!he||(this.max+=fe*he)),!lt(this.userMin)&&lt(X)&&(this.min=Math.max(this.min,X)),!lt(this.userMax)&&lt(G)&&(this.max=Math.min(this.max,G)),F&&lt(g)&&lt(m)){let Qe=j||0;!ln($e)&&this.min<Qe&&g>=Qe?this.min=O.minRange?Math.min(Qe,this.max-W):Qe:!ln(xe)&&this.max>Qe&&m<=Qe&&(this.max=O.minRange?Math.max(Qe,this.min+W):Qe)}!u.polar&&this.min>this.max&&(ln(O.min)?this.max=this.min:ln(O.max)&&(this.min=this.max)),fe=this.max-this.min}if(this.min!==this.max&&lt(this.min)&&lt(this.max)?te&&!ge&&le===te.options.tickPixelInterval?this.tickInterval=ge=te.tickInterval:this.tickInterval=Tt(ge,this.tickAmount?fe/Math.max(this.tickAmount-1,1):void 0,c?1:fe*le/Math.max(this.len,le)):this.tickInterval=1,C&&!o){let Qe=this.min!==((et=this.old)==null?void 0:et.min)||this.max!==((bt=this.old)==null?void 0:bt.max);this.series.forEach(function(ot){var mt;ot.forceCrop=(mt=ot.forceCropping)==null?void 0:mt.call(ot),ot.processData(Qe)}),Pn(this,"postProcessData",{hasExtremesChanged:Qe})}this.setAxisTranslation(),Pn(this,"initialAxisTranslation"),this.pointRange&&!ge&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Be=Tt(O.minTickInterval,w&&!this.series.some(Qe=>!Qe.sorted)?this.closestPointRange:0);!ge&&this.tickInterval<Be&&(this.tickInterval=Be),w||S||ge||(this.tickInterval=KC(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var F,M;let o=this.options,c=o.tickPositions,u=o.tickPositioner,m=this.getMinorTickInterval(),g=!this.isPanning,w=g&&o.startOnTick,C=g&&o.endOnTick,S=[],O;if(this.tickmarkOffset=this.categories&&o.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&ln(this.min)&&!this.tickAmount&&(this.min%1==0||o.allowDecimals!==!1),c)S=c.slice();else if(lt(this.min)&&lt(this.max)){if(!((F=this.ordinal)!=null&&F.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))S=[this.min,this.max],qy(19,!1,this.chart);else if(this.dateTime)S=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,o.units),this.min,this.max,o.startOfWeek,(M=this.ordinal)==null?void 0:M.positions,this.closestPointRange,!0);else if(this.logarithmic)S=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let j=this.tickInterval,W=j;for(;W<=2*j&&(S=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&S.length>this.tickAmount);)this.tickInterval=KC(this,W*=1.1)}S.length>this.len&&(S=[S[0],S[S.length-1]])[0]===S[1]&&(S.length=1),u&&(this.tickPositions=S,(O=u.apply(this,[this.min,this.max]))&&(S=O))}this.tickPositions=S,this.minorTickInterval=m==="auto"&&this.tickInterval?this.tickInterval/o.minorTicksPerMajor:m,this.paddedTicks=S.slice(0),this.trimTicks(S,w,C),!this.isLinked&&lt(this.min)&&lt(this.max)&&(this.single&&S.length<2&&!this.categories&&!this.series.some(j=>j.is("heatmap")&&j.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),c||O||this.adjustTickAmount()),Pn(this,"afterSetTickPositions")}trimTicks(o,c,u){let m=o[0],g=o[o.length-1],w=!this.isOrdinal&&this.minPointOffset||0;if(Pn(this,"trimTicks"),!this.isLinked){if(c&&m!==-1/0)this.min=m;else for(;this.min-w>o[0];)o.shift();if(u)this.max=g;else for(;this.max+w<o[o.length-1];)o.pop();o.length===0&&ln(m)&&!this.options.tickPositions&&o.push((g+m)/2)}}alignToOthers(){let o,c=this,u=c.chart,m=[this],g=c.options,w=u.options.chart,C=this.coll==="yAxis"&&w.alignThresholds,S=[];if(c.thresholdAlignment=void 0,(w.alignTicks!==!1&&g.alignTicks||C)&&g.startOnTick!==!1&&g.endOnTick!==!1&&!c.logarithmic){let O=M=>{let{horiz:j,options:W}=M;return[j?W.left:W.top,W.width,W.height,W.pane].join(",")},F=O(this);u[this.coll].forEach(function(M){let{series:j}=M;j.length&&j.some(W=>W.visible)&&M!==c&&O(M)===F&&(o=!0,m.push(M))})}if(o&&C){m.forEach(F=>{let M=F.getThresholdAlignment(c);lt(M)&&S.push(M)});let O=S.length>1?S.reduce((F,M)=>F+=M,0)/S.length:void 0;m.forEach(F=>{F.thresholdAlignment=O})}return o}getThresholdAlignment(o){if((!lt(this.dataMin)||this!==o&&this.series.some(c=>c.isDirty||c.isDirtyData))&&this.getSeriesExtremes(),lt(this.threshold)){let c=Gy((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(c=1-c),c}}getTickAmount(){let o=this.options,c=o.tickPixelInterval,u=o.tickAmount;ln(o.tickInterval)||u||!(this.len<c)||this.isRadial||this.logarithmic||!o.startOnTick||!o.endOnTick||(u=2),!u&&this.alignToOthers()&&(u=Math.ceil(this.len/c)+1),u<4&&(this.finalTickAmt=u,u=5),this.tickAmount=u}adjustTickAmount(){let o=this,{finalTickAmt:c,max:u,min:m,options:g,tickPositions:w,tickAmount:C,thresholdAlignment:S}=o,O=w==null?void 0:w.length,F=Tt(o.threshold,o.softThreshold?0:null),M,j,W=o.tickInterval,G,X=()=>w.push(ds(w[w.length-1]+W)),J=()=>w.unshift(ds(w[0]-W));if(lt(S)&&(G=S<.5?Math.ceil(S*(C-1)):Math.floor(S*(C-1)),g.reversed&&(G=C-1-G)),o.hasData()&&lt(m)&&lt(u)){let K=()=>{o.transA*=(O-1)/(C-1),o.min=g.startOnTick?w[0]:Math.min(m,w[0]),o.max=g.endOnTick?w[w.length-1]:Math.max(u,w[w.length-1])};if(lt(G)&&lt(o.threshold)){for(;w[G]!==F||w.length!==C||w[0]>m||w[w.length-1]<u;){for(w.length=0,w.push(o.threshold);w.length<C;)w[G]===void 0||w[G]>o.threshold?J():X();if(W>8*o.tickInterval)break;W*=2}K()}else if(O<C){for(;w.length<C;)w.length%2||m===F?X():J();K()}if(ln(c)){for(j=M=w.length;j--;)(c===3&&j%2==1||c<=2&&j>0&&j<M-1)&&w.splice(j,1);o.finalTickAmt=void 0}}}setScale(){var w,C;let{coll:o,stacking:c}=this,u=!1,m=!1;this.series.forEach(S=>{u=u||S.isDirtyData||S.isDirty,m=m||S.xAxis&&S.xAxis.isDirty||!1}),this.setAxisSize();let g=this.len!==(this.old&&this.old.len);g||u||m||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(c&&o==="yAxis"&&c.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),c&&o==="xAxis"&&c.buildStacks(),this.isDirty||(this.isDirty=g||this.min!==((w=this.old)==null?void 0:w.min)||this.max!==((C=this.old)==null?void 0:C.max))):c&&c.cleanStacks(),u&&delete this.allExtremes,Pn(this,"afterSetScale")}setExtremes(o,c,u=!0,m,g){let w=this.chart;this.series.forEach(C=>{delete C.kdTree}),o=w.time.parse(o),c=w.time.parse(c),Pn(this,"setExtremes",g=zf(g,{min:o,max:c}),C=>{this.userMin=C.min,this.userMax=C.max,this.eventArgs=C,u&&w.redraw(m)})}setAxisSize(){let o=this.chart,c=this.options,u=c.offsets||[0,0,0,0],m=this.horiz,g=this.width=Math.round(Kf(Tt(c.width,o.plotWidth-u[3]+u[1]),o.plotWidth)),w=this.height=Math.round(Kf(Tt(c.height,o.plotHeight-u[0]+u[2]),o.plotHeight)),C=this.top=Math.round(Kf(Tt(c.top,o.plotTop+u[0]),o.plotHeight,o.plotTop)),S=this.left=Math.round(Kf(Tt(c.left,o.plotLeft+u[3]),o.plotWidth,o.plotLeft));this.bottom=o.chartHeight-w-C,this.right=o.chartWidth-g-S,this.len=Math.max(m?g:w,0),this.pos=m?S:C}getExtremes(){let o=this.logarithmic;return{min:o?ds(o.lin2log(this.min)):this.min,max:o?ds(o.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(o){let c=this.logarithmic,u=c?c.lin2log(this.min):this.min,m=c?c.lin2log(this.max):this.max;return o===null||o===-1/0?o=u:o===1/0?o=m:u>o?o=u:m<o&&(o=m),this.translate(o,0,1,0,1)}autoLabelAlign(o){let c=(Tt(o,0)-90*this.side+720)%360,u={align:"center"};return Pn(this,"autoLabelAlign",u,function(m){c>15&&c<165?m.align="right":c>195&&c<345&&(m.align="left")}),u.align}tickSize(o){let c=this.options,u=Tt(c[o==="tick"?"tickWidth":"minorTickWidth"],o==="tick"&&this.isXAxis&&!this.categories?1:0),m=c[o==="tick"?"tickLength":"minorTickLength"],g;u&&m&&(c[o+"Position"]==="inside"&&(m=-m),g=[m,u]);let w={tickSize:g};return Pn(this,"afterTickSize",w),w.tickSize}labelMetrics(){let o=this.chart.renderer,c=this.ticks,u=c[Object.keys(c)[0]]||{};return this.chart.renderer.fontMetrics(u.label||u.movedLabel||o.box)}unsquish(){let o=this.options.labels,c=o.padding||0,u=this.horiz,m=this.tickInterval,g=this.len/(((this.categories?1:0)+this.max-this.min)/m),w=o.rotation,C=ds(.8*this.labelMetrics().h),S=Math.max(this.max-this.min,0),O=function(G){let X=(G+2*c)/(g||1);return(X=X>1?Math.ceil(X):1)*m>S&&G!==1/0&&g!==1/0&&S&&(X=Math.ceil(S/m)),ds(X*m)},F=m,M,j=Number.MAX_VALUE,W;if(u){if(!o.staggerLines&&(lt(w)?W=[w]:g<o.autoRotationLimit&&(W=o.autoRotation)),W){let G,X;for(let J of W)(J===w||J&&J>=-90&&J<=90)&&(X=(G=O(Math.abs(C/Math.sin(wL*J))))+Math.abs(J/360))<j&&(j=X,M=J,F=G)}}else F=O(.75*C);return this.autoRotation=W,this.labelRotation=Tt(M,lt(w)?w:0),o.step?m:F}getSlotWidth(o){let c=this.chart,u=this.horiz,m=this.options.labels,g=Math.max(this.tickPositions.length-(this.categories?0:1),1),w=c.margin[3];if(o&&lt(o.slotWidth))return o.slotWidth;if(u&&m.step<2&&!this.isRadial)return m.rotation?0:(this.staggerLines||1)*this.len/g;if(!u){let C=m.style.width;if(C!==void 0)return parseInt(String(C),10);if(w)return w-c.spacing[3]}return .33*c.chartWidth}renderUnsquish(){let o=this.chart,c=o.renderer,u=this.tickPositions,m=this.ticks,g=this.options.labels,w=g.style,C=this.horiz,S=this.getSlotWidth(),O=Math.max(1,Math.round(S-(C?2*(g.padding||0):g.distance||0))),F={},M=this.labelMetrics(),j=w.lineClamp,W,G=j??(Math.floor(this.len/(u.length*M.h))||1),X=0;qC(g.rotation)||(F.rotation=g.rotation||0),u.forEach(function(J){var te;let K=m[J];K.movedLabel&&K.replaceMovedLabel();let ee=((te=K.label)==null?void 0:te.textPxLength)||0;ee>X&&(X=ee)}),this.maxLabelLength=X,this.autoRotation?X>O&&X>M.h?F.rotation=this.labelRotation:this.labelRotation=0:S&&(W=O),F.rotation&&(W=X>.5*o.chartHeight?.33*o.chartHeight:X,j||(G=1)),this.labelAlign=g.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(F.align=this.labelAlign),u.forEach(function(J){let K=m[J],ee=K&&K.label,te=w.width,le={};ee&&(ee.attr(F),K.shortenLabel?K.shortenLabel():W&&!te&&w.whiteSpace!=="nowrap"&&(W<(ee.textPxLength||0)||ee.element.tagName==="SPAN")?ee.css(zf(le,{width:`${W}px`,lineClamp:G})):!ee.styles.width||le.width||te||ee.css({width:"auto"}),K.rotation=F.rotation)},this),this.tickRotCorr=c.rotCorr(M.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(o){return o.hasData()})||this.options.showEmpty&&ln(this.min)&&ln(this.max)}addTitle(o){let c,u=this.chart.renderer,m=this.horiz,g=this.opposite,w=this.options.title,C=this.chart.styledMode;this.axisTitle||((c=w.textAlign)||(c=(m?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[w.align]),this.axisTitle=u.text(w.text||"",0,0,w.useHTML).attr({zIndex:7,rotation:w.rotation||0,align:c}).addClass("highcharts-axis-title"),C||this.axisTitle.css(Gf(w.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),C||w.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[o?"show":"hide"](o)}generateTick(o){let c=this.ticks;c[o]?c[o].addLabel():c[o]=new oc(this,o)}createGroups(){let{axisParent:o,chart:c,coll:u,options:m}=this,g=c.renderer,w=(C,S,O)=>g.g(C).attr({zIndex:O}).addClass(`highcharts-${u.toLowerCase()}${S} `+(this.isRadial?`highcharts-radial-axis${S} `:"")+(m.className||"")).add(o);this.axisGroup||(this.gridGroup=w("grid","-grid",m.gridZIndex),this.axisGroup=w("axis","",m.zIndex),this.labelGroup=w("axis-labels","-labels",m.labels.zIndex))}getOffset(){let o=this,{chart:c,horiz:u,options:m,side:g,ticks:w,tickPositions:C,coll:S}=o,O=c.inverted&&!o.isZAxis?[1,0,3,2][g]:g,F=o.hasData(),M=m.title,j=m.labels,W=lt(m.crossing),G=c.axisOffset,X=c.clipOffset,J=[-1,1,1,-1][g],K,ee=0,te,le=0,he=0,ue,fe;if(o.showAxis=K=F||m.showEmpty,o.staggerLines=o.horiz&&j.staggerLines||void 0,o.createGroups(),F||o.isLinked?(C.forEach(function(de){o.generateTick(de)}),o.renderUnsquish(),o.reserveSpaceDefault=g===0||g===2||{1:"left",3:"right"}[g]===o.labelAlign,Tt(j.reserveSpace,!W&&null,o.labelAlign==="center"||null,o.reserveSpaceDefault)&&C.forEach(function(de){he=Math.max(w[de].getLabelSize(),he)}),o.staggerLines&&(he*=o.staggerLines),o.labelOffset=he*(o.opposite?-1:1)):qf(w,function(de,ge){de.destroy(),delete w[ge]}),M!=null&&M.text&&M.enabled!==!1&&(o.addTitle(K),K&&!W&&M.reserveSpace!==!1&&(o.titleOffset=ee=o.axisTitle.getBBox()[u?"height":"width"],le=ln(te=M.offset)?0:Tt(M.margin,u?5:10))),o.renderLine(),o.offset=J*Tt(m.offset,G[g]?G[g]+(m.margin||0):0),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},fe=g===0?-o.labelMetrics().h:g===2?o.tickRotCorr.y:0,ue=Math.abs(he)+le,he&&(ue-=fe,ue+=J*(u?Tt(j.y,o.tickRotCorr.y+J*j.distance):Tt(j.x,J*j.distance))),o.axisTitleMargin=Tt(te,ue),o.getMaxLabelDimensions&&(o.maxLabelDimensions=o.getMaxLabelDimensions(w,C)),S!=="colorAxis"&&X){let de=this.tickSize("tick");G[g]=Math.max(G[g],(o.axisTitleMargin||0)+ee+J*o.offset,ue,C&&C.length&&de?de[0]+J*o.offset:0);let ge=!o.axisLine||m.offset?0:o.axisLine.strokeWidth()/2;X[O]=Math.max(X[O],ge)}Pn(this,"afterGetOffset")}getLinePath(o){let c=this.chart,u=this.opposite,m=this.offset,g=this.horiz,w=this.left+(u?this.width:0)+m,C=c.chartHeight-this.bottom-(u?this.height:0)+m;return u&&(o*=-1),c.renderer.crispLine([["M",g?this.left:w,g?C:this.top],["L",g?c.chartWidth-this.right:w,g?C:c.chartHeight-this.bottom]],o)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(o){let c=this.horiz,u=this.left,m=this.top,g=this.len,w=this.options.title,C=c?u:m,S=this.opposite,O=this.offset,F=w.x,M=w.y,j=this.chart.renderer.fontMetrics(o),W=o?Math.max(o.getBBox(!1,0).height-j.h-1,0):0,G={low:C+(c?0:g),middle:C+g/2,high:C+(c?g:0)}[w.align],X=(c?m+this.height:u)+(c?1:-1)*(S?-1:1)*(this.axisTitleMargin||0)+[-W,W,j.f,-W][this.side],J={x:c?G+F:X+(S?this.width:0)+O+F,y:c?X+M-(S?this.height:0)+O:G+M};return Pn(this,"afterGetTitlePosition",{titlePosition:J}),J}renderMinorTick(o,c){let u=this.minorTicks;u[o]||(u[o]=new oc(this,o,"minor")),c&&u[o].isNew&&u[o].render(null,!0),u[o].render(null,!1,1)}renderTick(o,c,u){let m=this.isLinked,g=this.ticks;(!m||o>=this.min&&o<=this.max||this.grid&&this.grid.isColumn)&&(g[o]||(g[o]=new oc(this,o)),u&&g[o].isNew&&g[o].render(c,!0,-1),g[o].render(c))}render(){let o,c,u=this,m=u.chart,g=u.logarithmic,w=m.renderer,C=u.options,S=u.isLinked,O=u.tickPositions,F=u.axisTitle,M=u.ticks,j=u.minorTicks,W=u.alternateBands,G=C.stackLabels,X=C.alternateGridColor,J=C.crossing,K=u.tickmarkOffset,ee=u.axisLine,te=u.showAxis,le=vL(w.globalAnimation);if(u.labelEdge.length=0,u.overlap=!1,[M,j,W].forEach(function(he){qf(he,function(ue){ue.isActive=!1})}),lt(J)){let he=this.isXAxis?m.yAxis[0]:m.xAxis[0],ue=[1,-1,-1,1][this.side];if(he){let fe=he.toPixels(J,!0);u.horiz&&(fe=he.len-fe),u.offset=ue*fe}}if(u.hasData()||S){let he=u.chart.hasRendered&&u.old&&lt(u.old.min);u.minorTickInterval&&!u.categories&&u.getMinorTickPositions().forEach(function(ue){u.renderMinorTick(ue,he)}),O.length&&(O.forEach(function(ue,fe){u.renderTick(ue,fe,he)}),K&&(u.min===0||u.single)&&(M[-1]||(M[-1]=new oc(u,-1,null,!0)),M[-1].render(-1))),X&&O.forEach(function(ue,fe){c=O[fe+1]!==void 0?O[fe+1]+K:u.max-K,fe%2==0&&ue<u.max&&c<=u.max+(m.polar?-K:K)&&(W[ue]||(W[ue]=new T.PlotLineOrBand(u,{})),o=ue+K,W[ue].options={from:g?g.lin2log(o):o,to:g?g.lin2log(c):c,color:X,className:"highcharts-alternate-grid"},W[ue].render(),W[ue].isActive=!0)}),u._addedPlotLB||(u._addedPlotLB=!0,(C.plotLines||[]).concat(C.plotBands||[]).forEach(function(ue){u.addPlotBandOrLine(ue)}))}[M,j,W].forEach(function(he){let ue=[],fe=le.duration;qf(he,function(de,ge){de.isActive||(de.render(ge,!1,0),de.isActive=!1,ue.push(ge))}),IL(function(){let de=ue.length;for(;de--;)he[ue[de]]&&!he[ue[de]].isActive&&(he[ue[de]].destroy(),delete he[ue[de]])},he!==W&&m.hasRendered&&fe?fe:0)}),ee&&(ee[ee.isPlaced?"animate":"attr"]({d:this.getLinePath(ee.strokeWidth())}),ee.isPlaced=!0,ee[te?"show":"hide"](te)),F&&te&&(F[F.isNew?"attr":"animate"](u.getTitlePosition(F)),F.isNew=!1),G&&G.enabled&&u.stacking&&u.stacking.renderStackTotals(),u.old={len:u.len,max:u.max,min:u.min,transA:u.transA,userMax:u.userMax,userMin:u.userMin},u.isDirty=!1,Pn(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(o){o.render()})),this.series.forEach(function(o){o.isDirty=!0})}getKeepProps(){return this.keepProps||ac.keepProps}destroy(o){let c=this,u=c.plotLinesAndBands,m=this.eventOptions;if(Pn(this,"destroy",{keepEvents:o}),o||SL(c),[c.ticks,c.minorTicks,c.alternateBands].forEach(function(g){xL(g)}),u){let g=u.length;for(;g--;)u[g].destroy()}for(let g in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(w){c[w]&&(c[w]=c[w].destroy())}),c.plotLinesAndBandsGroups)c.plotLinesAndBandsGroups[g]=c.plotLinesAndBandsGroups[g].destroy();qf(c,function(g,w){c.getKeepProps().indexOf(w)===-1&&delete c[w]}),this.eventOptions=m}drawCrosshair(o,c){let u=this.crosshair,m=Tt(u&&u.snap,!0),g=this.chart,w,C,S,O=this.cross,F;if(Pn(this,"drawCrosshair",{e:o,point:c}),o||(o=this.cross&&this.cross.e),u&&(ln(c)||!m)!==!1){if(m?ln(c)&&(C=Tt(this.coll!=="colorAxis"?c.crosshairPos:null,this.isXAxis?c.plotX:this.len-c.plotY)):C=o&&(this.horiz?o.chartX-this.pos:this.len-o.chartY+this.pos),ln(C)&&(F={value:c&&(this.isXAxis?c.x:Tt(c.stackY,c.y)),translatedValue:C},g.polar&&zf(F,{isCrosshair:!0,chartX:o&&o.chartX,chartY:o&&o.chartY,point:c}),w=this.getPlotLinePath(F)||null),!ln(w)){this.hideCrosshair();return}S=this.categories&&!this.isRadial,O||(this.cross=O=g.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(S?"category ":"thin ")+(u.className||"")).attr({zIndex:Tt(u.zIndex,2)}).add(),!g.styledMode&&(O.attr({stroke:u.color||(S?Nn.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Tt(u.width,1)}).css({"pointer-events":"none"}),u.dashStyle&&O.attr({dashstyle:u.dashStyle}))),O.show().attr({d:w}),S&&!u.width&&O.attr({"stroke-width":this.transA}),this.cross.e=o}else this.hideCrosshair();Pn(this,"afterDrawCrosshair",{e:o,point:c})}hideCrosshair(){this.cross&&this.cross.hide(),Pn(this,"afterHideCrosshair")}update(o,c){let u=this.chart;o=Gf(this.userOptions,o),this.destroy(!0),this.init(u,o),u.isDirtyBox=!0,Tt(c,!0)&&u.redraw()}remove(o){let c=this.chart,u=this.coll,m=this.series,g=m.length;for(;g--;)m[g]&&m[g].remove(!1);WC(c.axes,this),WC(c[u]||[],this),c.orderItems(u),this.destroy(),c.isDirtyBox=!0,Tt(o,!0)&&c.redraw()}setTitle(o,c){this.update({title:o},c)}setCategories(o,c){this.update({categories:o},c)}}ac.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:AL,getMagnitude:PL,normalizeTickInterval:OL,timeUnits:Yf}=Re;(function(A){function o(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function c(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new u(this))}A.compose=function(m){return m.keepProps.includes("dateTime")||(m.keepProps.push("dateTime"),m.prototype.getTimeTicks=o,AL(m,"afterSetType",c)),m};class u{constructor(g){this.axis=g}normalizeTimeTickInterval(g,w){let C=w||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],S=C[C.length-1],O=Yf[S[0]],F=S[1],M;for(M=0;M<C.length&&(O=Yf[(S=C[M])[0]],F=S[1],!C[M+1]||!(g<=(O*F[F.length-1]+Yf[C[M+1][0]])/2));M++);O===Yf.year&&g<5*O&&(F=[1,2,5]);let j=OL(g/O,F,S[0]==="year"?Math.max(PL(g/O),1):1);return{unitRange:O,count:j,unitName:S[0]}}getXDateFormat(g,w){let{axis:C}=this,S=C.chart.time;return C.closestPointRange?S.getDateFormat(C.closestPointRange,g,C.options.startOfWeek,w)||S.resolveDTLFormat(w.year).main:S.resolveDTLFormat(w.day).main}}A.Additions=u})(d||(d={}));let RL=d,{addEvent:YC,normalizeTickInterval:ML,pick:DL}=Re;(function(A){function o(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new u(this))}function c(){let m=this.logarithmic;m&&(this.lin2val=function(g){return m.lin2log(g)},this.val2lin=function(g){return m.log2lin(g)})}A.compose=function(m){return m.keepProps.includes("logarithmic")||(m.keepProps.push("logarithmic"),YC(m,"afterSetType",o),YC(m,"afterInit",c)),m};class u{constructor(g){this.axis=g}getLogTickPositions(g,w,C,S){let O=this.axis,F=O.len,M=O.options,j=[];if(S||(this.minorAutoInterval=void 0),g>=.5)g=Math.round(g),j=O.getLinearTickPositions(g,w,C);else if(g>=.08){let W,G,X,J,K,ee,te,le=Math.floor(w);for(W=g>.3?[1,2,4]:g>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],G=le;G<C+1&&!te;G++)for(X=0,J=W.length;X<J&&!te;X++)(K=this.log2lin(this.lin2log(G)*W[X]))>w&&(!S||ee<=C)&&ee!==void 0&&j.push(ee),ee>C&&(te=!0),ee=K}else{let W=this.lin2log(w),G=this.lin2log(C),X=S?O.getMinorTickInterval():M.tickInterval,J=M.tickPixelInterval/(S?5:1),K=S?F/O.tickPositions.length:F;g=ML(g=DL(X==="auto"?null:X,this.minorAutoInterval,(G-W)*J/(K||1))),j=O.getLinearTickPositions(g,W,G).map(this.log2lin),S||(this.minorAutoInterval=g/5)}return S||(O.tickInterval=g),j}lin2log(g){return Math.pow(10,g)}log2lin(g){return Math.log(g)/Math.LN10}}A.Additions=u})(p||(p={}));let NL=p,{erase:LL,extend:VL,isNumber:XC}=Re;(function(A){let o;function c(O){return this.addPlotBandOrLine(O,"plotBands")}function u(O,F){let M=this.userOptions,j=new o(this,O);if(this.visible&&(j=j.render()),j){if(this._addedPlotLB||(this._addedPlotLB=!0,(M.plotLines||[]).concat(M.plotBands||[]).forEach(W=>{this.addPlotBandOrLine(W)})),F){let W=M[F]||[];W.push(O),M[F]=W}this.plotLinesAndBands.push(j)}return j}function m(O){return this.addPlotBandOrLine(O,"plotLines")}function g(O,F,M){M=M||this.options;let j=this.getPlotLinePath({value:F,force:!0,acrossPanes:M.acrossPanes}),W=[],G=this.horiz,X=!XC(this.min)||!XC(this.max)||O<this.min&&F<this.min||O>this.max&&F>this.max,J=this.getPlotLinePath({value:O,force:!0,acrossPanes:M.acrossPanes}),K,ee=1,te;if(J&&j)for(X&&(te=J.toString()===j.toString(),ee=0),K=0;K<J.length;K+=2){let le=J[K],he=J[K+1],ue=j[K],fe=j[K+1];(le[0]==="M"||le[0]==="L")&&(he[0]==="M"||he[0]==="L")&&(ue[0]==="M"||ue[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(G&&ue[1]===le[1]?(ue[1]+=ee,fe[1]+=ee):G||ue[2]!==le[2]||(ue[2]+=ee,fe[2]+=ee),W.push(["M",le[1],le[2]],["L",he[1],he[2]],["L",fe[1],fe[2]],["L",ue[1],ue[2]],["Z"])),W.isFlat=te}return W}function w(O){this.removePlotBandOrLine(O)}function C(O){let F=this.plotLinesAndBands,M=this.options,j=this.userOptions;if(F){let W=F.length;for(;W--;)F[W].id===O&&F[W].destroy();[M.plotLines||[],j.plotLines||[],M.plotBands||[],j.plotBands||[]].forEach(function(G){for(W=G.length;W--;)(G[W]||{}).id===O&&LL(G,G[W])})}}function S(O){this.removePlotBandOrLine(O)}A.compose=function(O,F){let M=F.prototype;return M.addPlotBand||(o=O,VL(M,{addPlotBand:c,addPlotLine:m,addPlotBandOrLine:u,getPlotBandPath:g,removePlotBand:w,removePlotLine:S,removePlotBandOrLine:C})),F}})(f||(f={}));let FL=f,{addEvent:BL,arrayMax:JC,arrayMin:QC,defined:yr,destroyObjectProperties:jL,erase:$L,fireEvent:UL,merge:ZC,objectEach:HL,pick:WL}=Re;class Xf{static compose(o,c){return BL(o,"afterInit",function(){this.labelCollectors.push(()=>{var m;let u=[];for(let g of this.axes)for(let{label:w,options:C}of g.plotLinesAndBands)w&&!((m=C==null?void 0:C.label)!=null&&m.allowOverlap)&&u.push(w);return u})}),FL.compose(Xf,c)}constructor(o,c){this.axis=o,this.options=c,this.id=c.id}render(){UL(this,"render");let{axis:o,options:c}=this,{horiz:u,logarithmic:m}=o,{color:g,events:w,zIndex:C=0}=c,{renderer:S,time:O}=o.chart,F={},M=O.parse(c.to),j=O.parse(c.from),W=O.parse(c.value),G=c.borderWidth,X=c.label,{label:J,svgElem:K}=this,ee=[],te,le=yr(j)&&yr(M),he=yr(W),ue=!K,fe={class:"highcharts-plot-"+(le?"band ":"line ")+(c.className||"")},de=le?"bands":"lines";if(!o.chart.styledMode&&(he?(fe.stroke=g||"#999999",fe["stroke-width"]=WL(c.width,1),c.dashStyle&&(fe.dashstyle=c.dashStyle)):le&&(fe.fill=g||"#e6e9ff",G&&(fe.stroke=c.borderColor,fe["stroke-width"]=G))),F.zIndex=C,de+="-"+C,(te=o.plotLinesAndBandsGroups[de])||(o.plotLinesAndBandsGroups[de]=te=S.g("plot-"+de).attr(F).add()),K||(this.svgElem=K=S.path().attr(fe).add(te)),yr(W))ee=o.getPlotLinePath({value:(m==null?void 0:m.log2lin(W))??W,lineWidth:K.strokeWidth(),acrossPanes:c.acrossPanes});else{if(!(yr(j)&&yr(M)))return;ee=o.getPlotBandPath((m==null?void 0:m.log2lin(j))??j,(m==null?void 0:m.log2lin(M))??M,c)}return!this.eventsAdded&&w&&(HL(w,(ge,Te)=>{K==null||K.on(Te,Ae=>{w[Te].apply(this,[Ae])})}),this.eventsAdded=!0),(ue||!K.d)&&(ee!=null&&ee.length)?K.attr({d:ee}):K&&(ee?(K.show(),K.animate({d:ee})):K.d&&(K.hide(),J&&(this.label=J=J.destroy()))),X&&(yr(X.text)||yr(X.formatter))&&(ee!=null&&ee.length)&&o.width>0&&o.height>0&&!ee.isFlat?(X=ZC({align:u&&le?"center":void 0,x:u?!le&&4:10,verticalAlign:!u&&le?"middle":void 0,y:u?le?16:10:le?6:-4,rotation:u&&!le?90:0,...le?{inside:!0}:{}},X),this.renderLabel(X,ee,le,C)):J&&J.hide(),this}renderLabel(o,c,u,m){var G;let g=this.axis,w=g.chart.renderer,C=o.inside,S=this.label;S||(this.label=S=w.text(this.getLabelText(o),0,0,o.useHTML).attr({align:o.textAlign||o.align,rotation:o.rotation,class:"highcharts-plot-"+(u?"band":"line")+"-label "+(o.className||""),zIndex:m}),g.chart.styledMode||S.css(ZC({fontSize:"0.8em",textOverflow:u&&!C?"":"ellipsis"},o.style)),S.add());let O=c.xBounds||[c[0][1],c[1][1],u?c[2][1]:c[0][1]],F=c.yBounds||[c[0][2],c[1][2],u?c[2][2]:c[0][2]],M=QC(O),j=QC(F),W=JC(O)-M;S.align(o,!1,{x:M,y:j,width:W,height:JC(F)-j}),(!S.alignValue||S.alignValue==="left"||yr(C))&&S.css({width:(((G=o.style)==null?void 0:G.width)||(u&&C?W:S.rotation===90?g.height-(S.alignAttr.y-g.top):(o.clip?g.width:g.chart.chartWidth)-(S.alignAttr.x-g.left)))+"px"}),S.show(!0)}getLabelText(o){return yr(o.formatter)?o.formatter.call(this):o.text}destroy(){$L(this.axis.plotLinesAndBands,this),delete this.axis,jL(this)}}let{animObject:zL}=kn,{format:ex}=Qi,{composed:GL,dateFormats:qL,doc:tx,isSafari:KL}=T,{distribute:YL}=to,{addEvent:XL,clamp:lc,css:nx,discardElement:JL,extend:QL,fireEvent:ix,isArray:ZL,isNumber:eV,isObject:tV,isString:Ky,merge:nV,pick:cc,pushUnique:iV,splat:Yy,syncTimeout:sV}=Re;class Xy{constructor(o,c,u){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=o,this.init(o,c),this.pointer=u}bodyFormatter(o){return o.map(c=>{let u=c.series.tooltipOptions,m=c.formatPrefix||"point";return(u[m+"Formatter"]||c.tooltipFormatter).call(c,u[m+"Format"]||"")})}cleanSplit(o){this.chart.series.forEach(function(c){let u=c&&c.tt;u&&(!u.isActive||o?c.tt=u.destroy():u.isActive=!1)})}defaultFormatter(o){let c,u=this.points||Yy(this);return(c=(c=[o.headerFooterFormatter(u[0])]).concat(o.bodyFormatter(u))).push(o.headerFooterFormatter(u[0],!0)),c}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),JL(this.container)),Re.clearTimeout(this.hideTimer)}getAnchor(o,c){let u,{chart:m,pointer:g}=this,w=m.inverted,C=m.plotTop,S=m.plotLeft;if((o=Yy(o))[0].series&&o[0].series.yAxis&&!o[0].series.yAxis.options.reversedStacks&&(o=o.slice().reverse()),this.followPointer&&c)c.chartX===void 0&&(c=g.normalize(c)),u=[c.chartX-S,c.chartY-C];else if(o[0].tooltipPos)u=o[0].tooltipPos;else{let O=0,F=0;o.forEach(function(M){let j=M.pos(!0);j&&(O+=j[0],F+=j[1])}),O/=o.length,F/=o.length,this.shared&&o.length>1&&c&&(w?O=c.chartX:F=c.chartY),u=[O-S,F-C]}return u.map(Math.round)}getClassName(o,c,u){let m=this.options,g=o.series,w=g.options;return[m.className,"highcharts-label",u&&"highcharts-tooltip-header",c?"highcharts-tooltip-box":"highcharts-tooltip",!u&&"highcharts-color-"+cc(o.colorIndex,g.colorIndex),w&&w.className].filter(Ky).join(" ")}getLabel({anchorX:o,anchorY:c}={anchorX:0,anchorY:0}){let u=this,m=this.chart.styledMode,g=this.options,w=this.split&&this.allowShared,C=this.container,S=this.chart.renderer;if(this.label){let O=!this.label.hasClass("highcharts-label");(!w&&O||w&&!O)&&this.destroy()}if(!this.label){if(this.outside){let O=this.chart,F=O.options.chart.style,M=Yo.getRendererType();this.container=C=T.doc.createElement("div"),C.className="highcharts-tooltip-container "+(O.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),nx(C,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(F&&F.zIndex||0)+3)}),this.renderer=S=new M(C,0,0,F,void 0,void 0,S.styledMode)}if(w?this.label=S.g("tooltip"):(this.label=S.label("",o,c,g.shape,void 0,void 0,g.useHTML,void 0,"tooltip").attr({padding:g.padding,r:g.borderRadius}),m||this.label.attr({fill:g.backgroundColor,"stroke-width":g.borderWidth||0}).css(g.style).css({pointerEvents:g.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),u.outside){let O=this.label;[O.xSetter,O.ySetter].forEach((F,M)=>{O[M?"ySetter":"xSetter"]=j=>{F.call(O,u.distance),O[M?"y":"x"]=j,C&&(C.style[M?"top":"left"]=`${j}px`)}})}this.label.attr({zIndex:8}).shadow(g.shadow).add()}return C&&!C.parentElement&&T.doc.body.appendChild(C),this.label}getPlayingField(){let{body:o,documentElement:c}=tx,{chart:u,distance:m,outside:g}=this;return{width:g?Math.max(o.scrollWidth,c.scrollWidth,o.offsetWidth,c.offsetWidth,c.clientWidth)-2*m-2:u.chartWidth,height:g?Math.max(o.scrollHeight,c.scrollHeight,o.offsetHeight,c.offsetHeight,c.clientHeight):u.chartHeight}}getPosition(o,c,u){var it,xt;let{distance:m,chart:g,outside:w,pointer:C}=this,{inverted:S,plotLeft:O,plotTop:F,polar:M}=g,{plotX:j=0,plotY:W=0}=u,G={},X=S&&u.h||0,{height:J,width:K}=this.getPlayingField(),ee=C.getChartPosition(),te=et=>et*ee.scaleX,le=et=>et*ee.scaleY,he=et=>{let bt=et==="x";return[et,bt?K:J,bt?o:c].concat(w?[bt?te(o):le(c),bt?ee.left-m+te(j+O):ee.top-m+le(W+F),0,bt?K:J]:[bt?o:c,bt?j+O:W+F,bt?O:F,bt?O+g.plotWidth:F+g.plotHeight])},ue=he("y"),fe=he("x"),de,ge=!!u.negative;!M&&((xt=(it=g.hoverSeries)==null?void 0:it.yAxis)!=null&&xt.reversed)&&(ge=!ge);let Te=!this.followPointer&&cc(u.ttBelow,!M&&!S===ge),Ae=function(et,bt,Qe,ot,mt,Qt,pn){let It=w?et==="y"?le(m):te(m):m,Rt=(Qe-ot)/2,an=ot<mt-m,ki=mt+m+ot<bt,Kn=mt-It-Qe+Rt,fi=mt+It-Rt;if(Te&&ki)G[et]=fi;else if(!Te&&an)G[et]=Kn;else if(an)G[et]=Math.min(pn-ot,Kn-X<0?Kn:Kn-X);else{if(!ki)return!1;G[et]=Math.max(Qt,fi+X+Qe>bt?fi:fi+X)}},$e=function(et,bt,Qe,ot,mt){if(mt<m||mt>bt-m)return!1;mt<Qe/2?G[et]=1:mt>bt-ot/2?G[et]=bt-ot-2:G[et]=mt-Qe/2},xe=function(et){[ue,fe]=[fe,ue],de=et},Be=()=>{Ae.apply(0,ue)!==!1?$e.apply(0,fe)!==!1||de||(xe(!0),Be()):de?G.x=G.y=0:(xe(!0),Be())};return(S&&!M||this.len>1)&&xe(),Be(),G}hide(o){let c=this;Re.clearTimeout(this.hideTimer),o=cc(o,this.options.hideDelay),this.isHidden||(this.hideTimer=sV(function(){let u=c.getLabel();c.getLabel().animate({opacity:0},{duration:o&&150,complete:()=>{u.hide(),c.container&&c.container.remove()}}),c.isHidden=!0},o))}init(o,c){this.chart=o,this.options=c,this.crosshairs=[],this.isHidden=!0,this.split=c.split&&!o.inverted&&!o.polar,this.shared=c.shared||this.split,this.outside=cc(c.outside,!!(o.scrollablePixelsX||o.scrollablePixelsY))}shouldStickOnContact(o){return!!(!this.followPointer&&this.options.stickOnContact&&(!o||this.pointer.inClass(o.target,"highcharts-tooltip")))}move(o,c,u,m){let g=this,w=zL(!g.isHidden&&g.options.animation),C=g.followPointer||(g.len||0)>1,S={x:o,y:c};C||(S.anchorX=u,S.anchorY=m),w.step=()=>g.drawTracker(),g.getLabel().animate(S,w)}refresh(o,c){let{chart:u,options:m,pointer:g,shared:w}=this,C=Yy(o),S=C[0],O=m.format,F=m.formatter||this.defaultFormatter,M=u.styledMode,j=this.allowShared;if(!m.enabled||!S.series)return;Re.clearTimeout(this.hideTimer),this.allowShared=!(!ZL(o)&&o.series&&o.series.noSharedTooltip),j=j&&!this.allowShared,this.followPointer=!this.split&&S.series.tooltipOptions.followPointer;let W=this.getAnchor(o,c),G=W[0],X=W[1];w&&this.allowShared&&(g.applyInactiveState(C),C.forEach(ee=>ee.setState("hover")),S.points=C),this.len=C.length;let J=Ky(O)?ex(O,S,u):F.call(S,this);S.points=void 0;let K=S.series;if(this.distance=cc(K.tooltipOptions.distance,16),J===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(J,C);else{let ee=G,te=X;if(c&&g.isDirectTouch&&(ee=c.chartX-u.plotLeft,te=c.chartY-u.plotTop),u.polar||K.options.clip===!1||C.some(le=>g.isDirectTouch||le.series.shouldShowTooltip(ee,te))){let le=this.getLabel(j&&this.tt||{});(!m.style.width||M)&&le.css({width:(this.outside?this.getPlayingField():u.spacingBox).width+"px"}),le.attr({class:this.getClassName(S),text:J&&J.join?J.join(""):J}),this.outside&&le.attr({x:lc(le.x||0,0,this.getPlayingField().width-(le.width||0)-1)}),M||le.attr({stroke:m.borderColor||S.color||K.color||"#666666"}),this.updatePosition({plotX:G,plotY:X,negative:S.negative,ttBelow:S.ttBelow,h:W[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}ix(this,"refresh")}renderSplit(o,c){var bt;let u=this,{chart:m,chart:{chartWidth:g,chartHeight:w,plotHeight:C,plotLeft:S,plotTop:O,scrollablePixelsY:F=0,scrollablePixelsX:M,styledMode:j},distance:W,options:G,options:{positioner:X},pointer:J}=u,{scrollLeft:K=0,scrollTop:ee=0}=((bt=m.scrollablePlotArea)==null?void 0:bt.scrollingContainer)||{},te=u.outside&&typeof M!="number"?tx.documentElement.getBoundingClientRect():{left:K,right:K+g,top:ee,bottom:ee+w},le=u.getLabel(),he=this.renderer||m.renderer,ue=!!(m.xAxis[0]&&m.xAxis[0].opposite),{left:fe,top:de}=J.getChartPosition(),ge=O+ee,Te=0,Ae=C-F;function $e(Qe,ot,mt,Qt,pn=!0){let It,Rt;return mt?(It=ue?0:Ae,Rt=lc(Qe-Qt/2,te.left,te.right-Qt-(u.outside?fe:0))):(It=ot-ge,Rt=lc(Rt=pn?Qe-Qt-W:Qe+W,pn?Rt:te.left,te.right)),{x:Rt,y:It}}Ky(o)&&(o=[!1,o]);let xe=o.slice(0,c.length+1).reduce(function(Qe,ot,mt){if(ot!==!1&&ot!==""){let Qt=c[mt-1]||{isHeader:!0,plotX:c[0].plotX,plotY:C,series:{}},pn=Qt.isHeader,It=pn?u:Qt.series,Rt=It.tt=function(Yn,On,si){let ua=Yn,{isHeader:wh,series:wp}=On;if(!ua){let gc={padding:G.padding,r:G.borderRadius};j||(gc.fill=G.backgroundColor,gc["stroke-width"]=G.borderWidth??1),ua=he.label("",0,0,G[wh?"headerShape":"shape"],void 0,void 0,G.useHTML).addClass(u.getClassName(On,!0,wh)).attr(gc).add(le)}return ua.isActive=!0,ua.attr({text:si}),j||ua.css(G.style).attr({stroke:G.borderColor||On.color||wp.color||"#333333"}),ua}(It.tt,Qt,ot.toString()),an=Rt.getBBox(),ki=an.width+Rt.strokeWidth();pn&&(Te=an.height,Ae+=Te,ue&&(ge-=Te));let{anchorX:Kn,anchorY:fi}=function(Yn){let On,si,{isHeader:ua,plotX:wh=0,plotY:wp=0,series:gc}=Yn;if(ua)On=Math.max(S+wh,S),si=O+C/2;else{let{xAxis:bE,yAxis:_E}=gc;On=bE.pos+lc(wh,-W,bE.len+W),gc.shouldShowTooltip(0,_E.pos-O+wp,{ignoreX:!0})&&(si=_E.pos+wp)}return{anchorX:On=lc(On,te.left-W,te.right+W),anchorY:si}}(Qt);if(typeof fi=="number"){let Yn=an.height+1,On=X?X.call(u,ki,Yn,Qt):$e(Kn,fi,pn,ki);Qe.push({align:X?0:void 0,anchorX:Kn,anchorY:fi,boxWidth:ki,point:Qt,rank:cc(On.rank,pn?1:0),size:Yn,target:On.y,tt:Rt,x:On.x})}else Rt.isActive=!1}return Qe},[]);!X&&xe.some(Qe=>{let{outside:ot}=u,mt=(ot?fe:0)+Qe.anchorX;return mt<te.left&&mt+Qe.boxWidth<te.right||mt<fe-te.left+Qe.boxWidth&&te.right-mt>mt})&&(xe=xe.map(Qe=>{let{x:ot,y:mt}=$e(Qe.anchorX,Qe.anchorY,Qe.point.isHeader,Qe.boxWidth,!1);return QL(Qe,{target:mt,x:ot})})),u.cleanSplit(),YL(xe,Ae);let Be={left:fe,right:fe};xe.forEach(function(Qe){let{x:ot,boxWidth:mt,isHeader:Qt}=Qe;!Qt&&(u.outside&&fe+ot<Be.left&&(Be.left=fe+ot),!Qt&&u.outside&&Be.left+mt>Be.right&&(Be.right=fe+ot))}),xe.forEach(function(Qe){let{x:ot,anchorX:mt,anchorY:Qt,pos:pn,point:{isHeader:It}}=Qe,Rt={visibility:pn===void 0?"hidden":"inherit",x:ot,y:(pn||0)+ge,anchorX:mt,anchorY:Qt};if(u.outside&&ot<mt){let an=fe-Be.left;an>0&&(It||(Rt.x=ot+an,Rt.anchorX=mt+an),It&&(Rt.x=(Be.right-Be.left)/2,Rt.anchorX=mt+an))}Qe.tt.attr(Rt)});let{container:it,outside:xt,renderer:et}=u;if(xt&&it&&et){let{width:Qe,height:ot,x:mt,y:Qt}=le.getBBox();et.setSize(Qe+mt,ot+Qt,!1),it.style.left=Be.left+"px",it.style.top=de+"px"}KL&&le.attr({opacity:le.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let o=this.chart,c=this.label,u=this.shared?o.hoverPoints:o.hoverPoint;if(!c||!u)return;let m={x:0,y:0,width:0,height:0},g=this.getAnchor(u),w=c.getBBox();g[0]+=o.plotLeft-(c.translateX||0),g[1]+=o.plotTop-(c.translateY||0),m.x=Math.min(0,g[0]),m.y=Math.min(0,g[1]),m.width=g[0]<0?Math.max(Math.abs(g[0]),w.width-g[0]):Math.max(Math.abs(g[0]),w.width),m.height=g[1]<0?Math.max(Math.abs(g[1]),w.height-Math.abs(g[1])):Math.max(Math.abs(g[1]),w.height),this.tracker?this.tracker.attr(m):(this.tracker=c.renderer.rect(m).addClass("highcharts-tracker").add(c),o.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(o){return o.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(o,c){let u=o.series,m=u.tooltipOptions,g=u.xAxis,w=g&&g.dateTime,C={isFooter:c,point:o},S=m.xDateFormat||"",O=m[c?"footerFormat":"headerFormat"];return ix(this,"headerFormatter",C,function(F){if(w&&!S&&eV(o.key)&&(S=w.getXDateFormat(o.key,m.dateTimeLabelFormats)),w&&S){if(tV(S)){let M=S;qL[0]=j=>u.chart.time.dateFormat(M,j),S="%0"}(o.tooltipDateKeys||["key"]).forEach(M=>{O=O.replace(RegExp("point\\."+M+"([ \\)}])",""),`(point.${M}:${S})$1`)})}u.chart.styledMode&&(O=this.styledModeFormat(O)),F.text=ex(O,o,this.chart)}),C.text||""}update(o){this.destroy(),this.init(this.chart,nV(!0,this.options,o))}updatePosition(o){let{chart:c,container:u,distance:m,options:g,pointer:w,renderer:C}=this,{height:S=0,width:O=0}=this.getLabel(),{left:F,top:M,scaleX:j,scaleY:W}=w.getChartPosition(),G=(g.positioner||this.getPosition).call(this,O,S,o),X=T.doc,J=(o.plotX||0)+c.plotLeft,K=(o.plotY||0)+c.plotTop,ee;C&&u&&(g.positioner&&(G.x+=F-m,G.y+=M-m),ee=(g.borderWidth||0)+2*m+2,C.setSize(lc(O+ee,0,X.documentElement.clientWidth)-1,S+ee,!1),(j!==1||W!==1)&&(nx(u,{transform:`scale(${j}, ${W})`}),J*=j,K*=W),J+=F-G.x,K+=M-G.y),this.move(Math.round(G.x),Math.round(G.y||0),J,K)}}(function(A){A.compose=function(o){iV(GL,"Core.Tooltip")&&XL(o,"afterInit",function(){let c=this.chart;c.options.tooltip&&(c.tooltip=new A(c,c.options.tooltip,this))})}})(Xy||(Xy={}));let sx=Xy,{animObject:rV}=kn,{defaultOptions:oV}=Vn,{format:aV}=Qi,{addEvent:lV,crisp:cV,erase:uV,extend:Jf,fireEvent:Jy,getNestedProperty:hV,isArray:dV,isFunction:fV,isNumber:ta,isObject:Qf,merge:rx,pick:na,syncTimeout:pV,removeEvent:ox,uniqueKey:mV}=Re;class fh{animateBeforeDestroy(){let o=this,c={x:o.startXPos,opacity:0},u=o.getGraphicalProps();u.singular.forEach(function(m){o[m]=o[m].animate(m==="dataLabel"?{x:o[m].startXPos,y:o[m].startYPos,opacity:0}:c)}),u.plural.forEach(function(m){o[m].forEach(function(g){g.element&&g.animate(Jf({x:o.startXPos},g.startYPos?{x:g.startXPos,y:g.startYPos}:{}))})})}applyOptions(o,c){let u=this.series,m=u.options.pointValKey||u.pointValKey;return Jf(this,o=fh.prototype.optionsToObject.call(this,o)),this.options=this.options?Jf(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,m&&(this.y=fh.prototype.getNestedProperty.call(this,m)),this.selected&&(this.state="select"),"name"in this&&c===void 0&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),this.x===void 0&&u?this.x=c??u.autoIncrement():ta(o.x)&&u.options.relativeXValue?this.x=u.autoIncrement(o.x):typeof this.x=="string"&&(c??(c=u.chart.time.parse(this.x)),ta(c)&&(this.x=c)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let o=this,c=o.series,u=c.chart,m=c.options.dataSorting,g=u.hoverPoints,w=rV(o.series.chart.renderer.globalAnimation),C=()=>{for(let S in(o.graphic||o.graphics||o.dataLabel||o.dataLabels)&&(ox(o),o.destroyElements()),o)delete o[S]};o.legendItem&&u.legend.destroyItem(o),g&&(o.setState(),uV(g,o),g.length||(u.hoverPoints=null)),o===u.hoverPoint&&o.onMouseOut(),m&&m.enabled?(this.animateBeforeDestroy(),pV(C,w.duration)):C(),u.pointCount--}this.destroyed=!0}destroyElements(o){let c=this,u=c.getGraphicalProps(o);u.singular.forEach(function(m){c[m]=c[m].destroy()}),u.plural.forEach(function(m){c[m].forEach(function(g){g&&g.element&&g.destroy()}),delete c[m]})}firePointEvent(o,c,u){let m=this,g=this.series.options;m.manageEvent(o),o==="click"&&g.allowPointSelect&&(u=function(w){!m.destroyed&&m.select&&m.select(null,w.ctrlKey||w.metaKey||w.shiftKey)}),Jy(m,o,c,u)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(o){let c,u,m=this,g=[],w={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&g.push("graphic","connector"),o.dataLabel&&g.push("dataLabel","dataLabelPath","dataLabelUpper"),u=g.length;u--;)m[c=g[u]]&&w.singular.push(c);return["graphic","dataLabel"].forEach(function(C){let S=C+"s";o[C]&&m[S]&&w.plural.push(S)}),w}getNestedProperty(o){return o?o.indexOf("custom.")===0?hV(o,this.options):this[o]:void 0}getZone(){let o=this.series,c=o.zones,u=o.zoneAxis||"y",m,g=0;for(m=c[0];this[u]>=m.value;)m=c[++g];return this.nonZonedColor||(this.nonZonedColor=this.color),m&&m.color&&!this.options.color?this.color=m.color:this.color=this.nonZonedColor,m}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(o,c,u){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=o,this.applyOptions(c,u),this.id??(this.id=mV()),this.resolveColor(),o.chart.pointCount++,Jy(this,"afterInit")}isValid(){return(ta(this.x)||this.x instanceof Date)&&ta(this.y)}optionsToObject(o){var F;let c=this.series,u=c.options.keys,m=u||c.pointArrayMap||["y"],g=m.length,w={},C,S=0,O=0;if(ta(o)||o===null)w[m[0]]=o;else if(dV(o))for(!u&&o.length>g&&((C=typeof o[0])=="string"?(F=c.xAxis)!=null&&F.dateTime?w.x=c.chart.time.parse(o[0]):w.name=o[0]:C==="number"&&(w.x=o[0]),S++);O<g;)u&&o[S]===void 0||(m[O].indexOf(".")>0?fh.prototype.setNestedProperty(w,o[S],m[O]):w[m[O]]=o[S]),S++,O++;else typeof o=="object"&&(w=o,o.dataLabels&&(c.hasDataLabels=()=>!0),o.marker&&(c._hasPointMarkers=!0));return w}pos(o,c=this.plotY){if(!this.destroyed){let{plotX:u,series:m}=this,{chart:g,xAxis:w,yAxis:C}=m,S=0,O=0;if(ta(u)&&ta(c))return o&&(S=w?w.pos:g.plotLeft,O=C?C.pos:g.plotTop),g.inverted&&w&&C?[C.len-c+O,w.len-u+S]:[u+S,c+O]}}resolveColor(){let o=this.series,c=o.chart.options.chart,u=o.chart.styledMode,m,g,w=c.colorCount,C;delete this.nonZonedColor,o.options.colorByPoint?(u||(m=(g=o.options.colors||o.chart.options.colors)[o.colorCounter],w=g.length),C=o.colorCounter,o.colorCounter++,o.colorCounter===w&&(o.colorCounter=0)):(u||(m=o.color),C=o.colorIndex),this.colorIndex=na(this.options.colorIndex,C),this.color=na(this.options.color,m)}setNestedProperty(o,c,u){return u.split(".").reduce(function(m,g,w,C){let S=C.length-1===w;return m[g]=S?c:Qf(m[g],!0)?m[g]:{},m[g]},o),o}shouldDraw(){return!this.isNull}tooltipFormatter(o){var S;let{chart:c,pointArrayMap:u=["y"],tooltipOptions:m}=this.series,{valueDecimals:g="",valuePrefix:w="",valueSuffix:C=""}=m;return c.styledMode&&(o=((S=c.tooltip)==null?void 0:S.styledModeFormat(o))||o),u.forEach(O=>{O="{point."+O,(w||C)&&(o=o.replace(RegExp(O+"}","g"),w+O+"}"+C)),o=o.replace(RegExp(O+"}","g"),O+":,."+g+"f}")}),aV(o,this,c)}update(o,c,u,m){let g,w=this,C=w.series,S=w.graphic,O=C.chart,F=C.options;function M(){w.applyOptions(o);let j=S&&w.hasMockGraphic,W=w.y===null?!j:j;S&&W&&(w.graphic=S.destroy(),delete w.hasMockGraphic),Qf(o,!0)&&(S&&S.element&&o&&o.marker&&o.marker.symbol!==void 0&&(w.graphic=S.destroy()),o!=null&&o.dataLabels&&w.dataLabel&&(w.dataLabel=w.dataLabel.destroy())),g=w.index;let G={};for(let X of C.dataColumnKeys())G[X]=w[X];C.dataTable.setRow(G,g),F.data[g]=Qf(F.data[g],!0)||Qf(o,!0)?w.options:na(o,F.data[g]),C.isDirty=C.isDirtyData=!0,!C.fixedBox&&C.hasCartesianSeries&&(O.isDirtyBox=!0),F.legendType==="point"&&(O.isDirtyLegend=!0),c&&O.redraw(u)}c=na(c,!0),m===!1?M():w.firePointEvent("update",{options:o},M)}remove(o,c){this.series.removePoint(this.series.data.indexOf(this),o,c)}select(o,c){let u=this,m=u.series,g=m.chart;o=na(o,!u.selected),this.selectedStaging=o,u.firePointEvent(o?"select":"unselect",{accumulate:c},function(){u.selected=u.options.selected=o,m.options.data[m.data.indexOf(u)]=u.options,u.setState(o&&"select"),c||g.getSelectedPoints().forEach(function(w){let C=w.series;w.selected&&w!==u&&(w.selected=w.options.selected=!1,C.options.data[C.data.indexOf(w)]=w.options,w.setState(g.hoverPoints&&C.options.inactiveOtherPoints?"inactive":""),w.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(o){let{inverted:c,pointer:u}=this.series.chart;u&&(o=o?u.normalize(o):u.getChartCoordinatesFromPoint(this,c),u.runPointActions(o,this))}onMouseOut(){let o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(c){c.setState()}),o.hoverPoints=o.hoverPoint=null}manageEvent(o){var m,g,w,C,S,O,F;let c=rx(this.series.options.point,this.options),u=(m=c.events)==null?void 0:m[o];fV(u)&&(!((g=this.hcEvents)!=null&&g[o])||((C=(w=this.hcEvents)==null?void 0:w[o])==null?void 0:C.map(M=>M.fn).indexOf(u))===-1)?((S=this.importedUserEvent)==null||S.call(this),this.importedUserEvent=lV(this,o,u),this.hcEvents&&(this.hcEvents[o].userEvent=!0)):this.importedUserEvent&&!u&&((O=this.hcEvents)!=null&&O[o])&&((F=this.hcEvents)!=null&&F[o].userEvent)&&(ox(this,o),delete this.hcEvents[o],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(o,c){var ue;let u=this.series,m=this.state,g=u.options.states[o||"normal"]||{},w=oV.plotOptions[u.type].marker&&u.options.marker,C=w&&w.enabled===!1,S=w&&w.states&&w.states[o||"normal"]||{},O=S.enabled===!1,F=this.marker||{},M=u.chart,j=w&&u.markerAttribs,W=u.halo,G,X,J,K=u.stateMarkerGraphic,ee;if((o=o||"")===this.state&&!c||this.selected&&o!=="select"||g.enabled===!1||o&&(O||C&&S.enabled===!1)||o&&F.states&&F.states[o]&&F.states[o].enabled===!1)return;if(this.state=o,j&&(G=u.markerAttribs(this,o)),this.graphic&&!this.hasMockGraphic){if(m&&this.graphic.removeClass("highcharts-point-"+m),o&&this.graphic.addClass("highcharts-point-"+o),!M.styledMode){X=u.pointAttribs(this,o),J=na(M.options.chart.animation,g.animation);let fe=X.opacity;u.options.inactiveOtherPoints&&ta(fe)&&(this.dataLabels||[]).forEach(function(de){de&&!de.hasClass("highcharts-data-label-hidden")&&(de.animate({opacity:fe},J),de.connector&&de.connector.animate({opacity:fe},J))}),this.graphic.animate(X,J)}G&&this.graphic.animate(G,na(M.options.chart.animation,S.animation,w.animation)),K&&K.hide()}else o&&S&&(ee=F.symbol||u.symbol,K&&K.currentSymbol!==ee&&(K=K.destroy()),G&&(K?K[c?"animate":"attr"]({x:G.x,y:G.y}):ee&&(u.stateMarkerGraphic=K=M.renderer.symbol(ee,G.x,G.y,G.width,G.height,rx(w,S)).add(u.markerGroup),K.currentSymbol=ee)),!M.styledMode&&K&&this.state!=="inactive"&&K.attr(u.pointAttribs(this,o))),K&&(K[o&&this.isInside?"show":"hide"](),K.element.point=this,K.addClass(this.getClassName(),!0));let te=g.halo,le=this.graphic||K,he=le&&le.visibility||"inherit";te&&te.size&&le&&he!=="hidden"&&!this.isCluster?(W||(u.halo=W=M.renderer.path().add(le.parentGroup)),W.show()[c?"animate":"attr"]({d:this.haloPath(te.size)}),W.attr({class:"highcharts-halo highcharts-color-"+na(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:he,zIndex:-1}),W.point=this,M.styledMode||W.attr(Jf({fill:this.color||u.color,"fill-opacity":te.opacity},dn.filterUserAttributes(te.attributes||{})))):(ue=W==null?void 0:W.point)!=null&&ue.haloPath&&!W.point.destroyed&&W.animate({d:W.point.haloPath(0)},null,W.hide),Jy(this,"afterSetState",{state:o})}haloPath(o){let c=this.pos();return c?this.series.chart.renderer.symbols.circle(cV(c[0],1)-o,c[1]-o,2*o,2*o):[]}}let ia=fh,{parse:gV}=Nn,{charts:Qy,composed:yV,isTouchDevice:vV}=T,{addEvent:ks,attr:bV,css:Zy,extend:ev,find:ax,fireEvent:sa,isNumber:Zf,isObject:ep,objectEach:_V,offset:wV,pick:Js,pushUnique:CV,splat:lx}=Re;class ni{applyInactiveState(o){let c=[],u;(o||[]).forEach(function(m){u=m.series,c.push(u),u.linkedParent&&c.push(u.linkedParent),u.linkedSeries&&(c=c.concat(u.linkedSeries)),u.navigatorSeries&&c.push(u.navigatorSeries)}),this.chart.series.forEach(function(m){c.indexOf(m)===-1?m.setState("inactive",!0):m.options.inactiveOtherPoints&&m.setAllPointsToState("inactive")})}destroy(){let o=this;this.eventsToUnbind.forEach(c=>c()),this.eventsToUnbind=[],!T.chartCount&&(ni.unbindDocumentMouseUp.forEach(c=>c.unbind()),ni.unbindDocumentMouseUp.length=0,ni.unbindDocumentTouchEnd&&(ni.unbindDocumentTouchEnd=ni.unbindDocumentTouchEnd())),clearInterval(o.tooltipTimeout),_V(o,function(c,u){o[u]=void 0})}getSelectionMarkerAttrs(o,c){let u={args:{chartX:o,chartY:c},attrs:{},shapeType:"rect"};return sa(this,"getSelectionMarkerAttrs",u,m=>{let g,{chart:w,zoomHor:C,zoomVert:S}=this,{mouseDownX:O=0,mouseDownY:F=0}=w,M=m.attrs;M.x=w.plotLeft,M.y=w.plotTop,M.width=C?1:w.plotWidth,M.height=S?1:w.plotHeight,C&&(g=o-O,M.width=Math.max(1,Math.abs(g)),M.x=(g>0?0:g)+O),S&&(g=c-F,M.height=Math.max(1,Math.abs(g)),M.y=(g>0?0:g)+F)}),u}drag(o){let{chart:c}=this,{mouseDownX:u=0,mouseDownY:m=0}=c,{panning:g,panKey:w,selectionMarkerFill:C}=c.options.chart,S=c.plotLeft,O=c.plotTop,F=c.plotWidth,M=c.plotHeight,j=ep(g)?g.enabled:g,W=w&&o[`${w}Key`],G=o.chartX,X=o.chartY,J,K=this.selectionMarker;if((!K||!K.touch)&&(G<S?G=S:G>S+F&&(G=S+F),X<O?X=O:X>O+M&&(X=O+M),this.hasDragged=Math.sqrt(Math.pow(u-G,2)+Math.pow(m-X,2)),this.hasDragged>10)){J=c.isInsidePlot(u-S,m-O,{visiblePlotOnly:!0});let{shapeType:ee,attrs:te}=this.getSelectionMarkerAttrs(G,X);(c.hasCartesianSeries||c.mapView)&&this.hasZoom&&J&&!W&&!K&&(this.selectionMarker=K=c.renderer[ee](),K.attr({class:"highcharts-selection-marker",zIndex:7}).add(),c.styledMode||K.attr({fill:C||gV("#334eff").setOpacity(.25).get()})),K&&K.attr(te),J&&!K&&j&&c.pan(o,g)}}dragStart(o){let c=this.chart;c.mouseIsDown=o.type,c.cancelClick=!1,c.mouseDownX=o.chartX,c.mouseDownY=o.chartY}getSelectionBox(o){let c={args:{marker:o},result:o.getBBox()};return sa(this,"getSelectionBox",c),c.result}drop(o){let c,{chart:u,selectionMarker:m}=this;for(let g of u.axes)g.isPanning&&(g.isPanning=!1,(g.options.startOnTick||g.options.endOnTick||g.series.some(w=>w.boosted))&&(g.forceRedraw=!0,g.setExtremes(g.userMin,g.userMax,!1),c=!0));if(c&&u.redraw(),m&&o){if(this.hasDragged){let g=this.getSelectionBox(m);u.transform({axes:u.axes.filter(w=>w.zoomEnabled&&(w.coll==="xAxis"&&this.zoomX||w.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:o,xAxis:[],yAxis:[],...g},from:g})}Zf(u.index)&&(this.selectionMarker=m.destroy())}u&&Zf(u.index)&&(Zy(u.container,{cursor:u._cursor}),u.cancelClick=this.hasDragged>10,u.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(o,c,u){let m;return o.forEach(function(g){let w=!(g.noSharedTooltip&&c)&&0>g.options.findNearestPointBy.indexOf("y"),C=g.searchPoint(u,w);ep(C,!0)&&C.series&&(!ep(m,!0)||function(S,O){var W,G;let F=S.distX-O.distX,M=S.dist-O.dist,j=((W=O.series.group)==null?void 0:W.zIndex)-((G=S.series.group)==null?void 0:G.zIndex);return F!==0&&c?F:M!==0?M:j!==0?j:S.series.index>O.series.index?-1:1}(m,C)>0)&&(m=C)}),m}getChartCoordinatesFromPoint(o,c){let{xAxis:u,yAxis:m}=o.series,g=o.shapeArgs;if(u&&m){let w=o.clientX??o.plotX??0,C=o.plotY||0;return o.isNode&&g&&Zf(g.x)&&Zf(g.y)&&(w=g.x,C=g.y),c?{chartX:m.len+m.pos-C,chartY:u.len+u.pos-w}:{chartX:w+u.pos,chartY:C+m.pos}}if(g&&g.x&&g.y)return{chartX:g.x,chartY:g.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:o}=this.chart,c=wV(o);this.chartPosition={left:c.left,top:c.top,scaleX:1,scaleY:1};let{offsetHeight:u,offsetWidth:m}=o;return m>2&&u>2&&(this.chartPosition.scaleX=c.width/m,this.chartPosition.scaleY=c.height/u),this.chartPosition}getCoordinates(o){let c={xAxis:[],yAxis:[]};for(let u of this.chart.axes)c[u.isXAxis?"xAxis":"yAxis"].push({axis:u,value:u.toValue(o[u.horiz?"chartX":"chartY"])});return c}getHoverData(o,c,u,m,g,w){let C=[],S=function(W){return W.visible&&!(!g&&W.directTouch)&&Js(W.options.enableMouseTracking,!0)},O=c,F,M={chartX:w?w.chartX:void 0,chartY:w?w.chartY:void 0,shared:g};sa(this,"beforeGetHoverData",M),F=O&&!O.stickyTracking?[O]:u.filter(W=>W.stickyTracking&&(M.filter||S)(W));let j=m&&o||!w?o:this.findNearestKDPoint(F,g,w);return O=j&&j.series,j&&(g&&!O.noSharedTooltip?(F=u.filter(function(W){return M.filter?M.filter(W):S(W)&&!W.noSharedTooltip})).forEach(function(W){let G=ax(W.points,function(X){return X.x===j.x&&!X.isNull});ep(G)&&(W.boosted&&W.boost&&(G=W.boost.getPoint(G)),C.push(G))}):C.push(j)),sa(this,"afterGetHoverData",M={hoverPoint:j}),{hoverPoint:M.hoverPoint,hoverSeries:O,hoverPoints:C}}getPointFromEvent(o){let c=o.target,u;for(;c&&!u;)u=c.point,c=c.parentNode;return u}onTrackerMouseOut(o){let c=this.chart,u=o.relatedTarget,m=c.hoverSeries;this.isDirectTouch=!1,!m||!u||m.stickyTracking||this.inClass(u,"highcharts-tooltip")||this.inClass(u,"highcharts-series-"+m.index)&&this.inClass(u,"highcharts-tracker")||m.onMouseOut()}inClass(o,c){let u=o,m;for(;u;){if(m=bV(u,"class")){if(m.indexOf(c)!==-1)return!0;if(m.indexOf("highcharts-container")!==-1)return!1}u=u.parentElement}}constructor(o,c){var u;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=c,this.chart=o,this.runChartClick=!!((u=c.chart.events)!=null&&u.click),this.pinchDown=[],this.setDOMEvents(),sa(this,"afterInit")}normalize(o,c){let u=o.touches,m=u?u.length?u.item(0):Js(u.changedTouches,o.changedTouches)[0]:o;c||(c=this.getChartPosition());let g=m.pageX-c.left,w=m.pageY-c.top;return ev(o,{chartX:Math.round(g/=c.scaleX),chartY:Math.round(w/=c.scaleY)})}onContainerClick(o){let c=this.chart,u=c.hoverPoint,m=this.normalize(o),g=c.plotLeft,w=c.plotTop;!c.cancelClick&&(u&&this.inClass(m.target,"highcharts-tracker")?(sa(u.series,"click",ev(m,{point:u})),c.hoverPoint&&u.firePointEvent("click",m)):(ev(m,this.getCoordinates(m)),c.isInsidePlot(m.chartX-g,m.chartY-w,{visiblePlotOnly:!0})&&sa(c,"click",m)))}onContainerMouseDown(o){var u;let c=(1&(o.buttons||o.button))==1;o=this.normalize(o),T.isFirefox&&o.button!==0&&this.onContainerMouseMove(o),(o.button===void 0||c)&&(this.zoomOption(o),c&&((u=o.preventDefault)==null||u.call(o)),this.dragStart(o))}onContainerMouseLeave(o){let{pointer:c}=Qy[Js(ni.hoverChartIndex,-1)]||{};o=this.normalize(o),this.onContainerMouseMove(o),c&&!this.inClass(o.relatedTarget,"highcharts-tooltip")&&(c.reset(),c.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(o){let c=this.chart,u=c.tooltip,m=this.normalize(o);this.setHoverChartIndex(o),(c.mouseIsDown==="mousedown"||this.touchSelect(m))&&this.drag(m),!c.openMenu&&(this.inClass(m.target,"highcharts-tracker")||c.isInsidePlot(m.chartX-c.plotLeft,m.chartY-c.plotTop,{visiblePlotOnly:!0}))&&!(u&&u.shouldStickOnContact(m))&&(this.inClass(m.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(m))}onDocumentTouchEnd(o){this.onDocumentMouseUp(o)}onContainerTouchMove(o){this.touchSelect(o)?this.onContainerMouseMove(o):this.touch(o)}onContainerTouchStart(o){this.touchSelect(o)?this.onContainerMouseDown(o):(this.zoomOption(o),this.touch(o,!0))}onDocumentMouseMove(o){let c=this.chart,u=c.tooltip,m=this.chartPosition,g=this.normalize(o,m);!m||c.isInsidePlot(g.chartX-c.plotLeft,g.chartY-c.plotTop,{visiblePlotOnly:!0})||u&&u.shouldStickOnContact(g)||g.target!==c.container.ownerDocument&&this.inClass(g.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(o){var c,u;(u=(c=Qy[Js(ni.hoverChartIndex,-1)])==null?void 0:c.pointer)==null||u.drop(o)}pinch(o){let c=this,{chart:u,hasZoom:m,lastTouches:g}=c,w=[].map.call(o.touches||[],M=>c.normalize(M)),C=w.length,S=C===1&&(c.inClass(o.target,"highcharts-tracker")&&u.runTrackerClick||c.runChartClick),O=u.tooltip,F=C===1&&Js(O==null?void 0:O.options.followTouchMove,!0);C>1?c.initiated=!0:F&&(c.initiated=!1),m&&c.initiated&&!S&&o.cancelable!==!1&&o.preventDefault(),o.type==="touchstart"?(c.pinchDown=w,c.res=!0,u.mouseDownX=o.chartX):F?this.runPointActions(c.normalize(o)):g&&(sa(u,"touchpan",{originalEvent:o,touches:w},()=>{let M=j=>{let W=j[0],G=j[1]||W;return{x:W.chartX,y:W.chartY,width:G.chartX-W.chartX,height:G.chartY-W.chartY}};u.transform({axes:u.axes.filter(j=>j.zoomEnabled&&(this.zoomHor&&j.horiz||this.zoomVert&&!j.horiz)),to:M(w),from:M(g),trigger:o.type})}),c.res&&(c.res=!1,this.reset(!1,0))),c.lastTouches=w}reset(o,c){let u=this.chart,m=u.hoverSeries,g=u.hoverPoint,w=u.hoverPoints,C=u.tooltip,S=C&&C.shared?w:g;o&&S&&lx(S).forEach(function(O){O.series.isCartesian&&O.plotX===void 0&&(o=!1)}),o?C&&S&&lx(S).length&&(C.refresh(S),C.shared&&w?w.forEach(function(O){O.setState(O.state,!0),O.series.isCartesian&&(O.series.xAxis.crosshair&&O.series.xAxis.drawCrosshair(null,O),O.series.yAxis.crosshair&&O.series.yAxis.drawCrosshair(null,O))}):g&&(g.setState(g.state,!0),u.axes.forEach(function(O){O.crosshair&&g.series[O.coll]===O&&O.drawCrosshair(null,g)}))):(g&&g.onMouseOut(),w&&w.forEach(function(O){O.setState()}),m&&m.onMouseOut(),C&&C.hide(c),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),u.axes.forEach(function(O){O.hideCrosshair()}),u.hoverPoints=u.hoverPoint=void 0)}runPointActions(o,c,u){let m=this.chart,g=m.series,w=m.tooltip&&m.tooltip.options.enabled?m.tooltip:void 0,C=!!w&&w.shared,S=c||m.hoverPoint,O=S&&S.series||m.hoverSeries,F=(!o||o.type!=="touchmove")&&(!!c||O&&O.directTouch&&this.isDirectTouch),M=this.getHoverData(S,O,g,F,C,o);S=M.hoverPoint,O=M.hoverSeries;let j=M.hoverPoints,W=O&&O.tooltipOptions.followPointer&&!O.tooltipOptions.split,G=C&&O&&!O.noSharedTooltip;if(S&&(u||S!==m.hoverPoint||w&&w.isHidden)){if((m.hoverPoints||[]).forEach(function(X){j.indexOf(X)===-1&&X.setState()}),m.hoverSeries!==O&&O.onMouseOver(),this.applyInactiveState(j),(j||[]).forEach(function(X){X.setState("hover")}),m.hoverPoint&&m.hoverPoint.firePointEvent("mouseOut"),!S.series)return;m.hoverPoints=j,m.hoverPoint=S,S.firePointEvent("mouseOver",void 0,()=>{w&&S&&w.refresh(G?j:S,o)})}else if(W&&w&&!w.isHidden){let X=w.getAnchor([{}],o);m.isInsidePlot(X[0],X[1],{visiblePlotOnly:!0})&&w.updatePosition({plotX:X[0],plotY:X[1]})}this.unDocMouseMove||(this.unDocMouseMove=ks(m.container.ownerDocument,"mousemove",X=>{var J,K;return(K=(J=Qy[ni.hoverChartIndex??-1])==null?void 0:J.pointer)==null?void 0:K.onDocumentMouseMove(X)}),this.eventsToUnbind.push(this.unDocMouseMove)),m.axes.forEach(function(X){let J,K=Js((X.crosshair||{}).snap,!0);!K||(J=m.hoverPoint)&&J.series[X.coll]===X||(J=ax(j,ee=>ee.series&&ee.series[X.coll]===X)),J||!K?X.drawCrosshair(o,J):X.hideCrosshair()})}setDOMEvents(){let o=this.chart.container,c=o.ownerDocument;o.onmousedown=this.onContainerMouseDown.bind(this),o.onmousemove=this.onContainerMouseMove.bind(this),o.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ks(o,"mouseenter",this.onContainerMouseEnter.bind(this)),ks(o,"mouseleave",this.onContainerMouseLeave.bind(this))),ni.unbindDocumentMouseUp.some(m=>m.doc===c)||ni.unbindDocumentMouseUp.push({doc:c,unbind:ks(c,"mouseup",this.onDocumentMouseUp.bind(this))});let u=this.chart.renderTo.parentElement;for(;u&&u.tagName!=="BODY";)this.eventsToUnbind.push(ks(u,"scroll",()=>{delete this.chartPosition})),u=u.parentElement;this.eventsToUnbind.push(ks(o,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ks(o,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),ni.unbindDocumentTouchEnd||(ni.unbindDocumentTouchEnd=ks(c,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ks(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var g,w;if(!vV)return;let o=this.pointerCaptureEventsToUnbind,c=this.chart,u=c.container,m=Js((g=c.options.tooltip)==null?void 0:g.followTouchMove,!0)&&c.series.some(C=>C.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&m?(o.push(ks(u,"pointerdown",C=>{var S,O;(S=C.target)!=null&&S.hasPointerCapture(C.pointerId)&&((O=C.target)==null||O.releasePointerCapture(C.pointerId))}),ks(u,"pointermove",C=>{var S,O;(O=(S=c.pointer)==null?void 0:S.getPointFromEvent(C))==null||O.onMouseOver(C)})),c.styledMode||Zy(u,{"touch-action":"none"}),u.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!m&&(o.forEach(C=>C()),o.length=0,c.styledMode||Zy(u,{"touch-action":Js((w=c.options.chart.style)==null?void 0:w["touch-action"],"manipulation")}),u.className=u.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(o){var m;let c=this.chart,u=T.charts[Js(ni.hoverChartIndex,-1)];if(u&&u!==c){let g={relatedTarget:c.container};o&&!(o!=null&&o.relatedTarget)&&(o={...g,...o}),(m=u.pointer)==null||m.onContainerMouseLeave(o||g)}u&&u.mouseIsDown||(ni.hoverChartIndex=c.index)}touch(o,c){let u,{chart:m,pinchDown:g=[]}=this;this.setHoverChartIndex(),(o=this.normalize(o)).touches.length===1?m.isInsidePlot(o.chartX-m.plotLeft,o.chartY-m.plotTop,{visiblePlotOnly:!0})&&!m.openMenu?(c&&this.runPointActions(o),o.type==="touchmove"&&(u=!!g[0]&&Math.pow(g[0].chartX-o.chartX,2)+Math.pow(g[0].chartY-o.chartY,2)>=16),Js(u,!0)&&this.pinch(o)):c&&this.reset():o.touches.length===2&&this.pinch(o)}touchSelect(o){return!!(this.chart.zooming.singleTouch&&o.touches&&o.touches.length===1)}zoomOption(o){let c=this.chart,u=c.inverted,m=c.zooming.type||"",g,w;/touch/.test(o.type)&&(m=Js(c.zooming.pinchType,m)),this.zoomX=g=/x/.test(m),this.zoomY=w=/y/.test(m),this.zoomHor=g&&!u||w&&u,this.zoomVert=w&&!u||g&&u,this.hasZoom=g||w}}ni.unbindDocumentMouseUp=[],function(A){A.compose=function(o){CV(yV,"Core.Pointer")&&ks(o,"beforeRender",function(){this.pointer=new A(this,this.options)})}}(ni||(ni={}));let cx=ni,{fireEvent:ux,isArray:xV,objectEach:tp,uniqueKey:np}=Re,ip=class{constructor(A={}){this.autoId=!A.id,this.columns={},this.id=A.id||np(),this.modified=this,this.rowCount=0,this.versionTag=np();let o=0;tp(A.columns||{},(c,u)=>{this.columns[u]=c.slice(),o=Math.max(o,c.length)}),this.applyRowCount(o)}applyRowCount(A){this.rowCount=A,tp(this.columns,o=>{xV(o)&&(o.length=A)})}getColumn(A,o){return this.columns[A]}getColumns(A,o){return(A||Object.keys(this.columns)).reduce((c,u)=>(c[u]=this.columns[u],c),{})}getRow(A,o){return(o||Object.keys(this.columns)).map(c=>{var u;return(u=this.columns[c])==null?void 0:u[A]})}setColumn(A,o=[],c=0,u){this.setColumns({[A]:o},c,u)}setColumns(A,o,c){let u=this.rowCount;tp(A,(m,g)=>{this.columns[g]=m.slice(),u=m.length}),this.applyRowCount(u),c!=null&&c.silent||(ux(this,"afterSetColumns"),this.versionTag=np())}setRow(A,o=this.rowCount,c,u){let{columns:m}=this,g=c?this.rowCount+1:o+1;tp(A,(w,C)=>{let S=m[C]||(u==null?void 0:u.addColumns)!==!1&&Array(g);S&&(c?S.splice(o,0,w):S[o]=w,m[C]=S)}),g>this.rowCount&&this.applyRowCount(g),u!=null&&u.silent||(ux(this,"afterSetRows"),this.versionTag=np())}},{extend:EV,merge:TV,pick:hx}=Re;(function(A){function o(c,u,m){var le,he;let g=this.legendItem=this.legendItem||{},{chart:w,options:C}=this,{baseline:S=0,symbolWidth:O,symbolHeight:F}=c,M=this.symbol||"circle",j=F/2,W=w.renderer,G=g.group,X=S-Math.round((((le=c.fontMetrics)==null?void 0:le.b)||F)*(m?.4:.3)),J={},K,ee=C.marker,te=0;if(w.styledMode||(J["stroke-width"]=Math.min(C.lineWidth||0,24),C.dashStyle?J.dashstyle=C.dashStyle:C.linecap==="square"||(J["stroke-linecap"]="round")),g.line=W.path().addClass("highcharts-graph").attr(J).add(G),m&&(g.area=W.path().addClass("highcharts-area").add(G)),J["stroke-linecap"]&&(te=Math.min(g.line.strokeWidth(),O)/2),O){let ue=[["M",te,X],["L",O-te,X]];g.line.attr({d:ue}),(he=g.area)==null||he.attr({d:[...ue,["L",O-te,S],["L",te,S]]})}if(ee&&ee.enabled!==!1&&O){let ue=Math.min(hx(ee.radius,j),j);M.indexOf("url")===0&&(ee=TV(ee,{width:F,height:F}),ue=0),g.symbol=K=W.symbol(M,O/2-ue,X-ue,2*ue,2*ue,EV({context:"legend"},ee)).addClass("highcharts-point").add(G),K.isMarker=!0}}A.areaMarker=function(c,u){o.call(this,c,u,!0)},A.lineMarker=o,A.rectangle=function(c,u){let m=u.legendItem||{},g=c.options,w=c.symbolHeight,C=g.squareSymbol,S=C?w:c.symbolWidth;m.symbol=this.chart.renderer.rect(C?(c.symbolWidth-w)/2:0,c.baseline-w+1,S,w,hx(c.options.symbolRadius,w/2)).addClass("highcharts-point").attr({zIndex:3}).add(m.group)}})(v||(v={}));let dx=v,{defaultOptions:fx}=Vn,{extend:SV,extendClass:kV,merge:IV}=Re;(function(A){function o(c,u){let m=fx.plotOptions||{},g=u.defaultOptions,w=u.prototype;return w.type=c,w.pointClass||(w.pointClass=ia),!A.seriesTypes[c]&&(g&&(m[c]=g),A.seriesTypes[c]=u,!0)}A.seriesTypes=T.seriesTypes,A.registerSeriesType=o,A.seriesType=function(c,u,m,g,w){let C=fx.plotOptions||{};if(u=u||"",C[c]=IV(C[u],m),delete A.seriesTypes[c],o(c,kV(A.seriesTypes[u]||function(){},g)),A.seriesTypes[c].prototype.type=c,w){class S extends ia{}SV(S.prototype,w),A.seriesTypes[c].prototype.pointClass=S}return A.seriesTypes[c]}})(_||(_={}));let Ln=_,{animObject:px,setAnimation:AV}=kn,{defaultOptions:sp}=Vn,{registerEventOptions:PV}=Uf,{svg:OV,win:RV}=T,{seriesTypes:uc}=Ln,{arrayMax:tv,arrayMin:mx,clamp:gx,correctFloat:yx,crisp:MV,defined:ii,destroyObjectProperties:DV,diffObjects:NV,erase:vx,error:rp,extend:hc,find:LV,fireEvent:bn,getClosestDistance:VV,getNestedProperty:bx,insertItem:_x,isArray:wx,isNumber:di,isString:FV,merge:dc,objectEach:nv,pick:_n,removeEvent:BV,syncTimeout:Cx}=Re;class fc{constructor(){this.zoneAxis="y"}init(o,c){let u;bn(this,"init",{options:c}),this.dataTable??(this.dataTable=new ip);let m=o.series;this.eventsToUnbind=[],this.chart=o,this.options=this.setOptions(c);let g=this.options,w=g.visible!==!1;this.linkedSeries=[],this.bindAxes(),hc(this,{name:g.name,state:"",visible:w,selected:g.selected===!0}),PV(this,g);let C=g.events;(C&&C.click||g.point&&g.point.events&&g.point.events.click||g.allowPointSelect)&&(o.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(o.hasCartesianSeries=!0),m.length&&(u=m[m.length-1]),this._i=_n(u&&u._i,-1)+1,this.opacity=this.options.opacity,o.orderItems("series",_x(this,m)),g.dataSorting&&g.dataSorting.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(g.data,!1),bn(this,"afterInit")}is(o){return uc[o]&&this instanceof uc[o]}bindAxes(){let o,c=this,u=c.options,m=c.chart;bn(this,"bindAxes",null,function(){(c.axisTypes||[]).forEach(function(g){(m[g]||[]).forEach(function(w){o=w.options,(_n(u[g],0)===w.index||u[g]!==void 0&&u[g]===o.id)&&(_x(c,w.series),c[g]=w,w.isDirty=!0)}),c[g]||c.optionalAxis===g||rp(18,!0,m)})}),bn(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(o,c){let u=o.marker,m=c.marker||{};return u&&(m.enabled&&!u.enabled||m.symbol!==u.symbol||m.height!==u.height||m.width!==u.width)}autoIncrement(o){let c,u=this.options,{pointIntervalUnit:m,relativeXValue:g}=this.options,w=this.chart.time,C=this.xIncrement??w.parse(u.pointStart)??0;if(this.pointInterval=c=_n(this.pointInterval,u.pointInterval,1),g&&di(o)&&(c*=o),m){let S=w.toParts(C);m==="day"?S[2]+=c:m==="month"?S[1]+=c:m==="year"&&(S[0]+=c),c=w.makeTime.apply(w,S)-C}return g&&di(o)?C+c:(this.xIncrement=C+c,C)}setDataSortingOptions(){let o=this.options;hc(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),ii(o.pointRange)||(o.pointRange=1)}setOptions(o){var J,K;let c,u=this.chart,m=u.options.plotOptions,g=u.userOptions||{},w=dc(o),C=u.styledMode,S={plotOptions:m,userOptions:w};bn(this,"setOptions",S);let O=S.plotOptions[this.type],F=g.plotOptions||{},M=F.series||{},j=sp.plotOptions[this.type]||{},W=F[this.type]||{};this.userOptions=S.userOptions;let G=dc(O,m.series,W,w);this.tooltipOptions=dc(sp.tooltip,(J=sp.plotOptions.series)==null?void 0:J.tooltip,j==null?void 0:j.tooltip,u.userOptions.tooltip,(K=F.series)==null?void 0:K.tooltip,W.tooltip,w.tooltip),this.stickyTracking=_n(w.stickyTracking,W.stickyTracking,M.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||G.stickyTracking),O.marker===null&&delete G.marker,this.zoneAxis=G.zoneAxis||"y";let X=this.zones=(G.zones||[]).map(ee=>({...ee}));return(G.negativeColor||G.negativeFillColor)&&!G.zones&&(c={value:G[this.zoneAxis+"Threshold"]||G.threshold||0,className:"highcharts-negative"},C||(c.color=G.negativeColor,c.fillColor=G.negativeFillColor),X.push(c)),X.length&&ii(X[X.length-1].value)&&X.push(C?{}:{color:this.color,fillColor:this.fillColor}),bn(this,"afterSetOptions",{options:G}),G}getName(){return _n(this.options.name,"Series "+(this.index+1))}getCyclic(o,c,u){let m,g,w=this.chart,C=`${o}Index`,S=`${o}Counter`,O=(u==null?void 0:u.length)||w.options.chart.colorCount;!c&&(ii(g=_n(o==="color"?this.options.colorIndex:void 0,this[C]))?m=g:(w.series.length||(w[S]=0),m=w[S]%O,w[S]+=1),u&&(c=u[m])),m!==void 0&&(this[C]=m),this[o]=c}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||sp.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let o=this.options.marker;this.getCyclic("symbol",o.symbol,this.chart.options.symbols)}getColumn(o,c){return(c?this.dataTable.modified:this.dataTable).getColumn(o,!0)||[]}findPointIndex(o,c){let u,m,g,w=o.id,C=o.x,S=this.points,O=this.options.dataSorting;if(w){let F=this.chart.get(w);F instanceof ia&&(u=F)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let F=M=>!M.touched&&M.index===o.index;if(O&&O.matchByName?F=M=>!M.touched&&M.name===o.name:this.options.relativeXValue&&(F=M=>!M.touched&&M.options.x===o.x),!(u=LV(S,F)))return}return u&&(g=u&&u.index)!==void 0&&(m=!0),g===void 0&&di(C)&&(g=this.getColumn("x").indexOf(C,c)),g!==-1&&g!==void 0&&this.cropped&&(g=g>=this.cropStart?g-this.cropStart:g),!m&&di(g)&&S[g]&&S[g].touched&&(g=void 0),g}updateData(o,c){let u=this.options,m=u.dataSorting,g=this.points,w=[],C=this.requireSorting,S=o.length===g.length,O,F,M,j,W=!0;if(this.xIncrement=null,o.forEach(function(X,J){let K,ee=ii(X)&&this.pointClass.prototype.optionsToObject.call({series:this},X)||{},te=ee.x;ee.id||di(te)?((K=this.findPointIndex(ee,j))===-1||K===void 0?w.push(X):g[K]&&X!==u.data[K]?(g[K].update(X,!1,null,!1),g[K].touched=!0,C&&(j=K+1)):g[K]&&(g[K].touched=!0),(!S||J!==K||m&&m.enabled||this.hasDerivedData)&&(O=!0)):w.push(X)},this),O)for(F=g.length;F--;)(M=g[F])&&!M.touched&&M.remove&&M.remove(!1,c);else!S||m&&m.enabled?W=!1:(o.forEach(function(X,J){X===g[J].y||g[J].destroyed||g[J].update(X,!1,null,!1)}),w.length=0);if(g.forEach(function(X){X&&(X.touched=!1)}),!W)return!1;w.forEach(function(X){this.addPoint(X,!1,null,null,!1)},this);let G=this.getColumn("x");return this.xIncrement===null&&G.length&&(this.xIncrement=tv(G),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(o,c=!0,u,m){var fe,de;let g=this.points,w=g&&g.length||0,C=this.options,S=this.chart,O=C.dataSorting,F=this.xAxis,M=C.turboThreshold,j=this.dataTable,W=this.dataColumnKeys(),G=this.pointValKey||"y",X=(this.pointArrayMap||[]).length,J=C.keys,K,ee,te=0,le=1,he;S.options.chart.allowMutatingData||(C.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,he=dc(!0,o));let ue=(o=he||o||[]).length;if(O&&O.enabled&&(o=this.sortData(o)),S.options.chart.allowMutatingData&&m!==!1&&ue&&w&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(ee=this.updateData(o,u)),!ee){this.xIncrement=null,this.colorCounter=0;let ge=M&&ue>M;if(ge){let Te=this.getFirstValidPoint(o),Ae=this.getFirstValidPoint(o,ue-1,-1),$e=xe=>!!(wx(xe)&&(J||di(xe[0])));if(di(Te)&&di(Ae)){let xe=[],Be=[];for(let it of o)xe.push(this.autoIncrement()),Be.push(it);j.setColumns({x:xe,[G]:Be})}else if($e(Te)&&$e(Ae))if(X){let xe=Te.length===X?1:0,Be=Array(W.length).fill(0).map(()=>[]);for(let it of o){xe&&Be[0].push(this.autoIncrement());for(let xt=xe;xt<=X;xt++)(fe=Be[xt])==null||fe.push(it[xt-xe])}j.setColumns(W.reduce((it,xt,et)=>(it[xt]=Be[et],it),{}))}else{J&&(te=J.indexOf("x"),le=J.indexOf("y"),te=te>=0?te:0,le=le>=0?le:1),Te.length===1&&(le=0);let xe=[],Be=[];if(te===le)for(let it of o)xe.push(this.autoIncrement()),Be.push(it[le]);else for(let it of o)xe.push(it[te]),Be.push(it[le]);j.setColumns({x:xe,[G]:Be})}else ge=!1}if(!ge){let Te=W.reduce((Ae,$e)=>(Ae[$e]=[],Ae),{});for(K=0;K<ue;K++){let Ae=this.pointClass.prototype.applyOptions.apply({series:this},[o[K]]);for(let $e of W)Te[$e][K]=Ae[$e]}j.setColumns(Te)}for(FV(this.getColumn("y")[0])&&rp(14,!0,S),this.data=[],this.options.data=this.userOptions.data=o,K=w;K--;)(de=g[K])==null||de.destroy();F&&(F.minRange=F.userMinRange),this.isDirty=S.isDirtyBox=!0,this.isDirtyData=!!g,u=!1}C.legendType==="point"&&(this.processData(),this.generatePoints()),c&&S.redraw(u)}sortData(o){let c=this,u=c.options.dataSorting.sortKey||"y",m=function(g,w){return ii(w)&&g.pointClass.prototype.optionsToObject.call({series:g},w)||{}};return o.forEach(function(g,w){o[w]=m(c,g),o[w].index=w},this),o.concat().sort((g,w)=>{let C=bx(u,g),S=bx(u,w);return S<C?-1:S>C?1:0}).forEach(function(g,w){g.x=w},this),c.linkedSeries&&c.linkedSeries.forEach(function(g){let w=g.options,C=w.data;w.dataSorting&&w.dataSorting.enabled||!C||(C.forEach(function(S,O){C[O]=m(g,S),o[O]&&(C[O].x=o[O].x,C[O].index=O)}),g.setData(C,!1))}),o}getProcessedData(o){let c=this,{dataTable:u,isCartesian:m,options:g,xAxis:w}=c,C=g.cropThreshold,S=o||c.getExtremesFromAll,O=w==null?void 0:w.logarithmic,F=u.rowCount,M,j,W=0,G,X,J,K=c.getColumn("x"),ee=u,te=!1;return w&&(X=(G=w.getExtremes()).min,J=G.max,te=!!(w.categories&&!w.names.length),m&&c.sorted&&!S&&(!C||F>C||c.forceCrop)&&(K[F-1]<X||K[0]>J?ee=new ip:c.getColumn(c.pointValKey||"y").length&&(K[0]<X||K[F-1]>J)&&(ee=(M=this.cropData(u,X,J)).modified,W=M.start,j=!0))),K=ee.getColumn("x")||[],{modified:ee,cropped:j,cropStart:W,closestPointRange:VV([O?K.map(O.log2lin):K],()=>c.requireSorting&&!te&&rp(15,!1,c.chart))}}processData(o){let c=this.xAxis,u=this.dataTable;if(this.isCartesian&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!o)return!1;let m=this.getProcessedData();u.modified=m.modified,this.cropped=m.cropped,this.cropStart=m.cropStart,this.closestPointRange=this.basePointRange=m.closestPointRange,bn(this,"afterProcessData")}cropData(o,c,u){let m=o.getColumn("x",!0)||[],g=m.length,w={},C,S,O=0,F=g;for(C=0;C<g;C++)if(m[C]>=c){O=Math.max(0,C-1);break}for(S=C;S<g;S++)if(m[S]>u){F=S+1;break}for(let M of this.dataColumnKeys()){let j=o.getColumn(M,!0);j&&(w[M]=j.slice(O,F))}return{modified:new ip({columns:w}),start:O,end:F}}generatePoints(){var he,ue;let o=this.options,c=this.processedData||o.data,u=this.dataTable.modified,m=this.getColumn("x",!0),g=this.pointClass,w=u.rowCount,C=this.cropStart||0,S=this.hasGroupedData,O=o.keys,F=[],M=o.dataGrouping&&o.dataGrouping.groupAll?C:0,j=(he=this.xAxis)==null?void 0:he.categories,W=this.pointArrayMap||["y"],G=this.dataColumnKeys(),X,J,K,ee,te=this.data,le;if(!te&&!S){let fe=[];fe.length=(c==null?void 0:c.length)||0,te=this.data=fe}for(O&&S&&(this.options.keys=!1),ee=0;ee<w;ee++)J=C+ee,S?((K=new g(this,u.getRow(ee,G)||[])).dataGroup=this.groupMap[M+ee],(ue=K.dataGroup)!=null&&ue.options&&(K.options=K.dataGroup.options,hc(K,K.dataGroup.options),delete K.dataLabels)):(K=te[J],le=c?c[J]:u.getRow(ee,W),K||le===void 0||(te[J]=K=new g(this,le,m[ee]))),K&&(K.index=S?M+ee:J,F[ee]=K,K.category=(j==null?void 0:j[K.x])??K.x,K.key=K.name??K.category);if(this.options.keys=O,te&&(w!==(X=te.length)||S))for(ee=0;ee<X;ee++)ee!==C||S||(ee+=w),te[ee]&&(te[ee].destroyElements(),te[ee].plotX=void 0);this.data=te,this.points=F,bn(this,"afterGeneratePoints")}getXExtremes(o){return{min:mx(o),max:tv(o)}}getExtremes(o,c){var he;let{xAxis:u,yAxis:m}=this,g=c||this.getExtremesFromAll||this.options.getExtremesFromAll,w=g&&this.cropped?this.dataTable:this.dataTable.modified,C=w.rowCount,S=o||this.stackedYData,O=S?[S]:((he=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:he.map(ue=>w.getColumn(ue,!0)||[]))||[],F=this.getColumn("x",!0),M=[],j=this.requireSorting&&!this.is("column")?1:0,W=!!m&&m.positiveValuesOnly,G=g||this.cropped||!u,X,J,K,ee=0,te=0;for(u&&(ee=(X=u.getExtremes()).min,te=X.max),K=0;K<C;K++)if(J=F[K],G||(F[K+j]||J)>=ee&&(F[K-j]||J)<=te)for(let ue of O){let fe=ue[K];di(fe)&&(fe>0||!W)&&M.push(fe)}let le={activeYData:M,dataMin:mx(M),dataMax:tv(M)};return bn(this,"afterGetExtremes",{dataExtremes:le}),le}applyExtremes(){let o=this.getExtremes();return this.dataMin=o.dataMin,this.dataMax=o.dataMax,o}getFirstValidPoint(o,c=0,u=1){let m=o.length,g=c;for(;g>=0&&g<m;){if(ii(o[g]))return o[g];g+=u}}translate(){var ee;this.generatePoints();let o=this.options,c=o.stacking,u=this.xAxis,m=this.enabledDataSorting,g=this.yAxis,w=this.points,C=w.length,S=this.pointPlacementToXValue(),O=!!S,F=o.threshold,M=o.startFromThreshold?F:0,j,W,G,X,J=Number.MAX_VALUE;function K(te){return gx(te,-1e9,1e9)}for(j=0;j<C;j++){let te,le=w[j],he=le.x,ue,fe,de=le.y,ge=le.low,Te=c&&((ee=g.stacking)==null?void 0:ee.stacks[(this.negStacks&&de<(M?0:F)?"-":"")+this.stackKey]);W=u.translate(he,!1,!1,!1,!0,S),le.plotX=di(W)?yx(K(W)):void 0,c&&this.visible&&Te&&Te[he]&&(X=this.getStackIndicator(X,he,this.index),!le.isNull&&X.key&&(fe=(ue=Te[he]).points[X.key]),ue&&wx(fe)&&(ge=fe[0],de=fe[1],ge===M&&X.key===Te[he].base&&(ge=_n(di(F)?F:g.min)),g.positiveValuesOnly&&ii(ge)&&ge<=0&&(ge=void 0),le.total=le.stackTotal=_n(ue.total),le.percentage=ii(le.y)&&ue.total?le.y/ue.total*100:void 0,le.stackY=de,this.irregularWidths||ue.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),le.yBottom=ii(ge)?K(g.translate(ge,!1,!0,!1,!0)):void 0,this.dataModify&&(de=this.dataModify.modifyValue(de,j)),di(de)&&le.plotX!==void 0&&(te=di(te=g.translate(de,!1,!0,!1,!0))?K(te):void 0),le.plotY=te,le.isInside=this.isPointInside(le),le.clientX=O?yx(u.translate(he,!1,!1,!1,!0,S)):W,le.negative=(le.y||0)<(F||0),le.isNull||le.visible===!1||(G!==void 0&&(J=Math.min(J,Math.abs(W-G))),G=W),le.zone=this.zones.length?le.getZone():void 0,!le.graphic&&this.group&&m&&(le.isNew=!0)}this.closestPointRangePx=J,bn(this,"afterTranslate")}getValidPoints(o,c,u){let m=this.chart;return(o||this.points||[]).filter(function(g){let{plotX:w,plotY:C}=g;return!!((u||!g.isNull&&di(C))&&(!c||m.isInsidePlot(w,C,{inverted:m.inverted})))&&g.visible!==!1})}getClipBox(){let{chart:o,xAxis:c,yAxis:u}=this,{x:m,y:g,width:w,height:C}=dc(o.clipBox);return c&&c.len!==o.plotSizeX&&(w=c.len),u&&u.len!==o.plotSizeY&&(C=u.len),o.inverted&&!this.invertible&&([w,C]=[C,w]),{x:m,y:g,width:w,height:C}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:o,group:c,markerGroup:u}=this,m=o.sharedClips,g=o.renderer,w=this.getClipBox(),C=this.getSharedClipKey(),S=m[C];S?S.animate(w):m[C]=S=g.clipRect(w),c&&c.clip(this.options.clip===!1?void 0:S),u&&u.clip()}animate(o){let{chart:c,group:u,markerGroup:m}=this,g=c.inverted,w=px(this.options.animation),C=[this.getSharedClipKey(),w.duration,w.easing,w.defer].join(","),S=c.sharedClips[C],O=c.sharedClips[C+"m"];if(o&&u){let F=this.getClipBox();if(S)S.attr("height",F.height);else{F.width=0,g&&(F.x=c.plotHeight),S=c.renderer.clipRect(F),c.sharedClips[C]=S;let M={x:-99,y:-99,width:g?c.plotWidth+199:99,height:g?99:c.plotHeight+199};O=c.renderer.clipRect(M),c.sharedClips[C+"m"]=O}u.clip(S),m==null||m.clip(O)}else if(S&&!S.hasClass("highcharts-animating")){let F=this.getClipBox(),M=w.step;(m!=null&&m.element.childNodes.length||c.series.length>1)&&(w.step=function(j,W){M&&M.apply(W,arguments),W.prop==="width"&&(O!=null&&O.element)&&O.attr(g?"height":"width",j+99)}),S.addClass("highcharts-animating").animate(F,w)}}afterAnimate(){this.setClip(),nv(this.chart.sharedClips,(o,c,u)=>{o&&!this.chart.container.querySelector(`[clip-path="url(#${o.id})"]`)&&(o.destroy(),delete u[c])}),this.finishedAnimating=!0,bn(this,"afterAnimate")}drawPoints(o=this.points){let c,u,m,g,w,C,S,O=this.chart,F=O.styledMode,{colorAxis:M,options:j}=this,W=j.marker,G=this[this.specialGroup||"markerGroup"],X=this.xAxis,J=_n(W.enabled,!X||!!X.isRadial||null,this.closestPointRangePx>=W.enabledThreshold*W.radius);if(W.enabled!==!1||this._hasPointMarkers)for(c=0;c<o.length;c++)if(g=(m=(u=o[c]).graphic)?"animate":"attr",w=u.marker||{},C=!!u.marker,(J&&w.enabled===void 0||w.enabled)&&!u.isNull&&u.visible!==!1){let K=_n(w.symbol,this.symbol,"rect");S=this.markerAttribs(u,u.selected&&"select"),this.enabledDataSorting&&(u.startXPos=X.reversed?-(S.width||0):X.width);let ee=u.isInside!==!1;if(!m&&ee&&((S.width||0)>0||u.hasImage)&&(u.graphic=m=O.renderer.symbol(K,S.x,S.y,S.width,S.height,C?w:W).add(G),this.enabledDataSorting&&O.hasRendered&&(m.attr({x:u.startXPos}),g="animate")),m&&g==="animate"&&m[ee?"show":"hide"](ee).animate(S),m){let te=this.pointAttribs(u,F||!u.selected?void 0:"select");F?M&&m.css({fill:te.fill}):m[g](te)}m&&m.addClass(u.getClassName(),!0)}else m&&(u.graphic=m.destroy())}markerAttribs(o,c){let u=this.options,m=u.marker,g=o.marker||{},w=g.symbol||m.symbol,C={},S,O,F=_n(g.radius,m&&m.radius);c&&(S=m.states[c],F=_n((O=g.states&&g.states[c])&&O.radius,S&&S.radius,F&&F+(S&&S.radiusPlus||0))),o.hasImage=w&&w.indexOf("url")===0,o.hasImage&&(F=0);let M=o.pos();return di(F)&&M&&(u.crisp&&(M[0]=MV(M[0],o.hasImage?0:w==="rect"?(m==null?void 0:m.lineWidth)||0:1)),C.x=M[0]-F,C.y=M[1]-F),F&&(C.width=C.height=2*F),C}pointAttribs(o,c){let u=this.options.marker,m=o&&o.options,g=m&&m.marker||{},w=m&&m.color,C=o&&o.color,S=o&&o.zone&&o.zone.color,O,F,M=this.color,j,W,G=_n(g.lineWidth,u.lineWidth),X=1;return M=w||S||C||M,j=g.fillColor||u.fillColor||M,W=g.lineColor||u.lineColor||M,c=c||"normal",O=u.states[c]||{},G=_n((F=g.states&&g.states[c]||{}).lineWidth,O.lineWidth,G+_n(F.lineWidthPlus,O.lineWidthPlus,0)),j=F.fillColor||O.fillColor||j,{stroke:W=F.lineColor||O.lineColor||W,"stroke-width":G,fill:j,opacity:X=_n(F.opacity,O.opacity,X)}}destroy(o){let c,u,m,g=this,w=g.chart,C=/AppleWebKit\/533/.test(RV.navigator.userAgent),S=g.data||[];for(bn(g,"destroy",{keepEventsForUpdate:o}),this.removeEvents(o),(g.axisTypes||[]).forEach(function(O){(m=g[O])&&m.series&&(vx(m.series,g),m.isDirty=m.forceRedraw=!0)}),g.legendItem&&g.chart.legend.destroyItem(g),c=S.length;c--;)(u=S[c])&&u.destroy&&u.destroy();for(let O of g.zones)DV(O,void 0,!0);Re.clearTimeout(g.animationTimeout),nv(g,function(O,F){O instanceof us&&!O.survive&&O[C&&F==="group"?"hide":"destroy"]()}),w.hoverSeries===g&&(w.hoverSeries=void 0),vx(w.series,g),w.orderItems("series"),nv(g,function(O,F){o&&F==="hcEvents"||delete g[F]})}applyZones(){let{area:o,chart:c,graph:u,zones:m,points:g,xAxis:w,yAxis:C,zoneAxis:S}=this,{inverted:O,renderer:F}=c,M=this[`${S}Axis`],{isXAxis:j,len:W=0,minPointOffset:G=0}=M||{},X=((u==null?void 0:u.strokeWidth())||0)/2+1,J=(K,ee=0,te=0)=>{O&&(te=W-te);let{translated:le=0,lineClip:he}=K,ue=te-le;he==null||he.push(["L",ee,Math.abs(ue)<X?te-X*(ue<=0?-1:1):le])};if(m.length&&(u||o)&&M&&di(M.min)){let K=M.getExtremes().max+G,ee=he=>{he.forEach((ue,fe)=>{(ue[0]==="M"||ue[0]==="L")&&(he[fe]=[ue[0],j?W-ue[1]:ue[1],j?ue[2]:W-ue[2]])})};if(m.forEach(he=>{he.lineClip=[],he.translated=gx(M.toPixels(_n(he.value,K),!0)||0,0,W)}),u&&!this.showLine&&u.hide(),o&&o.hide(),S==="y"&&g.length<w.len)for(let he of g){let{plotX:ue,plotY:fe,zone:de}=he,ge=de&&m[m.indexOf(de)-1];de&&J(de,ue,fe),ge&&J(ge,ue,fe)}let te=[],le=M.toPixels(M.getExtremes().min-G,!0);m.forEach(he=>{var xt,et;let ue=he.lineClip||[],fe=Math.round(he.translated||0);w.reversed&&ue.reverse();let{clip:de,simpleClip:ge}=he,Te=0,Ae=0,$e=w.len,xe=C.len;j?(Te=fe,$e=le):(Ae=fe,xe=le);let Be=[["M",Te,Ae],["L",$e,Ae],["L",$e,xe],["L",Te,xe],["Z"]],it=[Be[0],...ue,Be[1],Be[2],...te,Be[3],Be[4]];te=ue.reverse(),le=fe,O&&(ee(it),o&&ee(Be)),de?(de.animate({d:it}),ge==null||ge.animate({d:Be})):(de=he.clip=F.path(it),o&&(ge=he.simpleClip=F.path(Be))),u&&((xt=he.graph)==null||xt.clip(de)),o&&((et=he.area)==null||et.clip(ge))})}else this.visible&&(u&&u.show(),o&&o.show())}plotGroup(o,c,u,m,g){let w=this[o],C=!w,S={visibility:u,zIndex:m||.1};return ii(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(S.opacity=this.opacity),w||(this[o]=w=this.chart.renderer.g().add(g)),w.addClass("highcharts-"+c+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(ii(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(w.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),w.attr(S)[C?"attr":"animate"](this.getPlotBox(c)),w}getPlotBox(o){let c=this.xAxis,u=this.yAxis,m=this.chart,g=m.inverted&&!m.polar&&c&&this.invertible&&o==="series";return m.inverted&&(c=u,u=this.xAxis),{translateX:c?c.left:m.plotLeft,translateY:u?u.top:m.plotTop,rotation:g?90:0,rotationOriginX:g?(c.len-u.len)/2:0,rotationOriginY:g?(c.len+u.len)/2:0,scaleX:g?-1:1,scaleY:1}}removeEvents(o){let{eventsToUnbind:c}=this;o||BV(this),c.length&&(c.forEach(u=>{u()}),c.length=0)}render(){var F,M,j,W,G;let o=this,{chart:c,options:u,hasRendered:m}=o,g=px(u.animation),w=o.visible?"inherit":"hidden",C=u.zIndex,S=c.seriesGroup,O=o.finishedAnimating?0:g.duration;bn(this,"render"),o.plotGroup("group","series",w,C,S),o.markerGroup=o.plotGroup("markerGroup","markers",w,C,S),u.clip!==!1&&o.setClip(),O&&((F=o.animate)==null||F.call(o,!0)),o.drawGraph&&(o.drawGraph(),o.applyZones()),o.visible&&o.drawPoints(),(M=o.drawDataLabels)==null||M.call(o),(j=o.redrawPoints)==null||j.call(o),u.enableMouseTracking&&((W=o.drawTracker)==null||W.call(o)),O&&((G=o.animate)==null||G.call(o)),m||(O&&g.defer&&(O+=g.defer),o.animationTimeout=Cx(()=>{o.afterAnimate()},O||0)),o.isDirty=!1,o.hasRendered=!0,bn(o,"afterRender")}redraw(){let o=this.isDirty||this.isDirtyData;this.translate(),this.render(),o&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(o,c){let{xAxis:u,yAxis:m}=this,g=this.chart.inverted;return this.searchKDTree({clientX:g?u.len-o.chartY+u.pos:o.chartX-u.pos,plotY:g?m.len-o.chartX+m.pos:o.chartY-m.pos},c,o)}buildKDTree(o){this.buildingKdTree=!0;let c=this,u=c.options.findNearestPointBy.indexOf("y")>-1?2:1;delete c.kdTree,Cx(function(){c.kdTree=function m(g,w,C){let S,O,F=g==null?void 0:g.length;if(F)return S=c.kdAxisArray[w%C],g.sort((M,j)=>(M[S]||0)-(j[S]||0)),{point:g[O=Math.floor(F/2)],left:m(g.slice(0,O),w+1,C),right:m(g.slice(O+1),w+1,C)}}(c.getValidPoints(void 0,!c.directTouch),u,u),c.buildingKdTree=!1},c.options.kdNow||(o==null?void 0:o.type)==="touchstart"?0:1)}searchKDTree(o,c,u,m,g){let w=this,[C,S]=this.kdAxisArray,O=c?"distX":"dist",F=(w.options.findNearestPointBy||"").indexOf("y")>-1?2:1,M=!!w.isBubble,j=m||((G,X,J)=>[(G[J]||0)<(X[J]||0)?G:X,!1]),W=g||((G,X)=>G<X);if(this.kdTree||this.buildingKdTree||this.buildKDTree(u),this.kdTree)return function G(X,J,K,ee){var Te;let te=J.point,le=w.kdAxisArray[K%ee],he=te,ue=!1;(function(Ae,$e){var ot;let xe=Ae[C],Be=$e[C],it=ii(xe)&&ii(Be)?xe-Be:null,xt=Ae[S],et=$e[S],bt=ii(xt)&&ii(et)?xt-et:0,Qe=M&&((ot=$e.marker)==null?void 0:ot.radius)||0;$e.dist=Math.sqrt((it&&it*it||0)+bt*bt)-Qe,$e.distX=ii(it)?Math.abs(it)-Qe:Number.MAX_VALUE})(X,te);let fe=(X[le]||0)-(te[le]||0)+(M&&((Te=te.marker)==null?void 0:Te.radius)||0),de=fe<0?"left":"right",ge=fe<0?"right":"left";return J[de]&&([he,ue]=j(te,G(X,J[de],K+1,ee),O)),J[ge]&&W(Math.sqrt(fe*fe),he[O],ue)&&(he=j(he,G(X,J[ge],K+1,ee),O)[0]),he}(o,this.kdTree,F,F)}pointPlacementToXValue(){let{options:o,xAxis:c}=this,u=o.pointPlacement;return u==="between"&&(u=c.reversed?-.5:.5),di(u)?u*(o.pointRange||c.pointRange):0}isPointInside(o){let{chart:c,xAxis:u,yAxis:m}=this,{plotX:g=-1,plotY:w=-1}=o;return w>=0&&w<=(m?m.len:c.plotHeight)&&g>=0&&g<=(u?u.len:c.plotWidth)}drawTracker(){var j;let o=this,c=o.options,u=c.trackByArea,m=[].concat((u?o.areaPath:o.graphPath)||[]),g=o.chart,w=g.pointer,C=g.renderer,S=((j=g.options.tooltip)==null?void 0:j.snap)||0,O=()=>{c.enableMouseTracking&&g.hoverSeries!==o&&o.onMouseOver()},F="rgba(192,192,192,"+(OV?1e-4:.002)+")",M=o.tracker;M?M.attr({d:m}):o.graph&&(o.tracker=M=C.path(m).attr({visibility:o.visible?"inherit":"hidden",zIndex:2}).addClass(u?"highcharts-tracker-area":"highcharts-tracker-line").add(o.group),g.styledMode||M.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:F,fill:u?F:"none","stroke-width":o.graph.strokeWidth()+(u?0:2*S)}),[o.tracker,o.markerGroup,o.dataLabelsGroup].forEach(W=>{W&&(W.addClass("highcharts-tracker").on("mouseover",O).on("mouseout",G=>{w==null||w.onTrackerMouseOut(G)}),c.cursor&&!g.styledMode&&W.css({cursor:c.cursor}),W.on("touchstart",O))})),bn(this,"afterDrawTracker")}addPoint(o,c,u,m,g){let w,C,S=this.options,{chart:O,data:F,dataTable:M,xAxis:j}=this,W=j&&j.hasNames&&j.names,G=S.data,X=this.getColumn("x");c=_n(c,!0);let J={series:this};this.pointClass.prototype.applyOptions.apply(J,[o]);let K=J.x;if(C=X.length,this.requireSorting&&K<X[C-1])for(w=!0;C&&X[C-1]>K;)C--;M.setRow(J,C,!0,{addColumns:!1}),W&&J.name&&(W[K]=J.name),G==null||G.splice(C,0,o),(w||this.processedData)&&(this.data.splice(C,0,null),this.processData()),S.legendType==="point"&&this.generatePoints(),u&&(F[0]&&F[0].remove?F[0].remove(!1):([F,G,...Object.values(M.getColumns())].filter(ii).forEach(ee=>{ee.shift()}),M.rowCount-=1,bn(M,"afterDeleteRows"))),g!==!1&&bn(this,"addPoint",{point:J}),this.isDirty=!0,this.isDirtyData=!0,c&&O.redraw(m)}removePoint(o,c,u){let m=this,{chart:g,data:w,points:C,dataTable:S}=m,O=w[o],F=function(){[(C==null?void 0:C.length)===w.length?C:void 0,w,m.options.data,...Object.values(S.getColumns())].filter(ii).forEach(M=>{M.splice(o,1)}),S.rowCount-=1,bn(S,"afterDeleteRows"),O==null||O.destroy(),m.isDirty=!0,m.isDirtyData=!0,c&&g.redraw()};AV(u,g),c=_n(c,!0),O?O.firePointEvent("remove",null,F):F()}remove(o,c,u,m){let g=this,w=g.chart;function C(){g.destroy(m),w.isDirtyLegend=w.isDirtyBox=!0,w.linkSeries(m),_n(o,!0)&&w.redraw(c)}u!==!1?bn(g,"remove",null,C):C()}update(o,c){var K,ee;bn(this,"update",{options:o=NV(o,this.userOptions)});let u=this,m=u.chart,g=u.userOptions,w=u.initialType||u.type,C=m.options.plotOptions,S=uc[w].prototype,O=u.finishedAnimating&&{animation:!1},F={},M,j,W=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],G=o.type||g.type||m.options.chart.type,X=!(this.hasDerivedData||G&&G!==this.type||o.keys!==void 0||o.pointStart!==void 0||o.pointInterval!==void 0||o.relativeXValue!==void 0||o.joinBy||o.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(te=>u.hasOptionChanged(te)));G=G||w,X?(W.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),o.visible!==!1&&W.push("area","graph"),u.parallelArrays.forEach(function(te){W.push(te+"Data")}),o.data&&(o.dataSorting&&hc(u.options.dataSorting,o.dataSorting),this.setData(o.data,!1))):this.dataTable.modified=this.dataTable,o=dc(g,{index:g.index===void 0?u.index:g.index,pointStart:((K=C==null?void 0:C.series)==null?void 0:K.pointStart)??g.pointStart??u.getColumn("x")[0]},!X&&{data:u.options.data},o,O),X&&o.data&&(o.data=u.options.data),(W=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(W)).forEach(function(te){W[te]=u[te],delete u[te]});let J=!1;if(uc[G]){if(J=G!==u.type,u.remove(!1,!1,!1,!0),J)if(m.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(u,uc[G].prototype);else{let te=Object.hasOwnProperty.call(u,"hcEvents")&&u.hcEvents;for(j in S)u[j]=void 0;hc(u,uc[G].prototype),te?u.hcEvents=te:delete u.hcEvents}}else rp(17,!0,m,{missingModuleFor:G});if(W.forEach(function(te){u[te]=W[te]}),u.init(m,o),X&&this.points)for(let te of((M=u.options).visible===!1?(F.graphic=1,F.dataLabel=1):(this.hasMarkerChanged(M,g)&&(F.graphic=1),(ee=u.hasDataLabels)!=null&&ee.call(u)||(F.dataLabel=1)),this.points))te&&te.series&&(te.resolveColor(),Object.keys(F).length&&te.destroyElements(F),M.showInLegend===!1&&te.legendItem&&m.legend.destroyItem(te));u.initialType=w,m.linkSeries(),m.setSortedData(),J&&u.linkedSeries.length&&(u.isDirtyData=!0),bn(this,"afterUpdate"),_n(c,!0)&&m.redraw(!!X&&void 0)}setName(o){this.name=this.options.name=this.userOptions.name=o,this.chart.isDirtyLegend=!0}hasOptionChanged(o){var C,S;let c=this.chart,u=this.options[o],m=c.options.plotOptions,g=this.userOptions[o],w=_n((C=m==null?void 0:m[this.type])==null?void 0:C[o],(S=m==null?void 0:m.series)==null?void 0:S[o]);return g&&!ii(w)?u!==g:u!==_n(w,u)}onMouseOver(){let o=this.chart,c=o.hoverSeries,u=o.pointer;u==null||u.setHoverChartIndex(),c&&c!==this&&c.onMouseOut(),this.options.events.mouseOver&&bn(this,"mouseOver"),this.setState("hover"),o.hoverSeries=this}onMouseOut(){let o=this.options,c=this.chart,u=c.tooltip,m=c.hoverPoint;c.hoverSeries=null,m&&m.onMouseOut(),this&&o.events.mouseOut&&bn(this,"mouseOut"),u&&!this.stickyTracking&&(!u.shared||this.noSharedTooltip)&&u.hide(),c.series.forEach(function(g){g.setState("",!0)})}setState(o,c){let u=this,m=u.options,g=u.graph,w=m.inactiveOtherPoints,C=m.states,S=_n(C[o||"normal"]&&C[o||"normal"].animation,u.chart.options.chart.animation),O=m.lineWidth,F=m.opacity;if(o=o||"",u.state!==o&&([u.group,u.markerGroup,u.dataLabelsGroup].forEach(function(M){M&&(u.state&&M.removeClass("highcharts-series-"+u.state),o&&M.addClass("highcharts-series-"+o))}),u.state=o,!u.chart.styledMode)){if(C[o]&&C[o].enabled===!1)return;if(o&&(O=C[o].lineWidth||O+(C[o].lineWidthPlus||0),F=_n(C[o].opacity,F)),g&&!g.dashstyle&&di(O))for(let M of[g,...this.zones.map(j=>j.graph)])M==null||M.animate({"stroke-width":O},S);w||[u.group,u.markerGroup,u.dataLabelsGroup,u.labelBySeries].forEach(function(M){M&&M.animate({opacity:F},S)})}c&&w&&u.points&&u.setAllPointsToState(o||void 0)}setAllPointsToState(o){this.points.forEach(function(c){c.setState&&c.setState(o)})}setVisible(o,c){var S;let u=this,m=u.chart,g=m.options.chart.ignoreHiddenSeries,w=u.visible;u.visible=o=u.options.visible=u.userOptions.visible=o===void 0?!w:o;let C=o?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(O=>{var F;(F=u[O])==null||F[C]()}),(m.hoverSeries===u||((S=m.hoverPoint)==null?void 0:S.series)===u)&&u.onMouseOut(),u.legendItem&&m.legend.colorizeItem(u,o),u.isDirty=!0,u.options.stacking&&m.series.forEach(O=>{O.options.stacking&&O.visible&&(O.isDirty=!0)}),u.linkedSeries.forEach(O=>{O.setVisible(o,!1)}),g&&(m.isDirtyBox=!0),bn(u,C),c!==!1&&m.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(o){this.selected=o=this.options.selected=o===void 0?!this.selected:o,this.checkbox&&(this.checkbox.checked=o),bn(this,o?"select":"unselect")}shouldShowTooltip(o,c,u={}){return u.series=this,u.visiblePlotOnly=!0,this.chart.isInsidePlot(o,c,u)}drawLegendSymbol(o,c){var u;(u=dx[this.options.legendSymbol||"rectangle"])==null||u.call(this,o,c)}}fc.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:A}=this.series.chart;return typeof this.y!="number"?"":A(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},fc.types=Ln.seriesTypes,fc.registerType=Ln.registerSeriesType,hc(fc.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:ia,requireSorting:!0,sorted:!0}),Ln.series=fc;let fs=fc,{animObject:jV,setAnimation:$V}=kn,{registerEventOptions:xx}=Uf,{composed:UV,marginNames:Ex}=T,{distribute:HV}=to,{format:WV}=Qi,{addEvent:op,createElement:zV,css:GV,defined:iv,discardElement:qV,find:KV,fireEvent:so,isNumber:Tx,merge:sl,pick:Is,pushUnique:YV,relativeLength:XV,stableSort:JV,syncTimeout:QV}=Re;class sv{constructor(o,c){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=o,this.setOptions(c),c.enabled&&(this.render(),xx(this,c),op(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),op(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(o){let c=Is(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=sl(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop,this.itemMarginBottom=o.itemMarginBottom,this.padding=c,this.initialItemY=c-5,this.symbolWidth=Is(o.symbolWidth,16),this.pages=[],this.proximate=o.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(o,c){let u=this.chart;this.setOptions(sl(!0,this.options,o)),"events"in this.options&&xx(this,this.options),this.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,Is(c,!0)&&u.redraw(),so(this,"afterUpdate",{redraw:c})}colorizeItem(o,c){var O;let u=o.color,{area:m,group:g,label:w,line:C,symbol:S}=o.legendItem||{};if((o instanceof fs||o instanceof ia)&&(o.color=((O=o.options)==null?void 0:O.legendSymbolColor)||u),g==null||g[c?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:F={}}=this,M=F.color,{fillColor:j,fillOpacity:W,lineColor:G,marker:X}=o.options,J=K=>(!c&&(K.fill&&(K.fill=M),K.stroke&&(K.stroke=M)),K);w==null||w.css(sl(c?this.itemStyle:F)),C==null||C.attr(J({stroke:G||o.color})),S&&S.attr(J(X&&S.isMarker?o.pointAttribs():{fill:o.color})),m==null||m.attr(J({fill:j||o.color,"fill-opacity":j?1:W??.75}))}o.color=u,so(this,"afterColorizeItem",{item:o,visible:c})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(o){let{group:c,x:u=0,y:m=0}=o.legendItem||{},g=this.options,w=g.symbolPadding,C=!g.rtl,S=o.checkbox;if(c&&c.element){let O={translateX:C?u:this.legendWidth-u-2*w-4,translateY:m};c[iv(c.translateY)?"animate":"attr"](O,void 0,()=>{so(this,"afterPositionItem",{item:o})})}S&&(S.x=u,S.y=m)}destroyItem(o){let c=o.checkbox,u=o.legendItem||{};for(let m of["group","label","line","symbol"])u[m]&&(u[m]=u[m].destroy());c&&qV(c),o.legendItem=void 0}destroy(){for(let o of this.getAllItems())this.destroyItem(o);for(let o of["clipRect","up","down","pager","nav","box","title","group"])this[o]&&(this[o]=this[o].destroy());this.display=null}positionCheckboxes(){let o,c=this.group&&this.group.alignAttr,u=this.clipHeight||this.legendHeight,m=this.titleHeight;c&&(o=c.translateY,this.allItems.forEach(function(g){let w,C=g.checkbox;C&&(w=o+m+C.y+(this.scrollOffset||0)+3,GV(C,{left:c.translateX+g.checkboxOffset+C.x-20+"px",top:w+"px",display:this.proximate||w>o-6&&w<o+u-6?"":"none"}))},this))}renderTitle(){let o=this.options,c=this.padding,u=o.title,m,g=0;u.text&&(this.title||(this.title=this.chart.renderer.label(u.text,c-3,c-4,void 0,void 0,void 0,o.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(u.style),this.title.add(this.group)),u.width||this.title.css({width:this.maxLegendWidth+"px"}),g=(m=this.title.getBBox()).height,this.offsetWidth=m.width,this.contentGroup.attr({translateY:g})),this.titleHeight=g}setText(o){let c=this.options;o.legendItem.label.attr({text:c.labelFormat?WV(c.labelFormat,o,this.chart):c.labelFormatter.call(o)})}renderItem(o){let c=o.legendItem=o.legendItem||{},u=this.chart,m=u.renderer,g=this.options,w=g.layout==="horizontal",C=this.symbolWidth,S=g.symbolPadding||0,O=this.itemStyle,F=this.itemHiddenStyle,M=w?Is(g.itemDistance,20):0,j=!g.rtl,W=!o.series,G=!W&&o.series.drawLegendSymbol?o.series:o,X=G.options,J=!!this.createCheckboxForItem&&X&&X.showCheckbox,K=g.useHTML,ee=o.options.className,te=c.label,le=C+S+M+(J?20:0);!te&&(c.group=m.g("legend-item").addClass("highcharts-"+G.type+"-series highcharts-color-"+o.colorIndex+(ee?" "+ee:"")+(W?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),c.label=te=m.text("",j?C+S:-S,this.baseline||0,K),u.styledMode||te.css(sl(o.visible?O:F)),te.attr({align:j?"left":"right",zIndex:2}).add(c.group),!this.baseline&&(this.fontMetrics=m.fontMetrics(te),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,te.attr("y",this.baseline),this.symbolHeight=Is(g.symbolHeight,this.fontMetrics.f),g.squareSymbol&&(this.symbolWidth=Is(g.symbolWidth,Math.max(this.symbolHeight,16)),le=this.symbolWidth+S+M+(J?20:0),j&&te.attr("x",this.symbolWidth+S))),G.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,te,K)),J&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),(u.styledMode||!O.width)&&te.css({width:(g.itemWidth||this.widthOption||u.spacingBox.width)-le+"px"}),this.setText(o);let he=te.getBBox(),ue=this.fontMetrics&&this.fontMetrics.h||0;o.itemWidth=o.checkboxOffset=g.itemWidth||c.labelWidth||he.width+le,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(c.labelHeight||(he.height>1.5*ue?he.height:ue))}layoutItem(o){let c=this.options,u=this.padding,m=c.layout==="horizontal",g=o.itemHeight,w=this.itemMarginBottom,C=this.itemMarginTop,S=m?Is(c.itemDistance,20):0,O=this.maxLegendWidth,F=c.alignColumns&&this.totalItemWidth>O?this.maxItemWidth:o.itemWidth,M=o.legendItem||{};m&&this.itemX-u+F>O&&(this.itemX=u,this.lastLineHeight&&(this.itemY+=C+this.lastLineHeight+w),this.lastLineHeight=0),this.lastItemY=C+this.itemY+w,this.lastLineHeight=Math.max(g,this.lastLineHeight),M.x=this.itemX,M.y=this.itemY,m?this.itemX+=F:(this.itemY+=C+g+w,this.lastLineHeight=g),this.offsetWidth=this.widthOption||Math.max((m?this.itemX-u-(o.checkbox?0:S):F)+u,this.offsetWidth)}getAllItems(){let o=[];return this.chart.series.forEach(function(c){let u=c&&c.options;c&&Is(u.showInLegend,!iv(u.linkedTo)&&void 0,!0)&&(o=o.concat((c.legendItem||{}).labels||(u.legendType==="point"?c.data:c)))}),so(this,"afterGetAllItems",{allItems:o}),o}getAlignment(){let o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)}adjustMargins(o,c){let u=this.chart,m=this.options,g=this.getAlignment();g&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(w,C){w.test(g)&&!iv(o[C])&&(u[Ex[C]]=Math.max(u[Ex[C]],u.legend[(C+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][C]*m[C%2?"x":"y"]+Is(m.margin,12)+c[C]+(u.titleOffset[C]||0)))})}proximatePositions(){let o,c=this.chart,u=[],m=this.options.align==="left";for(let g of(this.allItems.forEach(function(w){let C,S,O=m,F,M;w.yAxis&&(w.xAxis.options.reversed&&(O=!O),w.points&&(C=KV(O?w.points:w.points.slice(0).reverse(),function(j){return Tx(j.plotY)})),S=this.itemMarginTop+w.legendItem.label.getBBox().height+this.itemMarginBottom,M=w.yAxis.top-c.plotTop,F=w.visible?(C?C.plotY:w.yAxis.height)+(M-.3*S):M+w.yAxis.height,u.push({target:F,size:S,item:w}))},this),HV(u,c.plotHeight)))o=g.item.legendItem||{},Tx(g.pos)&&(o.y=c.plotTop-c.spacing[0]+g.pos)}render(){let o=this.chart,c=o.renderer,u=this.options,m=this.padding,g=this.getAllItems(),w,C,S,O=this.group,F,M=this.box;this.itemX=m,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=XV(u.width,o.spacingBox.width-m),F=o.spacingBox.width-2*m-u.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(F/=2),this.maxLegendWidth=this.widthOption||F,O||(this.group=O=c.g("legend").addClass(u.className||"").attr({zIndex:7}).add(),this.contentGroup=c.g().attr({zIndex:1}).add(O),this.scrollGroup=c.g().add(this.contentGroup)),this.renderTitle(),JV(g,(j,W)=>(j.options&&j.options.legendIndex||0)-(W.options&&W.options.legendIndex||0)),u.reversed&&g.reverse(),this.allItems=g,this.display=w=!!g.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,g.forEach(this.renderItem,this),g.forEach(this.layoutItem,this),C=(this.widthOption||this.offsetWidth)+m,S=this.lastItemY+this.lastLineHeight+this.titleHeight,S=this.handleOverflow(S)+m,M||(this.box=M=c.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(O)),o.styledMode||M.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),C>0&&S>0&&M[M.placed?"animate":"attr"](M.crisp.call({},{x:0,y:0,width:C,height:S},M.strokeWidth())),O[w?"show":"hide"](),o.styledMode&&O.getStyle("display")==="none"&&(C=S=0),this.legendWidth=C,this.legendHeight=S,w&&this.align(),this.proximate||this.positionItems(),so(this,"afterRender")}align(o=this.chart.spacingBox){let c=this.chart,u=this.options,m=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&c.titleOffset[0]>0?m+=c.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&c.titleOffset[2]>0&&(m-=c.titleOffset[2]),m!==o.y&&(o=sl(o,{y:m})),c.hasRendered||(this.group.placed=!1),this.group.align(sl(u,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,o)}handleOverflow(o){let c=this,u=this.chart,m=u.renderer,g=this.options,w=g.y,C=g.verticalAlign==="top",S=this.padding,O=g.maxHeight,F=g.navigation,M=Is(F.animation,!0),j=F.arrowSize||12,W=this.pages,G=this.allItems,X=function(fe){typeof fe=="number"?ue.attr({height:fe}):ue&&(c.clipRect=ue.destroy(),c.contentGroup.clip()),c.contentGroup.div&&(c.contentGroup.div.style.clip=fe?"rect("+S+"px,9999px,"+(S+fe)+"px,0)":"auto")},J=function(fe){return c[fe]=m.circle(0,0,1.3*j).translate(j/2,j/2).add(he),u.styledMode||c[fe].attr("fill","rgba(0,0,0,0.0001)"),c[fe]},K,ee,te,le=u.spacingBox.height+(C?-w:w)-S,he=this.nav,ue=this.clipRect;return g.layout!=="horizontal"||g.verticalAlign==="middle"||g.floating||(le/=2),O&&(le=Math.min(le,O)),W.length=0,o&&le>0&&o>le&&F.enabled!==!1?(this.clipHeight=K=Math.max(le-20-this.titleHeight-S,0),this.currentPage=Is(this.currentPage,1),this.fullHeight=o,G.forEach((fe,de)=>{let ge=(te=fe.legendItem||{}).y||0,Te=Math.round(te.label.getBBox().height),Ae=W.length;(!Ae||ge-W[Ae-1]>K&&(ee||ge)!==W[Ae-1])&&(W.push(ee||ge),Ae++),te.pageIx=Ae-1,ee&&((G[de-1].legendItem||{}).pageIx=Ae-1),de===G.length-1&&ge+Te-W[Ae-1]>K&&ge>W[Ae-1]&&(W.push(ge),te.pageIx=Ae),ge!==ee&&(ee=ge)}),ue||(ue=c.clipRect=m.clipRect(0,S-2,9999,0),c.contentGroup.clip(ue)),X(K),he||(this.nav=he=m.g().attr({zIndex:1}).add(this.group),this.up=m.symbol("triangle",0,0,j,j).add(he),J("upTracker").on("click",function(){c.scroll(-1,M)}),this.pager=m.text("",15,10).addClass("highcharts-legend-navigation"),!u.styledMode&&F.style&&this.pager.css(F.style),this.pager.add(he),this.down=m.symbol("triangle-down",0,0,j,j).add(he),J("downTracker").on("click",function(){c.scroll(1,M)})),c.scroll(0),o=le):he&&(X(),this.nav=he.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o}scroll(o,c){let u=this.chart,m=this.pages,g=m.length,w=this.clipHeight,C=this.options.navigation,S=this.pager,O=this.padding,F=this.currentPage+o;F>g&&(F=g),F>0&&(c!==void 0&&$V(c,u),this.nav.attr({translateX:O,translateY:w+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(M){M.attr({class:F===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),S.attr({text:F+"/"+g}),[this.down,this.downTracker].forEach(function(M){M.attr({x:18+this.pager.getBBox().width,class:F===g?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),u.styledMode||(this.up.attr({fill:F===1?C.inactiveColor:C.activeColor}),this.upTracker.css({cursor:F===1?"default":"pointer"}),this.down.attr({fill:F===g?C.inactiveColor:C.activeColor}),this.downTracker.css({cursor:F===g?"default":"pointer"})),this.scrollOffset=-m[F-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=F,this.positionCheckboxes(),QV(()=>{so(this,"afterScroll",{currentPage:F})},jV(Is(c,u.renderer.globalAnimation,!0)).duration))}setItemEvents(o,c,u){let m=this,g=o.legendItem||{},w=m.chart.renderer.boxWrapper,C=o instanceof ia,S=o instanceof fs,O="highcharts-legend-"+(C?"point":"series")+"-active",F=m.chart.styledMode,M=u?[c,g.symbol]:[g.group],j=W=>{m.allItems.forEach(G=>{o!==G&&[G].concat(G.linkedSeries||[]).forEach(X=>{X.setState(W,!C)})})};for(let W of M)W&&W.on("mouseover",function(){o.visible&&j("inactive"),o.setState("hover"),o.visible&&w.addClass(O),F||c.css(m.options.itemHoverStyle)}).on("mouseout",function(){m.chart.styledMode||c.css(sl(o.visible?m.itemStyle:m.itemHiddenStyle)),j(""),w.removeClass(O),o.setState()}).on("click",function(G){let X=function(){o.setVisible&&o.setVisible(),j(o.visible?"inactive":"")};w.removeClass(O),so(m,"itemClick",{browserEvent:G,legendItem:o},X),C?o.firePointEvent("legendItemClick",{browserEvent:G}):S&&so(o,"legendItemClick",{browserEvent:G})})}createCheckboxForItem(o){o.checkbox=zV("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),op(o.checkbox,"click",function(c){let u=c.target;so(o.series||o,"checkboxClick",{checked:u.checked,item:o},function(){o.select()})})}}(function(A){A.compose=function(o){YV(UV,"Core.Legend")&&op(o,"beforeMargins",function(){this.legend=new A(this,this.options.legend)})}})(sv||(sv={}));let Sx=sv,{animate:rv,animObject:ZV,setAnimation:ov}=kn,{defaultOptions:av}=Vn,{numberFormat:e2}=Qi,{registerEventOptions:kx}=Uf,{charts:rl,doc:ph,marginNames:Ix,svg:t2,win:Ax}=T,{seriesTypes:lv}=Ln,{addEvent:cv,attr:Px,createElement:uv,css:Qs,defined:ra,diffObjects:Ox,discardElement:n2,erase:i2,error:hv,extend:oa,find:dv,fireEvent:Nt,getAlignFactor:s2,getStyle:fv,isArray:r2,isNumber:pc,isObject:o2,isString:ap,merge:ro,objectEach:pv,pick:Si,pInt:a2,relativeLength:Rx,removeEvent:Mx,splat:lp,syncTimeout:l2,uniqueKey:c2}=Re;class aa{static chart(o,c,u){return new aa(o,c,u)}constructor(o,c,u){this.sharedClips={};let m=[...arguments];(ap(o)||o.nodeName)&&(this.renderTo=m.shift()),this.init(m[0],m[1])}setZoomOptions(){let o=this.options.chart,c=o.zooming;this.zooming={...c,type:Si(o.zoomType,c.type),key:Si(o.zoomKey,c.key),pinchType:Si(o.pinchType,c.pinchType),singleTouch:Si(o.zoomBySingleTouch,c.singleTouch,!1),resetButton:ro(c.resetButton,o.resetZoomButton)}}init(o,c){Nt(this,"init",{args:arguments},function(){var w;let u=ro(av,o),m=u.chart,g=this.renderTo||m.renderTo;this.userOptions=oa({},o),(this.renderTo=ap(g)?ph.getElementById(g):g)||hv(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=c,this.isResizing=0,this.options=u,this.axes=[],this.series=[],this.locale=u.lang.locale??((w=this.renderTo.closest("[lang]"))==null?void 0:w.lang),this.time=new jt(oa(u.time||{},{locale:this.locale})),u.time=this.time.options,this.numberFormatter=(m.numberFormatter||e2).bind(this),this.styledMode=m.styledMode,this.hasCartesianSeries=m.showAxes,this.index=rl.length,rl.push(this),T.chartCount++,kx(this,m),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Nt(this,"afterInit"),this.firstRender()})}initSeries(o){let c=this.options.chart,u=o.type||c.type,m=lv[u];m||hv(17,!0,this,{missingModuleFor:u});let g=new m;return typeof g.init=="function"&&g.init(this,o),g}setSortedData(){this.getSeriesOrderByLinks().forEach(function(o){o.points||o.data||!o.enabledDataSorting||o.setData(o.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(o,c){return o.linkedSeries.length||c.linkedSeries.length?c.linkedSeries.length-o.linkedSeries.length:0})}orderItems(o,c=0){let u=this[o],m=this.options[o]=lp(this.options[o]).slice(),g=this.userOptions[o]=this.userOptions[o]?lp(this.userOptions[o]).slice():[];if(this.hasRendered&&(m.splice(c),g.splice(c)),u)for(let w=c,C=u.length;w<C;++w){let S=u[w];S&&(S.index=w,S instanceof fs&&(S.name=S.getName()),S.options.isInternal||(m[w]=S.options,g[w]=S.userOptions))}}isInsidePlot(o,c,u={}){var J;let{inverted:m,plotBox:g,plotLeft:w,plotTop:C,scrollablePlotBox:S}=this,{scrollLeft:O=0,scrollTop:F=0}=u.visiblePlotOnly&&((J=this.scrollablePlotArea)==null?void 0:J.scrollingContainer)||{},M=u.series,j=u.visiblePlotOnly&&S||g,W=u.inverted?c:o,G=u.inverted?o:c,X={x:W,y:G,isInsidePlot:!0,options:u};if(!u.ignoreX){let K=M&&(m&&!this.polar?M.yAxis:M.xAxis)||{pos:w,len:1/0},ee=u.paneCoordinates?K.pos+W:w+W;ee>=Math.max(O+w,K.pos)&&ee<=Math.min(O+w+j.width,K.pos+K.len)||(X.isInsidePlot=!1)}if(!u.ignoreY&&X.isInsidePlot){let K=!m&&u.axis&&!u.axis.isXAxis&&u.axis||M&&(m?M.xAxis:M.yAxis)||{pos:C,len:1/0},ee=u.paneCoordinates?K.pos+G:C+G;ee>=Math.max(F+C,K.pos)&&ee<=Math.min(F+C+j.height,K.pos+K.len)||(X.isInsidePlot=!1)}return Nt(this,"afterIsInsidePlot",X),X.isInsidePlot}redraw(o){Nt(this,"beforeRedraw");let c=this.hasCartesianSeries?this.axes:this.colorAxis||[],u=this.series,m=this.pointer,g=this.legend,w=this.userOptions.legend,C=this.renderer,S=C.isHidden(),O=[],F,M,j,W=this.isDirtyBox,G=this.isDirtyLegend,X;for(C.rootFontSize=C.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),ov(!!this.hasRendered&&o,this),S&&this.temporaryDisplay(),this.layOutTitles(!1),j=u.length;j--;)if(((X=u[j]).options.stacking||X.options.centerInCategory)&&(M=!0,X.isDirty)){F=!0;break}if(F)for(j=u.length;j--;)(X=u[j]).options.stacking&&(X.isDirty=!0);u.forEach(function(J){J.isDirty&&(J.options.legendType==="point"?(typeof J.updateTotals=="function"&&J.updateTotals(),G=!0):w&&(w.labelFormatter||w.labelFormat)&&(G=!0)),J.isDirtyData&&Nt(J,"updatedData")}),G&&g&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1),M&&this.getStacks(),c.forEach(function(J){J.updateNames(),J.setScale()}),this.getMargins(),c.forEach(function(J){J.isDirty&&(W=!0)}),c.forEach(function(J){let K=J.min+","+J.max;J.extKey!==K&&(J.extKey=K,O.push(function(){Nt(J,"afterSetExtremes",oa(J.eventArgs,J.getExtremes())),delete J.eventArgs})),(W||M)&&J.redraw()}),W&&this.drawChartBox(),Nt(this,"predraw"),u.forEach(function(J){(W||J.isDirty)&&J.visible&&J.redraw(),J.isDirtyData=!1}),m&&m.reset(!0),C.draw(),Nt(this,"redraw"),Nt(this,"render"),S&&this.temporaryDisplay(!0),O.forEach(function(J){J.call()})}get(o){let c=this.series;function u(g){return g.id===o||g.options&&g.options.id===o}let m=dv(this.axes,u)||dv(this.series,u);for(let g=0;!m&&g<c.length;g++)m=dv(c[g].points||[],u);return m}createAxes(){let o=this.userOptions;for(let c of(Nt(this,"createAxes"),["xAxis","yAxis"]))for(let u of o[c]=lp(o[c]||{}))new ac(this,u,c);Nt(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((o,c)=>(c.getPointsCollection().forEach(u=>{Si(u.selectedStaging,u.selected)&&o.push(u)}),o),[])}getSelectedSeries(){return this.series.filter(o=>o.selected)}setTitle(o,c,u){this.applyDescription("title",o),this.applyDescription("subtitle",c),this.applyDescription("caption",void 0),this.layOutTitles(u)}applyDescription(o,c){var w;let u=this,m=this.options[o]=ro(this.options[o],c),g=this[o];g&&c&&(this[o]=g=g.destroy()),m&&!g&&((g=this.renderer.text(m.text,0,0,m.useHTML).attr({align:m.align,class:"highcharts-"+o,zIndex:m.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(C,S){u.applyDescription(o,C),u.layOutTitles(S)},this.styledMode||g.css(oa(o==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},m.style)),g.textPxLength=g.getBBox().width,g.css({whiteSpace:(w=m.style)==null?void 0:w.whiteSpace}),this[o]=g)}layOutTitles(o=!0){var C,S,O,F;let c=[0,0,0],{options:u,renderer:m,spacingBox:g}=this;["title","subtitle","caption"].forEach(M=>{var J;let j=this[M],W=this.options[M],G=ro(g),X=(j==null?void 0:j.textPxLength)||0;if(j&&W){Nt(this,"layOutTitle",{alignTo:G,key:M,textPxLength:X});let K=m.fontMetrics(j),ee=K.b,te=K.h,le=W.verticalAlign||"top",he=le==="top",ue=he&&W.minScale||1,fe=M==="title"?he?-3:0:he?c[0]+2:0,de=Math.min(G.width/X,1),ge=Math.max(ue,de),Te=ro({y:le==="bottom"?ee:fe+ee},{align:M==="title"?de<ue?"left":"center":(J=this.title)==null?void 0:J.alignValue},W),Ae=W.width||(de>ue?this.chartWidth:G.width)/ge;j.alignValue!==Te.align&&(j.placed=!1);let $e=Math.round(j.css({width:`${Ae}px`}).getBBox(W.useHTML).height);if(Te.height=$e,j.align(Te,!1,G).attr({align:Te.align,scaleX:ge,scaleY:ge,"transform-origin":`${G.x+X*ge*s2(Te.align)} ${te}`}),!W.floating){let xe=$e*($e<1.2*te?1:ge);le==="top"?c[0]=Math.ceil(c[0]+xe):le==="bottom"&&(c[2]=Math.ceil(c[2]+xe))}}},this),c[0]&&(((C=u.title)==null?void 0:C.verticalAlign)||"top")==="top"&&(c[0]+=((S=u.title)==null?void 0:S.margin)||0),c[2]&&((O=u.caption)==null?void 0:O.verticalAlign)==="bottom"&&(c[2]+=((F=u.caption)==null?void 0:F.margin)||0);let w=!this.titleOffset||this.titleOffset.join(",")!==c.join(",");this.titleOffset=c,Nt(this,"afterLayOutTitles"),!this.isDirtyBox&&w&&(this.isDirtyBox=this.isDirtyLegend=w,this.hasRendered&&o&&this.isDirtyBox&&this.redraw())}getContainerBox(){let o=[].map.call(this.renderTo.children,u=>{if(u!==this.container){let m=u.style.display;return u.style.display="none",[u,m]}}),c={width:fv(this.renderTo,"width",!0)||0,height:fv(this.renderTo,"height",!0)||0};return o.filter(Boolean).forEach(([u,m])=>{u.style.display=m}),c}getChartSize(){var w;let o=this.options.chart,c=o.width,u=o.height,m=this.getContainerBox(),g=m.height<=1||!((w=this.renderTo.parentElement)!=null&&w.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,c||m.width||600),this.chartHeight=Math.max(0,Rx(u,this.chartWidth)||(g?400:m.height)),this.containerBox=m}temporaryDisplay(o){let c=this.renderTo,u;if(o)for(;c&&c.style;)c.hcOrigStyle&&(Qs(c,c.hcOrigStyle),delete c.hcOrigStyle),c.hcOrigDetached&&(ph.body.removeChild(c),c.hcOrigDetached=!1),c=c.parentNode;else for(;c&&c.style&&(ph.body.contains(c)||c.parentNode||(c.hcOrigDetached=!0,ph.body.appendChild(c)),(fv(c,"display",!1)==="none"||c.hcOricDetached)&&(c.hcOrigStyle={display:c.style.display,height:c.style.height,overflow:c.style.overflow},u={display:"block",overflow:"hidden"},c!==this.renderTo&&(u.height=0),Qs(c,u),c.offsetWidth||c.style.setProperty("display","block","important")),(c=c.parentNode)!==ph.body););}setClassName(o){this.container.className="highcharts-container "+(o||"")}getContainer(){var j;let o,c=this.options,u=c.chart,m="data-highcharts-chart",g=c2(),w=this.renderTo,C=a2(Px(w,m));pc(C)&&rl[C]&&rl[C].hasRendered&&rl[C].destroy(),Px(w,m,this.index),w.innerHTML=dn.emptyHTML,u.skipClone||w.offsetWidth||this.temporaryDisplay(),this.getChartSize();let S=this.chartHeight,O=this.chartWidth;Qs(w,{overflow:"hidden"}),this.styledMode||(o=oa({position:"relative",overflow:"hidden",width:O+"px",height:S+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},u.style||{}));let F=uv("div",{id:g},o,w);this.container=F,this.getChartSize(),O===this.chartWidth||(O=this.chartWidth,this.styledMode||Qs(F,{width:Si((j=u.style)==null?void 0:j.width,O+"px")})),this.containerBox=this.getContainerBox(),this._cursor=F.style.cursor;let M=u.renderer||!t2?Yo.getRendererType(u.renderer):$f;if(this.renderer=new M(F,O,S,void 0,u.forExport,c.exporting&&c.exporting.allowHTML,this.styledMode),ov(void 0,this),this.setClassName(u.className),this.styledMode)for(let W in c.defs)this.renderer.definition(c.defs[W]);else this.renderer.setStyle(u.style);this.renderer.chartIndex=this.index,Nt(this,"afterGetContainer")}getMargins(o){let{spacing:c,margin:u,titleOffset:m}=this;this.resetMargins(),m[0]&&!ra(u[0])&&(this.plotTop=Math.max(this.plotTop,m[0]+c[0])),m[2]&&!ra(u[2])&&(this.marginBottom=Math.max(this.marginBottom,m[2]+c[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(u,c),Nt(this,"getMargins"),o||this.getAxisMargins()}getAxisMargins(){let o=this,c=o.axisOffset=[0,0,0,0],u=o.colorAxis,m=o.margin,g=function(w){w.forEach(function(C){C.visible&&C.getOffset()})};o.hasCartesianSeries?g(o.axes):u&&u.length&&g(u),Ix.forEach(function(w,C){ra(m[C])||(o[w]+=c[C])}),o.setChartSize()}getOptions(){return Ox(this.userOptions,av)}reflow(o){var g;let c=this,u=c.containerBox,m=c.getContainerBox();(g=c.pointer)==null||delete g.chartPosition,!c.isPrinting&&!c.isResizing&&u&&m.width&&((m.width!==u.width||m.height!==u.height)&&(Re.clearTimeout(c.reflowTimeout),c.reflowTimeout=l2(function(){c.container&&c.setSize(void 0,void 0,!1)},o?100:0)),c.containerBox=m)}setReflow(){let o=this,c=u=>{var m;(m=o.options)!=null&&m.chart.reflow&&o.hasLoaded&&o.reflow(u)};if(typeof ResizeObserver=="function")new ResizeObserver(c).observe(o.renderTo);else{let u=cv(Ax,"resize",c);cv(this,"destroy",u)}}setSize(o,c,u){let m=this,g=m.renderer;m.isResizing+=1,ov(u,m);let w=g.globalAnimation;m.oldChartHeight=m.chartHeight,m.oldChartWidth=m.chartWidth,o!==void 0&&(m.options.chart.width=o),c!==void 0&&(m.options.chart.height=c),m.getChartSize();let{chartWidth:C,chartHeight:S,scrollablePixelsX:O=0,scrollablePixelsY:F=0}=m;(m.isDirtyBox||C!==m.oldChartWidth||S!==m.oldChartHeight)&&(m.styledMode||(w?rv:Qs)(m.container,{width:`${C+O}px`,height:`${S+F}px`},w),m.setChartSize(!0),g.setSize(C,S,w),m.axes.forEach(function(M){M.isDirty=!0,M.setScale()}),m.isDirtyLegend=!0,m.isDirtyBox=!0,m.layOutTitles(),m.getMargins(),m.redraw(w),m.oldChartHeight=void 0,Nt(m,"resize"),setTimeout(()=>{m&&Nt(m,"endResize")},ZV(w).duration)),m.isResizing-=1}setChartSize(o){let c,u,m,g,{chartHeight:w,chartWidth:C,inverted:S,spacing:O,renderer:F}=this,M=this.clipOffset,j=Math[S?"floor":"round"];this.plotLeft=c=Math.round(this.plotLeft),this.plotTop=u=Math.round(this.plotTop),this.plotWidth=m=Math.max(0,Math.round(C-c-this.marginRight)),this.plotHeight=g=Math.max(0,Math.round(w-u-this.marginBottom)),this.plotSizeX=S?g:m,this.plotSizeY=S?m:g,this.spacingBox=F.spacingBox={x:O[3],y:O[0],width:C-O[3]-O[1],height:w-O[0]-O[2]},this.plotBox=F.plotBox={x:c,y:u,width:m,height:g},M&&(this.clipBox={x:j(M[3]),y:j(M[0]),width:j(this.plotSizeX-M[1]-M[3]),height:j(this.plotSizeY-M[0]-M[2])}),o||(this.axes.forEach(function(W){W.setAxisSize(),W.setAxisTranslation()}),F.alignElements()),Nt(this,"afterSetChartSize",{skipAxes:o})}resetMargins(){Nt(this,"resetMargins");let o=this,c=o.options.chart,u=c.plotBorderWidth||0,m=u/2;["margin","spacing"].forEach(function(g){let w=c[g],C=o2(w)?w:[w,w,w,w];["Top","Right","Bottom","Left"].forEach(function(S,O){o[g][O]=Si(c[g+S],C[O])})}),Ix.forEach(function(g,w){o[g]=Si(o.margin[w],o.spacing[w])}),o.axisOffset=[0,0,0,0],o.clipOffset=[m,m,m,m],o.plotBorderWidth=u}drawChartBox(){let o=this.options.chart,c=this.renderer,u=this.chartWidth,m=this.chartHeight,g=this.styledMode,w=this.plotBGImage,C=o.backgroundColor,S=o.plotBackgroundColor,O=o.plotBackgroundImage,F=this.plotLeft,M=this.plotTop,j=this.plotWidth,W=this.plotHeight,G=this.plotBox,X=this.clipRect,J=this.clipBox,K=this.chartBackground,ee=this.plotBackground,te=this.plotBorder,le,he,ue,fe="animate";K||(this.chartBackground=K=c.rect().addClass("highcharts-background").add(),fe="attr"),g?le=he=K.strokeWidth():(he=(le=o.borderWidth||0)+(o.shadow?8:0),ue={fill:C||"none"},(le||K["stroke-width"])&&(ue.stroke=o.borderColor,ue["stroke-width"]=le),K.attr(ue).shadow(o.shadow)),K[fe]({x:he/2,y:he/2,width:u-he-le%2,height:m-he-le%2,r:o.borderRadius}),fe="animate",ee||(fe="attr",this.plotBackground=ee=c.rect().addClass("highcharts-plot-background").add()),ee[fe](G),!g&&(ee.attr({fill:S||"none"}).shadow(o.plotShadow),O&&(w?(O!==w.attr("href")&&w.attr("href",O),w.animate(G)):this.plotBGImage=c.image(O,F,M,j,W).add())),X?X.animate({width:J.width,height:J.height}):this.clipRect=c.clipRect(J),fe="animate",te||(fe="attr",this.plotBorder=te=c.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),g||te.attr({stroke:o.plotBorderColor,"stroke-width":o.plotBorderWidth||0,fill:"none"}),te[fe](te.crisp({x:F,y:M,width:j,height:W},-te.strokeWidth())),this.isDirtyBox=!1,Nt(this,"afterDrawChartBox")}propFromSeries(){let o,c,u,m=this,g=m.options.chart,w=m.options.series;["inverted","angular","polar"].forEach(function(C){for(c=lv[g.type],u=g[C]||c&&c.prototype[C],o=w&&w.length;!u&&o--;)(c=lv[w[o].type])&&c.prototype[C]&&(u=!0);m[C]=u})}linkSeries(o){let c=this,u=c.series;u.forEach(function(m){m.linkedSeries.length=0}),u.forEach(function(m){let{linkedTo:g}=m.options;if(ap(g)){let w;(w=g===":previous"?c.series[m.index-1]:c.get(g))&&w.linkedParent!==m&&(w.linkedSeries.push(m),m.linkedParent=w,w.enabledDataSorting&&m.setDataSortingOptions(),m.visible=Si(m.options.visible,w.options.visible,m.visible))}}),Nt(this,"afterLinkSeries",{isUpdating:o})}renderSeries(){this.series.forEach(function(o){o.translate(),o.render()})}render(){var F;let o=this.axes,c=this.colorAxis,u=this.renderer,m=this.options.chart.axisLayoutRuns||2,g=M=>{M.forEach(j=>{j.visible&&j.render()})},w=0,C=!0,S,O=0;for(let M of(this.setTitle(),Nt(this,"beforeMargins"),(F=this.getStacks)==null||F.call(this),this.getMargins(!0),this.setChartSize(),o)){let{options:j}=M,{labels:W}=j;if(this.hasCartesianSeries&&M.horiz&&M.visible&&W.enabled&&M.series.length&&M.coll!=="colorAxis"&&!this.polar){w=j.tickLength,M.createGroups();let G=new oc(M,0,"",!0),X=G.createLabel("x",W);if(G.destroy(),X&&Si(W.reserveSpace,!pc(j.crossing))&&(w=X.getBBox().height+W.distance+Math.max(j.offset||0,0)),w){X==null||X.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-w,0);(C||S||m>1)&&O<m;){let M=this.plotWidth,j=this.plotHeight;for(let W of o)O===0?W.setScale():(W.horiz&&C||!W.horiz&&S)&&W.setTickInterval(!0);O===0?this.getAxisMargins():this.getMargins(),C=M/this.plotWidth>(O?1:1.1),S=j/this.plotHeight>(O?1:1.05),O++}this.drawChartBox(),this.hasCartesianSeries?g(o):c&&c.length&&g(c),this.seriesGroup||(this.seriesGroup=u.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(o){let c=this,u=ro(!0,this.options.credits,o);u.enabled&&!this.credits&&(this.credits=this.renderer.text(u.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){u.href&&(Ax.location.href=u.href)}).attr({align:u.position.align,zIndex:8}),c.styledMode||this.credits.css(u.style),this.credits.add().align(u.position),this.credits.update=function(m){c.credits=c.credits.destroy(),c.addCredits(m)})}destroy(){let o,c=this,u=c.axes,m=c.series,g=c.container,w=g&&g.parentNode;for(Nt(c,"destroy"),c.renderer.forExport?i2(rl,c):rl[c.index]=void 0,T.chartCount--,c.renderTo.removeAttribute("data-highcharts-chart"),Mx(c),o=u.length;o--;)u[o]=u[o].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),o=m.length;o--;)m[o]=m[o].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(C){let S=c[C];S&&S.destroy&&(c[C]=S.destroy())}),g&&(g.innerHTML=dn.emptyHTML,Mx(g),w&&n2(g)),pv(c,function(C,S){delete c[S]})}firstRender(){var m;let o=this,c=o.options;o.getContainer(),o.resetMargins(),o.setChartSize(),o.propFromSeries(),o.createAxes();let u=r2(c.series)?c.series:[];c.series=[],u.forEach(function(g){o.initSeries(g)}),o.linkSeries(),o.setSortedData(),Nt(o,"beforeRender"),o.render(),(m=o.pointer)==null||m.getChartPosition(),o.renderer.imgCount||o.hasLoaded||o.onload(),o.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(o){o&&this.index!==void 0&&o.apply(this,[this])},this),Nt(this,"load"),Nt(this,"render"),ra(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:o,title:c}=this;!o||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(c&&c.element.textContent||"").replace(/</g,"&lt;")}),o.accessibility&&o.accessibility.enabled===!1||hv('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(o,c,u){let m,g=this;return o&&(c=Si(c,!0),Nt(g,"addSeries",{options:o},function(){m=g.initSeries(o),g.isDirtyLegend=!0,g.linkSeries(),m.enabledDataSorting&&m.setData(o.data,!1),Nt(g,"afterAddSeries",{series:m}),c&&g.redraw(u)})),m}addAxis(o,c,u,m){return this.createAxis(c?"xAxis":"yAxis",{axis:o,redraw:u,animation:m})}addColorAxis(o,c,u){return this.createAxis("colorAxis",{axis:o,redraw:c,animation:u})}createAxis(o,c){let u=new ac(this,c.axis,o);return Si(c.redraw,!0)&&this.redraw(c.animation),u}showLoading(o){let c=this,u=c.options,m=u.loading,g=function(){w&&Qs(w,{left:c.plotLeft+"px",top:c.plotTop+"px",width:c.plotWidth+"px",height:c.plotHeight+"px"})},w=c.loadingDiv,C=c.loadingSpan;w||(c.loadingDiv=w=uv("div",{className:"highcharts-loading highcharts-loading-hidden"},null,c.container)),C||(c.loadingSpan=C=uv("span",{className:"highcharts-loading-inner"},null,w),cv(c,"redraw",g)),w.className="highcharts-loading",dn.setElementHTML(C,Si(o,u.lang.loading,"")),c.styledMode||(Qs(w,oa(m.style,{zIndex:10})),Qs(C,m.labelStyle),c.loadingShown||(Qs(w,{opacity:0,display:""}),rv(w,{opacity:m.style.opacity||.5},{duration:m.showDuration||0}))),c.loadingShown=!0,g()}hideLoading(){let o=this.options,c=this.loadingDiv;c&&(c.className="highcharts-loading highcharts-loading-hidden",this.styledMode||rv(c,{opacity:0},{duration:o.loading.hideDuration||100,complete:function(){Qs(c,{display:"none"})}})),this.loadingShown=!1}update(o,c,u,m){let g,w,C,S=this,O={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},F=o.isResponsiveOptions,M=[];Nt(S,"update",{options:o}),F||S.setResponsive(!1,!0),o=Ox(o,S.options),S.userOptions=ro(S.userOptions,o);let j=o.chart;j&&(ro(!0,S.options.chart,j),this.setZoomOptions(),"className"in j&&S.setClassName(j.className),("inverted"in j||"polar"in j||"type"in j)&&(S.propFromSeries(),g=!0),"alignTicks"in j&&(g=!0),"events"in j&&kx(this,j),pv(j,function(X,J){S.propsRequireUpdateSeries.indexOf("chart."+J)!==-1&&(w=!0),S.propsRequireDirtyBox.indexOf(J)!==-1&&(S.isDirtyBox=!0),S.propsRequireReflow.indexOf(J)===-1||(S.isDirtyBox=!0,F||(C=!0))}),!S.styledMode&&j.style&&S.renderer.setStyle(S.options.chart.style||{})),!S.styledMode&&o.colors&&(this.options.colors=o.colors),pv(o,function(X,J){S[J]&&typeof S[J].update=="function"?S[J].update(X,!1):typeof S[O[J]]=="function"?S[O[J]](X):J!=="colors"&&S.collectionsWithUpdate.indexOf(J)===-1&&ro(!0,S.options[J],o[J]),J!=="chart"&&S.propsRequireUpdateSeries.indexOf(J)!==-1&&(w=!0)}),this.collectionsWithUpdate.forEach(function(X){o[X]&&(lp(o[X]).forEach(function(J,K){let ee,te=ra(J.id);te&&(ee=S.get(J.id)),!ee&&S[X]&&(ee=S[X][Si(J.index,K)])&&(te&&ra(ee.options.id)||ee.options.isInternal)&&(ee=void 0),ee&&ee.coll===X&&(ee.update(J,!1),u&&(ee.touched=!0)),!ee&&u&&S.collectionsWithInit[X]&&(S.collectionsWithInit[X][0].apply(S,[J].concat(S.collectionsWithInit[X][1]||[]).concat([!1])).touched=!0)}),u&&S[X].forEach(function(J){J.touched||J.options.isInternal?delete J.touched:M.push(J)}))}),M.forEach(function(X){X.chart&&X.remove&&X.remove(!1)}),g&&S.axes.forEach(function(X){X.update({},!1)}),w&&S.getSeriesOrderByLinks().forEach(function(X){X.chart&&X.update({},!1)},this);let W=j&&j.width,G=j&&(ap(j.height)?Rx(j.height,W||S.chartWidth):j.height);C||pc(W)&&W!==S.chartWidth||pc(G)&&G!==S.chartHeight?S.setSize(W,G,m):Si(c,!0)&&S.redraw(m),Nt(S,"afterUpdate",{options:o,redraw:c,animation:m})}setSubtitle(o,c){this.applyDescription("subtitle",o),this.layOutTitles(c)}setCaption(o,c){this.applyDescription("caption",o),this.layOutTitles(c)}showResetZoom(){let o=this,c=av.lang,u=o.zooming.resetButton,m=u.theme,g=u.relativeTo==="chart"||u.relativeTo==="spacingBox"?null:"plotBox";function w(){o.zoomOut()}Nt(this,"beforeShowResetZoom",null,function(){o.resetZoomButton=o.renderer.button(c.resetZoom,null,null,w,m).attr({align:u.position.align,title:c.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(u.position,!1,g)}),Nt(this,"afterShowResetZoom")}zoomOut(){Nt(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(o,c){let u=this,m=typeof c=="object"?c:{enabled:c,type:"x"},g=m.type,w=g&&u[{x:"xAxis",xy:"axes",y:"yAxis"}[g]].filter(S=>S.options.panningEnabled&&!S.options.isInternal),C=u.options.chart;C!=null&&C.panning&&(C.panning=m),Nt(this,"pan",{originalEvent:o},()=>{u.transform({axes:w,event:o,to:{x:o.chartX-(u.mouseDownX||0),y:o.chartY-(u.mouseDownY||0)},trigger:"pan"}),Qs(u.container,{cursor:"move"})})}transform(o){var G;let{axes:c=this.axes,event:u,from:m={},reset:g,selection:w,to:C={},trigger:S}=o,{inverted:O,time:F}=this,M=!1,j,W;for(let X of((G=this.hoverPoints)==null||G.forEach(J=>J.setState()),c)){let{horiz:J,len:K,minPointOffset:ee=0,options:te,reversed:le}=X,he=J?"width":"height",ue=J?"x":"y",fe=Si(C[he],X.len),de=Si(m[he],X.len),ge=10>Math.abs(fe)?1:fe/de,Te=(m[ue]||0)+de/2-X.pos,Ae=Te-((C[ue]??X.pos)+fe/2-X.pos)/ge,$e=le&&!O||!le&&O?-1:1;if(!g&&(Te<0||Te>X.len))continue;let xe=X.toValue(Ae,!0)+(w||X.isOrdinal?0:ee*$e),Be=X.toValue(Ae+K/ge,!0)-(w||X.isOrdinal?0:ee*$e||0),it=X.allExtremes;if(xe>Be&&([xe,Be]=[Be,xe]),ge===1&&!g&&X.coll==="yAxis"&&!it){for(let On of X.series){let si=On.getExtremes(On.getProcessedData(!0).modified.getColumn("y")||[],!0);it??(it={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),pc(si.dataMin)&&pc(si.dataMax)&&(it.dataMin=Math.min(si.dataMin,it.dataMin),it.dataMax=Math.max(si.dataMax,it.dataMax))}X.allExtremes=it}let{dataMin:xt,dataMax:et,min:bt,max:Qe}=oa(X.getExtremes(),it||{}),ot=F.parse(te.min),mt=F.parse(te.max),Qt=xt??ot,pn=et??mt,It=Be-xe,Rt=X.categories?0:Math.min(It,pn-Qt),an=Qt-Rt*(ra(ot)?0:te.minPadding),ki=pn+Rt*(ra(mt)?0:te.maxPadding),Kn=X.allowZoomOutside||ge===1||S!=="zoom"&&ge>1,fi=Math.min(ot??an,an,Kn?bt:an),Yn=Math.max(mt??ki,ki,Kn?Qe:ki);(!X.isOrdinal||X.options.overscroll||ge!==1||g)&&(xe<fi&&(xe=fi,ge>=1&&(Be=xe+It)),Be>Yn&&(Be=Yn,ge>=1&&(xe=Be-It)),(g||X.series.length&&(xe!==bt||Be!==Qe)&&xe>=fi&&Be<=Yn)&&(w?w[X.coll].push({axis:X,min:xe,max:Be}):(X.isPanning=S!=="zoom",X.isPanning&&(W=!0),X.setExtremes(g?void 0:xe,g?void 0:Be,!1,!1,{move:Ae,trigger:S,scale:ge}),!g&&(xe>fi||Be<Yn)&&S!=="mousewheel"&&(j=!0)),M=!0),u&&(this[J?"mouseDownX":"mouseDownY"]=u[J?"chartX":"chartY"]))}return M&&(w?Nt(this,"selection",w,()=>{delete o.selection,o.trigger="zoom",this.transform(o)}):(!j||W||this.resetZoomButton?!j&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(S==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),M}}oa(aa.prototype,{callbacks:[],collectionsWithInit:{xAxis:[aa.prototype.addAxis,[!0]],yAxis:[aa.prototype.addAxis,[!1]],series:[aa.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:u2}=kn,{composed:h2}=T,{addEvent:la,createElement:cp,css:mv,defined:gv,erase:d2,merge:Dx,pushUnique:Nx}=Re;function f2(){let A=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!A&&(this.scrollablePlotArea=A=new mh(this)),A==null||A.applyFixed()}function Lx(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class mh{static compose(o,c,u){Nx(h2,this.compose)&&(la(o,"afterInit",Lx),la(c,"afterSetChartSize",m=>this.afterSetSize(m.target,m)),la(c,"render",f2),la(u,"show",Lx))}static afterSetSize(o,c){let u,m,g,{minWidth:w,minHeight:C}=o.options.chart.scrollablePlotArea||{},{clipBox:S,plotBox:O,inverted:F,renderer:M}=o;if(!M.forExport&&(w?(o.scrollablePixelsX=u=Math.max(0,w-o.chartWidth),u&&(o.scrollablePlotBox=Dx(o.plotBox),O.width=o.plotWidth+=u,S[F?"height":"width"]+=u,g=!0)):C&&(o.scrollablePixelsY=m=Math.max(0,C-o.chartHeight),gv(m)&&(o.scrollablePlotBox=Dx(o.plotBox),O.height=o.plotHeight+=m,S[F?"width":"height"]+=m,g=!1)),gv(g)&&!c.skipAxes))for(let j of o.axes)(j.horiz===g||o.hasParallelCoordinates&&j.coll==="yAxis")&&(j.setAxisSize(),j.setAxisTranslation())}constructor(o){var W;let c,u=o.options.chart,m=Yo.getRendererType(),g=u.scrollablePlotArea||{},w=this.moveFixedElements.bind(this),C={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};o.scrollablePixelsX&&(C.overflowX="auto"),o.scrollablePixelsY&&(C.overflowY="auto"),this.chart=o;let S=this.parentDiv=cp("div",{className:"highcharts-scrolling-parent"},{position:"relative"},o.renderTo),O=this.scrollingContainer=cp("div",{className:"highcharts-scrolling"},C,S),F=this.innerContainer=cp("div",{className:"highcharts-inner-container"},void 0,O),M=this.fixedDiv=cp("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((W=u.style)==null?void 0:W.zIndex)||0)+2,top:0},void 0,!0),j=this.fixedRenderer=new m(M,o.chartWidth,o.chartHeight,u.style);this.mask=j.path().attr({fill:u.backgroundColor||"#fff","fill-opacity":g.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),O.parentNode.insertBefore(M,O),mv(o.renderTo,{overflow:"visible"}),la(o,"afterShowResetZoom",w),la(o,"afterApplyDrilldown",w),la(o,"afterLayOutTitles",w),la(O,"scroll",()=>{let{pointer:G,hoverPoint:X}=o;G&&(delete G.chartPosition,X&&(c=X),G.runPointActions(void 0,c,!0))}),F.appendChild(o.container)}applyFixed(){var Te;let{chart:o,fixedRenderer:c,isDirty:u,scrollingContainer:m}=this,{axisOffset:g,chartWidth:w,chartHeight:C,container:S,plotHeight:O,plotLeft:F,plotTop:M,plotWidth:j,scrollablePixelsX:W=0,scrollablePixelsY:G=0}=o,{scrollPositionX:X=0,scrollPositionY:J=0}=o.options.chart.scrollablePlotArea||{},K=w+W,ee=C+G;c.setSize(w,C),(u??!0)&&(this.isDirty=!1,this.moveFixedElements()),u2(o.container),mv(S,{width:`${K}px`,height:`${ee}px`}),o.renderer.boxWrapper.attr({width:K,height:ee,viewBox:[0,0,K,ee].join(" ")}),(Te=o.chartBackground)==null||Te.attr({width:K,height:ee}),mv(m,{width:`${w}px`,height:`${C}px`}),gv(u)||(m.scrollLeft=W*X,m.scrollTop=G*J);let te=M-g[0]-1,le=F-g[3]-1,he=M+O+g[2]+1,ue=F+j+g[1]+1,fe=F+j-W,de=M+O-G,ge=[["M",0,0]];W?ge=[["M",0,te],["L",F-1,te],["L",F-1,he],["L",0,he],["Z"],["M",fe,te],["L",w,te],["L",w,he],["L",fe,he],["Z"]]:G&&(ge=[["M",le,0],["L",le,M-1],["L",ue,M-1],["L",ue,0],["Z"],["M",le,de],["L",le,C],["L",ue,C],["L",ue,de],["Z"]]),o.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:ge})}moveFixedElements(){let o,{container:c,inverted:u,scrollablePixelsX:m,scrollablePixelsY:g}=this.chart,w=this.fixedRenderer,C=mh.fixedSelectors;if(m&&!u?o=".highcharts-yaxis":m&&u||g&&!u?o=".highcharts-xaxis":g&&u&&(o=".highcharts-yaxis"),o&&!(this.chart.hasParallelCoordinates&&o===".highcharts-yaxis"))for(let S of[`${o}:not(.highcharts-radial-axis)`,`${o}-labels:not(.highcharts-radial-axis-labels)`])Nx(C,S);else for(let S of[".highcharts-xaxis",".highcharts-yaxis"])for(let O of[`${S}:not(.highcharts-radial-axis)`,`${S}-labels:not(.highcharts-radial-axis-labels)`])d2(C,O);for(let S of C)[].forEach.call(c.querySelectorAll(S),O=>{(O.namespaceURI===w.SVG_NS?w.box:w.box.parentNode).appendChild(O),O.style.pointerEvents="auto"})}}mh.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:p2}=Qi,{series:m2}=Ln,{destroyObjectProperties:g2,fireEvent:Vx,getAlignFactor:yv,isNumber:vv,pick:gh}=Re,Fx=class{constructor(A,o,c,u,m){let g=A.chart.inverted,w=A.reversed;this.axis=A;let C=this.isNegative=!!c!=!!w;this.options=o=o||{},this.x=u,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=m,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:o.align||(g?C?"left":"right":"center"),verticalAlign:o.verticalAlign||(g?"middle":C?"bottom":"top"),y:o.y,x:o.x},this.textAlign=o.textAlign||(g?C?"right":"left":"center")}destroy(){g2(this,this.axis)}render(A){let o=this.axis.chart,c=this.options,u=c.format,m=u?p2(u,this,o):c.formatter.call(this);if(this.label)this.label.attr({text:m,visibility:"hidden"});else{this.label=o.renderer.label(m,null,void 0,c.shape,void 0,void 0,c.useHTML,!1,"stack-labels");let g={r:c.borderRadius||0,text:m,padding:gh(c.padding,5),visibility:"hidden"};o.styledMode||(g.fill=c.backgroundColor,g.stroke=c.borderColor,g["stroke-width"]=c.borderWidth,this.label.css(c.style||{})),this.label.attr(g),this.label.added||this.label.add(A)}this.label.labelrank=o.plotSizeY,Vx(this,"afterRender")}setOffset(A,o,c,u,m,g){let{alignOptions:w,axis:C,label:S,options:O,textAlign:F}=this,M=C.chart,j=this.getStackBox({xOffset:A,width:o,boxBottom:c,boxTop:u,defaultX:m,xAxis:g}),{verticalAlign:W}=w;if(S&&j){let G=S.getBBox(void 0,0),X=S.padding,J=gh(O.overflow,"justify")==="justify",K;w.x=O.x||0,w.y=O.y||0;let{x:ee,y:te}=this.adjustStackPosition({labelBox:G,verticalAlign:W,textAlign:F});j.x-=ee,j.y-=te,S.align(w,!1,j),(K=M.isInsidePlot(S.alignAttr.x+w.x+ee,S.alignAttr.y+w.y+te))||(J=!1),J&&m2.prototype.justifyDataLabel.call(C,S,w,S.alignAttr,G,j),S.attr({x:S.alignAttr.x,y:S.alignAttr.y,rotation:O.rotation,rotationOriginX:G.width*yv(O.textAlign||"center"),rotationOriginY:G.height/2}),gh(!J&&O.crop,!0)&&(K=vv(S.x)&&vv(S.y)&&M.isInsidePlot(S.x-X+(S.width||0),S.y)&&M.isInsidePlot(S.x+X,S.y)),S[K?"show":"hide"]()}Vx(this,"afterSetOffset",{xOffset:A,width:o})}adjustStackPosition({labelBox:A,verticalAlign:o,textAlign:c}){return{x:A.width/2+A.width/2*(2*yv(c)-1),y:A.height/2*2*(1-yv(o))}}getStackBox(A){let o=this.axis,c=o.chart,{boxTop:u,defaultX:m,xOffset:g,width:w,boxBottom:C}=A,S=o.stacking.usePercentage?100:gh(u,this.total,0),O=o.toPixels(S),F=A.xAxis||c.xAxis[0],M=gh(m,F.translate(this.x))+g,j=Math.abs(O-o.toPixels(C||vv(o.min)&&o.logarithmic&&o.logarithmic.lin2log(o.min)||0)),W=c.inverted,G=this.isNegative;return W?{x:(G?O:O-j)-c.plotLeft,y:F.height-M-w+F.top-c.plotTop,width:j,height:w}:{x:M+F.transB-c.plotLeft,y:(G?O-j:O)-c.plotTop,width:w,height:j}}},{getDeferredAnimation:y2}=kn,{series:{prototype:v2}}=Ln,{addEvent:Bx,correctFloat:yh,defined:jx,destroyObjectProperties:b2,fireEvent:_2,isNumber:bv,objectEach:ol,pick:_v}=Re;function w2(){let A=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let c=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,_v(o.options.stack,""),A?c.top:c.left,A?c.height:c.width].join(","))})}function C2(){var o;let A=this.stacking;if(A){let c=A.stacks;ol(c,(u,m)=>{b2(u),delete c[m]}),(o=A.stackTotalGroup)==null||o.destroy()}}function x2(){this.stacking||(this.stacking=new A2(this))}function E2(A,o,c,u){return!jx(A)||A.x!==o||u&&A.stackKey!==u?A={x:o,index:0,key:u,stackKey:u}:A.index++,A.key=[c,o,A.index].join(","),A}function T2(){let A,o=this,c=o.yAxis,u=o.stackKey||"",m=c.stacking.stacks,g=o.getColumn("x",!0),w=o.options.stacking,C=o[w+"Stacker"];C&&[u,"-"+u].forEach(S=>{var W;let O=g.length,F,M,j;for(;O--;)F=g[O],A=o.getStackIndicator(A,F,o.index,S),M=(W=m[S])==null?void 0:W[F],(j=M==null?void 0:M.points[A.key||""])&&C.call(o,j,M,O)})}function S2(A,o,c){let u=o.total?100/o.total:0;A[0]=yh(A[0]*u),A[1]=yh(A[1]*u),this.stackedYData[c]=A[1]}function k2(A){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?v2.setStackedPoints.call(this,A,"group"):A.stacking.resetStacks())}function I2(A,o){var de,ge;let c,u,m,g,w,C,S,O=o||this.options.stacking;if(!O||!this.reserveSpace()||({group:"xAxis"}[O]||"yAxis")!==A.coll)return;let F=this.getColumn("x",!0),M=this.getColumn(this.pointValKey||"y",!0),j=[],W=M.length,G=this.options,X=G.threshold||0,J=G.startFromThreshold?X:0,K=G.stack,ee=o?`${this.type},${O}`:this.stackKey||"",te="-"+ee,le=this.negStacks,he=A.stacking,ue=he.stacks,fe=he.oldStacks;for(he.stacksTouched+=1,S=0;S<W;S++){let Te=F[S]||0,Ae=M[S],$e=bv(Ae)&&Ae||0;C=(c=this.getStackIndicator(c,Te,this.index)).key||"",ue[w=(u=le&&$e<(J?0:X))?te:ee]||(ue[w]={}),ue[w][Te]||((de=fe[w])!=null&&de[Te]?(ue[w][Te]=fe[w][Te],ue[w][Te].total=null):ue[w][Te]=new Fx(A,A.options.stackLabels,!!u,Te,K)),m=ue[w][Te],Ae!==null?(m.points[C]=m.points[this.index]=[_v(m.cumulative,J)],jx(m.cumulative)||(m.base=C),m.touched=he.stacksTouched,c.index>0&&this.singleStacks===!1&&(m.points[C][0]=m.points[this.index+","+Te+",0"][0])):(delete m.points[C],delete m.points[this.index]);let xe=m.total||0;O==="percent"?(g=u?ee:te,xe=le&&((ge=ue[g])!=null&&ge[Te])?(g=ue[g][Te]).total=Math.max(g.total||0,xe)+Math.abs($e):yh(xe+Math.abs($e))):O==="group"?bv(Ae)&&xe++:xe=yh(xe+$e),O==="group"?m.cumulative=(xe||1)-1:m.cumulative=yh(_v(m.cumulative,J)+$e),m.total=xe,Ae!==null&&(m.points[C].push(m.cumulative),j[S]=m.cumulative,m.hasValidPoints=!0)}O==="percent"&&(he.usePercentage=!0),O!=="group"&&(this.stackedYData=j),he.oldStacks={}}class A2{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,c,u=this.axis,m=u.series,g=u.coll==="xAxis",w=u.options.reversedStacks,C=m.length;for(this.resetStacks(),this.usePercentage=!1,c=C;c--;)o=m[w?c:C-c-1],g&&o.setGroupedPoints(u),o.setStackedPoints(u);if(!g)for(c=0;c<C;c++)m[c].modifyStacks();_2(u,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,ol(this.stacks,o=>{ol(o,c=>{c.cumulative=c.total})}))}resetStacks(){ol(this.stacks,o=>{ol(o,(c,u)=>{bv(c.touched)&&c.touched<this.stacksTouched?(c.destroy(),delete o[u]):(c.total=null,c.cumulative=null)})})}renderStackTotals(){var C;let o=this.axis,c=o.chart,u=c.renderer,m=this.stacks,g=y2(c,((C=o.options.stackLabels)==null?void 0:C.animation)||!1),w=this.stackTotalGroup=this.stackTotalGroup||u.g("stack-labels").attr({zIndex:6,opacity:0}).add();w.translate(c.plotLeft,c.plotTop),ol(m,S=>{ol(S,O=>{O.render(w)})}),w.animate({opacity:1},g)}}(y||(y={})).compose=function(A,o,c){let u=o.prototype,m=c.prototype;u.getStacks||(Bx(A,"init",x2),Bx(A,"destroy",C2),u.getStacks=w2,m.getStackIndicator=E2,m.modifyStacks=T2,m.percentStacker=S2,m.setGroupedPoints=k2,m.setStackedPoints=I2)};let P2=y,{defined:O2,merge:$x,isObject:R2}=Re;class Ux extends fs{drawGraph(){let o=this.options,c=(this.gappedPath||this.getGraphPath).call(this),u=this.chart.styledMode;[this,...this.zones].forEach((m,g)=>{let w,C=m.graph,S=C?"animate":"attr",O=m.dashStyle||o.dashStyle;C?(C.endX=this.preventGraphAnimation?null:c.xMap,C.animate({d:c})):c.length&&(m.graph=C=this.chart.renderer.path(c).addClass("highcharts-graph"+(g?` highcharts-zone-graph-${g-1} `:" ")+(g&&m.className||"")).attr({zIndex:1}).add(this.group)),C&&!u&&(w={stroke:!g&&o.lineColor||m.color||this.color||"#cccccc","stroke-width":o.lineWidth||0,fill:this.fillGraph&&this.color||"none"},O?w.dashstyle=O:o.linecap!=="square"&&(w["stroke-linecap"]=w["stroke-linejoin"]="round"),C[S](w).shadow(o.shadow&&$x({filterUnits:"userSpaceOnUse"},R2(o.shadow)?o.shadow:{}))),C&&(C.startX=c.xMap,C.isArea=c.isArea)})}getGraphPath(o,c,u){let m=this,g=m.options,w=[],C=[],S,O=g.step,F=(o=o||m.points).reversed;return F&&o.reverse(),(O={right:1,center:2}[O]||O&&3)&&F&&(O=4-O),(o=this.getValidPoints(o,!1,!(g.connectNulls&&!c&&!u))).forEach(function(M,j){let W,G=M.plotX,X=M.plotY,J=o[j-1],K=M.isNull||typeof X!="number";(M.leftCliff||J&&J.rightCliff)&&!u&&(S=!0),K&&!O2(c)&&j>0?S=!g.connectNulls:K&&!c?S=!0:(j===0||S?W=[["M",M.plotX,M.plotY]]:m.getPointSpline?W=[m.getPointSpline(o,M,j)]:O?(W=O===1?[["L",J.plotX,X]]:O===2?[["L",(J.plotX+G)/2,J.plotY],["L",(J.plotX+G)/2,X]]:[["L",G,J.plotY]]).push(["L",G,X]):W=[["L",G,X]],C.push(M.x),O&&(C.push(M.x),O===2&&C.push(M.x)),w.push.apply(w,W),S=!1)}),w.xMap=C,m.graphPath=w,w}}Ux.defaultOptions=$x(fs.defaultOptions,{legendSymbol:"lineMarker"}),Ln.registerSeriesType("line",Ux);let{seriesTypes:{line:wv}}=Ln,{extend:M2,merge:D2,objectEach:N2,pick:up}=Re;class Cv extends wv{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:o,options:c}=this;[this,...this.zones].forEach((u,m)=>{let g={},w=u.fillColor||c.fillColor,C=u.area,S=C?"animate":"attr";C?(C.endX=this.preventGraphAnimation?null:o.xMap,C.animate({d:o})):(g.zIndex=0,(C=u.area=this.chart.renderer.path(o).addClass("highcharts-area"+(m?` highcharts-zone-area-${m-1} `:" ")+(m&&u.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(g.fill=w||u.color||this.color,g["fill-opacity"]=w?1:c.fillOpacity??.75,C.css({pointerEvents:this.stickyTracking?"none":"auto"})),C[S](g),C.startX=o.xMap,C.shiftUnit=c.step?2:1})}getGraphPath(o){let c,u,m,g=wv.prototype.getGraphPath,w=this.options,C=w.stacking,S=this.yAxis,O=[],F=[],M=this.index,j=S.stacking.stacks[this.stackKey],W=w.threshold,G=Math.round(S.getThreshold(w.threshold)),X=up(w.connectNulls,C==="percent"),J=function(ue,fe,de){let ge=o[ue],Te=C&&j[ge.x].points[M],Ae=ge[de+"Null"]||0,$e=ge[de+"Cliff"]||0,xe,Be,it=!0;$e||Ae?(xe=(Ae?Te[0]:Te[1])+$e,Be=Te[0]+$e,it=!!Ae):!C&&o[fe]&&o[fe].isNull&&(xe=Be=W),xe!==void 0&&(F.push({plotX:c,plotY:xe===null?G:S.getThreshold(xe),isNull:it,isCliff:!0}),O.push({plotX:c,plotY:Be===null?G:S.getThreshold(Be),doCurve:!1}))};o=o||this.points,C&&(o=this.getStackPoints(o));for(let ue=0,fe=o.length;ue<fe;++ue)C||(o[ue].leftCliff=o[ue].rightCliff=o[ue].leftNull=o[ue].rightNull=void 0),u=o[ue].isNull,c=up(o[ue].rectPlotX,o[ue].plotX),m=C?up(o[ue].yBottom,G):G,u&&!X||(X||J(ue,ue-1,"left"),u&&!C&&X||(F.push(o[ue]),O.push({x:ue,plotX:c,plotY:m})),X||J(ue,ue+1,"right"));let K=g.call(this,F,!0,!0);O.reversed=!0;let ee=g.call(this,O,!0,!0),te=ee[0];te&&te[0]==="M"&&(ee[0]=["L",te[1],te[2]]);let le=K.concat(ee);le.length&&le.push(["Z"]);let he=g.call(this,F,!1,X);return this.chart.series.length>1&&C&&F.some(ue=>ue.isCliff)&&(le.hasStackedCliffs=he.hasStackedCliffs=!0),le.xMap=K.xMap,this.areaPath=le,he}getStackPoints(o){let c=this,u=[],m=[],g=this.xAxis,w=this.yAxis,C=w.stacking.stacks[this.stackKey],S={},O=w.series,F=O.length,M=w.options.reversedStacks?1:-1,j=O.indexOf(c);if(o=o||this.points,this.options.stacking){for(let G=0;G<o.length;G++)o[G].leftNull=o[G].rightNull=void 0,S[o[G].x]=o[G];N2(C,function(G,X){G.total!==null&&m.push(X)}),m.sort(function(G,X){return G-X});let W=O.map(G=>G.visible);m.forEach(function(G,X){let J=0,K,ee;if(S[G]&&!S[G].isNull)u.push(S[G]),[-1,1].forEach(function(te){let le=te===1?"rightNull":"leftNull",he=C[m[X+te]],ue=0;if(he){let fe=j;for(;fe>=0&&fe<F;){let de=O[fe].index;!(K=he.points[de])&&(de===c.index?S[G][le]=!0:W[fe]&&(ee=C[G].points[de])&&(ue-=ee[1]-ee[0])),fe+=M}}S[G][te===1?"rightCliff":"leftCliff"]=ue});else{let te=j;for(;te>=0&&te<F;){let le=O[te].index;if(K=C[G].points[le]){J=K[1];break}te+=M}J=up(J,0),J=w.translate(J,0,1,0,1),u.push({isNull:!0,plotX:g.translate(G,0,0,0,1),x:G,plotY:J,yBottom:J})}})}return u}}Cv.defaultOptions=D2(wv.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),M2(Cv.prototype,{singleStacks:!1}),Ln.registerSeriesType("area",Cv);let{line:Hx}=Ln.seriesTypes,{merge:L2,pick:hp}=Re;class xv extends Hx{getPointSpline(o,c,u){let m,g,w,C,S=c.plotX||0,O=c.plotY||0,F=o[u-1],M=o[u+1];function j(G){return G&&!G.isNull&&G.doCurve!==!1&&!c.isCliff}if(j(F)&&j(M)){let G=F.plotX||0,X=F.plotY||0,J=M.plotX||0,K=M.plotY||0,ee=0;m=(1.5*S+G)/2.5,g=(1.5*O+X)/2.5,w=(1.5*S+J)/2.5,C=(1.5*O+K)/2.5,w!==m&&(ee=(C-g)*(w-S)/(w-m)+O-C),g+=ee,C+=ee,g>X&&g>O?(g=Math.max(X,O),C=2*O-g):g<X&&g<O&&(g=Math.min(X,O),C=2*O-g),C>K&&C>O?(C=Math.max(K,O),g=2*O-C):C<K&&C<O&&(C=Math.min(K,O),g=2*O-C),c.rightContX=w,c.rightContY=C,c.controlPoints={low:[m,g],high:[w,C]}}let W=["C",hp(F.rightContX,F.plotX,0),hp(F.rightContY,F.plotY,0),hp(m,S,0),hp(g,O,0),S,O];return F.rightContX=F.rightContY=void 0,W}}xv.defaultOptions=L2(Hx.defaultOptions),Ln.registerSeriesType("spline",xv);let Wx=xv,{area:V2,area:{prototype:Ev}}=Ln.seriesTypes,{extend:F2,merge:B2}=Re;class Tv extends Wx{}Tv.defaultOptions=B2(Wx.defaultOptions,V2.defaultOptions),F2(Tv.prototype,{getGraphPath:Ev.getGraphPath,getStackPoints:Ev.getStackPoints,drawGraph:Ev.drawGraph}),Ln.registerSeriesType("areaspline",Tv);let{animObject:j2}=kn,{parse:$2}=Nn,{noop:U2}=T,{clamp:dp,crisp:fp,defined:zx,extend:Gx,fireEvent:qx,isArray:Kx,isNumber:pp,merge:Sv,pick:mc,objectEach:H2}=Re;class mp extends fs{animate(o){let c,u,m=this,g=this.yAxis,w=g.pos,C=g.reversed,S=m.options,{clipOffset:O,inverted:F}=this.chart,M={},j=F?"translateX":"translateY";o&&O?(M.scaleY=.001,u=dp(g.toPixels(S.threshold||0),w,w+g.len),F?(u+=C?-Math.floor(O[0]):Math.ceil(O[2]),M.translateX=u-g.len):(u+=C?Math.ceil(O[0]):-Math.floor(O[2]),M.translateY=u),m.clipBox&&m.setClip(),m.group.attr(M)):(c=Number(m.group.attr(j)),m.group.animate({scaleY:1},Gx(j2(m.options.animation),{step:function(W,G){m.group&&(M[j]=c+G.pos*(w-c),m.group.attr(M))}})))}init(o,c){super.init.apply(this,arguments);let u=this;(o=u.chart).hasRendered&&o.series.forEach(function(m){m.type===u.type&&(m.isDirty=!0)})}getColumnMetrics(){var X,J;let o=this,c=o.options,u=o.xAxis,m=o.yAxis,g=u.options.reversedStacks,w=u.reversed&&!g||!u.reversed&&g,C={},S,O=0;c.grouping===!1?O=1:o.chart.series.forEach(function(K){let ee,te=K.yAxis,le=K.options;K.type===o.type&&K.reserveSpace()&&m.len===te.len&&m.pos===te.pos&&(le.stacking&&le.stacking!=="group"?(C[S=K.stackKey]===void 0&&(C[S]=O++),ee=C[S]):le.grouping!==!1&&(ee=O++),K.columnIndex=ee)});let F=Math.min(Math.abs(u.transA)*(!((X=u.brokenAxis)!=null&&X.hasBreaks)&&((J=u.ordinal)==null?void 0:J.slope)||c.pointRange||u.closestPointRange||u.tickInterval||1),u.len),M=F*c.groupPadding,j=(F-2*M)/(O||1),W=Math.min(c.maxPointWidth||u.len,mc(c.pointWidth,j*(1-2*c.pointPadding))),G=(o.columnIndex||0)+(w?1:0);return o.columnMetrics={width:W,offset:(j-W)/2+(M+G*j-F/2)*(w?-1:1),paddedWidth:j,columnCount:O},o.columnMetrics}crispCol(o,c,u,m){let g=this.borderWidth,w=this.chart.inverted;return m=fp(c+m,g,w)-(c=fp(c,g,w)),this.options.crisp&&(u=fp(o+u,g)-(o=fp(o,g))),{x:o,y:c,width:u,height:m}}adjustForMissingColumns(o,c,u,m){var g;if(!u.isNull&&m.columnCount>1){let w=this.xAxis.series.filter(F=>F.visible).map(F=>F.index),C=0,S=0;H2((g=this.xAxis.stacking)==null?void 0:g.stacks,F=>{var G;let M=typeof u.x=="number"?(G=F[u.x.toString()])==null?void 0:G.points:void 0,j=M==null?void 0:M[this.index],W={};if(M&&Kx(j)){let X=this.index,J=Object.keys(M).filter(K=>!K.match(",")&&M[K]&&M[K].length>1).map(parseFloat).filter(K=>w.indexOf(K)!==-1).filter(K=>{let ee=this.chart.series[K].options,te=ee.stacking&&ee.stack;if(zx(te)){if(pp(W[te]))return X===K&&(X=W[te]),!1;W[te]=K}return!0}).sort((K,ee)=>ee-K);C=J.indexOf(X),S=J.length}}),C=this.xAxis.reversed?S-1-C:C;let O=(S-1)*m.paddedWidth+c;o=(u.plotX||0)+O/2-c-C*m.paddedWidth}return o}translate(){let o=this,c=o.chart,u=o.options,m=o.dense=o.closestPointRange*o.xAxis.transA<2,g=o.borderWidth=mc(u.borderWidth,m?0:1),w=o.xAxis,C=o.yAxis,S=u.threshold,O=mc(u.minPointLength,5),F=o.getColumnMetrics(),M=F.width,j=o.pointXOffset=F.offset,W=o.dataMin,G=o.dataMax,X=o.translatedThreshold=C.getThreshold(S),J=o.barW=Math.max(M,1+2*g);u.pointPadding&&u.crisp&&(J=Math.ceil(J)),fs.prototype.translate.apply(o),o.points.forEach(function(K){let ee=mc(K.yBottom,X),te=999+Math.abs(ee),le=K.plotX||0,he=dp(K.plotY,-te,C.len+te),ue,fe=Math.min(he,ee),de=Math.max(he,ee)-fe,ge=M,Te=le+j,Ae=J;O&&Math.abs(de)<O&&(de=O,ue=!C.reversed&&!K.negative||C.reversed&&K.negative,pp(S)&&pp(G)&&K.y===S&&G<=S&&(C.min||0)<S&&(W!==G||(C.max||0)<=S)&&(ue=!ue,K.negative=!K.negative),fe=Math.abs(fe-X)>O?ee-O:X-(ue?O:0)),zx(K.options.pointWidth)&&(Te-=Math.round(((ge=Ae=Math.ceil(K.options.pointWidth))-M)/2)),u.centerInCategory&&(Te=o.adjustForMissingColumns(Te,ge,K,F)),K.barX=Te,K.pointWidth=ge,K.tooltipPos=c.inverted?[dp(C.len+C.pos-c.plotLeft-he,C.pos-c.plotLeft,C.len+C.pos-c.plotLeft),w.len+w.pos-c.plotTop-Te-Ae/2,de]:[w.left-c.plotLeft+Te+Ae/2,dp(he+C.pos-c.plotTop,C.pos-c.plotTop,C.len+C.pos-c.plotTop),de],K.shapeType=o.pointClass.prototype.shapeType||"roundedRect",K.shapeArgs=o.crispCol(Te,K.isNull?X:fe,Ae,K.isNull?0:de)}),qx(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(o,c){let u=this.options,m=this.pointAttrToOptions||{},g=m.stroke||"borderColor",w=m["stroke-width"]||"borderWidth",C,S,O,F=o&&o.color||this.color,M=o&&o[g]||u[g]||F,j=o&&o.options.dashStyle||u.dashStyle,W=o&&o[w]||u[w]||this[w]||0,G=mc(o&&o.opacity,u.opacity,1);o&&this.zones.length&&(S=o.getZone(),F=o.options.color||S&&(S.color||o.nonZonedColor)||this.color,S&&(M=S.borderColor||M,j=S.dashStyle||j,W=S.borderWidth||W)),c&&o&&(O=(C=Sv(u.states[c],o.options.states&&o.options.states[c]||{})).brightness,F=C.color||O!==void 0&&$2(F).brighten(C.brightness).get()||F,M=C[g]||M,W=C[w]||W,j=C.dashStyle||j,G=mc(C.opacity,G));let X={fill:F,stroke:M,"stroke-width":W,opacity:G};return j&&(X.dashstyle=j),X}drawPoints(o=this.points){let c,u=this,m=this.chart,g=u.options,w=m.renderer,C=g.animationLimit||250;o.forEach(function(S){let O=S.plotY,F=S.graphic,M=!!F,j=F&&m.pointCount<C?"animate":"attr";pp(O)&&S.y!==null?(c=S.shapeArgs,F&&S.hasNewShapeType()&&(F=F.destroy()),u.enabledDataSorting&&(S.startXPos=u.xAxis.reversed?-(c&&c.width||0):u.xAxis.width),!F&&(S.graphic=F=w[S.shapeType](c).add(S.group||u.group),F&&u.enabledDataSorting&&m.hasRendered&&m.pointCount<C&&(F.attr({x:S.startXPos}),M=!0,j="animate")),F&&M&&F[j](Sv(c)),m.styledMode||F[j](u.pointAttribs(S,S.selected&&"select")).shadow(S.allowShadow!==!1&&g.shadow),F&&(F.addClass(S.getClassName(),!0),F.attr({visibility:S.visible?"inherit":"hidden"}))):F&&(S.graphic=F.destroy())})}drawTracker(o=this.points){let c,u=this,m=u.chart,g=m.pointer,w=function(C){g==null||g.normalize(C);let S=g==null?void 0:g.getPointFromEvent(C),O=!m.scrollablePlotArea||m.isInsidePlot(C.chartX-m.plotLeft,C.chartY-m.plotTop,{visiblePlotOnly:!0});g&&S&&u.options.enableMouseTracking&&O&&(g.isDirectTouch=!0,S.onMouseOver(C))};o.forEach(function(C){c=Kx(C.dataLabels)?C.dataLabels:C.dataLabel?[C.dataLabel]:[],C.graphic&&(C.graphic.element.point=C),c.forEach(function(S){(S.div||S.element).point=C})}),u._hasTracking||(u.trackerGroups.forEach(function(C){u[C]&&(u[C].addClass("highcharts-tracker").on("mouseover",w).on("mouseout",function(S){g==null||g.onTrackerMouseOut(S)}).on("touchstart",w),!m.styledMode&&u.options.cursor&&u[C].css({cursor:u.options.cursor}))}),u._hasTracking=!0),qx(this,"afterDrawTracker")}remove(){let o=this,c=o.chart;c.hasRendered&&c.series.forEach(function(u){u.type===o.type&&(u.isDirty=!0)}),fs.prototype.remove.apply(o,arguments)}}mp.defaultOptions=Sv(fs.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Gx(mp.prototype,{directTouch:!0,getSymbol:U2,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),Ln.registerSeriesType("column",mp);let gp=mp,{getDeferredAnimation:W2}=kn,{format:z2}=Qi,{defined:al,extend:Yx,fireEvent:kv,getAlignFactor:Xx,isArray:ca,isString:Iv,merge:vh,objectEach:G2,pick:bh,pInt:q2,splat:Jx}=Re;(function(A){function o(){return S(this).some(F=>F==null?void 0:F.enabled)}function c(F,M,j,W,G){var Te;let{chart:X,enabledDataSorting:J}=this,K=this.isCartesian&&X.inverted,ee=F.plotX,te=F.plotY,le=j.rotation||0,he=al(ee)&&al(te)&&X.isInsidePlot(ee,Math.round(te),{inverted:K,paneCoordinates:!0,series:this}),ue=le===0&&bh(j.overflow,J?"none":"justify")==="justify",fe=this.visible&&F.visible!==!1&&al(ee)&&(F.series.forceDL||J&&!ue||he||bh(j.inside,!!this.options.stacking)&&W&&X.isInsidePlot(ee,K?W.x+1:W.y+W.height-1,{inverted:K,paneCoordinates:!0,series:this})),de=F.pos();if(fe&&de){var ge;let Ae=M.getBBox(),$e=M.getBBox(void 0,0);if(W=Yx({x:de[0],y:Math.round(de[1]),width:0,height:0},W||{}),j.alignTo==="plotEdges"&&this.isCartesian&&(W[K?"x":"y"]=0,W[K?"width":"height"]=((Te=this.yAxis)==null?void 0:Te.len)||0),Yx(j,{width:Ae.width,height:Ae.height}),ge=W,J&&this.xAxis&&!ue&&this.setDataLabelStartPos(F,M,G,he,ge),M.align(vh(j,{width:$e.width,height:$e.height}),!1,W,!1),M.alignAttr.x+=Xx(j.align)*($e.width-Ae.width),M.alignAttr.y+=Xx(j.verticalAlign)*($e.height-Ae.height),M.attr({"text-align":M.alignAttr["text-align"]||"center"})[M.placed?"animate":"attr"]({x:M.alignAttr.x+(Ae.width-$e.width)/2,y:M.alignAttr.y+(Ae.height-$e.height)/2,rotationOriginX:(M.width||0)/2,rotationOriginY:(M.height||0)/2}),ue&&W.height>=0)this.justifyDataLabel(M,j,M.alignAttr,Ae,W,G);else if(bh(j.crop,!0)){let{x:xe,y:Be}=M.alignAttr;fe=X.isInsidePlot(xe,Be,{paneCoordinates:!0,series:this})&&X.isInsidePlot(xe+Ae.width-1,Be+Ae.height-1,{paneCoordinates:!0,series:this})}j.shape&&!le&&M[G?"attr":"animate"]({anchorX:de[0],anchorY:de[1]})}G&&J&&(M.placed=!1),fe||J&&!ue?(M.show(),M.placed=!0):(M.hide(),M.placed=!1)}function u(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function m(F){let M=this.hasRendered||0,j=this.initDataLabelsGroup().attr({opacity:+M});return!M&&j&&(this.visible&&j.show(),this.options.animation?j.animate({opacity:1},F):j.attr({opacity:1})),j}function g(F){var fe;let M;F=F||this.points;let j=this,W=j.chart,G=j.options,X=W.renderer,{backgroundColor:J,plotBackgroundColor:K}=W.options.chart,ee=X.getContrast(Iv(K)&&K||Iv(J)&&J||"#000000"),te=S(j),{animation:le,defer:he}=te[0],ue=he?W2(W,le,j):{defer:0,duration:0};kv(this,"drawDataLabels"),(fe=j.hasDataLabels)!=null&&fe.call(j)&&(M=this.initDataLabels(ue),F.forEach(de=>{var Ae,$e;let ge=de.dataLabels||[];Jx(C(te,de.dlOptions||((Ae=de.options)==null?void 0:Ae.dataLabels))).forEach((xe,Be)=>{let it=xe.enabled&&(de.visible||de.dataLabelOnHidden)&&(!de.isNull||de.dataLabelOnNull)&&function(ki,Kn){let fi=Kn.filter;if(fi){let Yn=fi.operator,On=ki[fi.property],si=fi.value;return Yn===">"&&On>si||Yn==="<"&&On<si||Yn===">="&&On>=si||Yn==="<="&&On<=si||Yn==="=="&&On==si||Yn==="==="&&On===si||Yn==="!="&&On!=si||Yn==="!=="&&On!==si}return!0}(de,xe),{backgroundColor:xt,borderColor:et,distance:bt,style:Qe={}}=xe,ot,mt,Qt,pn={},It=ge[Be],Rt=!It,an;it&&(mt=al(ot=bh(xe[de.formatPrefix+"Format"],xe.format))?z2(ot,de,W):(xe[de.formatPrefix+"Formatter"]||xe.formatter).call(de,xe),Qt=xe.rotation,!W.styledMode&&(Qe.color=bh(xe.color,Qe.color,Iv(j.color)?j.color:void 0,"#000000"),Qe.color==="contrast"?(xt!=="none"&&(an=xt),de.contrastColor=X.getContrast(an!=="auto"&&an||de.color||j.color),Qe.color=an||!al(bt)&&xe.inside||0>q2(bt||0)||G.stacking?de.contrastColor:ee):delete de.contrastColor,G.cursor&&(Qe.cursor=G.cursor)),pn={r:xe.borderRadius||0,rotation:Qt,padding:xe.padding,zIndex:1},W.styledMode||(pn.fill=xt==="auto"?de.color:xt,pn.stroke=et==="auto"?de.color:et,pn["stroke-width"]=xe.borderWidth),G2(pn,(ki,Kn)=>{ki===void 0&&delete pn[Kn]})),!It||it&&al(mt)&&!!It.div==!!xe.useHTML&&(It.rotation&&xe.rotation||It.rotation===xe.rotation)||(It=void 0,Rt=!0),it&&al(mt)&&(It?pn.text=mt:(It=X.label(mt,0,0,xe.shape,void 0,void 0,xe.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+de.colorIndex+" "+(xe.className||"")+(xe.useHTML?" highcharts-tracker":"")),It&&(It.options=xe,It.attr(pn),W.styledMode?Qe.width&&It.css({width:Qe.width,textOverflow:Qe.textOverflow,whiteSpace:Qe.whiteSpace}):It.css(Qe).shadow(xe.shadow),kv(It,"beforeAddingDataLabel",{labelOptions:xe,point:de}),It.added||It.add(M),j.alignDataLabel(de,It,xe,void 0,Rt),It.isActive=!0,ge[Be]&&ge[Be]!==It&&ge[Be].destroy(),ge[Be]=It))});let Te=ge.length;for(;Te--;)ge[Te]&&ge[Te].isActive?ge[Te].isActive=!1:(($e=ge[Te])==null||$e.destroy(),ge.splice(Te,1));de.dataLabel=ge[0],de.dataLabels=ge})),kv(this,"afterDrawDataLabels")}function w(F,M,j,W,G,X){let J=this.chart,K=M.align,ee=M.verticalAlign,te=F.box?0:F.padding||0,le=J.inverted?this.yAxis:this.xAxis,he=le?le.left-J.plotLeft:0,ue=J.inverted?this.xAxis:this.yAxis,fe=ue?ue.top-J.plotTop:0,{x:de=0,y:ge=0}=M,Te,Ae;return(Te=(j.x||0)+te+he)<0&&(K==="right"&&de>=0?(M.align="left",M.inside=!0):de-=Te,Ae=!0),(Te=(j.x||0)+W.width-te+he)>J.plotWidth&&(K==="left"&&de<=0?(M.align="right",M.inside=!0):de+=J.plotWidth-Te,Ae=!0),(Te=j.y+te+fe)<0&&(ee==="bottom"&&ge>=0?(M.verticalAlign="top",M.inside=!0):ge-=Te,Ae=!0),(Te=(j.y||0)+W.height-te+fe)>J.plotHeight&&(ee==="top"&&ge<=0?(M.verticalAlign="bottom",M.inside=!0):ge+=J.plotHeight-Te,Ae=!0),Ae&&(M.x=de,M.y=ge,F.placed=!X,F.align(M,void 0,G)),Ae}function C(F,M){let j=[],W;if(ca(F)&&!ca(M))j=F.map(function(G){return vh(G,M)});else if(ca(M)&&!ca(F))j=M.map(function(G){return vh(F,G)});else if(ca(F)||ca(M)){if(ca(F)&&ca(M))for(W=Math.max(F.length,M.length);W--;)j[W]=vh(F[W],M[W])}else j=vh(F,M);return j}function S(F){var j,W;let M=F.chart.options.plotOptions;return Jx(C(C((j=M==null?void 0:M.series)==null?void 0:j.dataLabels,(W=M==null?void 0:M[F.type])==null?void 0:W.dataLabels),F.options.dataLabels))}function O(F,M,j,W,G){let X=this.chart,J=X.inverted,K=this.xAxis,ee=K.reversed,te=((J?M.height:M.width)||0)/2,le=F.pointWidth,he=le?le/2:0;M.startXPos=J?G.x:ee?-te-he:K.width-te+he,M.startYPos=J?ee?this.yAxis.height-te+he:-te-he:G.y,W?M.visibility==="hidden"&&(M.show(),M.attr({opacity:0}).animate({opacity:1})):M.attr({opacity:1}).animate({opacity:0},void 0,M.hide),X.hasRendered&&(j&&M.attr({x:M.startXPos,y:M.startYPos}),M.placed=!0)}A.compose=function(F){let M=F.prototype;M.initDataLabels||(M.initDataLabels=m,M.initDataLabelsGroup=u,M.alignDataLabel=c,M.drawDataLabels=g,M.justifyDataLabel=w,M.setDataLabelStartPos=O,M.hasDataLabels=o)}})(b||(b={}));let yp=b,{composed:K2}=T,{series:Qx}=Ln,{merge:Y2,pick:_h,pushUnique:X2}=Re;(function(A){function o(c,u,m,g,w){let C=this.chart.inverted,S=c.series,O=(S.xAxis?S.xAxis.len:this.chart.plotSizeX)||0,F=(S.yAxis?S.yAxis.len:this.chart.plotSizeY)||0,M=c.dlBox||c.shapeArgs,j=_h(c.below,c.plotY>_h(this.translatedThreshold,F)),W=_h(m.inside,!!this.options.stacking);if(M){if(g=Y2(M),!(m.overflow==="allow"&&m.crop===!1)){g.y<0&&(g.height+=g.y,g.y=0);let G=g.y+g.height-F;G>0&&G<g.height-1&&(g.height-=G)}C&&(g={x:F-g.y-g.height,y:O-g.x-g.width,width:g.height,height:g.width}),W||(C?(g.x+=j?0:g.width,g.width=0):(g.y+=j?g.height:0,g.height=0))}m.align=_h(m.align,!C||W?"center":j?"right":"left"),m.verticalAlign=_h(m.verticalAlign,C||W?"middle":j?"top":"bottom"),Qx.prototype.alignDataLabel.call(this,c,u,m,g,w),m.inside&&c.contrastColor&&u.css({color:c.contrastColor})}A.compose=function(c){yp.compose(Qx),X2(K2,"ColumnDataLabel")&&(c.prototype.alignDataLabel=o)}})(x||(x={}));let J2=x,{extend:Q2,merge:Z2}=Re;class Av extends gp{}Av.defaultOptions=Z2(gp.defaultOptions,{}),Q2(Av.prototype,{inverted:!0}),Ln.registerSeriesType("bar",Av);let{column:eF,line:Zx}=Ln.seriesTypes,{addEvent:tF,extend:nF,merge:iF}=Re;class vp extends Zx{applyJitter(){let o=this,c=this.options.jitter,u=this.points.length;c&&this.points.forEach(function(m,g){["x","y"].forEach(function(w,C){if(c[w]&&!m.isNull){let S=`plot${w.toUpperCase()}`,O=o[`${w}Axis`],F=c[w]*O.transA;if(O&&!O.logarithmic){let M=Math.max(0,(m[S]||0)-F),j=Math.min(O.len,(m[S]||0)+F);m[S]=M+(j-M)*function(W){let G=1e4*Math.sin(W);return G-Math.floor(G)}(g+C*u),w==="x"&&(m.clientX=m.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}vp.defaultOptions=iF(Zx.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),nF(vp.prototype,{drawTracker:eF.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),tF(vp,"afterTranslate",function(){this.applyJitter()}),Ln.registerSeriesType("scatter",vp);let{deg2rad:eE}=T,{fireEvent:sF,isNumber:Pv,pick:bp,relativeLength:rF}=Re;(function(A){A.getCenter=function(){let o=this.options,c=this.chart,u=2*(o.slicedOffset||0),m=c.plotWidth-2*u,g=c.plotHeight-2*u,w=o.center,C=Math.min(m,g),S=o.thickness,O,F=o.size,M=o.innerSize||0,j,W;typeof F=="string"&&(F=parseFloat(F)),typeof M=="string"&&(M=parseFloat(M));let G=[bp(w==null?void 0:w[0],"50%"),bp(w==null?void 0:w[1],"50%"),bp(F&&F<0?void 0:o.size,"100%"),bp(M&&M<0?void 0:o.innerSize||0,"0%")];for(!c.angular||this instanceof fs||(G[3]=0),j=0;j<4;++j)W=G[j],O=j<2||j===2&&/%$/.test(W),G[j]=rF(W,[m,g,C,G[2]][j])+(O?u:0);return G[3]>G[2]&&(G[3]=G[2]),Pv(S)&&2*S<G[2]&&S>0&&(G[3]=G[2]-2*S),sF(this,"afterGetCenter",{positions:G}),G},A.getStartAndEndRadians=function(o,c){let u=Pv(o)?o:0,m=Pv(c)&&c>u&&c-u<360?c:u+360;return{start:eE*(u+-90),end:eE*(m+-90)}}})(k||(k={}));let tE=k,{setAnimation:oF}=kn,{addEvent:nE,defined:aF,extend:lF,isNumber:cF,pick:uF,relativeLength:hF}=Re;class iE extends ia{getConnectorPath(o){let c=o.dataLabelPosition,u=o.options||{},m=u.connectorShape,g=this.connectorShapes[m]||m;return c&&g.call(this,{...c.computed,alignment:c.alignment},c.connectorPosition,u)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(o){let c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+o,c.r+o,{innerR:c.r-1,start:c.start,end:c.end,borderRadius:c.borderRadius})}constructor(o,c,u){super(o,c,u),this.half=0,this.name??(this.name="Slice");let m=g=>{this.slice(g.type==="select")};nE(this,"select",m),nE(this,"unselect",m)}isValid(){return cF(this.y)&&this.y>=0}setVisible(o,c=!0){o!==this.visible&&this.update({visible:o??!this.visible},c,void 0,!1)}slice(o,c,u){let m=this.series;oF(u,m.chart),c=uF(c,!0),this.sliced=this.options.sliced=o=aF(o)?o:!this.sliced,m.options.data[m.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}lF(iE.prototype,{connectorShapes:{fixedOffset:function(A,o,c){let u=o.breakAt,m=o.touchingSliceAt,g=c.softConnector?["C",A.x+(A.alignment==="left"?-5:5),A.y,2*u.x-m.x,2*u.y-m.y,u.x,u.y]:["L",u.x,u.y];return[["M",A.x,A.y],g,["L",m.x,m.y]]},straight:function(A,o){let c=o.touchingSliceAt;return[["M",A.x,A.y],["L",c.x,c.y]]},crookedLine:function(A,o,c){let{angle:u=this.angle||0,breakAt:m,touchingSliceAt:g}=o,{series:w}=this,[C,S,O]=w.center,F=O/2,{plotLeft:M,plotWidth:j}=w.chart,W=A.alignment==="left",{x:G,y:X}=A,J=m.x;if(c.crookDistance){let ee=hF(c.crookDistance,1);J=W?C+F+(j+M-C-F)*(1-ee):M+(C-F)*ee}else J=C+(S-X)*Math.tan(u-Math.PI/2);let K=[["M",G,X]];return(W?J<=G&&J>=m.x:J>=G&&J<=m.x)&&K.push(["L",J,X]),K.push(["L",m.x,m.y],["L",g.x,g.y]),K}}});let{getStartAndEndRadians:dF}=tE,{noop:sE}=T,{clamp:fF,extend:pF,fireEvent:rE,merge:Ov,pick:mF}=Re;class Rv extends fs{animate(o){let c=this,u=c.points,m=c.startAngleRad;o||u.forEach(function(g){let w=g.graphic,C=g.shapeArgs;w&&C&&(w.attr({r:mF(g.startR,c.center&&c.center[3]/2),start:m,end:m}),w.animate({r:C.r,start:C.start,end:C.end},c.options.animation))})}drawEmpty(){let o,c,u=this.startAngleRad,m=this.endAngleRad,g=this.options;this.total===0&&this.center?(o=this.center[0],c=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(o,c,this.center[1]/2,0,u,m).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:oh.arc(o,c,this.center[2]/2,0,{start:u,end:m,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":g.borderWidth,fill:g.fillColor||"none",stroke:g.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let o=this.chart.renderer;this.points.forEach(function(c){c.graphic&&c.hasNewShapeType()&&(c.graphic=c.graphic.destroy()),c.graphic||(c.graphic=o[c.shapeType](c.shapeArgs).add(c.series.group),c.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(o,c,u,m){let g=this.center,w=this.radii?this.radii[u.index]||0:g[2]/2,C=m.dataLabelPosition,S=(C==null?void 0:C.distance)||0,O=Math.asin(fF((o-g[1])/(w+S),-1,1));return g[0]+Math.cos(O)*(w+S)*(c?-1:1)+(S>0?(c?-1:1)*(m.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let o,c,u,m,g=this,w=g.chart;this.drawEmpty(),g.group&&!w.styledMode&&g.group.shadow(g.options.shadow),g.points.forEach(function(C){let S={};c=C.graphic,!C.isNull&&c?(m=C.shapeArgs,o=C.getTranslate(),w.styledMode||(u=g.pointAttribs(C,C.selected&&"select")),C.delayedRendering?(c.setRadialReference(g.center).attr(m).attr(o),w.styledMode||c.attr(u).attr({"stroke-linejoin":"round"}),C.delayedRendering=!1):(c.setRadialReference(g.center),w.styledMode||Ov(!0,S,u),Ov(!0,S,m,o),c.animate(S)),c.attr({visibility:C.visible?"inherit":"hidden"}),c.addClass(C.getClassName(),!0)):c&&(C.graphic=c.destroy())})}sortByAngle(o,c){o.sort(function(u,m){return u.angle!==void 0&&(m.angle-u.angle)*c})}translate(o){rE(this,"translate"),this.generatePoints();let c=this.options,u=c.slicedOffset,m=dF(c.startAngle,c.endAngle),g=this.startAngleRad=m.start,w=(this.endAngleRad=m.end)-g,C=this.points,S=c.ignoreHiddenPoint,O=C.length,F,M,j,W,G,X,J,K=0;for(o||(this.center=o=this.getCenter()),X=0;X<O;X++){J=C[X],F=g+K*w,J.isValid()&&(!S||J.visible)&&(K+=J.percentage/100),M=g+K*w;let ee={x:o[0],y:o[1],r:o[2]/2,innerR:o[3]/2,start:Math.round(1e3*F)/1e3,end:Math.round(1e3*M)/1e3};J.shapeType="arc",J.shapeArgs=ee,(j=(M+F)/2)>1.5*Math.PI?j-=2*Math.PI:j<-Math.PI/2&&(j+=2*Math.PI),J.slicedTranslation={translateX:Math.round(Math.cos(j)*u),translateY:Math.round(Math.sin(j)*u)},W=Math.cos(j)*o[2]/2,G=Math.sin(j)*o[2]/2,J.tooltipPos=[o[0]+.7*W,o[1]+.7*G],J.half=j<-Math.PI/2||j>Math.PI/2?1:0,J.angle=j}rE(this,"afterTranslate")}updateTotals(){let o=this.points,c=o.length,u=this.options.ignoreHiddenPoint,m,g,w=0;for(m=0;m<c;m++)(g=o[m]).isValid()&&(!u||g.visible)&&(w+=g.y);for(m=0,this.total=w;m<c;m++)(g=o[m]).percentage=w>0&&(g.visible||!u)?g.y/w*100:0,g.total=w}}Rv.defaultOptions=Ov(fs.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),pF(Rv.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:gp.prototype.drawTracker,getCenter:tE.getCenter,getSymbol:sE,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:gp.prototype.pointAttribs,pointClass:iE,requireSorting:!1,searchPoint:sE,trackerGroups:["group","dataLabelsGroup"]}),Ln.registerSeriesType("pie",Rv);let{composed:gF,noop:yF}=T,{distribute:vF}=to,{series:oE}=Ln,{arrayMax:bF,clamp:aE,defined:lE,pick:_F,pushUnique:wF,relativeLength:cE}=Re;(function(A){let o={radialDistributionY:function(w,C){var S;return(((S=C.dataLabelPosition)==null?void 0:S.top)||0)+w.distributeBox.pos},radialDistributionX:function(w,C,S,O,F){let M=F.dataLabelPosition;return w.getX(S<((M==null?void 0:M.top)||0)+2||S>((M==null?void 0:M.bottom)||0)-2?O:S,C.half,C,F)},justify:function(w,C,S,O){var F;return O[0]+(w.half?-1:1)*(S+(((F=C.dataLabelPosition)==null?void 0:F.distance)||0))},alignToPlotEdges:function(w,C,S,O){let F=w.getBBox().width;return C?F+O:S-F-O},alignToConnectors:function(w,C,S,O){let F=0,M;return w.forEach(function(j){(M=j.dataLabel.getBBox().width)>F&&(F=M)}),C?F+O:S-F-O}};function c(w,C){let S=Math.PI/2,{start:O=0,end:F=0}=w.shapeArgs||{},M=w.angle||0;C>0&&O<S&&F>S&&M>S/2&&M<1.5*S&&(M=M<=S?Math.max(S/2,(O+S)/2):Math.min(1.5*S,(S+F)/2));let{center:j,options:W}=this,G=j[2]/2,X=Math.cos(M),J=Math.sin(M),K=j[0]+X*G,ee=j[1]+J*G,te=Math.min((W.slicedOffset||0)+(W.borderWidth||0),C/5);return{natural:{x:K+X*C,y:ee+J*C},computed:{},alignment:C<0?"center":w.half?"right":"left",connectorPosition:{angle:M,breakAt:{x:K+X*te,y:ee+J*te},touchingSliceAt:{x:K,y:ee}},distance:C}}function u(){var fe;let w=this,C=w.points,S=w.chart,O=S.plotWidth,F=S.plotHeight,M=S.plotLeft,j=Math.round(S.chartWidth/3),W=w.center,G=W[2]/2,X=W[1],J=[[],[]],K=[0,0,0,0],ee=w.dataLabelPositioners,te,le,he,ue=0;w.visible&&((fe=w.hasDataLabels)!=null&&fe.call(w))&&(C.forEach(de=>{(de.dataLabels||[]).forEach(ge=>{ge.shortened&&(ge.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ge.shortened=!1)})}),oE.prototype.drawDataLabels.apply(w),C.forEach(de=>{(de.dataLabels||[]).forEach((ge,Te)=>{var Be;let Ae=W[2]/2,$e=ge.options,xe=cE(($e==null?void 0:$e.distance)||0,Ae);Te===0&&J[de.half].push(de),!lE((Be=$e==null?void 0:$e.style)==null?void 0:Be.width)&&ge.getBBox().width>j&&(ge.css({width:Math.round(.7*j)+"px"}),ge.shortened=!0),ge.dataLabelPosition=this.getDataLabelPosition(de,xe),ue=Math.max(ue,xe)})}),J.forEach((de,ge)=>{let Te=de.length,Ae=[],$e,xe,Be=0,it;Te&&(w.sortByAngle(de,ge-.5),ue>0&&($e=Math.max(0,X-G-ue),xe=Math.min(X+G+ue,S.plotHeight),de.forEach(xt=>{(xt.dataLabels||[]).forEach(et=>{var Qe;let bt=et.dataLabelPosition;bt&&bt.distance>0&&(bt.top=Math.max(0,X-G-bt.distance),bt.bottom=Math.min(X+G+bt.distance,S.plotHeight),Be=et.getBBox().height||21,et.lineHeight=S.renderer.fontMetrics(et.text||et).h+2*et.padding,xt.distributeBox={target:(((Qe=et.dataLabelPosition)==null?void 0:Qe.natural.y)||0)-bt.top+et.lineHeight/2,size:Be,rank:xt.y},Ae.push(xt.distributeBox))})}),vF(Ae,it=xe+Be-$e,it/5)),de.forEach(xt=>{(xt.dataLabels||[]).forEach(et=>{let bt=et.options||{},Qe=xt.distributeBox,ot=et.dataLabelPosition,mt=(ot==null?void 0:ot.natural.y)||0,Qt=bt.connectorPadding||0,pn=et.lineHeight||21,It=(pn-et.getBBox().height)/2,Rt=0,an=mt,ki="inherit";if(ot){if(Ae&&lE(Qe)&&ot.distance>0&&(Qe.pos===void 0?ki="hidden":(he=Qe.size,an=ee.radialDistributionY(xt,et))),bt.justify)Rt=ee.justify(xt,et,G,W);else switch(bt.alignTo){case"connectors":Rt=ee.alignToConnectors(de,ge,O,M);break;case"plotEdges":Rt=ee.alignToPlotEdges(et,ge,O,M);break;default:Rt=ee.radialDistributionX(w,xt,an-It,mt,et)}if(ot.attribs={visibility:ki,align:ot.alignment},ot.posAttribs={x:Rt+(bt.x||0)+({left:Qt,right:-Qt}[ot.alignment]||0),y:an+(bt.y||0)-pn/2},ot.computed.x=Rt,ot.computed.y=an-It,_F(bt.crop,!0)){let Kn;Rt-(le=et.getBBox().width)<Qt&&ge===1?(Kn=Math.round(le-Rt+Qt),K[3]=Math.max(Kn,K[3])):Rt+le>O-Qt&&ge===0&&(Kn=Math.round(Rt+le-O+Qt),K[1]=Math.max(Kn,K[1])),an-he/2<0?K[0]=Math.max(Math.round(-an+he/2),K[0]):an+he/2>F&&(K[2]=Math.max(Math.round(an+he/2-F),K[2])),ot.sideOverflow=Kn}}})}))}),(bF(K)===0||this.verifyDataLabelOverflow(K))&&(this.placeDataLabels(),this.points.forEach(de=>{(de.dataLabels||[]).forEach(ge=>{var xe;let{connectorColor:Te,connectorWidth:Ae=1}=ge.options||{},$e=ge.dataLabelPosition;if(Ae){let Be;te=ge.connector,$e&&$e.distance>0?(Be=!te,te||(ge.connector=te=S.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+de.colorIndex+(de.className?" "+de.className:"")).add(w.dataLabelsGroup)),S.styledMode||te.attr({"stroke-width":Ae,stroke:Te||de.color||"#666666"}),te[Be?"attr":"animate"]({d:de.getConnectorPath(ge)}),te.attr({visibility:(xe=$e.attribs)==null?void 0:xe.visibility})):te&&(ge.connector=te.destroy())}})})))}function m(){this.points.forEach(w=>{(w.dataLabels||[]).forEach(C=>{var O;let S=C.dataLabelPosition;S?(S.sideOverflow&&(C.css({width:Math.max(C.getBBox().width-S.sideOverflow,0)+"px",textOverflow:(((O=C.options)==null?void 0:O.style)||{}).textOverflow||"ellipsis"}),C.shortened=!0),C.attr(S.attribs),C[C.moved?"animate":"attr"](S.posAttribs),C.moved=!0):C&&C.attr({y:-9999})}),delete w.distributeBox},this)}function g(w){let C=this.center,S=this.options,O=S.center,F=S.minSize||80,M=F,j=S.size!==null;return!j&&(O[0]!==null?M=Math.max(C[2]-Math.max(w[1],w[3]),F):(M=Math.max(C[2]-w[1]-w[3],F),C[0]+=(w[3]-w[1])/2),O[1]!==null?M=aE(M,F,C[2]-Math.max(w[0],w[2])):(M=aE(M,F,C[2]-w[0]-w[2]),C[1]+=(w[0]-w[2])/2),M<C[2]?(C[2]=M,C[3]=Math.min(S.thickness?Math.max(0,M-2*S.thickness):Math.max(0,cE(S.innerSize||0,M)),M),this.translate(C),this.drawDataLabels&&this.drawDataLabels()):j=!0),j}A.compose=function(w){if(yp.compose(oE),wF(gF,"PieDataLabel")){let C=w.prototype;C.dataLabelPositioners=o,C.alignDataLabel=yF,C.drawDataLabels=u,C.getDataLabelPosition=c,C.placeDataLabels=m,C.verifyDataLabelOverflow=g}}})(I||(I={}));let CF=I;(function(A){A.getCenterOfPoints=function(o){let c=o.reduce((u,m)=>(u.x+=m.x,u.y+=m.y,u),{x:0,y:0});return{x:c.x/o.length,y:c.y/o.length}},A.getDistanceBetweenPoints=function(o,c){return Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2))},A.getAngleBetweenPoints=function(o,c){return Math.atan2(c.x-o.x,c.y-o.y)},A.pointInPolygon=function({x:o,y:c},u){let m=u.length,g,w,C=!1;for(g=0,w=m-1;g<m;w=g++){let[S,O]=u[g],[F,M]=u[w];O>c!=M>c&&o<(F-S)*(c-O)/(M-O)+S&&(C=!C)}return C}})(D||(D={}));let{pointInPolygon:xF}=D,{addEvent:EF,fireEvent:uE,objectEach:hE,pick:TF}=Re;function SF(A){let o=A.length,c=(F,M)=>!(M.x>=F.x+F.width||M.x+M.width<=F.x||M.y>=F.y+F.height||M.y+M.height<=F.y),u=(F,M)=>{for(let j of F)if(xF({x:j[0],y:j[1]},M))return!0;return!1},m,g,w,C,S,O=!1;for(let F=0;F<o;F++)(m=A[F])&&(m.oldOpacity=m.opacity,m.newOpacity=1,m.absoluteBox=function(M){var j,W;if(M&&(!M.alignAttr||M.placed)){let G=M.box?0:M.padding||0,X=M.alignAttr||{x:M.attr("x"),y:M.attr("y")},J=M.getBBox();return M.width=J.width,M.height=J.height,{x:X.x+(((j=M.parentGroup)==null?void 0:j.translateX)||0)+G,y:X.y+(((W=M.parentGroup)==null?void 0:W.translateY)||0)+G,width:(M.width||0)-2*G,height:(M.height||0)-2*G,polygon:J==null?void 0:J.polygon}}}(m));A.sort((F,M)=>(M.labelrank||0)-(F.labelrank||0));for(let F=0;F<o;++F){C=(g=A[F])&&g.absoluteBox;let M=C==null?void 0:C.polygon;for(let j=F+1;j<o;++j){S=(w=A[j])&&w.absoluteBox;let W=!1;if(C&&S&&g!==w&&g.newOpacity!==0&&w.newOpacity!==0&&g.visibility!=="hidden"&&w.visibility!=="hidden"){let G=S.polygon;if(M&&G&&M!==G?u(M,G)&&(W=!0):c(C,S)&&(W=!0),W){let X=g.labelrank<w.labelrank?g:w,J=X.text;X.newOpacity=0,J!=null&&J.element.querySelector("textPath")&&J.hide()}}}}for(let F of A)dE(F,this)&&(O=!0);O&&uE(this,"afterHideAllOverlappingLabels")}function dE(A,o){let c,u,m=!1;return A&&(u=A.newOpacity,A.oldOpacity!==u&&(A.hasClass("highcharts-data-label")?(A[u?"removeClass":"addClass"]("highcharts-data-label-hidden"),c=function(){o.styledMode||A.css({pointerEvents:u?"auto":"none"})},m=!0,A[A.isOld?"animate":"attr"]({opacity:u},void 0,c),uE(o,"afterHideOverlappingLabel")):A.attr({opacity:u})),A.isOld=!0),m}function kF(){var c;let A=this,o=[];for(let u of A.labelCollectors||[])o=o.concat(u());for(let u of A.yAxis||[])u.stacking&&u.options.stackLabels&&!u.options.stackLabels.allowOverlap&&hE(u.stacking.stacks,m=>{hE(m,g=>{g.label&&o.push(g.label)})});for(let u of A.series||[])if(u.visible&&((c=u.hasDataLabels)!=null&&c.call(u))){let m=g=>{for(let w of g)w.visible&&(w.dataLabels||[]).forEach(C=>{var O;let S=C.options||{};C.labelrank=TF(S.labelrank,w.labelrank,(O=w.shapeArgs)==null?void 0:O.height),S.allowOverlap??Number(S.distance)>0?(C.oldOpacity=C.opacity,C.newOpacity=1,dE(C,A)):o.push(C)})};m(u.nodes||[]),m(u.points)}this.hideOverlappingLabels(o)}let fE={compose:function(A){let o=A.prototype;o.hideOverlappingLabels||(o.hideOverlappingLabels=SF,EF(A,"render",kF))}},{defaultOptions:IF}=Vn,{noop:pE}=T,{addEvent:mE,extend:AF,isObject:gE,merge:PF,relativeLength:Mv}=Re,OF={radius:0,scope:"stack",where:void 0},yE=pE,vE=pE;function RF(A,o,c,u,m={}){let g=yE(A,o,c,u,m),{innerR:w=0,r:C=c,start:S=0,end:O=0}=m;if(m.open||!m.borderRadius)return g;let F=O-S,M=Math.sin(F/2),j=Math.max(Math.min(Mv(m.borderRadius||0,C-w),(C-w)/2,C*M/(1+M)),0),W=Math.min(j,F/Math.PI*2*w),G=g.length-1;for(;G--;)(function(X,J,K){let ee,te,le,he=X[J],ue=X[J+1];if(ue[0]==="Z"&&(ue=X[0]),(he[0]==="M"||he[0]==="L")&&ue[0]==="A"?(ee=he,te=ue,le=!0):he[0]==="A"&&(ue[0]==="M"||ue[0]==="L")&&(ee=ue,te=he),ee&&te&&te.params){let fe=te[1],de=te[5],ge=te.params,{start:Te,end:Ae,cx:$e,cy:xe}=ge,Be=de?fe-K:fe+K,it=Be?Math.asin(K/Be):0,xt=de?it:-it,et=Math.cos(it)*Be;le?(ge.start=Te+xt,ee[1]=$e+et*Math.cos(Te),ee[2]=xe+et*Math.sin(Te),X.splice(J+1,0,["A",K,K,0,0,1,$e+fe*Math.cos(ge.start),xe+fe*Math.sin(ge.start)])):(ge.end=Ae-xt,te[6]=$e+fe*Math.cos(ge.end),te[7]=xe+fe*Math.sin(ge.end),X.splice(J+1,0,["A",K,K,0,0,1,$e+et*Math.cos(Ae),xe+et*Math.sin(Ae)])),te[4]=Math.abs(ge.end-ge.start)<Math.PI?0:1}})(g,G,G>1?W:j);return g}function MF(){var A,o;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:c,yAxis:u}=this,m=c.stacking==="percent",g=(o=(A=IF.plotOptions)==null?void 0:A[this.type])==null?void 0:o.borderRadius,w=Dv(c.borderRadius,gE(g)?g:{}),C=u.options.reversed;for(let S of this.points){let{shapeArgs:O}=S;if(S.shapeType==="roundedRect"&&O){let{width:F=0,height:M=0,y:j=0}=O,W=j,G=M;if(w.scope==="stack"&&S.stackTotal){let ee=u.translate(m?100:S.stackTotal,!1,!0,!1,!0),te=u.translate(c.threshold||0,!1,!0,!1,!0),le=this.crispCol(0,Math.min(ee,te),0,Math.abs(ee-te));W=le.y,G=le.height}let X=(S.negative?-1:1)*(C?-1:1)==-1,J=w.where;!J&&this.is("waterfall")&&Math.abs((S.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(J="all"),J||(J="end");let K=Math.min(Mv(w.radius,F),F/2,J==="all"?M/2:1/0)||0;J==="end"&&(X&&(W-=K),G+=K),AF(O,{brBoxHeight:G,brBoxY:W,r:K})}}}}function Dv(A,o){return gE(A)||(A={radius:A||0}),PF(OF,o,A)}function DF(){let A=Dv(this.options.borderRadius);for(let o of this.points){let c=o.shapeArgs;c&&(c.borderRadius=Mv(A.radius,(c.r||0)-(c.innerR||0)))}}function NF(A,o,c,u,m={}){let g=vE(A,o,c,u,m),{r:w=0,brBoxHeight:C=u,brBoxY:S=o}=m,O=o-S,F=S+C-(o+u),M=O-w>-.1?0:w,j=F-w>-.1?0:w,W=Math.max(M&&O,0),G=Math.max(j&&F,0),X=[A+M,o],J=[A+c-M,o],K=[A+c,o+M],ee=[A+c,o+u-j],te=[A+c-j,o+u],le=[A+j,o+u],he=[A,o+u-j],ue=[A,o+M],fe=(de,ge)=>Math.sqrt(Math.pow(de,2)-Math.pow(ge,2));if(W){let de=fe(M,M-W);X[0]-=de,J[0]+=de,K[1]=ue[1]=o+M-W}if(u<M-W){let de=fe(M,M-W-u);K[0]=ee[0]=A+c-M+de,te[0]=Math.min(K[0],te[0]),le[0]=Math.max(ee[0],le[0]),he[0]=ue[0]=A+M-de,K[1]=ue[1]=o+u}if(G){let de=fe(j,j-G);te[0]+=de,le[0]-=de,ee[1]=he[1]=o+u-j+G}if(u<j-G){let de=fe(j,j-G-u);K[0]=ee[0]=A+c-j+de,J[0]=Math.min(K[0],J[0]),X[0]=Math.max(ee[0],X[0]),he[0]=ue[0]=A+j-de,ee[1]=he[1]=o}return g.length=0,g.push(["M",...X],["L",...J],["A",M,M,0,0,1,...K],["L",...ee],["A",j,j,0,0,1,...te],["L",...le],["A",j,j,0,0,1,...he],["L",...ue],["A",M,M,0,0,1,...X],["Z"]),g}let{diffObjects:LF,extend:VF,find:FF,merge:BF,pick:_p,uniqueKey:jF}=Re;(function(A){function o(u,m){let g=u.condition;(g.callback||function(){return this.chartWidth<=_p(g.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=_p(g.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=_p(g.minWidth,0)&&this.chartHeight>=_p(g.minHeight,0)}).call(this)&&m.push(u._id)}function c(u,m){let g=this.options.responsive,w=this.currentResponsive,C=[],S;!m&&g&&g.rules&&g.rules.forEach(M=>{M._id===void 0&&(M._id=jF()),this.matchResponsiveRule(M,C)},this);let O=BF(...C.map(M=>FF((g||{}).rules||[],j=>j._id===M)).map(M=>M&&M.chartOptions));O.isResponsiveOptions=!0,C=C.toString()||void 0;let F=w&&w.ruleIds;C===F||(w&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(w.undoOptions,u,!0),this.updatingResponsive=!1),C?((S=LF(O,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:C,mergedOptions:O,undoOptions:S},this.updatingResponsive||this.update(O,u,!0)):this.currentResponsive=void 0)}A.compose=function(u){let m=u.prototype;return m.matchResponsiveRule||VF(m,{matchResponsiveRule:o,setResponsive:c}),u}})(N||(N={}));let $F=N;T.AST=dn,T.Axis=ac,T.Chart=aa,T.Color=Nn,T.DataLabel=yp,T.DataTableCore=ip,T.Fx=ui,T.HTMLElement=hh,T.Legend=Sx,T.LegendSymbol=dx,T.OverlappingDataLabels=T.OverlappingDataLabels||fE,T.PlotLineOrBand=Xf,T.Point=ia,T.Pointer=cx,T.RendererRegistry=Yo,T.Series=fs,T.SeriesRegistry=Ln,T.StackItem=Fx,T.SVGElement=us,T.SVGRenderer=$f,T.Templating=Qi,T.Tick=oc,T.Time=jt,T.Tooltip=sx,T.animate=kn.animate,T.animObject=kn.animObject,T.chart=aa.chart,T.color=Nn.parse,T.dateFormat=Qi.dateFormat,T.defaultOptions=Vn.defaultOptions,T.distribute=to.distribute,T.format=Qi.format,T.getDeferredAnimation=kn.getDeferredAnimation,T.getOptions=Vn.getOptions,T.numberFormat=Qi.numberFormat,T.seriesType=Ln.seriesType,T.setAnimation=kn.setAnimation,T.setOptions=Vn.setOptions,T.stop=kn.stop,T.time=Vn.defaultTime,T.timers=ui.timers,{compose:function(A,o,c){let u=A.types.pie;if(!o.symbolCustomAttribs.includes("borderRadius")){let m=c.prototype.symbols;mE(A,"afterColumnTranslate",MF,{order:9}),mE(u,"afterTranslate",DF),o.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),yE=m.arc,vE=m.roundedRect,m.arc=RF,m.roundedRect=NF}},optionsToObject:Dv}.compose(T.Series,T.SVGElement,T.SVGRenderer),J2.compose(T.Series.types.column),yp.compose(T.Series),RL.compose(T.Axis),hh.compose(T.SVGRenderer),Sx.compose(T.Chart),NL.compose(T.Axis),fE.compose(T.Chart),CF.compose(T.Series.types.pie),Xf.compose(T.Chart,T.Axis),cx.compose(T.Chart),$F.compose(T.Chart),mh.compose(T.Axis,T.Chart,T.Series),P2.compose(T.Axis,T.Chart,T.Series),sx.compose(T.Pointer),Re.extend(T,Re);let UF=T;return P.default})())})(KN);var uee=KN.exports;const hee=rC(uee);var YN={exports:{}};(function(t){(function(e){t.exports?(e.default=e,t.exports=e):e(typeof Dashboards<"u"?Dashboards:void 0)})(function(e){var n=e?e._modules:{};function i(s,r,a,l){s.hasOwnProperty(r)||(s[r]=l.apply(null,a),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:r,module:s[r]}})))}i(n,"Dashboards/EditMode/EditRenderer.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a,createElement:l,defined:h}=r;function d(D,N){let V,P=N.options.contextMenu;return P&&(V=l("button",{className:s.classNames.contextMenuBtn,onclick:function(T){T.stopPropagation(),N.onContextBtnClick()}},{},D),P.icon&&l("img",{src:P.icon,className:s.classNames.icon},{},V),P.text&&l("span",{className:s.classNames.contextMenuBtnText,textContent:P.text},{},V),V.setAttribute("aria-label",N.lang.accessibility.contextMenu.button),V.setAttribute("aria-expanded","false")),V}function p(D,N){let V,{name:P,showToggle:T,onchange:R,isEnabled:L,isNested:B,isStandalone:U,lang:z}=N,H=l("div",{className:s.classNames[B?"accordionNestedWrapper":"accordionContainer"]+" "+(U?s.classNames.accordionStandaloneWrapper:"")+" "+s.classNames.collapsableContentHeader},{},D),q=l("div",{className:s.classNames.accordionHeader},{},H);if((!U||T)&&(V=l(U&&T?"span":"button",{className:s.classNames[U?"accordionHeaderWrapper":"accordionHeaderBtn"]},{},q)),l("span",{textContent:z[P]||P},{},V),T&&q&&v(q,{enabledOnOffLabels:!0,id:P,name:"",onchange:R,value:L||!1,lang:z}),!U){let se=l("span",{className:s.classNames.accordionHeaderIcon+" "+s.classNames.collapsedElement},{},V);V==null||V.addEventListener("click",function(){Z.classList.toggle(s.classNames.hiddenElement),se==null||se.classList.toggle(s.classNames.collapsedElement)})}let Z=l("div",{className:s.classNames.accordionContent+" "+(U?s.classNames.standaloneElement:s.classNames.hiddenElement)},{},H);return{outerElement:H,content:Z}}function f(D,N){let V;if(!D)return;N.name&&_(D,{title:N.name,isLabel:!0});let P=N.iconsURLPrefix||"",T=l("div",{className:s.classNames.dropdown+" "+s.classNames.collapsableContentHeader},{},D),R=l("button",{className:s.classNames.dropdownButton},{},T),L=l("div",{className:s.classNames.dropdownButtonContent},{},R),B=(r.find(N.selectOptions,q=>q.name===N.value)||{}).iconURL;B&&(V=l("img",{src:P+B,className:s.classNames.icon},{},L));let U=l("span",{textContent:N.value,id:N.id||""},{},L),z=l("img",{className:s.classNames.dropdownIcon+" "+s.classNames.collapsedElement,src:P+"dropdown-pointer.svg"},{},R),H=l("ul",{className:s.classNames.dropdownContent+" "+s.classNames.hiddenElement},{},T);R.addEventListener("click",function(){H.classList.toggle(s.classNames.hiddenElement),z.classList.toggle(s.classNames.collapsedElement)});for(let q=0,Z=N.selectOptions.length;q<Z;++q)(function(se,oe,ae,ye,we,_e,Ce){let Oe=se.iconsURLPrefix+se.iconURL,He=l("li",{},{},oe),at=l("button",{className:s.classNames.customSelectButton},{},He);se.iconURL&&l("img",{src:Oe},{},at),l("span",{textContent:se.name||""},{},at),at.addEventListener("click",function(){if(oe.classList.add(s.classNames.hiddenElement),we.classList.toggle(s.classNames.collapsedElement),ae.textContent=se.name||"",_e&&se.iconURL&&(_e.src=Oe),Ce)return Ce(se.name)})})(a(N.selectOptions[q]||{},{iconsURLPrefix:P}),H,U,N.id,z,V,N.onchange);return T}function v(D,N){if(!D)return;let V=N.lang,P=N.value,T=N.title||N.name,R=N.langKey,L=l("button",{className:s.classNames.toggleContainer,type:"button",role:"switch",ariaChecked:!1,ariaLabel:R?V.accessibility[R][N.name]:""},{},D);T&&_(L,{title:T}),N.enabledOnOffLabels&&_(L,{title:V.off,className:s.classNames.toggleLabels});let B=l("label",{className:s.classNames.toggleWrapper+" "+(N.className||"")},{},L),U=k(B,P),z=N.onchange;z&&L.addEventListener("click",q=>{z(!U.checked),U.checked=!U.checked,L.setAttribute("aria-checked",U.checked),q.stopPropagation()});let H=l("span",{className:s.classNames.toggleSlider},{},B);return z&&H.addEventListener("click",q=>{q.preventDefault()}),N.enabledOnOffLabels&&_(L,{title:V.on,className:s.classNames.toggleLabels}),L}function _(D,N){let V,{title:P,className:T,isLabel:R}=N;if(D){let L=R?{htmlFor:P}:{};V=l(R?"label":"div",{className:s.classNames.labelText+" "+(T||""),textContent:P,...L},{},D)}return V}function y(D,N){let{icon:V,callback:P}=N;if(!D)return;let T=l("div",{onclick:P,className:N.className||""},{},D);T.style["background-image"]="url("+V+")";let R=N.mousedown,L=N.click;return R&&(T.onmousedown=function(){R.apply(this,arguments)}),L&&T.addEventListener("click",function(){L.apply(this,arguments)}),T}function b(D,N){if(!D)return;N.name&&_(D,{title:N.name,isLabel:!0});let V=l("input",{type:"text",onclick:N.callback,id:N.id||"",name:N.name||"",value:h(N.value)&&N.value.toString().replace(/\"/g,"")||""},{},D),P=N.onchange;return P&&V.addEventListener("change",function(T){P(T.target.value)}),V}function x(D,N){if(!D)return;N.name&&_(D,{title:N.name,isLabel:!0});let V=l("textarea",{id:N.id,name:N.name,value:N.value||""},{},D),P=N.onchange;return P&&V.addEventListener("change",function(T){P(T.target.value)}),V}function k(D,N){let V;return D&&(V=l("input",{type:"checkbox",checked:!!N},{},D)),V}function I(D,N){if(!D)return;let V=l("button",{className:s.classNames.button+" "+(N.className||""),onclick:N.callback,textContent:N.text},N.style||{},D);return N.icon&&(V.style["background-image"]="url("+N.icon+")"),V}return{renderSelect:f,renderToggle:v,renderText:_,renderCollapseHeader:p,renderIcon:y,renderContextButton:d,renderInput:b,renderTextarea:x,renderCheckbox:k,renderButton:I,getRendererFunction:function(D){return{select:f,toggle:v,text:_,collapse:p,icon:y,contextButton:d,input:b,textarea:x,checkbox:k,button:I}[D]}}}),i(n,"Dashboards/EditMode/Menu/MenuItem.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/EditRenderer.js"]],function(s,r,a){let{createElement:l,merge:h}=r;class d{constructor(f,v){this.menu=f,this.isActive=!1,this.options=h(d.defaultOptions,v),this.container=this.setContainer(),this.innerElement=this.setInnerElement()}setContainer(){let f=this.options,v=s.classNames.menuItem;return this.menu.options.itemsClassName&&(v+=" "+this.menu.options.itemsClassName),f.className&&(v+=" "+f.className),l("div",{className:v||""},h(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var y,b,x,k,I,D,N,V;let f=this.options,v=this.container,_=f.langKey;return f.type==="toggle"?a.renderToggle(v,{id:f.id,name:f.id,title:_?this.menu.editMode.lang[_]:f.text,value:!!(f.getValue&&f.getValue(this)),lang:this.menu.editMode.lang,langKey:_,onchange:(b=(y=f.events)==null?void 0:y.click)==null?void 0:b.bind(this)}):f.type==="text"?a.renderText(v,{title:_?this.menu.editMode.lang[_]:f.text||"",className:f.className||""}):f.type==="icon"?a.renderIcon(v,{icon:f.icon||"",mousedown:(k=(x=f.events)==null?void 0:x.onmousedown)==null?void 0:k.bind(this),click:(D=(I=f.events)==null?void 0:I.click)==null?void 0:D.bind(this)}):f.type==="button"?a.renderButton(v,{callback:(V=(N=f.events)==null?void 0:N.click)==null?void 0:V.bind(this),className:f.className||"",style:f.style||{},text:_?this.menu.editMode.lang[_]:f.text||""}):void 0}update(){let f=this.options;f.events&&f.events.update&&f.events.update.apply(this,arguments)}activate(){this.update(),this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}return d.defaultOptions={type:"text"},d}),i(n,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){let s=this.menu.editMode.board.fullscreen;s&&s.toggle()}}}}}),i(n,"Dashboards/EditMode/Menu/Menu.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/Menu/MenuItem.js"],n["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(s,r,a,l){let{createElement:h,merge:d}=r;class p{constructor(v,_,y,b){this.parentElement=v,this.isVisible=!1,this.activeItems=[],this.options=_,this.items={},this.editMode=y,b&&(this.parent=b),this.container=this.setContainer()}setContainer(){return h("div",{className:s.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(v,_){let y,b,x,k,I=this.options.items||[];for(let D=0,N=I.length;D<N;++D)y=typeof(b=I[D])=="string"?v[b]:b.id?v[b.id]:{},(k=typeof b=="string"?d(y,{id:b}):d(y,b)).id&&(x=new a(this,k),this.items[x.options.id]=x,_&&(x.activate(),this.activeItems.push(x)))}setActiveItems(v){let _;for(let y=0,b=this.activeItems.length;y<b;++y)v.indexOf(this.activeItems[y].options.id)===-1&&this.activeItems[y].deactivate();this.activeItems.length=0;for(let y=0,b=v.length;y<b;++y)(_=this.items[v[y]])&&(_.isActive?_.update():_.activate(),this.activeItems.push(_))}deactivateActiveItems(){for(let v=0,_=this.activeItems.length;v<_;++v)this.activeItems[v].deactivate()}updateActiveItems(){let v=this.activeItems;for(let _=0,y=v.length;_<y;++_)v[_].update()}destroy(){this.activeItems.length=0,this.container.remove(),this.items={},this.options={}}}return p.items=l,p}),i(n,"Dashboards/EditMode/Toolbar/EditToolbar.js",[n["Core/Utilities.js"],n["Dashboards/EditMode/Menu/Menu.js"]],function(s,r){let{defined:a,createElement:l,css:h}=s;return class{constructor(d,p){this.container=l("div",{className:p.className},void 0,d.board.container),this.editMode=d,this.iconURLPrefix=d.iconsURLPrefix,this.menu=new r(this.container,p.menu,d,this),this.options=p,this.isVisible=!1,this.options.outline&&(this.outline=l("div",{className:p.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(d,p,f,v=0){let _=(f||{}).container;this.outline&&_&&h(this.outline,{display:"block",left:d-v+"px",top:p-v+"px",width:_.offsetWidth+2*v+"px",height:_.offsetHeight+2*v+"px"})}hideOutline(){this.outline&&(this.outline.style.display="none")}setPosition(d,p){this.container&&h(this.container,{left:(d||"-9999")+"px",top:(p||"-9999")+"px"}),this.isVisible=a(d)&&a(p)}}}),i(n,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/Toolbar/EditToolbar.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r,a,l,h){let{merge:d,fireEvent:p,objectEach:f}=h;class v extends a{static getItemsConfig(y,b){var k,I;let x=[];return(k=y.dragDrop)!=null&&k.enabled&&x.push({id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(D){let N=this.menu.parent,V=N.editMode.dragDrop;V&&N.cell&&N.cell instanceof s&&V.onDragStart(D,N.cell)}}}),(I=y.settings)!=null&&I.enabled&&x.push({id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(){this.menu.parent.editMode.setEditOverlay(),this.menu.parent.onCellOptions()}}}),x.push({id:"destroy",type:"icon",className:r.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){let D=this.menu.parent,N=this.menu.parent.editMode,V=N.confirmationPopup;V.show({confirmButton:{value:N.lang.confirmButton,callback:D.onCellDestroy,context:D},cancelButton:{value:N.lang.cancelButton,callback:()=>{V.closePopup()}},text:N.lang.confirmDestroyCell})}}}),x}constructor(y){super(y,d(v.defaultOptions,(y.options.toolbars||{}).cell,{menu:{items:v.getItemsConfig(y.options,y.iconsURLPrefix)}})),y.customHTMLMode&&this.filterOptionsAvailableInCustomHTMLMode(),this.menu.initItems({})}showToolbar(y){let b=y.container,x=this.editMode.cellToolbar;if(x)if(b&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){let k=l.getOffsets(y,this.editMode.board.container),I=k.right-30-10,D=k.top+10;f(this.menu.items,N=>{var P,T,R;if(!((T=(P=y.options)==null?void 0:P.editMode)!=null&&T.toolbarItems)){N.activate();return}if(((R=y.options.editMode.toolbarItems[N.options.id])==null?void 0:R.enabled)===!1){N.deactivate();return}N.activate()}),this.setPosition(I,D),this.cell=y,this.refreshOutline(),x.isVisible=!0}else this.isVisible&&(this.hide(),x.isVisible=!1)}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){let y=this.editMode;y.sidebar&&(y.sidebar.show(this.cell),this.highlightCell())}onCellDestroy(){if(this.cell&&this.cell instanceof s){let y=this.cell.row,b=this.cell.id;this.resetEditedCell(),this.cell.destroy(),this.cell=void 0,this.editMode.hideToolbars(["cell","row"]),y&&y.cells&&y.cells.length&&(p(this.editMode.board,"cellResize",{cell:y.cells[0]}),p(y,"cellChange",{cell:y.cells[0],row:y}),p(this.editMode,"layoutChanged",{type:"cellDestroyed",target:b,board:this.editMode.board}))}}resetEditedCell(){this.editedCell=void 0}filterOptionsAvailableInCustomHTMLMode(){var y;this.options.menu.items=(y=this.options.menu.items)==null?void 0:y.filter(b=>typeof b!="string"&&b.id==="settings")}highlightCell(){this.cell&&(this.cell.setHighlight?this.cell.setHighlight():(this.cell.container.classList.add(r.classNames.cellEditHighlight),this.editMode.board.container.classList.add(r.classNames.dashboardCellEditHighlightActive)))}}return v.defaultOptions={enabled:!0,className:r.classNames.editToolbar,outline:!1,outlineClassName:r.classNames.editToolbarCellOutline,menu:{className:r.classNames.editToolbarCell,itemsClassName:r.classNames.editToolbarItem,items:[]}},v}),i(n,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[n["Core/Utilities.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/Toolbar/EditToolbar.js"],n["Dashboards/Layout/GUIElement.js"]],function(s,r,a,l){let{fireEvent:h,merge:d,objectEach:p}=s;class f extends a{static getMenuItemsConfig(_,y){var x;let b=[];return(x=_.dragDrop)!=null&&x.enabled&&b.push({id:"drag",type:"icon",icon:y+"drag.svg",events:{onmousedown:function(k){let I=this.menu.parent,D=I.editMode.dragDrop;k.preventDefault(),D&&I.row&&D.onDragStart(k,I.row)}}}),b.push({id:"destroy",type:"icon",className:r.classNames.menuDestroy,icon:y+"destroy.svg",events:{click:function(){let k=this.menu.parent,I=this.menu.parent.editMode,D=I.confirmationPopup;D.show({confirmButton:{value:I.lang.confirmButton,callback:k.onRowDestroy,context:k},cancelButton:{value:I.lang.cancelButton,callback:()=>{D.closePopup()}},text:I.lang.confirmDestroyRow})}}}),b}constructor(_){super(_,d(f.defaultOptions,(_.options.toolbars||{}).row,{menu:{items:f.getMenuItemsConfig(_.options,_.iconsURLPrefix)}})),this.menu.initItems({})}refreshOutline(_,y){this.row&&this.row.container&&super.refreshOutline(_,y,this.row,2)}showToolbar(_){let y,b,x,k=_.container,I=this.editMode.rowToolbar;if(I)if(k&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){let D=l.getOffsets(_,this.editMode.board.container),N=D.right-D.left;p(this.menu.items,V=>{var T,R,L;if(!((R=(T=_.options)==null?void 0:T.editMode)!=null&&R.toolbarItems)){V.activate();return}if(((L=_.options.editMode.toolbarItems[V.options.id])==null?void 0:L.enabled)===!1){V.deactivate();return}V.activate()}),x=N/2-this.container.clientWidth/2,y=D.left+x,b=D.top-this.container.clientHeight,this.setPosition(y,b),this.row=_,this.refreshOutline(-x,this.container.clientHeight),I.isVisible=!0}else this.isVisible&&(this.hide(),I.isVisible=!1)}onRowOptions(){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(){if(this.row){let _=this.row.options.id||-1;this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]),h(this.editMode,"layoutChanged",{type:"rowDestroyed",target:_,board:this.editMode.board})}}resetEditedRow(){this.editedRow=void 0}}return f.defaultOptions={enabled:!0,className:r.classNames.editToolbar,outline:!0,outlineClassName:r.classNames.editToolbarRowOutline,menu:{className:r.classNames.editToolbarRow,itemsClassName:r.classNames.editToolbarItem,items:[]}},f}),i(n,"Shared/BaseForm.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,createElement:l}=r;return class{constructor(h,d){this.iconsURL=d,this.container=this.createPopupContainer(h),this.closeButton=this.addCloseButton()}createPopupContainer(h,d="highcharts-popup highcharts-no-tooltip"){return l("div",{className:d},void 0,h)}addCloseButton(h="highcharts-popup-close"){let d=this,p=this.iconsURL,f=l("button",{className:h},void 0,this.container);return f.style["background-image"]="url("+(p.match(/png|svg|jpeg|jpg|gif/ig)?p:p+"close.svg")+")",["click","touchstart"].forEach(v=>{a(f,v,d.closeButtonEvents.bind(d))}),a(document,"keydown",function(v){v.code==="Escape"&&d.closeButtonEvents()}),f}closeButtonEvents(){this.closePopup()}showPopup(h="highcharts-annotation-toolbar"){let d=this.container,p=this.closeButton;this.type=void 0,d.innerHTML=s.emptyHTML,d.className.indexOf(h)>=0&&(d.classList.remove(h),d.removeAttribute("style")),d.appendChild(p),d.style.display="block",d.style.height=""}closePopup(){this.container.style.display="none"}}}),i(n,"Dashboards/EditMode/ConfirmationPopup.js",[n["Core/Utilities.js"],n["Shared/BaseForm.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/EditRenderer.js"]],function(s,r,a,l){let{createElement:h}=s;return class extends r{constructor(d,p,f,v){super(d,p=v&&v.close&&v.close.icon?v.close.icon:p),this.editMode=f,this.options=v}createPopupContainer(d,p=a.classNames.confirmationPopup){return super.createPopupContainer(d,p)}addCloseButton(d=a.classNames.popupCloseButton){return super.addCloseButton(d)}closeButtonEvents(){var p;let d=(p=this.contentOptions)==null?void 0:p.cancelButton.callback;d&&d()}renderContent(){let d=this.contentOptions;if(!d)return;this.contentContainer=h("div",{className:a.classNames.popupContentContainer},{},this.container);let p=this.contentContainer.parentNode;p.style.marginTop="0px";let f=p.getBoundingClientRect().top;p.style.marginTop=(f<0?Math.abs(f-200):200)+"px",l.renderText(this.contentContainer,{title:d.text||""}),this.buttonContainer=h("div",{className:a.classNames.popupButtonContainer},{},this.container),l.renderButton(this.buttonContainer,{text:d.cancelButton.value,className:a.classNames.popupCancelBtn,callback:d.cancelButton.callback}),l.renderButton(this.buttonContainer,{text:d.confirmButton.value,className:a.classNames.popupConfirmBtn,callback:()=>{d.confirmButton.callback.call(d.confirmButton.context),this.closePopup()}})}show(d){this.contentOptions=d,this.showPopup(),this.renderContent(),this.editMode.setEditOverlay()}closePopup(){super.closePopup(),this.editMode.setEditOverlay(!0)}}}),i(n,"Dashboards/EditMode/AccordionMenu.js",[n["Dashboards/EditMode/EditRenderer.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/ConfirmationPopup.js"]],function(s,r,a,l){let{createElement:h,merge:d,error:p,fireEvent:f}=r;return class{constructor(v,_){this.changedOptions={},this.chartOptionsJSON={},this.oldOptionsBuffer={},this.waitingForConfirmation=!1,this.iconsURLPrefix=v,this.closeSidebar=_}renderContent(v,_,y){var V,P,T;let b,x,{editMode:k}=_.board,I=_.editableOptions.getOptions();this.component=_,this.oldOptionsBuffer=_.getEditableOptions(),k&&(this.confirmationPopup=new l(_.board.container,k.iconsURLPrefix,k,{close:{icon:""}}));let D=h("div",{className:a.classNames.accordionMenu},{},v);for(let R=0,L=I.length;R<L;R++)b=I[R],x=s.renderCollapseHeader(D,d({iconsURLPrefix:this.iconsURLPrefix,lang:(((V=_.board)==null?void 0:V.editMode)||a).lang},b)).content,this.renderAccordion(b,x,_);let N=h("div",{className:a.classNames.accordionMenuButtonsContainer},{},y);s.renderButton(N,{text:(((P=_.board)==null?void 0:P.editMode)||a).lang.confirmButton,className:a.classNames.popupConfirmBtn,callback:async()=>{await this.confirmChanges(),f(k,"confirmEditing")}}),s.renderButton(N,{text:(((T=_.board)==null?void 0:T.editMode)||a).lang.cancelButton,className:a.classNames.popupCancelBtn,callback:()=>{this.cancelChanges(),f(k,"cancelEditing")}}),y.appendChild(N)}updateOptions(v,_){var V,P,T;let y,b,x,k,I=v.length-1,D=this.changedOptions;if(I===0&&v[0]==="chartOptions")try{let R=JSON.parse(_);this.chartOptionsJSON=R}catch(R){p(`Dashboards Error: Wrong JSON config structure passed as a chart options. 
____________
${R}`)}for(let R=0;R<I;R++){let L=v[R];if(D[L]||(D[L]={}),D=D[L],L==="dataGridOptions"){let B=(V=this.component.dataGrid)==null?void 0:V.options;if(B){let U=this.oldOptionsBuffer;U.dataGridOptions||(U.dataGridOptions={}),k=U.dataGridOptions,x=B}}else x&&k&&(x=x[L],k[L]===void 0&&(k[L]={}),k=k[L]);if(L==="chartOptions"){let B=(P=this.component.chart)==null?void 0:P.options;if(B){let U=this.oldOptionsBuffer;U.chartOptions||(U.chartOptions={}),b=U.chartOptions,y=B}}else y&&b&&(y=y[L],b[L]===void 0&&(b[L]={}),b=b[L])}let N=v[I];D[N]=_,b&&y&&(b[N]=b[N]??y[N]),(T=this.component)==null||T.update(this.changedOptions)}renderAccordion(v,_,y){if(v.type==="nested")return this.renderNested(_,v,y);let b=s.getRendererFunction(v.type);b&&b(_,{...v,iconsURLPrefix:this.iconsURLPrefix,value:y.getEditableOptionValue(v.propertyPath),onchange:x=>this.updateOptions(v.propertyPath||[],x)})}renderNested(v,_,y){var x;if(!v||!_.nestedOptions)return;let b=_.nestedOptions;for(let k=0,I=b.length;k<I;++k){let D=b[k].name,N=b[k].options,V=!!b[k].showToggle,P=b[k].propertyPath||[],T=s.renderCollapseHeader(v,{name:D,isEnabled:!!y.getEditableOptionValue(P),iconsURLPrefix:this.iconsURLPrefix,showToggle:V,onchange:R=>this.updateOptions(P,R),isNested:!!N,isStandalone:!N,lang:(((x=y.board)==null?void 0:x.editMode)||a).lang});for(let R=0,L=N==null?void 0:N.length;R<L;++R)this.renderAccordion(N[R],T.content,y)}}cancelChanges(){Object.keys(this.changedOptions).length<1?this.closeSidebar():this.showCancelConfirmationPopup()}async confirmChanges(){let v=this.component;if(v){if(v.type==="Highcharts"&&Object.keys(this.chartOptionsJSON).length)await v.update({chartOptions:this.chartOptionsJSON});else if(v.type==="HTML"){let _=this.changedOptions;await v.update(_,!0)}f(v.board.editMode,"componentChanged",{target:v,changedOptions:d({},this.changedOptions),oldOptions:d({},this.oldOptionsBuffer)}),this.changedOptions={},this.chartOptionsJSON={},this.closeSidebar()}}async discardChanges(){let v=this.component;v&&(await v.update(this.oldOptionsBuffer),f(v.board.editMode,"componentChangesDiscarded",{target:v,changedOptions:d({},this.changedOptions),oldOptions:d({},this.oldOptionsBuffer)}),this.changedOptions={},this.chartOptionsJSON={})}showCancelConfirmationPopup(){var y,b;let v=this.confirmationPopup,_=(b=(y=this.component)==null?void 0:y.board)==null?void 0:b.editMode;v&&_&&!this.waitingForConfirmation&&(this.waitingForConfirmation=!0,v.show({text:_.lang.confirmDiscardChanges,confirmButton:{value:_.lang.confirmButton,callback:async()=>{await this.discardChanges(),this.waitingForConfirmation=!1,this.closeSidebar()},context:this},cancelButton:{value:_.lang.cancelButton,callback:()=>{v.closePopup(),_.setEditOverlay(),setTimeout(()=>{this.waitingForConfirmation=!1},100)}}}))}}}),i(n,"Dashboards/EditMode/SidebarPopup.js",[n["Core/Renderer/HTML/AST.js"],n["Dashboards/Layout/CellHTML.js"],n["Dashboards/EditMode/AccordionMenu.js"],n["Shared/BaseForm.js"],n["Dashboards/Actions/Bindings.js"],n["Dashboards/Layout/Cell.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/EditRenderer.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Layout/Layout.js"],n["Core/Utilities.js"]],function(s,r,a,l,h,d,p,f,v,_,y){let{addEvent:b,createElement:x,fireEvent:k,merge:I}=y;class D extends l{constructor(V,P,T){var R;super(V,P),this.options={components:["HTML","row","Highcharts","DataGrid","KPI"]},this.isVisible=!1,this.componentsList=[],this.editMode=T,this.options=I(this.options,((R=T.options.toolbars)==null?void 0:R.sidebar)||{}),this.componentsList=this.getComponentsList(this.options.components||[]),this.accordionMenu=new a(this.iconsURL,this.hide.bind(this))}detectRightSidebar(V){let P=this.editMode,T=P.customHTMLMode?P.board.container:P.board.layoutsWrapper;return!!T&&v.getOffsets(V,T).left<T.offsetWidth/2-10}removeClassNames(){let V=p.classNames,P=this.container.classList;P.remove(V.editSidebarShow),P.remove(V.editSidebarRightShow)}addClassNames(V){let P=this.container.classList;V?P.add(p.classNames.editSidebarRight):P.remove(p.classNames.editSidebarRight),setTimeout(()=>{P.add(p.classNames[V?"editSidebarRightShow":"editSidebarShow"])})}show(V){let P=this.editMode,T=!!(V&&this.detectRightSidebar(V));this.showPopup(p.classNames.editSidebarShow),this.addClassNames(T),P.resizer&&P.resizer.disableResizer(),P.editCellContext instanceof d&&P.editCellContext.row&&P.editCellContext.row.setHighlight(),P.hideToolbars(["cell","row"]),P.stopContextDetection(),this.isVisible=!0,this.generateContent(V)}generateContent(V){if(this.container.innerHTML=s.emptyHTML,this.renderHeader(V?this.editMode.lang.settings:this.editMode.lang.addComponent,""),this.sidebarWrapper=x("div",{className:p.classNames.editSidebarWrapper},void 0,this.container),!V){this.renderAddComponentsList();return}if(this.type=V.getType(),this.type==="cell-html"||this.type==="cell"){let P=V.mountedComponent;if(!P)return;this.accordionMenu.renderContent(this.sidebarWrapper,P,this.container)}}renderAddComponentsList(){let V,P=this,T=this.componentsList,R=x("div",{className:p.classNames.editGridItems},{},P.sidebarWrapper);for(let L=0,B=T.length;L<B;++L)(V=x("div",{},{},R)).addEventListener("mousedown",U=>{if(U.preventDefault(),P.editMode.dragDrop){let z=q=>{let Z=P.container.getBoundingClientRect();(q.clientX<Z.left||q.clientX>Z.right||q.clientY<Z.top||q.clientY>Z.bottom)&&(P.hide(),document.removeEventListener("mousemove",z))},H=()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",z),document.addEventListener("mouseup",H),P.editMode.dragDrop.onDragStart(U,void 0,q=>{if(this.editMode.board.layouts.length===0){let se=this.editMode.board,oe=new _(se,{id:v.getElementId("layout"),copyId:"",parentContainerId:se.container.id,rows:[{}],style:{}});oe&&se.layouts.push(oe),q=oe.rows[0]}let Z=T[L].onDrop(P,q);Z&&(P.editMode.setEditCellContext(Z),P.show(Z),Z.setHighlight()),document.removeEventListener("mousemove",z)})}}),V.innerHTML=T[L].text}onDropNewComponent(V,P){let T=this.editMode.dragDrop;if(T){let R=(V.getType()==="cell"?V.row:V).addCell({id:v.getElementId("col")});T.onCellDragEnd(R);let L=I(P,{cell:R.id}),B=h.addComponent(L,this.editMode.board,R);return this.editMode.setEditOverlay(),(async()=>{let U=await B;U&&k(this.editMode,"layoutChanged",{type:"newComponent",target:U})})(),R}}hide(){let V=this.editMode,P=V.editCellContext;this.removeClassNames(),this.container.style.display="none",V.isEditOverlayActive&&V.setEditOverlay(!0),P instanceof d&&P.row?(V.showToolbars(["cell","row"],P),P.row.setHighlight(),P.setHighlight(!0)):P instanceof r&&V.cellToolbar&&(V.cellToolbar.showToolbar(P),P.setHighlight()),V.isContextDetectionActive=!0,this.isVisible=!1}closeButtonEvents(){this.type==="cell"||this.type==="cell-html"?this.accordionMenu.cancelChanges():this.hide()}renderHeader(V,P){var L;if(!this.container)return;let T=x("div",{className:p.classNames.editSidebarHeader},{},this.container);this.container.appendChild(T),this.headerWrapper=T;let R=f.renderIcon(this.headerWrapper,{icon:P,className:p.classNames.editSidebarTitle});R&&(R.textContent=V),(L=this.headerWrapper)==null||L.appendChild(this.closeButton)}getComponentsList(V){let P=this.editMode,T=P.board.componentTypes,R=[];return V.forEach(L=>{var U;let B=T[L];B?R.push({text:((U=P.lang)==null?void 0:U.sidebar[L])||B.name,onDrop:function(z,H){let q=B.prototype.getOptionsOnDrop(z);if(q)return z.onDropNewComponent(H,q)}}):L==="row"&&R.push(D.addRow)}),R}addCloseButton(V=p.classNames.popupCloseButton){return b(document,"click",P=>{P.stopPropagation(),this.container.style.display==="block"&&!this.container.contains(P.target)&&this.container.classList.value.includes("show")&&(this.type==="cell"||this.type==="cell-html"?this.accordionMenu.cancelChanges():this.hide())}),super.addCloseButton.call(this,V)}createPopupContainer(V,P=p.classNames.editSidebar){return super.createPopupContainer.call(this,V,P)}}return D.addRow={text:p.lang.sidebar.row,onDrop:function(N,V){if(!V)return;let P=(V.getType()==="cell"?V.row:V).layout.board,T=v.getElementId("layout"),R=v.getElementId("cell"),L=new _(P,{id:T,copyId:"",parentContainerId:P.container.id,rows:[{cells:[{id:R}]}],style:{}});L&&(P.layouts.push(L),k(P.editMode,"layoutChanged",{type:"newLayout",target:L,board:P})),h.addComponent({type:"HTML",cell:R,className:"highcharts-dashboards-component-placeholder",html:`
                            <h2> Placeholder </h2>
                            <span> This placeholder can be deleted when you add extra
                                components to this row.
                            </span>
                            `},P)}},D}),i(n,"Dashboards/EditMode/EditContextMenu.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/Menu/Menu.js"]],function(s,r,a){let{addEvent:l,merge:h}=r;class d extends a{constructor(f,v,_){var y;if(super(_.board.container,h(d.defaultOptions,v||{}),_),this.editMode=_,this.options=h(d.defaultOptions,v||{}),(y=this.editMode.board.layoutsWrapper)==null||y.parentNode.insertBefore(this.container,this.editMode.board.layoutsWrapper),this.container.style.width=this.options.width+"px",super.initItems(d.items),this.options.items){let b=[];for(let x=0,k=this.options.items.length;x<k;++x)typeof this.options.items[x]=="string"?b.push(this.options.items[x]):this.options.items[x].id&&b.push(this.options.items[x].id);this.setActiveItems(b)}this.initEvents()}initEvents(){let f=this;l(document,"click",v=>{v.target!==this.container&&v.target!==f.editMode.tools.contextButtonElement&&!v.target.classList.contains(s.classNames.toggleSlider)&&v.target.tagName!=="INPUT"&&this.isVisible&&this.setVisible(!1)})}setVisible(f){let v=this.editMode.tools.contextButtonElement;this.container&&v&&(f?(this.container.style.display="block",this.isVisible=!0,v.setAttribute("aria-expanded","true")):(this.container.style.display="none",this.isVisible=!1,v.setAttribute("aria-expanded","false")))}updatePosition(f,v,_){let y=this.options.width||0,b=f?f.offsetLeft-y+f.offsetWidth:v,x=f?f.offsetTop+f.offsetHeight:_;b&&x&&(this.container.style.left=b+"px",this.container.style.top=x+"px")}}return d.defaultOptions={enabled:!0,width:150,className:s.classNames.contextMenu,itemsClassName:s.classNames.contextMenuItem,items:["editMode"]},d.items=h(a.items,{editMode:{id:"editMode",type:"toggle",getValue:function(p){return p.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.toggleEditMode()}}}}),d}),i(n,"Dashboards/Actions/ContextDetection.js",[n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r){let{defined:a}=r;class l{static isGUIElementOnParentEdge(d,p){let f=p==="top"||p==="bottom"?d.row.layout.getVisibleRows():p==="left"||p==="right"?d.row.getVisibleCells():[],v=f.length-1;return f[v]===d&&p==="right"||f[v]===d.row&&p==="bottom"||f[0]===d&&p==="left"||f[0]===d.row&&p==="top"}static getContextLevel(d,p,f,v){let _=d.getOverlappingLevels(v,p/2),y=p/_.length,b=_[_.length-1],x=d.row.layout.level-Math.floor(f/y);return x<b?b:x>d.row.layout.level?d.row.layout.level:x}static getContext(d,p,f){var N;let v,_=s.getOffsets(d),{width:y,height:b}=s.getDimFromOffsets(_);y<2*f&&(f=y/2);let x=p.clientX-_.left,k=p.clientY-_.top,I="bottom";switch(x>=-f&&x<=f?I="left":x-y>=-f&&x-y<=f?I="right":k>=-f&&k<=f?I="top":k-b>=-f&&k-b<=f&&(I="bottom"),I){case"right":v=x-y+f;break;case"left":v=f-x;break;case"top":v=f-k;break;case"bottom":v=k-b+f}let D={cell:d,side:I};if((N=d.row)!=null&&N.layout.level&&I&&l.isGUIElementOnParentEdge(d,I)&&a(v)){let V=l.getContextLevel(d,f,v,I),P=d.getParentCell(V);P&&(D.cell=P)}return D}}return l}),i(n,"Dashboards/Actions/DragDrop.js",[n["Core/Utilities.js"],n["Dashboards/Globals.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Actions/ContextDetection.js"]],function(s,r,a,l,h){let{addEvent:d,merge:p,css:f,fireEvent:v,createElement:_}=s;class y{constructor(x,k){this.editMode=x,this.options=p(y.defaultOptions,k),this.mockElement=_("div",{className:a.classNames.dragMock},{},x.board.container),this.dropPointer={isVisible:!1,align:"",element:_("div",{className:a.classNames.dropPointer},{},x.board.container)},this.isActive=!1,this.initEvents()}showDropPointer(x,k,I,D){this.dropPointer.isVisible=!0,f(this.dropPointer.element,{display:"block",left:x+"px",top:k+"px",height:D+"px",width:I+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(x){let k=this.editMode.board.container.getBoundingClientRect(),I=this.mockElement.clientWidth/2,D=x.clientX-k.left-I,N=x.clientY-k.top-I;f(this.mockElement,{left:D+"px",top:N+"px"})}initEvents(){d(document,"mousemove",this.onDrag.bind(this)),d(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(x,k,I){this.isActive=!0,this.editMode.hideToolbars(["cell","row"]),this.editMode.resizer&&this.editMode.resizer.disableResizer(),this.setMockElementPosition(x),k?(this.context=k,k.hide(),k.getType()===r.guiElementType.cell&&(v(this.editMode.board,"cellResize",{cell:k}),v(k.row,"cellChange",{cell:k,row:k.row}))):I&&(this.dragEndCallback=I),f(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(x){this.isActive&&(x.preventDefault(),this.setMockElementPosition(x),this.context?this.context.getType()===r.guiElementType.cell?this.onCellDrag(x):this.context.getType()===r.guiElementType.row&&this.onRowDrag(x):this.dragEndCallback&&this.onCellDrag(x))}onDragEnd(){this.isActive&&(this.isActive=!1,f(this.mockElement,{cursor:"grab",display:"none"}),this.context?(this.context.getType()===r.guiElementType.cell?this.onCellDragEnd():this.context.getType()===r.guiElementType.row&&this.onRowDragEnd(),this.context=void 0,this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))):this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer()))}onRowDrag(x,k){let I=this.mouseCellContext,D=this.options.dropPointerSize||0,N=this.options.rowDropOffset||0,V=!1;if(I){let P=k||h.getContext(I,x,N),T=P.side;if((this.dropPointer.align!==T||this.dropContext!==P.cell.row)&&(V=!0,this.dropPointer.align=T,this.dropContext=P.cell.row),T){let R=l.getOffsets(this.dropContext,this.editMode.board.container),{width:L,height:B}=l.getDimFromOffsets(R);(!this.dropPointer.isVisible||V)&&this.showDropPointer(R.left,R.top+(this.dropPointer.align==="bottom"?B:0)-D/2,L,D)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){let x=this.context,k=this.dropContext;this.dropPointer.align&&(x.layout.unmountRow(x),x.layout.rows.length===0&&x.layout.destroy(),k.layout.mountRow(x,(k.layout.getRowIndex(k)||0)+(this.dropPointer.align==="bottom"?1:0)),x.cells[0]&&(v(this.editMode.board,"cellResize",{cell:x.cells[0]}),v(x,"cellChange",{cell:x.cells[0],row:x}))),this.hideDropPointer(),x.show(),v(this.editMode,"layoutChanged",{type:"rowDragEnd",target:x,board:this.editMode.board})}onCellDrag(x,k){let I=this.mouseCellContext,D=this.options.cellDropOffset||0;I||k?this.onCellDragCellCtx(x,k||h.getContext(I,x,D)):this.mouseRowContext&&this.onCellDragRowCtx(x,this.mouseRowContext)}onCellDragCellCtx(x,k){let I=this.options.dropPointerSize||0,D=k.side,N=!1;if((this.dropPointer.align!==D||this.dropContext!==k.cell)&&(N=!0,this.dropPointer.align=D,this.dropContext=k.cell),D==="right"||D==="left"){let V=l.getOffsets(this.dropContext,this.editMode.board.container),{width:P,height:T}=l.getDimFromOffsets(V);if(!this.dropPointer.isVisible||N){let R=this.dropContext.row.getRowLevelInfo(x.clientY),L=R?R.rowLevel.bottom-R.rowLevel.top:T;this.showDropPointer(V.left+(D==="right"?P:0)-I/2,V.top,I,L)}}else if(D==="top"||D==="bottom"){let V=l.getOffsets(this.dropContext),P=this.dropContext.row.getRowLevelInfo(V.top);P&&(P.index===0&&D==="top"||P.index===P.rowLevels.length-1&&D==="bottom")&&this.onRowDrag(x,k)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(x,k){let I,D,N=this.options.dropPointerSize||0,V=l.getOffsets(k),P=k.getRowLevelInfo(x.clientY);if(P)for(let T=0,R=P.rowLevel.cells.length;T<R;++T){I=P.rowLevel.cells[T],D=l.getOffsets(I);let{width:L,height:B}=l.getDimFromOffsets(D),U=this.editMode.board.container.getBoundingClientRect(),z=P.rowLevel.bottom-P.rowLevel.top;if(I.isVisible){if(B<.8*z&&D.left<=x.clientX&&D.right>=x.clientX)D.top>x.clientY||D.bottom<x.clientY&&(this.showDropPointer(D.left-U.left,D.top-U.top+B,L,z-B),this.dropPointer.align="nestedBottom",this.dropContext=I),T=R;else if(T===0&&D.left>x.clientX||T===R-1&&D.right<x.clientX){if(!(D.left>x.clientX)){if(D.right<x.clientX){let H=V.right-D.right;this.showDropPointer(D.left+(T===0&&D.left>x.clientX?0:L)-N/2-U.left,D.top-U.top,H>N?H:N,z||B),this.dropPointer.align="right",this.dropContext=I}}T=R}}else I.isVisible||I!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(x){let k=x||this.context,I=this.dropContext;if(this.dropPointer.align&&I&&k)if(k.row.unmountCell(k),k.row.cells.length===0&&k.row.destroy(),(this.dropPointer.align==="top"||this.dropPointer.align==="bottom")&&I.getType()===r.guiElementType.row)I.layout.addRow({},void 0,(I.layout.getRowIndex(I)||0)+(this.dropPointer.align==="bottom"?1:0)).mountCell(k,0);else if(this.dropPointer.align==="nestedBottom"&&I.getType()===r.guiElementType.cell){let D=I.row,N=D.getCellIndex(I);D.unmountCell(I);let V=D.addCell({id:l.getElementId("col-nested"),layout:{rows:[{},{}]}},void 0,N);V.nestedLayout&&(V.nestedLayout.rows[0].mountCell(I),V.nestedLayout.rows[1].mountCell(k))}else I.getType()===r.guiElementType.cell&&I.row.mountCell(k,(I.row.getCellIndex(I)||0)+(this.dropPointer.align==="right"?1:0));v(this.editMode.board,"cellResize",{cell:k}),v(k.row,"cellChange",{cell:k,row:k.row}),this.hideDropPointer(),k.show(),v(this.editMode,"layoutChanged",{type:"cellDragEnd",target:k,board:this.editMode.board})}}return y.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16},y}),i(n,"Dashboards/Actions/Resizer.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:l,addEvent:h,createElement:d,fireEvent:p,removeEvent:f}=a;class v{static fromJSON(y,b){return new v(y,b.options)}constructor(y,b){this.editMode=y,this.options=l({},v.defaultOptions,y.options.resize,b),this.currentCell=void 0,this.isX=this.options.type.indexOf("x")>-1,this.isY=this.options.type.indexOf("y")>-1,this.isActive=!1,this.startX=0,this.tempSiblingsWidth=[],this.addSnaps()}addSnaps(){let y=this.editMode.iconsURLPrefix,b=this.options.snap.width||0,x=this.options.snap.height||0,k=this.editMode.board.container;this.snapRight=d("img",{className:s.classNames.resizeSnap+" "+s.classNames.resizeSnapX,src:y+"resize-handle.svg"},{width:b+"px",height:x+"px",left:"-9999px"},k),this.snapBottom=d("img",{className:s.classNames.resizeSnap+" "+s.classNames.resizeSnapY,src:y+"resize-handle.svg"},{width:b+"px",height:x+"px",top:"-9999px",left:"0px"},k),this.addResizeEvents()}disableResizer(){this.isActive=!1,this.currentDimension=void 0,this.currentCell=void 0,this.snapRight&&(this.snapRight.style.left="-9999px"),this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(y){this.currentCell=y;let b=r.getOffsets(y,this.editMode.board.container),x=b.left||0,k=b.top||0,{width:I,height:D}=r.getDimFromOffsets(b),N=this.options.snap.width||0,V=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=x+I-N+"px",this.snapRight.style.top=k+D/2-V/2+"px"),this.snapBottom&&(this.snapBottom.style.top=k+D-V+"px",this.snapBottom.style.left=x+I/2-N/2+"px")}setTempWidthSiblings(){let y=this.currentCell;if(y){let b,x,k=r.getOffsets(y),I=y.row.getRowLevelInfo(k.top),D=I&&I.rowLevel.cells||[];for(let N=0,V=D.length;N<V&&(b=(x=D[N]).container,x!==y);++N)b&&(b.style.flex="0 0 "+b.offsetWidth+"px",this.tempSiblingsWidth.push(x))}}revertSiblingsAutoWidth(){let y,b,x=this.tempSiblingsWidth;for(let k=0,I=x.length;k<I;++k)(y=x[k].container)&&(y.style.flex="1 1 0%",b=x[k]);this.tempSiblingsWidth=[],b&&(p(this.editMode.board,"cellResize",{cell:b}),p(b.row,"cellChange",{cell:b,row:b.row}))}addResizeEvents(){let y,b,x,k,I=this;I.mouseDownSnapX=y=function(N){I.isActive=!0,I.currentDimension="x",I.editMode.hideToolbars(["row","cell"]),I.setTempWidthSiblings(),I.startX=N.clientX},I.mouseDownSnapY=b=function(){I.isActive=!0,I.currentDimension="y",I.editMode.hideToolbars(["row","cell"])},I.mouseMoveSnap=x=function(N){I.isActive&&I.onMouseMove(N)},I.mouseUpSnap=k=function(){I.isActive&&(I.isActive=!1,I.currentDimension=void 0,I.revertSiblingsAutoWidth(),I.editMode.showToolbars(["row","cell"],I.currentCell),I.currentCell&&I.setSnapPositions(I.currentCell))},h(this.snapRight,"mousedown",y),h(this.snapBottom,"mousedown",b),h(document,"mousemove",x),h(document,"mouseup",k);let D=()=>{I.currentCell&&I.setSnapPositions(I.currentCell)};if(typeof ResizeObserver=="function")this.resizeObserver=new ResizeObserver(D),this.resizeObserver.observe(I.editMode.board.container);else{let N=h(window,"resize",D);h(this,"destroy",N)}}onMouseMove(y){let b=this.currentCell,x=b&&b.container,k=this.currentDimension;if(b&&x&&!((b.row.layout.board.editMode||{}).dragDrop||{}).isActive){let I=r.getOffsets(b),{width:D}=r.getDimFromOffsets(r.getOffsets(b.row));if(k==="x"){let N=Math.min(y.clientX-I.left,D)/D*100+"%";b.setSize(N),this.startX=y.clientX}k==="y"&&b.setSize(void 0,y.clientY-I.top),p(this.editMode.board,"cellResize",{cell:b}),p(b.row,"cellChange",{cell:b,row:b.row}),this.setSnapPositions(b)}}destroy(){var x;let y,b=["snapRight","snapBottom"];f(document,"mousemove"),f(document,"mouseup"),(x=this.resizeObserver)==null||x.unobserve(this.editMode.board.container);for(let k=0,I=b.length;k<I;++k)f(y=this[b[k]],"mousedown"),y.remove()}toJSON(){let y=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:y.enabled,styles:{minWidth:y.styles.minWidth,minHeight:y.styles.minHeight},type:y.type,snap:{width:y.snap.width,height:y.snap.height}}}}}return v.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:9,height:17}},v}),i(n,"Dashboards/EditMode/EditMode.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/Layout/CellHTML.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/EditRenderer.js"],n["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],n["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],n["Dashboards/EditMode/SidebarPopup.js"],n["Dashboards/EditMode/EditContextMenu.js"],n["Dashboards/Actions/DragDrop.js"],n["Dashboards/Actions/Resizer.js"],n["Dashboards/EditMode/ConfirmationPopup.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/Layout.js"],n["Core/Utilities.js"]],function(s,r,a,l,h,d,p,f,v,_,y,b,x,k,I){let{addEvent:D,createElement:N,css:V,merge:P}=I;return class{constructor(T,R){this.active=!1,this.customHTMLMode=!1,this.iconsURLPrefix="https://code.highcharts.com/dashboards/3.1.0/gfx/dashboards-icons/",this.iconsURLPrefix=R&&R.iconsURLPrefix||this.iconsURLPrefix,this.options=P({confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}},contextMenu:{icon:this.iconsURLPrefix+"menu.svg"},dragDrop:{enabled:!0},enabled:!0,resize:{enabled:!0},settings:{enabled:!0},toolbars:{cell:{enabled:!0},row:{enabled:!0}},tools:{addComponentBtn:{enabled:!0,icon:this.iconsURLPrefix+"add.svg"}}},R||{}),this.board=T,this.lang=P({},a.lang,this.options.lang),T.boardWrapper=T.container,T.guiEnabled&&this.initLayout(),this.isInitialized=!1,this.isContextDetectionActive=!1,this.tools={},T.editModeEnabled&&(this.customHTMLMode=!this.board.layoutsWrapper,this.contextPointer={isVisible:!1,element:N("div",{className:a.classNames.contextDetectionPointer},{},T.container)},this.createTools(),this.confirmationPopup=new y(T.container,this.iconsURLPrefix,this,this.options.confirmationPopup),this.editOverlay=N("div",{className:a.classNames.editOverlay},{},T.container),this.isEditOverlayActive=!1,T.fullscreen=new e.FullScreen(T),this.customHTMLMode&&T.container.classList.add(x.classNames.boardContainer))}onContextBtnClick(){this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}toggleEditMode(){this.active?this.deactivate():this.activate()}init(){var T,R,L,B,U;(T=this.options.resize)!=null&&T.enabled&&!this.customHTMLMode&&(this.resizer=new _(this,this.options.resize)),this.dragDrop=new v(this,this.options.dragDrop),!((L=(R=this.options.toolbars)==null?void 0:R.row)!=null&&L.enabled)||this.rowToolbar||this.customHTMLMode||(this.rowToolbar=new d(this)),(U=(B=this.options.toolbars)==null?void 0:B.cell)!=null&&U.enabled&&!this.cellToolbar&&(this.cellToolbar=new h(this)),this.sidebar||(this.sidebar=new p(this.board.container,this.iconsURLPrefix,this)),this.isInitialized=!0}initEvents(){let T=this,R=T.board;if(this.customHTMLMode){let B=R.mountedComponents.length;for(let U=0;U<B;++U)T.setCellEvents(R.mountedComponents[U].cell)}else for(let B=0,U=R.layouts.length;B<U;++B)T.setLayoutEvents(R.layouts[B]);T.cellToolbar&&(D(T.cellToolbar.container,"mouseenter",function(){T.stopContextDetection()}),D(T.cellToolbar.container,"mouseleave",function(){T.isContextDetectionActive=!0})),T.rowToolbar&&(D(T.rowToolbar.container,"mouseenter",function(){T.stopContextDetection()}),D(T.rowToolbar.container,"mouseleave",function(){T.isContextDetectionActive=!0}));let L=this.customHTMLMode?R.container:R.layoutsWrapper;D(L,"mousemove",T.onDetectContext.bind(T)),D(L,"click",T.onContextConfirm.bind(T)),D(L,"mouseleave",()=>{T.hideContextPointer()})}initLayout(){let T=this.board;T.container.innerHTML="",T.container=N("div",{className:x.classNames.boardContainer},{},T.boardWrapper),T.layoutsWrapper=N("div",{className:x.classNames.layoutsWrapper},{},T.container),T.options.gui&&this.setLayouts(T.options.gui),T.options.layoutsJSON&&!T.layouts.length&&this.setLayoutsFromJSON(T.options.layoutsJSON)}setLayouts(T){let R=this.board,L=T.layouts;for(let B=0,U=L.length;B<U;++B)R.layouts.push(new k(R,P({},T.layoutOptions,L[B])))}setLayoutsFromJSON(T){let R,L=this.board;for(let B=0,U=T.length;B<U;++B)(R=k.fromJSON(T[B],L))&&L.layouts.push(R)}setLayoutEvents(T){for(let R=0,L=T.rows.length;R<L;++R){let B=T.rows[R];this.setRowEvents(B);for(let U=0,z=B.cells.length;U<z;++U)this.setCellEvents(B.cells[U])}}setRowEvents(T){let R=this;if(R.dragDrop){let L=R.dragDrop;D(T.container,"mouseenter",function(){R.isContextDetectionActive&&(R.mouseRowContext=T)}),D(T.container,"mousemove",function(B){L.isActive&&B.target===T.container&&(L.mouseRowContext=T)}),D(T.container,"mouseleave",function(){L.isActive&&L.mouseRowContext===T&&(L.mouseRowContext=void 0),R.isContextDetectionActive&&(R.mouseRowContext=void 0)})}}setCellEvents(T){let R=this;if(T instanceof r)D(T.container,"mouseenter",function(){R.isContextDetectionActive&&(R.mouseCellContext=T)});else if(T.nestedLayout)R.setLayoutEvents(T.nestedLayout);else if(R.cellToolbar&&T.container&&(D(T.container,"mouseenter",function(){R.isContextDetectionActive&&(R.mouseCellContext=T)}),R.dragDrop||R.resizer)){let L=R.dragDrop;D(T.container,"mousemove",function(B){L&&L.isActive&&B.target===T.container&&(L.mouseCellContext=T,L.mouseRowContext=void 0)}),D(T.container,"mouseleave",function(){L&&L.isActive&&L.mouseCellContext===T&&(L.mouseCellContext=void 0),R.isContextDetectionActive&&(R.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents()),this.board.container.classList.add(a.classNames.editModeEnabled),this.addComponentBtn&&(this.addComponentBtn.style.display="block"),this.active=!0,this.isContextDetectionActive=!0}deactivate(){var T;this.board.container.classList.remove(a.classNames.editModeEnabled),this.hideToolbars(),this.editCellContext&&this.editCellContext instanceof s&&((T=this.editCellContext.row)==null||T.setHighlight()),this.addComponentBtn&&(this.addComponentBtn.style.display="none"),this.resizer&&this.resizer.disableResizer(),this.board.layoutsWrapper&&(this.board.layoutsWrapper.style.width="100%"),this.board.reflow(),this.active=!1,this.stopContextDetection(),this.editCellContext=void 0,this.potentialCellContext=void 0}isActive(){return this.active}hideToolbars(T){let R=T||["cell","row","sidebar"];for(let L=0,B=R.length;L<B;++L)switch(R[L]){case"cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case"row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case"sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(T,R){let L=T||["cell","row","sidebar"];for(let B=0,U=L.length;B<U;++B)switch(L[B]){case"cell":R&&this.cellToolbar&&this.cellToolbar.showToolbar(R);break;case"row":R&&R.row&&this.rowToolbar&&this.rowToolbar.showToolbar(R.row);break;case"sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var U,z,H,q;let T=this,{board:R,options:L,tools:B}=T;if(B.container=document.createElement("div"),B.container.classList.add(a.classNames.editTools),R.layoutsWrapper?R.layoutsWrapper.parentNode.insertBefore(B.container,R.layoutsWrapper):R.container.insertBefore(B.container,R.container.firstChild),L.contextMenu&&L.contextMenu.enabled&&(B.contextButtonElement=l.renderContextButton(B.container,T),T.tools.contextMenu||(T.tools.contextMenu=new f(T.board.container,T.options.contextMenu||{},T))),((z=(U=L.tools)==null?void 0:U.addComponentBtn)==null?void 0:z.enabled)&&((q=(H=L.toolbars)==null?void 0:H.cell)==null?void 0:q.enabled)&&!this.customHTMLMode){let Z=L.tools.addComponentBtn.icon;this.addComponentBtn=l.renderButton(B.container,{className:a.classNames.editToolsBtn,icon:Z,text:this.lang.addComponent,callback:()=>{T.sidebar&&(T.sidebar.show(),T.setEditOverlay())},style:{display:"none"}})}}onDetectContext(){let T;if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive&&(this.mouseCellContext?T=this.mouseCellContext:this.mouseRowContext&&(T=this.mouseRowContext.layout.parentCell),this.potentialCellContext=T,T)){let R=b.getOffsets(T,this.board.container),{width:L,height:B}=b.getDimFromOffsets(R);this.showContextPointer(R.left,R.top,L,B)}}stopContextDetection(){this.isContextDetectionActive=!1,this.dragDrop&&(this.dragDrop.mouseCellContext=void 0),this.mouseCellContext=void 0,this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(T,R){var L;if(T instanceof r||R instanceof r)this.editCellContext=T,(L=this.cellToolbar)==null||L.showToolbar(T);else{let B=R==null?void 0:R.row;this.editCellContext=T,this.showToolbars(["row","cell"],T),(!B||B!==T.row)&&(B&&B.setHighlight(),T.row&&T.row.setHighlight()),this.resizer&&this.resizer.setSnapPositions(T)}}showContextPointer(T,R,L,B){this.contextPointer&&(this.contextPointer.isVisible=!0,V(this.contextPointer.element,{display:"block",left:T+"px",top:R+"px",height:B+"px",width:L+"px"}))}hideContextPointer(){var T;(T=this.contextPointer)!=null&&T.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(T){let R=this.editOverlay,L=R==null?void 0:R.classList.contains(a.classNames.editOverlayActive);T||L?T&&L&&(R==null||R.classList.remove(a.classNames.editOverlayActive),this.isEditOverlayActive=!1):(R==null||R.classList.add(a.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}}),i(n,"Dashboards/EditMode/Fullscreen.js",[n["Core/Utilities.js"],n["Dashboards/Globals.js"]],function(s,r){let{addEvent:a}=s;return class{constructor(l){this.isOpen=!1,this.board=l,this.board.boardWrapper.classList.add(r.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(this.isOpen)return;let l=this,h=l.board,d=a(h.boardWrapper.ownerDocument,"fullscreenchange",function(){l.isOpen?(l.isOpen=!1,l.close()):(l.isOpen=!0,l.setButtonText())});l.unbindFullscreenEvent=()=>{d()},h.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.")})}close(){let l=this.board;this.isOpen&&l.boardWrapper.ownerDocument instanceof Document&&l.boardWrapper.ownerDocument.exitFullscreen(),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),this.isOpen=!1,this.setButtonText()}setButtonText(){let l=this.board.editMode,h=l&&l.tools.contextMenu,d=h&&h.items.viewFullscreen;if(d&&d.innerElement){let p=l.lang;d.innerElement.innerHTML=(this.isOpen?p.exitFullscreen:p.viewFullscreen)||""}}}}),i(n,"masters/modules/layout.src.js",[n["Dashboards/Globals.js"],n["Dashboards/EditMode/EditMode.js"],n["Dashboards/EditMode/Fullscreen.js"]],function(s,r,a){return s.EditMode=r,s.FullScreen=a,s})})})(YN);var dee=YN.exports;const fee=rC(dee),My=nU(GZ);s8(My);My.use(lee);Rg.HighchartsPlugin.custom.connectHighcharts(hee);Rg.PluginHandler.addPlugin(Rg.HighchartsPlugin);fee(Rg);const pee=MP({projectId:"cloud-porsche",apiKey:"AIzaSyBMKjAnTXRxswz9NFQlDRXMieSyBDLZepk",authDomain:"cloud-porsche.firebaseapp.com"});My.use(LY,{firebaseApp:pee,modules:[DY({dependencies:{persistence:[hO],popupRedirectResolver:wO}})]});My.mount("#app");export{yX as $,sA as A,Ld as B,EC as C,$n as D,FD as E,JD as F,Eee as G,hee as H,La as I,_r as J,ps as K,DX as L,BI as M,TC as N,jA as O,Pt as P,bP as Q,Kc as R,n8 as S,Dl as T,cd as U,wI as V,qM as W,Oee as X,zk as Y,Vs as Z,of as _,Kl as a,VD as a$,ky as a0,Hb as a1,xC as a2,zJ as a3,Fe as a4,Dt as a5,Kr as a6,Gn as a7,rt as a8,Xr as a9,p8 as aA,En as aB,sX as aC,CC as aD,rX as aE,Hd as aF,cf as aG,mn as aH,lf as aI,Us as aJ,qt as aK,N7 as aL,iX as aM,WN as aN,c8 as aO,oX as aP,pd as aQ,yo as aR,Ou as aS,t1 as aT,lC as aU,Tee as aV,oi as aW,yee as aX,tZ as aY,Ng as aZ,t$ as a_,Yr as aa,gt as ab,sC as ac,k0 as ad,wee as ae,uw as af,See as ag,j4 as ah,$X as ai,Sg as aj,Ag as ak,oN as al,Ns as am,sN as an,Mu as ao,un as ap,PC as aq,Nee as ar,h8 as as,MI as at,pJ as au,rN as av,dt as aw,cJ as ax,Nu as ay,li as az,Ki as b,af as b$,ft as b0,Ji as b1,Ci as b2,xee as b3,Ct as b4,Mo as b5,Hs as b6,vee as b7,hl as b8,os as b9,Zn as bA,ci as bB,KM as bC,oee as bD,MP as bE,Zm as bF,U4 as bG,DD as bH,Nc as bI,wg as bJ,zo as bK,Fa as bL,pf as bM,JM as bN,GI as bO,xZ as bP,CZ as bQ,Mee as bR,Ry as bS,Ir as bT,bee as bU,gee as bV,uj as bW,Wr as bX,Cy as bY,Zl as bZ,yC as b_,Gr as ba,Xk as bb,wt as bc,_y as bd,wi as be,qr as bf,Do as bg,$ee as bh,Ree as bi,as as bj,rs as bk,AC as bl,hJ as bm,bC as bn,yn as bo,Hr as bp,ED as bq,Lg as br,d1 as bs,ws as bt,bi as bu,gu as bv,BJ as bw,jJ as bx,nN as by,ZM as bz,Rn as c,m8 as c0,Dee as c1,Qn as c2,Ls as c3,X8 as c4,IZ as c5,OC as c6,Sy as c7,eN as c8,Hee as c9,XD as ca,QZ as cb,g8 as cc,Vee as cd,jee as ce,oJ as cf,vg as cg,bs as ch,wC as ci,zr as cj,uf as ck,xy as cl,_C as cm,aJ as cn,Bee as co,So as cp,$o as cq,uC as cr,Fee as cs,Rd as ct,i_ as cu,Lee as cv,vC as cw,Bo as d,aC as e,re as f,Cs as g,ht as h,cee as i,hm as j,Jc as k,Q as l,zI as m,xD as n,en as o,Pi as p,x_ as q,Ke as r,xn as s,Nl as t,ns as u,bu as v,Et as w,Lc as x,_ee as y,Cee as z};
