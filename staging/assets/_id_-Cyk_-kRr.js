const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ParkingSpotComponent-Hkg-d5O_.js","assets/index-CjQqTXA-.js","assets/index-BfOFdoXM.css","assets/index-DH0F4sri.js","assets/VDataTable-BLzx_pEm.js","assets/VPagination-DNRpBwm-.js","assets/VPagination-osFSi_du.css","assets/VSelect-DTQyHLJK.js","assets/VChip-DwrP_BKx.js","assets/VChip-DsRJUznz.css","assets/VSelect-CgvyrPNl.css","assets/VDataTable-DXmHtqsb.css","assets/VRow-CTiobtic.js","assets/ParkingSpotComponent-fg3jnu13.css"])))=>i.map(i=>d[i]);
import{_ as st}from"./ProTier-BkUJbL8y.js";import{b1 as _e,r as W,g as c,i as Ge,aA as ut,h as dt,b7 as ct,d as He,_ as We,o as z,c as H,w as B,b as Q,t as fe,m as r,E as me,a_ as oe,C as xe,aY as vt,aV as mt,R as ft,k as I,u as St,b8 as pt,b9 as gt,a5 as ie,ba as bt,bb as yt,bc as ze,aa as Me,bd as G,be as ht,bf as kt,b6 as Ke,a6 as Je,a9 as ge,aE as Ct,aL as Ye,bg as wt,bh as Vt,ac as be,b5 as ee,q as K,aG as _t,bi as Xe,v as xt,bj as Ft,bk as Et,bl as Ne,bm as Tt,am as Qe,aq as Fe,ar as Ze,au as Se,Q as ae,bn as Rt,ax as Ee,bo as Pt,bp as Mt,bq as Ot,at as At,aC as Dt,$ as $e,br as zt,a0 as Te,l as X,n as Nt,L as se,p as Lt,V as It,x as re,a4 as Bt,D as Le,aj as Ut,a2 as ue,I as qt,s as Ie,y as le,a$ as Be,F as jt,T as $,bs as Gt}from"./index-CjQqTXA-.js";import{V as Ht}from"./VChip-DwrP_BKx.js";import{t as Oe,w as Wt,a as Kt,b as et,i as tt,n as Jt,c as Yt}from"./index-DH0F4sri.js";import{m as Xt,a as Ue,V as Qt}from"./VSelect-DTQyHLJK.js";import{V as Zt}from"./VPagination-DNRpBwm-.js";const Re=tt?window:void 0,$t=tt?window.document:void 0;function Pe(e){var l;const a=Oe(e);return(l=a==null?void 0:a.$el)!=null?l:a}function pe(...e){let l,a,t,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,t,i]=e,l=Re):[l,a,t,i]=e,!l)return Jt;Array.isArray(a)||(a=[a]),Array.isArray(t)||(t=[t]);const v=[],f=()=>{v.forEach(b=>b()),v.length=0},n=(b,S,C,y)=>(b.addEventListener(S,C,y),()=>b.removeEventListener(S,C,y)),p=Ge(()=>[Pe(l),Oe(i)],([b,S])=>{if(f(),!b)return;const C=Yt(S)?{...S}:S;v.push(...a.flatMap(y=>t.map(E=>n(b,y,E,C))))},{immediate:!0,flush:"post"}),V=()=>{p(),f()};return et(V),V}function el(){const e=W(!1),l=ct();return l&&dt(()=>{e.value=!0},l),e}function tl(e){const l=el();return c(()=>(l.value,!!e()))}const de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce="__vueuse_ssr_handlers__",ll=al();function al(){return ce in de||(de[ce]=de[ce]||{}),de[ce]}function nl(e,l){return ll[e]||l}function rl(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ol={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},qe="vueuse-storage";function ve(e,l,a,t={}){var i;const{flush:v="pre",deep:f=!0,listenToStorageChanges:n=!0,writeDefaults:p=!0,mergeDefaults:V=!1,shallow:b,window:S=Re,eventFilter:C,onError:y=d=>{console.error(d)},initOnMounted:E}=t,h=(b?_e:W)(typeof l=="function"?l():l);if(!a)try{a=nl("getDefaultStorage",()=>{var d;return(d=Re)==null?void 0:d.localStorage})()}catch(d){y(d)}if(!a)return h;const w=Oe(l),s=rl(w),T=(i=t.serializer)!=null?i:ol[s],{pause:R,resume:F}=Wt(h,()=>_(h.value),{flush:v,deep:f,eventFilter:C});S&&n&&Kt(()=>{a instanceof Storage?pe(S,"storage",x):pe(S,qe,k),E&&x()}),E||x();function P(d,g){if(S){const m={key:e,oldValue:d,newValue:g,storageArea:a};S.dispatchEvent(a instanceof Storage?new StorageEvent("storage",m):new CustomEvent(qe,{detail:m}))}}function _(d){try{const g=a.getItem(e);if(d==null)P(g,null),a.removeItem(e);else{const m=T.write(d);g!==m&&(a.setItem(e,m),P(g,m))}}catch(g){y(g)}}function O(d){const g=d?d.newValue:a.getItem(e);if(g==null)return p&&w!=null&&a.setItem(e,T.write(w)),w;if(!d&&V){const m=T.read(g);return typeof V=="function"?V(m,w):s==="object"&&!Array.isArray(m)?{...w,...m}:m}else return typeof g!="string"?g:T.read(g)}function x(d){if(!(d&&d.storageArea!==a)){if(d&&d.key==null){h.value=w;return}if(!(d&&d.key!==e)){R();try{(d==null?void 0:d.newValue)!==T.write(h.value)&&(h.value=O(d))}catch(g){y(g)}finally{d?ut(F):F()}}}}function k(d){x(d.detail)}return h}const je=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function il(e,l={}){const{document:a=$t,autoExit:t=!1}=l,i=c(()=>{var s;return(s=Pe(e))!=null?s:a==null?void 0:a.querySelector("html")}),v=W(!1),f=c(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(s=>a&&s in a||i.value&&s in i.value)),n=c(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(s=>a&&s in a||i.value&&s in i.value)),p=c(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(s=>a&&s in a||i.value&&s in i.value)),V=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(s=>a&&s in a),b=tl(()=>i.value&&a&&f.value!==void 0&&n.value!==void 0&&p.value!==void 0),S=()=>V?(a==null?void 0:a[V])===i.value:!1,C=()=>{if(p.value){if(a&&a[p.value]!=null)return a[p.value];{const s=i.value;if((s==null?void 0:s[p.value])!=null)return!!s[p.value]}}return!1};async function y(){if(!(!b.value||!v.value)){if(n.value)if((a==null?void 0:a[n.value])!=null)await a[n.value]();else{const s=i.value;(s==null?void 0:s[n.value])!=null&&await s[n.value]()}v.value=!1}}async function E(){if(!b.value||v.value)return;C()&&await y();const s=i.value;f.value&&(s==null?void 0:s[f.value])!=null&&(await s[f.value](),v.value=!0)}async function h(){await(v.value?y():E())}const w=()=>{const s=C();(!s||s&&S())&&(v.value=s)};return pe(a,je,w,!1),pe(()=>Pe(i),je,w,!1),t&&et(y),{isSupported:b,isFullscreen:v,enter:E,exit:y,toggle:h}}const sl=He({__name:"CounterCard",props:{name:{type:String,required:!0},current:{type:Number,required:!0},total:{type:Number,required:!1},colors:{type:String,required:!0}},setup(e,{expose:l}){l();function a(i,v,f){if(!(!f||v==="none"))return i===0||f===0?v==="invert"?"tomato":void 0:i===f?v==="invert"?void 0:"tomato":(v==="invert"?i>=f/.65:i>=f/1.35)?"darkgoldenrod":"green"}const t={getCountColor:a};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),ul={class:"pb-1"};function dl(e,l,a,t,i,v){return z(),H(xe,{style:oe({backgroundColor:t.getCountColor(a.current,a.colors,a.total),color:t.getCountColor(a.current,a.colors,a.total)?"white":void 0}),class:"pa-4 d-flex flex-column justify-space-evenly align-center text-center"},{default:B(()=>[Q("b",ul,fe(a.name),1),Q("span",null,[r(Ht,{class:"larger"},{default:B(()=>[me(fe(a.current+(a.total?" / "+a.total:"")),1)]),_:1})])]),_:1},8,["style"])}const cl=We(sl,[["render",dl],["__scopeId","data-v-fafb61d2"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/CounterCard.vue"]]),he=-100,ke=150,Ce=-1200,we=300,vl=He({__name:"[id]",setup(e,{expose:l}){var Z;l();const a=pt(()=>gt(()=>import("./ParkingSpotComponent-Hkg-d5O_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),t=vt("fullscreen"),{isFullscreen:i,toggle:v}=il(t),f=mt(),n=ft(),p=c(()=>n.params.id),V=c(()=>n.params.tenantId),[b,S,C,y]=[!1,40,-100,80],E=ve("view-settings-iso",b),h=ve("view-settings-x",S),w=ve("view-settings-y",C),s=ve("view-settings-zoom",y);function T(){E.value=b,h.value=S,w.value=C,s.value=y}const R=W(!1),F=c(()=>f.properties.find(u=>u.id===p.value)),P=((Z=F.value)==null?void 0:Z.simulationState)??I.SimulationState.OFF,_=W(P===I.SimulationState.OFF?I.SimulationState.NORMAL:P);Ge(F,()=>{var u;F.value&&F.value.simulationState&&_.value!==((u=F.value)==null?void 0:u.simulationState)&&F.value.simulationState!==I.SimulationState.OFF&&(_.value=F.value.simulationState)});const O=W(1),x=c(()=>{var u,o;return(o=(u=F.value)==null?void 0:u.layers)==null?void 0:o[O.value-1]}),k=c(()=>{var u;return(u=F.value)==null?void 0:u.layers.flatMap(o=>o.parkingSpots).filter(o=>!o.placeholder)}),d=c(()=>{var u;return((u=k.value)==null?void 0:u.length)??0}),g=c(()=>{var u;return((u=k.value)==null?void 0:u.filter(o=>o.state===I.ParkingSpotState.FREE))??[]}),m=c(()=>{var u;return((u=k.value)==null?void 0:u.filter(o=>o.state===I.ParkingSpotState.OCCUPIED||o.state===I.ParkingSpotState.CHARGING))??[]}),U=c(()=>{var u;return((u=k.value)==null?void 0:u.filter(o=>o.state===I.ParkingSpotState.RESERVED))??[]}),A=c(()=>{var u;return((u=k.value)==null?void 0:u.filter(o=>o.state===I.ParkingSpotState.OUT_OF_ORDER))??[]}),N=c(()=>{var u;return((u=k.value)==null?void 0:u.filter(o=>o.electricCharging))??[]}),q=c(()=>{var u;return((u=k.value)==null?void 0:u.filter(o=>o.state===I.ParkingSpotState.CHARGING))??[]}),j=c(()=>{var u;return((u=F.value)==null?void 0:u.customers)??[]}),te=[{id:"Electric",state:I.ParkingSpotState.FREE,electricCharging:!0,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Electric charging spot"},{id:"Charging",state:I.ParkingSpotState.CHARGING,electricCharging:!0,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Electric charging spot that is currently charging"},{id:"Free",state:I.ParkingSpotState.FREE,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Free spot"},{id:"Occupied",state:I.ParkingSpotState.OCCUPIED,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Occupied spot"},{id:"Reserved",state:I.ParkingSpotState.RESERVED,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Reserved spot"},{id:"Out of Order",state:I.ParkingSpotState.OUT_OF_ORDER,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Spot out of order"}];function ne(u){u.button!==2||!E.value||(R.value=!0)}function L(u){!R.value||!E.value||(h.value+=u.movementX/8,w.value+=u.movementY,h.value<he&&(h.value=he),h.value>ke&&(h.value=ke),w.value<Ce&&(w.value=Ce),w.value>we&&(w.value=we))}function M(u){R.value=!1}function J(u,o){f.updateParkingSpot(p.value,u,{id:u,state:o})}const Y={ParkingSpotComponent:a,fullscreenRef:t,isFullscreen:i,toggle:v,propertyStore:f,route:n,id:p,tenantId:V,isoDefault:b,xDefault:S,yDefault:C,zoomDefault:y,isometric:E,xTranslate:h,yTranslate:w,zoom:s,resetViewSettings:T,dragActive:R,property:F,initialState:P,selectedSpeed:_,page:O,currentLayer:x,allSpots:k,totalSpots:d,freeSpots:g,occupiedSpots:m,reservedSpots:U,outOfOrderSpots:A,electricSpots:N,chargingSpots:q,customers:j,exampleSpots:te,xMin:he,xMax:ke,yMin:Ce,yMax:we,dragStart:ne,dragMove:L,dragEnd:M,updateSpotState:J,get SimulationState(){return I.SimulationState},CounterCard:cl,get useAppStore(){return St}};return Object.defineProperty(Y,"__isScriptSetup",{enumerable:!1,value:!0}),Y}}),Ae=Symbol.for("vuetify:v-slider");function ml(e,l,a){const t=a==="vertical",i=l.getBoundingClientRect(),v="touches"in e?e.touches[0]:e;return t?v.clientY-(i.top+i.height/2):v.clientX-(i.left+i.width/2)}function fl(e,l){return"touches"in e&&e.touches.length?e.touches[0][l]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][l]:e[l]}const Sl=ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...bt(),...yt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),pl=e=>{const l=c(()=>parseFloat(e.min)),a=c(()=>parseFloat(e.max)),t=c(()=>+e.step>0?parseFloat(e.step):0),i=c(()=>Math.max(ze(t.value),ze(l.value)));function v(f){if(f=parseFloat(f),t.value<=0)return f;const n=Ke(f,l.value,a.value),p=l.value%t.value,V=Math.round((n-p)/t.value)*t.value+p;return parseFloat(Math.min(V,a.value).toFixed(i.value))}return{min:l,max:a,step:t,decimals:i,roundValue:v}},gl=e=>{let{props:l,steps:a,onSliderStart:t,onSliderMove:i,onSliderEnd:v,getActiveThumb:f}=e;const{isRtl:n}=Me(),p=G(l,"reverse"),V=c(()=>l.direction==="vertical"),b=c(()=>V.value!==p.value),{min:S,max:C,step:y,decimals:E,roundValue:h}=a,w=c(()=>parseInt(l.thumbSize,10)),s=c(()=>parseInt(l.tickSize,10)),T=c(()=>parseInt(l.trackSize,10)),R=c(()=>(C.value-S.value)/y.value),F=G(l,"disabled"),P=c(()=>l.error||l.disabled?void 0:l.thumbColor??l.color),_=c(()=>l.error||l.disabled?void 0:l.trackColor??l.color),O=c(()=>l.error||l.disabled?void 0:l.trackFillColor??l.color),x=_e(!1),k=_e(0),d=W(),g=W();function m(o){var De;const D=l.direction==="vertical",lt=D?"top":"left",at=D?"height":"width",nt=D?"clientY":"clientX",{[lt]:rt,[at]:ot}=(De=d.value)==null?void 0:De.$el.getBoundingClientRect(),it=fl(o,nt);let ye=Math.min(Math.max((it-rt-k.value)/ot,0),1)||0;return(D?b.value:b.value!==n.value)&&(ye=1-ye),h(S.value+ye*(C.value-S.value))}const U=o=>{v({value:m(o)}),x.value=!1,k.value=0},A=o=>{g.value=f(o),g.value&&(g.value.focus(),x.value=!0,g.value.contains(o.target)?k.value=ml(o,g.value,l.direction):(k.value=0,i({value:m(o)})),t({value:m(o)}))},N={passive:!0,capture:!0};function q(o){i({value:m(o)})}function j(o){o.stopPropagation(),o.preventDefault(),U(o),window.removeEventListener("mousemove",q,N),window.removeEventListener("mouseup",j)}function te(o){var D;U(o),window.removeEventListener("touchmove",q,N),(D=o.target)==null||D.removeEventListener("touchend",te)}function ne(o){var D;A(o),window.addEventListener("touchmove",q,N),(D=o.target)==null||D.addEventListener("touchend",te,{passive:!1})}function L(o){o.preventDefault(),A(o),window.addEventListener("mousemove",q,N),window.addEventListener("mouseup",j,{passive:!1})}const M=o=>{const D=(o-S.value)/(C.value-S.value)*100;return Ke(isNaN(D)?0:D,0,100)},J=G(l,"showTicks"),Y=c(()=>J.value?l.ticks?Array.isArray(l.ticks)?l.ticks.map(o=>({value:o,position:M(o),label:o.toString()})):Object.keys(l.ticks).map(o=>({value:parseFloat(o),position:M(parseFloat(o)),label:l.ticks[o]})):R.value!==1/0?ht(R.value+1).map(o=>{const D=S.value+o*y.value;return{value:D,position:M(D)}}):[]:[]),Z=c(()=>Y.value.some(o=>{let{label:D}=o;return!!D})),u={activeThumbRef:g,color:G(l,"color"),decimals:E,disabled:F,direction:G(l,"direction"),elevation:G(l,"elevation"),hasLabels:Z,isReversed:p,indexFromEnd:b,min:S,max:C,mousePressed:x,numTicks:R,onSliderMousedown:L,onSliderTouchstart:ne,parsedTicks:Y,parseMouseMove:m,position:M,readonly:G(l,"readonly"),rounded:G(l,"rounded"),roundValue:h,showTicks:J,startOffset:k,step:y,thumbSize:w,thumbColor:P,thumbLabel:G(l,"thumbLabel"),ticks:G(l,"ticks"),tickSize:s,trackColor:_,trackContainerRef:d,trackFillColor:O,trackSize:T,vertical:V};return kt(Ae,u),u},bl=ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Je()},"VSliderThumb"),yl=ge()({name:"VSliderThumb",directives:{Ripple:Ct},props:bl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a,emit:t}=l;const i=Ye(Ae),{isRtl:v,rtlClasses:f}=Me();if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:n,step:p,disabled:V,thumbSize:b,thumbLabel:S,direction:C,isReversed:y,vertical:E,readonly:h,elevation:w,mousePressed:s,decimals:T,indexFromEnd:R}=i,F=c(()=>V.value?void 0:w.value),{elevationClasses:P}=wt(F),{textColorClasses:_,textColorStyles:O}=Vt(n),{pageup:x,pagedown:k,end:d,home:g,left:m,right:U,down:A,up:N}=Ft,q=[x,k,d,g,m,U,A,N],j=c(()=>p.value?[1,2,3]:[1,5,10]);function te(L,M){if(!q.includes(L.key))return;L.preventDefault();const J=p.value||.1,Y=(e.max-e.min)/J;if([m,U,A,N].includes(L.key)){const u=(E.value?[v.value?m:U,y.value?A:N]:R.value!==v.value?[m,N]:[U,N]).includes(L.key)?1:-1,o=L.shiftKey?2:L.ctrlKey?1:0;M=M+u*J*j.value[o]}else if(L.key===g)M=e.min;else if(L.key===d)M=e.max;else{const Z=L.key===k?1:-1;M=M-Z*J*(Y>100?Y/10:10)}return Math.max(e.min,Math.min(e.max,M))}function ne(L){const M=te(L,e.modelValue);M!=null&&t("update:modelValue",M)}return be(()=>{const L=ee(R.value?100-e.position:e.position,"%");return r("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&s.value},e.class,f.value],style:[{"--v-slider-thumb-position":L,"--v-slider-thumb-size":ee(b.value)},e.style],role:"slider",tabindex:V.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!h.value,"aria-orientation":C.value,onKeydown:h.value?void 0:ne},[r("div",{class:["v-slider-thumb__surface",_.value,P.value],style:{...O.value}},null),K(r("div",{class:["v-slider-thumb__ripple",_.value],style:O.value},null),[[_t("ripple"),e.ripple,null,{circle:!0,center:!0}]]),r(Xe,{origin:"bottom center"},{default:()=>{var M;return[K(r("div",{class:"v-slider-thumb__label-container"},[r("div",{class:["v-slider-thumb__label"]},[r("div",null,[((M=a["thumb-label"])==null?void 0:M.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(p.value?T.value:1)])])]),[[xt,S.value&&e.focused||S.value==="always"]])]}})])}),{}}}),hl=ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Je()},"VSliderTrack"),kl=ge()({name:"VSliderTrack",props:hl(),emits:{},setup(e,l){let{slots:a}=l;const t=Ye(Ae);if(!t)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,parsedTicks:v,rounded:f,showTicks:n,tickSize:p,trackColor:V,trackFillColor:b,trackSize:S,vertical:C,min:y,max:E,indexFromEnd:h}=t,{roundedClasses:w}=Et(f),{backgroundColorClasses:s,backgroundColorStyles:T}=Ne(b),{backgroundColorClasses:R,backgroundColorStyles:F}=Ne(V),P=c(()=>`inset-${C.value?"block":"inline"}-${h.value?"end":"start"}`),_=c(()=>C.value?"height":"width"),O=c(()=>({[P.value]:"0%",[_.value]:"100%"})),x=c(()=>e.stop-e.start),k=c(()=>({[P.value]:ee(e.start,"%"),[_.value]:ee(x.value,"%")})),d=c(()=>n.value?(C.value?v.value.slice().reverse():v.value).map((m,U)=>{var N;const A=m.value!==y.value&&m.value!==E.value?ee(m.position,"%"):void 0;return r("div",{key:m.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":m.position>=e.start&&m.position<=e.stop,"v-slider-track__tick--first":m.value===y.value,"v-slider-track__tick--last":m.value===E.value}],style:{[P.value]:A}},[(m.label||a["tick-label"])&&r("div",{class:"v-slider-track__tick-label"},[((N=a["tick-label"])==null?void 0:N.call(a,{tick:m,index:U}))??m.label])])}):[]);return be(()=>r("div",{class:["v-slider-track",w.value,e.class],style:[{"--v-slider-track-size":ee(S.value),"--v-slider-tick-size":ee(p.value)},e.style]},[r("div",{class:["v-slider-track__background",R.value,{"v-slider-track__background--opacity":!!i.value||!b.value}],style:{...O.value,...F.value}},null),r("div",{class:["v-slider-track__fill",s.value],style:{...k.value,...T.value}},null),n.value&&r("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":n.value==="always"}]},[d.value])])),{}}}),Cl=ie({...Tt(),...Sl(),...Qe(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ve=ge()({name:"VSlider",props:Cl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,l){let{slots:a,emit:t}=l;const i=W(),{rtlClasses:v}=Me(),f=pl(e),n=Fe(e,"modelValue",void 0,_=>f.roundValue(_??f.min.value)),{min:p,max:V,mousePressed:b,roundValue:S,onSliderMousedown:C,onSliderTouchstart:y,trackContainerRef:E,position:h,hasLabels:w,readonly:s}=gl({props:e,steps:f,onSliderStart:()=>{t("start",n.value)},onSliderEnd:_=>{let{value:O}=_;const x=S(O);n.value=x,t("end",x)},onSliderMove:_=>{let{value:O}=_;return n.value=S(O)},getActiveThumb:()=>{var _;return(_=i.value)==null?void 0:_.$el}}),{isFocused:T,focus:R,blur:F}=Ze(e),P=c(()=>h(n.value));return be(()=>{const _=Se.filterProps(e),O=!!(e.label||a.label||a.prepend);return r(Se,Ee({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||w.value,"v-slider--focused":T.value,"v-slider--pressed":b.value,"v-slider--disabled":e.disabled},v.value,e.class],style:e.style},_,{focused:T.value}),{...a,prepend:O?x=>{var k,d;return r(ae,null,[((k=a.label)==null?void 0:k.call(a,x))??(e.label?r(Rt,{id:x.id.value,class:"v-slider__label",text:e.label},null):void 0),(d=a.prepend)==null?void 0:d.call(a,x)])}:void 0,default:x=>{let{id:k,messagesId:d}=x;return r("div",{class:"v-slider__container",onMousedown:s.value?void 0:C,onTouchstartPassive:s.value?void 0:y},[r("input",{id:k.value,name:e.name||k.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:n.value},null),r(kl,{ref:E,start:0,stop:P.value},{"tick-label":a["tick-label"]}),r(yl,{ref:i,"aria-describedby":d.value,focused:T.value,min:p.value,max:V.value,modelValue:n.value,"onUpdate:modelValue":g=>n.value=g,position:P.value,elevation:e.elevation,onFocus:R,onBlur:F,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),wl=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Qe(),...Xt()},"VSwitch"),Vl=ge()({name:"VSwitch",inheritAttrs:!1,props:wl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const i=Fe(e,"indeterminate"),v=Fe(e,"modelValue"),{loaderClasses:f}=Pt(e),{isFocused:n,focus:p,blur:V}=Ze(e),b=W(),S=Mt&&window.matchMedia("(forced-colors: active)").matches,C=c(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),y=Ot(),E=c(()=>e.id||`switch-${y}`);function h(){i.value&&(i.value=!1)}function w(s){var T,R;s.stopPropagation(),s.preventDefault(),(R=(T=b.value)==null?void 0:T.input)==null||R.click()}return be(()=>{const[s,T]=At(a),R=Se.filterProps(e),F=Ue.filterProps(e);return r(Se,Ee({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":i.value},f.value,e.class]},s,R,{modelValue:v.value,"onUpdate:modelValue":P=>v.value=P,id:E.value,focused:n.value,style:e.style}),{...t,default:P=>{let{id:_,messagesId:O,isDisabled:x,isReadonly:k,isValid:d}=P;const g={model:v,isValid:d};return r(Ue,Ee({ref:b},F,{modelValue:v.value,"onUpdate:modelValue":[m=>v.value=m,h],id:_.value,"aria-describedby":O.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:x.value,readonly:k.value,onFocus:p,onBlur:V},T),{...t,default:m=>{let{backgroundColorClasses:U,backgroundColorStyles:A}=m;return r("div",{class:["v-switch__track",S?void 0:U.value],style:A.value,onClick:w},[t["track-true"]&&r("div",{key:"prepend",class:"v-switch__track-true"},[t["track-true"](g)]),t["track-false"]&&r("div",{key:"append",class:"v-switch__track-false"},[t["track-false"](g)])])},input:m=>{let{inputNode:U,icon:A,backgroundColorClasses:N,backgroundColorStyles:q}=m;return r(ae,null,[U,r("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":A||e.loading},e.inset||S?void 0:N.value],style:e.inset?void 0:q.value},[t.thumb?r(Dt,{defaults:{VIcon:{icon:A,size:"x-small"}}},{default:()=>[t.thumb({...g,icon:A})]}):r(Xe,null,{default:()=>[e.loading?r(zt,{name:"v-switch",active:!0,color:d.value===!1?void 0:C.value},{default:j=>t.loader?t.loader(j):r(Te,{active:j.isActive,color:j.color,indeterminate:!0,size:"16",width:"2"},null)}):A&&r($e,{key:String(A),icon:A,size:"x-small"},null)]})])])}})}})}),{}}}),_l={class:"pa-2 pr-8"},xl={class:"d-flex align-center ga-2"},Fl={class:"property-main"},El={class:"d-flex align-center justify-space-evenly"};function Tl(e,l,a,t,i,v){const f=st;return z(),X("div",{ref:"fullscreen",onMouseup:l[15]||(l[15]=n=>t.dragEnd(n)),style:oe(t.dragActive?{cursor:"all-scroll"}:{})},[t.property?(z(),H(Nt,{key:0,density:"compact",class:"d-flex align-center pa-1 pl-4 pr-4"},{default:B(()=>[Q("span",_l,[Q("b",null,"Id: "+fe(t.property.id??"Unknown"),1)]),r(le,{vertical:"",inset:""}),K(r(re,{class:"ml-4",density:"comfortable",to:`/${t.tenantId}/defects/${t.property.id}`,icon:"mdi-hammer-screwdriver"},null,8,["to"]),[[$,"Defects"]]),K(r(re,{class:"ml-4",density:"comfortable",icon:"mdi-sync",onClick:l[0]||(l[0]=n=>t.propertyStore.fetchProperty(t.property.id))},null,512),[[$,"Refresh"]]),K(r(re,{class:"ml-4 mr-4",icon:t.isFullscreen?"mdi-fullscreen-exit":"mdi-fullscreen",onClick:t.toggle,density:"comfortable"},null,8,["icon","onClick"]),[[$,"Toggle Fullscreen Spot View"]]),r(le,{vertical:"",inset:""}),r(Ie),r(f,null,{default:B(()=>[Q("div",xl,[r(Bt,{disabled:t.useAppStore().hasAdminAccess,activator:"parent",text:"Admin only"},null,8,["disabled"]),r(Qt,{label:"Simulation Speed",items:[t.SimulationState.SLOW,t.SimulationState.NORMAL,t.SimulationState.FAST],modelValue:t.selectedSpeed,"onUpdate:modelValue":[l[1]||(l[1]=n=>t.selectedSpeed=n),l[2]||(l[2]=n=>{t.selectedSpeed=n,t.propertyStore.updateSimulationSpeed(t.id,t.selectedSpeed)})],disabled:!t.useAppStore().wsStatus||!t.useAppStore().hasAdminAccess,density:"compact","hide-details":"","min-width":"150px"},null,8,["items","modelValue","disabled"]),r(re,{disabled:!t.useAppStore().wsStatus||!t.useAppStore().hasAdminAccess,"append-icon":t.property.simulationState!==t.SimulationState.OFF?"mdi-pause":"mdi-play",text:"Simulation",onClick:l[3]||(l[3]=n=>t.property.simulationState!==t.SimulationState.OFF?t.propertyStore.setSimulationInactive(t.property.id):t.propertyStore.setSimulationActive(t.property.id,t.selectedSpeed))},null,8,["disabled","append-icon"])])]),_:1})]),_:1})):se("",!0),r(Lt,{indeterminate:t.propertyStore.loading,color:t.propertyStore.error?"error":void 0},null,8,["indeterminate","color"]),t.property?(z(),H(It,{key:1},{default:B(()=>[Q("div",Fl,[r(t.CounterCard,{name:"FREE",current:t.freeSpots.length,total:t.totalSpots,colors:"invert"},null,8,["current","total"]),r(t.CounterCard,{name:"OCCUPIED",current:t.occupiedSpots.length,total:t.totalSpots,colors:"default"},null,8,["current","total"]),r(t.CounterCard,{name:"RESERVED",current:t.reservedSpots.length,total:t.totalSpots,colors:"none"},null,8,["current","total"]),r(t.CounterCard,{name:"CHARGING",current:t.chargingSpots.length,total:t.electricSpots.length,colors:"none"},null,8,["current","total"]),r(t.CounterCard,{name:"OUT OF ORDER",current:t.outOfOrderSpots.length,colors:"none"},null,8,["current"]),K(r(t.CounterCard,{name:"CUSTOMERS",current:t.customers.length,colors:"none"},null,8,["current"]),[[$,"Count of total daily customers","bottom"]]),r(xe,{class:"legend"},{default:B(()=>[r(Le,{class:"d-flex ga-2 align-center"},{default:B(()=>[l[17]||(l[17]=me("Legend ")),K((z(),H($e,{size:"sm"},{default:B(()=>l[16]||(l[16]=[me("mdi-information-outline ")])),_:1})),[[$,"Hover to see what each spot represents","top"]])]),_:1}),r(Ut,null,{default:B(()=>[Q("span",El,[(z(),X(ae,null,ue(t.exampleSpots,n=>r(t.ParkingSpotComponent,{key:n.id,spot:n,explanation:n.explanation},null,8,["spot","explanation"])),64))])]),_:1})]),_:1}),t.currentLayer?(z(),H(xe,{key:0,class:"full-grid-row",onMousedown:l[11]||(l[11]=n=>t.dragStart(n)),onMousemove:l[12]||(l[12]=n=>t.dragMove(n)),onMouseup:l[13]||(l[13]=n=>t.dragEnd(n)),onContextmenu:l[14]||(l[14]=qt(()=>{},["prevent"]))},{default:B(()=>[r(Le,{class:"d-flex align-center spot-title"},{default:B(()=>[me(fe(t.property.name)+" ",1),r(Ie),r(le,{vertical:"",inset:"",class:"ma-4"}),r(f,{class:"d-flex align-center flex-grow-1",modelValue:t.isometric,"onUpdate:modelValue":l[9]||(l[9]=n=>t.isometric=n)},{default:B(()=>[K(r(Vl,{label:"Isometric",flat:"",color:t.isometric?"primary":"default",modelValue:t.isometric,"onUpdate:modelValue":l[4]||(l[4]=n=>t.isometric=n),"hide-details":""},null,8,["color","modelValue"]),[[$,"Toggle Isometric View"]]),K(r(re,{class:"ml-2",icon:"mdi-backup-restore",density:"comfortable",flat:"",onClick:l[5]||(l[5]=n=>t.resetViewSettings())},null,512),[[$,"Reset View Settings to defaults","bottom"]]),r(le,{vertical:"",inset:"",class:"ma-4"}),r(Ve,{modelValue:t.zoom,"onUpdate:modelValue":l[6]||(l[6]=n=>t.zoom=n),min:20,max:120,step:1,"prepend-icon":"mdi-magnify-minus","append-icon":"mdi-magnify-plus",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"]),r(Ve,{modelValue:t.xTranslate,"onUpdate:modelValue":l[7]||(l[7]=n=>t.xTranslate=n),min:t.xMin,max:t.xMax,step:1,"prepend-icon":"mdi-axis-x-arrow",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"]),r(Ve,{modelValue:t.yTranslate,"onUpdate:modelValue":l[8]||(l[8]=n=>t.yTranslate=n),min:t.yMin,max:t.yMax,step:1,"prepend-icon":"mdi-axis-z-arrow",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"])]),_:1},8,["modelValue"]),r(le,{vertical:"",inset:"",class:"ma-4"}),r(Zt,{modelValue:t.page,"onUpdate:modelValue":l[10]||(l[10]=n=>t.page=n),length:t.property.layers.length,variant:"outlined","total-visible":"5",density:"comfortable"},null,8,["modelValue","length"])]),_:1}),r(le),t.property.layers.length>0?(z(),X("div",{key:0,style:oe(t.isometric?{transform:`translate3d(${t.xTranslate}%, ${t.yTranslate}px, 0)`}:{})},[t.isometric?t.isometric?(z(!0),X(ae,{key:1},ue(t.property.layers,n=>(z(),X("div",{id:"spot-container",ref_for:!0,ref:"spot-container",class:Gt(["isometric",n.floor===t.currentLayer.floor?"preferred-isometric":""]),style:oe({gridTemplateColumns:`repeat(${n.columns}, minmax(2em, 1fr))`,top:`${n.floor*100}px`,zIndex:n.floor,zoom:`${t.zoom}%`})},[(z(),H(Be,null,{fallback:B(()=>[r(Te,{indeterminate:""})]),default:B(()=>[(z(!0),X(ae,null,ue(n.parkingSpots,p=>(z(),H(t.ParkingSpotComponent,{key:p.id,spot:p,onStateChange:V=>t.updateSpotState(p.id,V)},null,8,["spot","onStateChange"]))),128))]),_:2},1024))],6))),256)):se("",!0):(z(),X("div",{key:0,id:"spot-container",ref:"spot-container",class:"overflow-auto",style:oe(t.currentLayer?{gridTemplateColumns:`repeat(${t.currentLayer.columns}, minmax(2em, 1fr))`}:{})},[(z(),H(Be,null,{fallback:B(()=>[r(Te,{indeterminate:""})]),default:B(()=>[(z(!0),X(ae,null,ue(t.currentLayer.parkingSpots,n=>(z(),H(t.ParkingSpotComponent,{key:n.id,spot:n,onStateChange:p=>t.updateSpotState(n.id,p)},null,8,["spot","onStateChange"]))),128))]),_:1}))],4))],4)):(z(),H(jt,{key:1,class:"pa-4"},{default:B(()=>l[18]||(l[18]=[Q("i",null,"No parking spots yet.",-1)])),_:1}))]),_:1})):se("",!0)])]),_:1})):se("",!0)],36)}const zl=We(vl,[["render",Tl],["__scopeId","data-v-81669d33"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/pages/[tenantId]/property/[id].vue"]]);export{zl as default};
