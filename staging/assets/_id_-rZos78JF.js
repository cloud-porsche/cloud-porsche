const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ParkingSpotComponent-5fb4auxW.js","assets/index-CiNuP3ky.js","assets/index-BfOFdoXM.css","assets/index-DiVE-scv.js","assets/VDataTable-cKSkzwYJ.js","assets/VPagination-TvB457B8.js","assets/VPagination-osFSi_du.css","assets/VSelect-DRBV7XU1.js","assets/VChip-CZvYldw7.js","assets/VChip-DsRJUznz.css","assets/VSelect-CgvyrPNl.css","assets/VDataTable-DXmHtqsb.css","assets/VRow-CTDBY3_n.js","assets/ParkingSpotComponent-fg3jnu13.css"])))=>i.map(i=>d[i]);
import{_ as st}from"./ProTier-D_-wzBL4.js";import{b0 as _e,r as K,f as c,h as xe,az as ut,g as ct,b6 as dt,d as Ke,_ as He,o as D,c as G,w as I,b as X,t as fe,l as o,D as me,aZ as oe,B as Ee,aX as vt,aU as mt,Q as ft,j as B,u as pt,b7 as St,b8 as gt,a4 as ie,b9 as bt,ba as yt,bb as Ne,a9 as Ae,bc as j,bd as ht,be as kt,b5 as We,a5 as Je,a8 as ge,aD as wt,aK as Xe,bf as Ct,bg as Vt,ab as be,b4 as ee,p as H,aF as _t,bh as Ye,v as xt,bi as Et,bj as Ft,bk as Ie,bl as Tt,al as Ze,ap as Fe,aq as Qe,at as pe,P as ae,bm as Pt,aw as Te,bn as Rt,bo as Mt,bp as At,as as Ot,aB as Dt,Z as $e,bq as zt,$ as Pe,k as J,m as Nt,K as se,n as It,V as Lt,s as re,a3 as Bt,C as Le,ai as Ut,a1 as ue,G as qt,q as Be,x as le,a_ as Ue,E as jt,T as $,br as Gt}from"./index-CiNuP3ky.js";import{V as Kt}from"./VChip-CZvYldw7.js";import{t as Oe,w as Ht,a as Wt,b as et,i as tt,n as Jt,c as Xt}from"./index-DiVE-scv.js";import{m as Yt,a as qe,V as Zt}from"./VSelect-DRBV7XU1.js";import{V as Qt}from"./VPagination-TvB457B8.js";const Re=tt?window:void 0,$t=tt?window.document:void 0;function Me(e){var l;const a=Oe(e);return(l=a==null?void 0:a.$el)!=null?l:a}function Se(...e){let l,a,t,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,t,s]=e,l=Re):[l,a,t,s]=e,!l)return Jt;Array.isArray(a)||(a=[a]),Array.isArray(t)||(t=[t]);const d=[],m=()=>{d.forEach(b=>b()),d.length=0},r=(b,S,k,y)=>(b.addEventListener(S,k,y),()=>b.removeEventListener(S,k,y)),p=xe(()=>[Me(l),Oe(s)],([b,S])=>{if(m(),!b)return;const k=Xt(S)?{...S}:S;d.push(...a.flatMap(y=>t.map(x=>r(b,y,x,k))))},{immediate:!0,flush:"post"}),V=()=>{p(),m()};return et(V),V}function el(){const e=K(!1),l=dt();return l&&ct(()=>{e.value=!0},l),e}function tl(e){const l=el();return c(()=>(l.value,!!e()))}const ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de="__vueuse_ssr_handlers__",ll=al();function al(){return de in ce||(ce[de]=ce[de]||{}),ce[de]}function nl(e,l){return ll[e]||l}function rl(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ol={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},je="vueuse-storage";function ve(e,l,a,t={}){var s;const{flush:d="pre",deep:m=!0,listenToStorageChanges:r=!0,writeDefaults:p=!0,mergeDefaults:V=!1,shallow:b,window:S=Re,eventFilter:k,onError:y=i=>{console.error(i)},initOnMounted:x}=t,h=(b?_e:K)(typeof l=="function"?l():l);if(!a)try{a=nl("getDefaultStorage",()=>{var i;return(i=Re)==null?void 0:i.localStorage})()}catch(i){y(i)}if(!a)return h;const w=Oe(l),u=rl(w),F=(s=t.serializer)!=null?s:ol[u],{pause:T,resume:A}=Ht(h,()=>C(h.value),{flush:d,deep:m,eventFilter:k});S&&r&&Wt(()=>{a instanceof Storage?Se(S,"storage",_):Se(S,je,R),x&&_()}),x||_();function E(i,g){if(S){const v={key:e,oldValue:i,newValue:g,storageArea:a};S.dispatchEvent(a instanceof Storage?new StorageEvent("storage",v):new CustomEvent(je,{detail:v}))}}function C(i){try{const g=a.getItem(e);if(i==null)E(g,null),a.removeItem(e);else{const v=F.write(i);g!==v&&(a.setItem(e,v),E(g,v))}}catch(g){y(g)}}function P(i){const g=i?i.newValue:a.getItem(e);if(g==null)return p&&w!=null&&a.setItem(e,F.write(w)),w;if(!i&&V){const v=F.read(g);return typeof V=="function"?V(v,w):u==="object"&&!Array.isArray(v)?{...w,...v}:v}else return typeof g!="string"?g:F.read(g)}function _(i){if(!(i&&i.storageArea!==a)){if(i&&i.key==null){h.value=w;return}if(!(i&&i.key!==e)){T();try{(i==null?void 0:i.newValue)!==F.write(h.value)&&(h.value=P(i))}catch(g){y(g)}finally{i?ut(A):A()}}}}function R(i){_(i.detail)}return h}const Ge=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function il(e,l={}){const{document:a=$t,autoExit:t=!1}=l,s=c(()=>{var u;return(u=Me(e))!=null?u:a==null?void 0:a.querySelector("html")}),d=K(!1),m=c(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(u=>a&&u in a||s.value&&u in s.value)),r=c(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(u=>a&&u in a||s.value&&u in s.value)),p=c(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(u=>a&&u in a||s.value&&u in s.value)),V=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(u=>a&&u in a),b=tl(()=>s.value&&a&&m.value!==void 0&&r.value!==void 0&&p.value!==void 0),S=()=>V?(a==null?void 0:a[V])===s.value:!1,k=()=>{if(p.value){if(a&&a[p.value]!=null)return a[p.value];{const u=s.value;if((u==null?void 0:u[p.value])!=null)return!!u[p.value]}}return!1};async function y(){if(!(!b.value||!d.value)){if(r.value)if((a==null?void 0:a[r.value])!=null)await a[r.value]();else{const u=s.value;(u==null?void 0:u[r.value])!=null&&await u[r.value]()}d.value=!1}}async function x(){if(!b.value||d.value)return;k()&&await y();const u=s.value;m.value&&(u==null?void 0:u[m.value])!=null&&(await u[m.value](),d.value=!0)}async function h(){await(d.value?y():x())}const w=()=>{const u=k();(!u||u&&S())&&(d.value=u)};return Se(a,Ge,w,!1),Se(()=>Me(s),Ge,w,!1),t&&et(y),{isSupported:b,isFullscreen:d,enter:x,exit:y,toggle:h}}const sl=Ke({__name:"CounterCard",props:{name:{type:String,required:!0},current:{type:Number,required:!0},total:{type:Number,required:!1},colors:{type:String,required:!0}},setup(e,{expose:l}){l();function a(s,d,m){if(!(!m||d==="none"))return s===0||m===0?d==="invert"?"tomato":void 0:s===m?d==="invert"?void 0:"tomato":(d==="invert"?s>=m/.65:s>=m/1.35)?"darkgoldenrod":"green"}const t={getCountColor:a};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}}),ul={class:"pb-1"};function cl(e,l,a,t,s,d){return D(),G(Ee,{style:oe({backgroundColor:t.getCountColor(a.current,a.colors,a.total),color:t.getCountColor(a.current,a.colors,a.total)?"white":void 0}),class:"pa-4 d-flex flex-column justify-space-evenly align-center text-center"},{default:I(()=>[X("b",ul,fe(a.name),1),X("span",null,[o(Kt,{class:"larger"},{default:I(()=>[me(fe(a.current+(a.total?" / "+a.total:"")),1)]),_:1})])]),_:1},8,["style"])}const dl=He(sl,[["render",cl],["__scopeId","data-v-fafb61d2"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/components/CounterCard.vue"]]),he=-100,ke=150,we=-1200,Ce=300,vl=Ke({__name:"[id]",setup(e,{expose:l}){var Q;l();const a=St(()=>gt(()=>import("./ParkingSpotComponent-5fb4auxW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),t=vt("fullscreen"),{isFullscreen:s,toggle:d}=il(t),m=mt(),r=ft(),p=c(()=>r.params.id),V=c(()=>r.params.tenantId),[b,S,k,y]=[!1,40,-100,80],x=ve("view-settings-iso",b),h=ve("view-settings-x",S),w=ve("view-settings-y",k),u=ve("view-settings-zoom",y);function F(){x.value=b,h.value=S,w.value=k,u.value=y}const T=K(!1),A=c(()=>m.properties.find(n=>n.id===p.value)),E=c(()=>{var n;return(n=A.value)==null?void 0:n.simulationState});function C(n){switch(n){case B.SimulationState.SLOW:return"slow";case B.SimulationState.FAST:return"fast";default:return"normal"}}const P=K(C((Q=A.value)==null?void 0:Q.simulationState));xe(E,()=>{P.value!==C(E.value)&&(P.value=C(E.value))}),xe(P,async()=>{E.value!==B.SimulationState.OFF&&await m.updateSimulationSpeed(p.value,P.value)});const _=K(1),R=c(()=>{var n,f;return(f=(n=A.value)==null?void 0:n.layers)==null?void 0:f[_.value-1]}),i=c(()=>{var n;return(n=A.value)==null?void 0:n.layers.flatMap(f=>f.parkingSpots).filter(f=>!f.placeholder)}),g=c(()=>{var n;return((n=i.value)==null?void 0:n.length)??0}),v=c(()=>{var n;return((n=i.value)==null?void 0:n.filter(f=>f.state===B.ParkingSpotState.FREE))??[]}),L=c(()=>{var n;return((n=i.value)==null?void 0:n.filter(f=>f.state===B.ParkingSpotState.OCCUPIED||f.state===B.ParkingSpotState.CHARGING))??[]}),O=c(()=>{var n;return((n=i.value)==null?void 0:n.filter(f=>f.state===B.ParkingSpotState.RESERVED))??[]}),z=c(()=>{var n;return((n=i.value)==null?void 0:n.filter(f=>f.state===B.ParkingSpotState.OUT_OF_ORDER))??[]}),U=c(()=>{var n;return((n=i.value)==null?void 0:n.filter(f=>f.electricCharging))??[]}),q=c(()=>{var n;return((n=i.value)==null?void 0:n.filter(f=>f.state===B.ParkingSpotState.CHARGING))??[]}),te=c(()=>{var n;return((n=A.value)==null?void 0:n.customers)??[]}),ne=[{id:"Electric",state:B.ParkingSpotState.FREE,electricCharging:!0,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Electric charging spot"},{id:"Charging",state:B.ParkingSpotState.CHARGING,electricCharging:!0,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Electric charging spot that is currently charging"},{id:"Free",state:B.ParkingSpotState.FREE,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Free spot"},{id:"Occupied",state:B.ParkingSpotState.OCCUPIED,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Occupied spot"},{id:"Reserved",state:B.ParkingSpotState.RESERVED,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Reserved spot"},{id:"Out of Order",state:B.ParkingSpotState.OUT_OF_ORDER,electricCharging:!1,lastStateChange:new Date,customer:null,placeholder:!1,explanation:"Spot out of order"}];function N(n){n.button!==2||!x.value||(T.value=!0)}function M(n){!T.value||!x.value||(h.value+=n.movementX/8,w.value+=n.movementY,h.value<he&&(h.value=he),h.value>ke&&(h.value=ke),w.value<we&&(w.value=we),w.value>Ce&&(w.value=Ce))}function W(n){T.value=!1}function Y(n,f){m.updateParkingSpot(p.value,n,{id:n,state:f})}const Z={ParkingSpotComponent:a,fullscreenRef:t,isFullscreen:s,toggle:d,propertyStore:m,route:r,id:p,tenantId:V,isoDefault:b,xDefault:S,yDefault:k,zoomDefault:y,isometric:x,xTranslate:h,yTranslate:w,zoom:u,resetViewSettings:F,dragActive:T,property:A,simulationState:E,toStateString:C,selectedSpeed:P,page:_,currentLayer:R,allSpots:i,totalSpots:g,freeSpots:v,occupiedSpots:L,reservedSpots:O,outOfOrderSpots:z,electricSpots:U,chargingSpots:q,customers:te,exampleSpots:ne,xMin:he,xMax:ke,yMin:we,yMax:Ce,dragStart:N,dragMove:M,dragEnd:W,updateSpotState:Y,CounterCard:dl,get useAppStore(){return pt}};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),De=Symbol.for("vuetify:v-slider");function ml(e,l,a){const t=a==="vertical",s=l.getBoundingClientRect(),d="touches"in e?e.touches[0]:e;return t?d.clientY-(s.top+s.height/2):d.clientX-(s.left+s.width/2)}function fl(e,l){return"touches"in e&&e.touches.length?e.touches[0][l]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][l]:e[l]}const pl=ie({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...bt(),...yt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Sl=e=>{const l=c(()=>parseFloat(e.min)),a=c(()=>parseFloat(e.max)),t=c(()=>+e.step>0?parseFloat(e.step):0),s=c(()=>Math.max(Ne(t.value),Ne(l.value)));function d(m){if(m=parseFloat(m),t.value<=0)return m;const r=We(m,l.value,a.value),p=l.value%t.value,V=Math.round((r-p)/t.value)*t.value+p;return parseFloat(Math.min(V,a.value).toFixed(s.value))}return{min:l,max:a,step:t,decimals:s,roundValue:d}},gl=e=>{let{props:l,steps:a,onSliderStart:t,onSliderMove:s,onSliderEnd:d,getActiveThumb:m}=e;const{isRtl:r}=Ae(),p=j(l,"reverse"),V=c(()=>l.direction==="vertical"),b=c(()=>V.value!==p.value),{min:S,max:k,step:y,decimals:x,roundValue:h}=a,w=c(()=>parseInt(l.thumbSize,10)),u=c(()=>parseInt(l.tickSize,10)),F=c(()=>parseInt(l.trackSize,10)),T=c(()=>(k.value-S.value)/y.value),A=j(l,"disabled"),E=c(()=>l.error||l.disabled?void 0:l.thumbColor??l.color),C=c(()=>l.error||l.disabled?void 0:l.trackColor??l.color),P=c(()=>l.error||l.disabled?void 0:l.trackFillColor??l.color),_=_e(!1),R=_e(0),i=K(),g=K();function v(n){var ze;const f=l.direction==="vertical",lt=f?"top":"left",at=f?"height":"width",nt=f?"clientY":"clientX",{[lt]:rt,[at]:ot}=(ze=i.value)==null?void 0:ze.$el.getBoundingClientRect(),it=fl(n,nt);let ye=Math.min(Math.max((it-rt-R.value)/ot,0),1)||0;return(f?b.value:b.value!==r.value)&&(ye=1-ye),h(S.value+ye*(k.value-S.value))}const L=n=>{d({value:v(n)}),_.value=!1,R.value=0},O=n=>{g.value=m(n),g.value&&(g.value.focus(),_.value=!0,g.value.contains(n.target)?R.value=ml(n,g.value,l.direction):(R.value=0,s({value:v(n)})),t({value:v(n)}))},z={passive:!0,capture:!0};function U(n){s({value:v(n)})}function q(n){n.stopPropagation(),n.preventDefault(),L(n),window.removeEventListener("mousemove",U,z),window.removeEventListener("mouseup",q)}function te(n){var f;L(n),window.removeEventListener("touchmove",U,z),(f=n.target)==null||f.removeEventListener("touchend",te)}function ne(n){var f;O(n),window.addEventListener("touchmove",U,z),(f=n.target)==null||f.addEventListener("touchend",te,{passive:!1})}function N(n){n.preventDefault(),O(n),window.addEventListener("mousemove",U,z),window.addEventListener("mouseup",q,{passive:!1})}const M=n=>{const f=(n-S.value)/(k.value-S.value)*100;return We(isNaN(f)?0:f,0,100)},W=j(l,"showTicks"),Y=c(()=>W.value?l.ticks?Array.isArray(l.ticks)?l.ticks.map(n=>({value:n,position:M(n),label:n.toString()})):Object.keys(l.ticks).map(n=>({value:parseFloat(n),position:M(parseFloat(n)),label:l.ticks[n]})):T.value!==1/0?ht(T.value+1).map(n=>{const f=S.value+n*y.value;return{value:f,position:M(f)}}):[]:[]),Z=c(()=>Y.value.some(n=>{let{label:f}=n;return!!f})),Q={activeThumbRef:g,color:j(l,"color"),decimals:x,disabled:A,direction:j(l,"direction"),elevation:j(l,"elevation"),hasLabels:Z,isReversed:p,indexFromEnd:b,min:S,max:k,mousePressed:_,numTicks:T,onSliderMousedown:N,onSliderTouchstart:ne,parsedTicks:Y,parseMouseMove:v,position:M,readonly:j(l,"readonly"),rounded:j(l,"rounded"),roundValue:h,showTicks:W,startOffset:R,step:y,thumbSize:w,thumbColor:E,thumbLabel:j(l,"thumbLabel"),ticks:j(l,"ticks"),tickSize:u,trackColor:C,trackContainerRef:i,trackFillColor:P,trackSize:F,vertical:V};return kt(De,Q),Q},bl=ie({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Je()},"VSliderThumb"),yl=ge()({name:"VSliderThumb",directives:{Ripple:wt},props:bl(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a,emit:t}=l;const s=Xe(De),{isRtl:d,rtlClasses:m}=Ae();if(!s)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:r,step:p,disabled:V,thumbSize:b,thumbLabel:S,direction:k,isReversed:y,vertical:x,readonly:h,elevation:w,mousePressed:u,decimals:F,indexFromEnd:T}=s,A=c(()=>V.value?void 0:w.value),{elevationClasses:E}=Ct(A),{textColorClasses:C,textColorStyles:P}=Vt(r),{pageup:_,pagedown:R,end:i,home:g,left:v,right:L,down:O,up:z}=Et,U=[_,R,i,g,v,L,O,z],q=c(()=>p.value?[1,2,3]:[1,5,10]);function te(N,M){if(!U.includes(N.key))return;N.preventDefault();const W=p.value||.1,Y=(e.max-e.min)/W;if([v,L,O,z].includes(N.key)){const Q=(x.value?[d.value?v:L,y.value?O:z]:T.value!==d.value?[v,z]:[L,z]).includes(N.key)?1:-1,n=N.shiftKey?2:N.ctrlKey?1:0;M=M+Q*W*q.value[n]}else if(N.key===g)M=e.min;else if(N.key===i)M=e.max;else{const Z=N.key===R?1:-1;M=M-Z*W*(Y>100?Y/10:10)}return Math.max(e.min,Math.min(e.max,M))}function ne(N){const M=te(N,e.modelValue);M!=null&&t("update:modelValue",M)}return be(()=>{const N=ee(T.value?100-e.position:e.position,"%");return o("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&u.value},e.class,m.value],style:[{"--v-slider-thumb-position":N,"--v-slider-thumb-size":ee(b.value)},e.style],role:"slider",tabindex:V.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!h.value,"aria-orientation":k.value,onKeydown:h.value?void 0:ne},[o("div",{class:["v-slider-thumb__surface",C.value,E.value],style:{...P.value}},null),H(o("div",{class:["v-slider-thumb__ripple",C.value],style:P.value},null),[[_t("ripple"),e.ripple,null,{circle:!0,center:!0}]]),o(Ye,{origin:"bottom center"},{default:()=>{var M;return[H(o("div",{class:"v-slider-thumb__label-container"},[o("div",{class:["v-slider-thumb__label"]},[o("div",null,[((M=a["thumb-label"])==null?void 0:M.call(a,{modelValue:e.modelValue}))??e.modelValue.toFixed(p.value?F.value:1)])])]),[[xt,S.value&&e.focused||S.value==="always"]])]}})])}),{}}}),hl=ie({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Je()},"VSliderTrack"),kl=ge()({name:"VSliderTrack",props:hl(),emits:{},setup(e,l){let{slots:a}=l;const t=Xe(De);if(!t)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:s,parsedTicks:d,rounded:m,showTicks:r,tickSize:p,trackColor:V,trackFillColor:b,trackSize:S,vertical:k,min:y,max:x,indexFromEnd:h}=t,{roundedClasses:w}=Ft(m),{backgroundColorClasses:u,backgroundColorStyles:F}=Ie(b),{backgroundColorClasses:T,backgroundColorStyles:A}=Ie(V),E=c(()=>`inset-${k.value?"block":"inline"}-${h.value?"end":"start"}`),C=c(()=>k.value?"height":"width"),P=c(()=>({[E.value]:"0%",[C.value]:"100%"})),_=c(()=>e.stop-e.start),R=c(()=>({[E.value]:ee(e.start,"%"),[C.value]:ee(_.value,"%")})),i=c(()=>r.value?(k.value?d.value.slice().reverse():d.value).map((v,L)=>{var z;const O=v.value!==y.value&&v.value!==x.value?ee(v.position,"%"):void 0;return o("div",{key:v.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":v.position>=e.start&&v.position<=e.stop,"v-slider-track__tick--first":v.value===y.value,"v-slider-track__tick--last":v.value===x.value}],style:{[E.value]:O}},[(v.label||a["tick-label"])&&o("div",{class:"v-slider-track__tick-label"},[((z=a["tick-label"])==null?void 0:z.call(a,{tick:v,index:L}))??v.label])])}):[]);return be(()=>o("div",{class:["v-slider-track",w.value,e.class],style:[{"--v-slider-track-size":ee(S.value),"--v-slider-tick-size":ee(p.value)},e.style]},[o("div",{class:["v-slider-track__background",T.value,{"v-slider-track__background--opacity":!!s.value||!b.value}],style:{...P.value,...A.value}},null),o("div",{class:["v-slider-track__fill",u.value],style:{...R.value,...F.value}},null),r.value&&o("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":r.value==="always"}]},[i.value])])),{}}}),wl=ie({...Tt(),...pl(),...Ze(),modelValue:{type:[Number,String],default:0}},"VSlider"),Ve=ge()({name:"VSlider",props:wl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,l){let{slots:a,emit:t}=l;const s=K(),{rtlClasses:d}=Ae(),m=Sl(e),r=Fe(e,"modelValue",void 0,C=>m.roundValue(C??m.min.value)),{min:p,max:V,mousePressed:b,roundValue:S,onSliderMousedown:k,onSliderTouchstart:y,trackContainerRef:x,position:h,hasLabels:w,readonly:u}=gl({props:e,steps:m,onSliderStart:()=>{t("start",r.value)},onSliderEnd:C=>{let{value:P}=C;const _=S(P);r.value=_,t("end",_)},onSliderMove:C=>{let{value:P}=C;return r.value=S(P)},getActiveThumb:()=>{var C;return(C=s.value)==null?void 0:C.$el}}),{isFocused:F,focus:T,blur:A}=Qe(e),E=c(()=>h(r.value));return be(()=>{const C=pe.filterProps(e),P=!!(e.label||a.label||a.prepend);return o(pe,Te({class:["v-slider",{"v-slider--has-labels":!!a["tick-label"]||w.value,"v-slider--focused":F.value,"v-slider--pressed":b.value,"v-slider--disabled":e.disabled},d.value,e.class],style:e.style},C,{focused:F.value}),{...a,prepend:P?_=>{var R,i;return o(ae,null,[((R=a.label)==null?void 0:R.call(a,_))??(e.label?o(Pt,{id:_.id.value,class:"v-slider__label",text:e.label},null):void 0),(i=a.prepend)==null?void 0:i.call(a,_)])}:void 0,default:_=>{let{id:R,messagesId:i}=_;return o("div",{class:"v-slider__container",onMousedown:u.value?void 0:k,onTouchstartPassive:u.value?void 0:y},[o("input",{id:R.value,name:e.name||R.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:r.value},null),o(kl,{ref:x,start:0,stop:E.value},{"tick-label":a["tick-label"]}),o(yl,{ref:s,"aria-describedby":i.value,focused:F.value,min:p.value,max:V.value,modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,position:E.value,elevation:e.elevation,onFocus:T,onBlur:A,ripple:e.ripple,name:e.name},{"thumb-label":a["thumb-label"]})])}})}),{}}}),Cl=ie({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Ze(),...Yt()},"VSwitch"),Vl=ge()({name:"VSwitch",inheritAttrs:!1,props:Cl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const s=Fe(e,"indeterminate"),d=Fe(e,"modelValue"),{loaderClasses:m}=Rt(e),{isFocused:r,focus:p,blur:V}=Qe(e),b=K(),S=Mt&&window.matchMedia("(forced-colors: active)").matches,k=c(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),y=At(),x=c(()=>e.id||`switch-${y}`);function h(){s.value&&(s.value=!1)}function w(u){var F,T;u.stopPropagation(),u.preventDefault(),(T=(F=b.value)==null?void 0:F.input)==null||T.click()}return be(()=>{const[u,F]=Ot(a),T=pe.filterProps(e),A=qe.filterProps(e);return o(pe,Te({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":s.value},m.value,e.class]},u,T,{modelValue:d.value,"onUpdate:modelValue":E=>d.value=E,id:x.value,focused:r.value,style:e.style}),{...t,default:E=>{let{id:C,messagesId:P,isDisabled:_,isReadonly:R,isValid:i}=E;const g={model:d,isValid:i};return o(qe,Te({ref:b},A,{modelValue:d.value,"onUpdate:modelValue":[v=>d.value=v,h],id:C.value,"aria-describedby":P.value,type:"checkbox","aria-checked":s.value?"mixed":void 0,disabled:_.value,readonly:R.value,onFocus:p,onBlur:V},F),{...t,default:v=>{let{backgroundColorClasses:L,backgroundColorStyles:O}=v;return o("div",{class:["v-switch__track",S?void 0:L.value],style:O.value,onClick:w},[t["track-true"]&&o("div",{key:"prepend",class:"v-switch__track-true"},[t["track-true"](g)]),t["track-false"]&&o("div",{key:"append",class:"v-switch__track-false"},[t["track-false"](g)])])},input:v=>{let{inputNode:L,icon:O,backgroundColorClasses:z,backgroundColorStyles:U}=v;return o(ae,null,[L,o("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":O||e.loading},e.inset||S?void 0:z.value],style:e.inset?void 0:U.value},[t.thumb?o(Dt,{defaults:{VIcon:{icon:O,size:"x-small"}}},{default:()=>[t.thumb({...g,icon:O})]}):o(Ye,null,{default:()=>[e.loading?o(zt,{name:"v-switch",active:!0,color:i.value===!1?void 0:k.value},{default:q=>t.loader?t.loader(q):o(Pe,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):O&&o($e,{key:String(O),icon:O,size:"x-small"},null)]})])])}})}})}),{}}}),_l={class:"pa-2 pr-8"},xl={class:"d-flex align-center ga-2"},El={class:"property-main"},Fl={class:"d-flex align-center justify-space-evenly"};function Tl(e,l,a,t,s,d){const m=st;return D(),J("div",{ref:"fullscreen",onMouseup:l[14]||(l[14]=r=>t.dragEnd(r)),style:oe(t.dragActive?{cursor:"all-scroll"}:{})},[t.property?(D(),G(Nt,{key:0,density:"compact",class:"d-flex align-center pa-1 pl-4 pr-4"},{default:I(()=>[X("span",_l,[X("b",null,"Id: "+fe(t.property.id??"Unknown"),1)]),o(le,{vertical:"",inset:""}),H(o(re,{class:"ml-4",density:"comfortable",to:`/${t.tenantId}/defects/${t.property.id}`,icon:"mdi-hammer-screwdriver"},null,8,["to"]),[[$,"Defects"]]),H(o(re,{class:"ml-4",density:"comfortable",icon:"mdi-sync",onClick:l[0]||(l[0]=r=>t.propertyStore.fetchProperty(t.property.id))},null,512),[[$,"Refresh"]]),H(o(re,{class:"ml-4 mr-4",icon:t.isFullscreen?"mdi-fullscreen-exit":"mdi-fullscreen",onClick:t.toggle,density:"comfortable"},null,8,["icon","onClick"]),[[$,"Toggle Fullscreen Spot View"]]),o(le,{vertical:"",inset:""}),o(Be),o(m,null,{default:I(()=>[X("div",xl,[o(Bt,{disabled:t.useAppStore().hasAdminAccess,activator:"parent",text:"Admin only"},null,8,["disabled"]),o(Zt,{label:"Simulation Speed",items:["normal","fast","slow"],modelValue:t.selectedSpeed,"onUpdate:modelValue":l[1]||(l[1]=r=>t.selectedSpeed=r),disabled:!t.useAppStore().wsStatus||!t.useAppStore().hasAdminAccess,density:"compact","hide-details":"","min-width":"150px"},null,8,["modelValue","disabled"]),o(re,{disabled:!t.useAppStore().wsStatus||!t.useAppStore().hasAdminAccess,"append-icon":t.simulationState?"mdi-pause":"mdi-play",text:"Simulation",onClick:l[2]||(l[2]=r=>t.simulationState?t.propertyStore.setSimulationInactive(t.property.id):t.propertyStore.setSimulationActive(t.property.id,t.selectedSpeed))},null,8,["disabled","append-icon"])])]),_:1})]),_:1})):se("",!0),o(It,{indeterminate:t.propertyStore.loading,color:t.propertyStore.error?"error":void 0},null,8,["indeterminate","color"]),t.property?(D(),G(Lt,{key:1},{default:I(()=>[X("div",El,[o(t.CounterCard,{name:"FREE",current:t.freeSpots.length,total:t.totalSpots,colors:"invert"},null,8,["current","total"]),o(t.CounterCard,{name:"OCCUPIED",current:t.occupiedSpots.length,total:t.totalSpots,colors:"default"},null,8,["current","total"]),o(t.CounterCard,{name:"RESERVED",current:t.reservedSpots.length,total:t.totalSpots,colors:"none"},null,8,["current","total"]),o(t.CounterCard,{name:"CHARGING",current:t.chargingSpots.length,total:t.electricSpots.length,colors:"none"},null,8,["current","total"]),o(t.CounterCard,{name:"OUT OF ORDER",current:t.outOfOrderSpots.length,colors:"none"},null,8,["current"]),H(o(t.CounterCard,{name:"CUSTOMERS",current:t.customers.length,colors:"none"},null,8,["current"]),[[$,"Count of total daily customers","bottom"]]),o(Ee,{class:"legend"},{default:I(()=>[o(Le,{class:"d-flex ga-2 align-center"},{default:I(()=>[l[16]||(l[16]=me("Legend ")),H((D(),G($e,{size:"sm"},{default:I(()=>l[15]||(l[15]=[me("mdi-information-outline ")])),_:1})),[[$,"Hover to see what each spot represents","top"]])]),_:1}),o(Ut,null,{default:I(()=>[X("span",Fl,[(D(),J(ae,null,ue(t.exampleSpots,r=>o(t.ParkingSpotComponent,{key:r.id,spot:r,explanation:r.explanation},null,8,["spot","explanation"])),64))])]),_:1})]),_:1}),t.currentLayer?(D(),G(Ee,{key:0,class:"full-grid-row",onMousedown:l[10]||(l[10]=r=>t.dragStart(r)),onMousemove:l[11]||(l[11]=r=>t.dragMove(r)),onMouseup:l[12]||(l[12]=r=>t.dragEnd(r)),onContextmenu:l[13]||(l[13]=qt(()=>{},["prevent"]))},{default:I(()=>[o(Le,{class:"d-flex align-center spot-title"},{default:I(()=>[me(fe(t.property.name)+" ",1),o(Be),o(le,{vertical:"",inset:"",class:"ma-4"}),o(m,{class:"d-flex align-center flex-grow-1",modelValue:t.isometric,"onUpdate:modelValue":l[8]||(l[8]=r=>t.isometric=r)},{default:I(()=>[H(o(Vl,{label:"Isometric",flat:"",color:t.isometric?"primary":"default",modelValue:t.isometric,"onUpdate:modelValue":l[3]||(l[3]=r=>t.isometric=r),"hide-details":""},null,8,["color","modelValue"]),[[$,"Toggle Isometric View"]]),H(o(re,{class:"ml-2",icon:"mdi-backup-restore",density:"comfortable",flat:"",onClick:l[4]||(l[4]=r=>t.resetViewSettings())},null,512),[[$,"Reset View Settings to defaults","bottom"]]),o(le,{vertical:"",inset:"",class:"ma-4"}),o(Ve,{modelValue:t.zoom,"onUpdate:modelValue":l[5]||(l[5]=r=>t.zoom=r),min:20,max:120,step:1,"prepend-icon":"mdi-magnify-minus","append-icon":"mdi-magnify-plus",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"]),o(Ve,{modelValue:t.xTranslate,"onUpdate:modelValue":l[6]||(l[6]=r=>t.xTranslate=r),min:t.xMin,max:t.xMax,step:1,"prepend-icon":"mdi-axis-x-arrow",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"]),o(Ve,{modelValue:t.yTranslate,"onUpdate:modelValue":l[7]||(l[7]=r=>t.yTranslate=r),min:t.yMin,max:t.yMax,step:1,"prepend-icon":"mdi-axis-z-arrow",disabled:!t.isometric,density:"comfortable","thumb-label":"","hide-details":""},null,8,["modelValue","disabled"])]),_:1},8,["modelValue"]),o(le,{vertical:"",inset:"",class:"ma-4"}),o(Qt,{modelValue:t.page,"onUpdate:modelValue":l[9]||(l[9]=r=>t.page=r),length:t.property.layers.length,variant:"outlined","total-visible":"5",density:"comfortable"},null,8,["modelValue","length"])]),_:1}),o(le),t.property.layers.length>0?(D(),J("div",{key:0,style:oe(t.isometric?{transform:`translate3d(${t.xTranslate}%, ${t.yTranslate}px, 0)`}:{})},[t.isometric?t.isometric?(D(!0),J(ae,{key:1},ue(t.property.layers,r=>(D(),J("div",{id:"spot-container",ref_for:!0,ref:"spot-container",class:Gt(["isometric",r.floor===t.currentLayer.floor?"preferred-isometric":""]),style:oe({gridTemplateColumns:`repeat(${r.columns}, minmax(2em, 1fr))`,top:`${r.floor*100}px`,zIndex:r.floor,zoom:`${t.zoom}%`})},[(D(),G(Ue,null,{fallback:I(()=>[o(Pe,{indeterminate:""})]),default:I(()=>[(D(!0),J(ae,null,ue(r.parkingSpots,p=>(D(),G(t.ParkingSpotComponent,{key:p.id,spot:p,onStateChange:V=>t.updateSpotState(p.id,V)},null,8,["spot","onStateChange"]))),128))]),_:2},1024))],6))),256)):se("",!0):(D(),J("div",{key:0,id:"spot-container",ref:"spot-container",style:oe(t.currentLayer?{gridTemplateColumns:`repeat(${t.currentLayer.columns}, minmax(2em, 1fr))`}:{})},[(D(),G(Ue,null,{fallback:I(()=>[o(Pe,{indeterminate:""})]),default:I(()=>[(D(!0),J(ae,null,ue(t.currentLayer.parkingSpots,r=>(D(),G(t.ParkingSpotComponent,{key:r.id,spot:r,onStateChange:p=>t.updateSpotState(r.id,p)},null,8,["spot","onStateChange"]))),128))]),_:1}))],4))],4)):(D(),G(jt,{key:1,class:"pa-4"},{default:I(()=>l[17]||(l[17]=[X("i",null,"No parking spots yet.",-1)])),_:1}))]),_:1})):se("",!0)])]),_:1})):se("",!0)],36)}const zl=He(vl,[["render",Tl],["__scopeId","data-v-81669d33"],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/pages/[tenantId]/property/[id].vue"]]);export{zl as default};
