import{_ as Ne}from"./ProTier-DpA2yFHu.js";import{a4 as _,a5 as ne,bw as Oe,a8 as B,aK as oe,bx as Ge,ab as R,l,p as ie,v as je,by as Fe,aH as fe,a6 as qe,aD as He,bk as se,aa as Ke,f as k,aF as Xe,aB as Ce,Z as Q,ba as Ye,aC as Je,b9 as Qe,a7 as de,aE as Ze,bf as $e,bj as ea,be as aa,aM as ta,bz as la,bA as na,aP as oa,bB as ia,aS as he,bc as g,d as sa,ac as da,u as ge,bC as ra,aU as ua,r as b,a as ca,bD as N,bE as ma,bF as va,bG as fa,S as ga,aJ as Ie,bH as pa,bg as ba,s as E,P as G,aw as W,ay as xa,bI as ya,bJ as Va,ap as Ee,bK as wa,bL as Pa,bM as ka,b4 as Sa,bN as Ua,_ as Ta,k as O,w as o,m as Ca,c as h,ak as ha,K as X,o as w,a1 as ee,D as v,t as S,V as Ia,b as I,x as pe,bO as Ea,J as Y,bP as ae,bQ as be,q as Ma,F as Da,I as J,T as Aa,M as xe,B as ye,C as Ve,E as we,L as Pe}from"./index-skLcKJyn.js";import{m as _a,V as ke,a as Ba,b as Se}from"./VWindowItem-Bg1TO-Aq.js";import{m as Ra,b as Ue}from"./VChip-BMgah-Dj.js";import{V as Te}from"./VSelect-5EA2GgPs.js";import{V as La}from"./VDataTable-USwWNPCZ.js";import"./VPagination-BKSCydWf.js";const j=Symbol.for("vuetify:v-expansion-panel"),Me=_({...ne(),...Oe()},"VExpansionPanelText"),te=B()({name:"VExpansionPanelText",props:Me(),setup(a,t){let{slots:i}=t;const e=oe(j);if(!e)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:c,onAfterLeave:f}=Ge(a,e.isSelected);return R(()=>l(Fe,{onAfterLeave:f},{default:()=>{var r;return[ie(l("div",{class:["v-expansion-panel-text",a.class],style:a.style},[i.default&&c.value&&l("div",{class:"v-expansion-panel-text__wrapper"},[(r=i.default)==null?void 0:r.call(i)])]),[[je,e.isSelected.value]])]}})),{}}}),De=_({color:String,expandIcon:{type:fe,default:"$expand"},collapseIcon:{type:fe,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ne(),...qe()},"VExpansionPanelTitle"),le=B()({name:"VExpansionPanelTitle",directives:{Ripple:He},props:De(),setup(a,t){let{slots:i}=t;const e=oe(j);if(!e)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:c,backgroundColorStyles:f}=se(a,"color"),{dimensionStyles:r}=Ke(a),s=k(()=>({collapseIcon:a.collapseIcon,disabled:e.disabled.value,expanded:e.isSelected.value,expandIcon:a.expandIcon,readonly:a.readonly})),n=k(()=>e.isSelected.value?a.collapseIcon:a.expandIcon);return R(()=>{var p;return ie(l("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":e.isSelected.value,"v-expansion-panel-title--focusable":a.focusable,"v-expansion-panel-title--static":a.static},c.value,a.class],style:[f.value,r.value,a.style],type:"button",tabindex:e.disabled.value?-1:void 0,disabled:e.disabled.value,"aria-expanded":e.isSelected.value,onClick:a.readonly?void 0:e.toggle},[l("span",{class:"v-expansion-panel-title__overlay"},null),(p=i.default)==null?void 0:p.call(i,s.value),!a.hideActions&&l(Ce,{defaults:{VIcon:{icon:n.value}}},{default:()=>{var V;return[l("span",{class:"v-expansion-panel-title__icon"},[((V=i.actions)==null?void 0:V.call(i,s.value))??l(Q,null,null)])]}})]),[[Xe("ripple"),a.ripple]])}),{}}}),Ae=_({title:String,text:String,bgColor:String,...Ye(),...Je(),...Qe(),...de(),...De(),...Me()},"VExpansionPanel"),Wa=B()({name:"VExpansionPanel",props:Ae(),emits:{"group:selected":a=>!0},setup(a,t){let{slots:i}=t;const e=Ze(a,j),{backgroundColorClasses:c,backgroundColorStyles:f}=se(a,"bgColor"),{elevationClasses:r}=$e(a),{roundedClasses:s}=ea(a),n=k(()=>(e==null?void 0:e.disabled.value)||a.disabled),p=k(()=>e.group.items.value.reduce((d,u,y)=>(e.group.selected.value.includes(u.id)&&d.push(y),d),[])),V=k(()=>{const d=e.group.items.value.findIndex(u=>u.id===e.id);return!e.isSelected.value&&p.value.some(u=>u-d===1)}),P=k(()=>{const d=e.group.items.value.findIndex(u=>u.id===e.id);return!e.isSelected.value&&p.value.some(u=>u-d===-1)});return aa(j,e),R(()=>{const d=!!(i.text||a.text),u=!!(i.title||a.title),y=le.filterProps(a),x=te.filterProps(a);return l(a.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":e.isSelected.value,"v-expansion-panel--before-active":V.value,"v-expansion-panel--after-active":P.value,"v-expansion-panel--disabled":n.value},s.value,c.value,a.class],style:[f.value,a.style]},{default:()=>[l("div",{class:["v-expansion-panel__shadow",...r.value]},null),l(Ce,{defaults:{VExpansionPanelTitle:{...y},VExpansionPanelText:{...x}}},{default:()=>{var C;return[u&&l(le,{key:"title"},{default:()=>[i.title?i.title():a.title]}),d&&l(te,{key:"text"},{default:()=>[i.text?i.text():a.text]}),(C=i.default)==null?void 0:C.call(i)]}})]})}),{groupItem:e}}}),za=["default","accordion","inset","popout"],Na=_({flat:Boolean,...ta(),...la(Ae(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...na(),...ne(),...de(),variant:{type:String,default:"default",validator:a=>za.includes(a)}},"VExpansionPanels"),Oa=B()({name:"VExpansionPanels",props:Na(),emits:{"update:modelValue":a=>!0},setup(a,t){let{slots:i}=t;const{next:e,prev:c}=oa(a,j),{themeClasses:f}=ia(a),r=k(()=>a.variant&&`v-expansion-panels--variant-${a.variant}`);return he({VExpansionPanel:{bgColor:g(a,"bgColor"),collapseIcon:g(a,"collapseIcon"),color:g(a,"color"),eager:g(a,"eager"),elevation:g(a,"elevation"),expandIcon:g(a,"expandIcon"),focusable:g(a,"focusable"),hideActions:g(a,"hideActions"),readonly:g(a,"readonly"),ripple:g(a,"ripple"),rounded:g(a,"rounded"),static:g(a,"static")}}),R(()=>l(a.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":a.flat,"v-expansion-panels--tile":a.tile},f.value,r.value,a.class],style:a.style},{default:()=>{var s;return[(s=i.default)==null?void 0:s.call(i,{prev:c,next:e})]}})),{next:e,prev:c}}}),Ga=sa({__name:"settings",setup(a,{expose:t}){t();const i=da(),e=ge(),c=ra(),f=ua(),r=k(()=>ca.currentRoute.value.params.tenantId),s=b(!1),n=b(!1),p=b(""),V=b("user"),P=b(""),d=b(""),u=b(""),y=b(""),x=b(""),C=b(""),F=b(""),T=b(void 0),U=b(!1),M=b(void 0),D=b(void 0),q=async()=>{var m;if(i){D.value=void 0,U.value=!0,setTimeout(()=>{U.value&&(M.value="Migration is taking longer than expected. Please be patient.")},15e3),T.value=void 0;try{const K=await((m=i.currentUser)==null?void 0:m.getIdToken());if(!K){console.error("Currently not logged in!");return}const We=ma({projectId:"cloud-porsche",apiKey:"AIzaSyBMKjAnTXRxswz9NFQlDRXMieSyBDLZepk",authDomain:"cloud-porsche.firebaseapp.com"},"temp"),ve=va(We);["free","free-tier"].includes(x.value)||(ve.tenantId=x.value);const ze=await(await fa(ve,C.value,F.value)).user.getIdToken(),$=new Headers;$.set("authorization-old",ze),$.set("authorization-new",K),await ga(`/v1/tenants/${x.value}/migrate/${r.value}`,void 0,{headers:$},"tenantManagement"),D.value="Migration successful!",await f.fetchProperties()}catch(K){T.value="Migration failed: "+K}finally{M.value=void 0,U.value=!1}}},A=[{title:"Email",key:"email"},{title:"UID",key:"uid"},{title:"Current Role",key:"role"},{title:"Actions",key:"action",sortable:!1,maxWidth:"100px"}],H=k(()=>[{title:"General",text:"General settings for the Cloud Porsche application.",selections:[{title:"Material Design",advanced:!1,text:"You can choose between the 3 Material Design variants of Googles Material Design.",chips:!0,options:[N.NONE,N.MD1,N.MD2,N.MD3],initial:localStorage.getItem("material")??N.NONE,valueChange:m=>{localStorage.setItem("material",m),window.location.reload()}}],migration:!["free-tier","free"].includes(r.value)&&e.hasAdminAccess},{title:"User Management",text:"Manage users for the current tenant."},{title:"Property Management",text:"Settings for the Property Management Module.",selections:[{title:"API Endpoint",advanced:!1,text:"This will be the communication endpoint for Defects.",options:[...new Set([..."".split(","),void 0,e.api.propertyManagement])],initial:e.api.propertyManagement,valueChange:m=>{e.changePropertyManagementApiURL(m)}}]},{title:"Parking Management",text:"Settings for the Parking Management Module.",selections:[{title:"API Endpoint",advanced:!1,text:"This will be the communication endpoint for Parking spots.",options:[...new Set([..."".split(","),void 0,e.api.parkingManagement])],initial:e.api.parkingManagement,valueChange:m=>{e.changeParkingManagementApiURL(m)}}]},{title:"Monitoring Management",text:"Settings for the Monitoring Management Module.",selections:[{title:"API Endpoint",advanced:!1,text:"This will be the communication endpoint for the Monitoring.",options:[...new Set([..."".split(","),void 0,e.api.monitoringManagement])],initial:e.api.monitoringManagement,valueChange:m=>{e.changeMonitoringManagementApiURL(m)}}]},{title:"Tenant Management",text:"Settings for the Tenant Management Module.",selections:[{title:"API Endpoint",advanced:!1,text:"This will be the communication endpoint for tenant management.",options:[...new Set([..."".split(","),"https://tenant-management.staging.cloud-porsche.com",e.api.tenantManagement])],initial:e.api.tenantManagement,valueChange:m=>{e.changeTenantManagementApiURL(m)}}]}]),Z=b(H.value[0]),z={auth:i,appStore:e,userStore:c,propertyStore:f,tenantId:r,dialog:s,deleteUserDialog:n,newUserEmail:p,newUserRole:V,oldUserRole:P,editingUID:d,deleteUserUid:u,deleteUserMail:y,oldTenantId:x,oldEmail:C,oldPassword:F,migrationError:T,migrationLoading:U,migrationLong:M,migrationSuccess:D,doMigration:q,userTableHeaders:A,tabs:H,activeTab:Z,openEditUserDialog:m=>{s.value=!0,d.value=m.uid,p.value=m.email,V.value=m.role,P.value=m.role},openDeleteUserDialog:m=>{n.value=!0,u.value=m.uid,y.value=m.email},handleAddOrUpdateUser:async()=>{try{d.value?await c.updateUserRole(r.value,d.value,V.value):await c.addUser(r.value,p.value,V.value)}catch(m){console.error("Error in adding or updating user:",m)}finally{s.value=!1}},handleDeleteUser:async()=>{try{await c.deleteUser(r.value,u.value)}catch(m){console.error("Error deleting user:",m)}finally{n.value=!1}},openAddUserDialog:()=>{p.value="",V.value="user",d.value="",s.value=!0},get useAppStore(){return ge}};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}}),re=Symbol.for("vuetify:v-tabs"),ja=_({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ie(pa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),_e=B()({name:"VTab",props:ja(),setup(a,t){let{slots:i,attrs:e}=t;const{textColorClasses:c,textColorStyles:f}=ba(a,"sliderColor"),r=b(),s=b(),n=k(()=>a.direction==="horizontal"),p=k(()=>{var P,d;return((d=(P=r.value)==null?void 0:P.group)==null?void 0:d.isSelected.value)??!1});function V(P){var u,y;let{value:d}=P;if(d){const x=(y=(u=r.value)==null?void 0:u.$el.parentElement)==null?void 0:y.querySelector(".v-tab--selected .v-tab__slider"),C=s.value;if(!x||!C)return;const F=getComputedStyle(x).color,T=x.getBoundingClientRect(),U=C.getBoundingClientRect(),M=n.value?"x":"y",D=n.value?"X":"Y",q=n.value?"right":"bottom",A=n.value?"width":"height",H=T[M],Z=U[M],L=H>Z?T[q]-U[q]:T[M]-U[M],ue=Math.sign(L)>0?n.value?"right":"bottom":Math.sign(L)<0?n.value?"left":"top":"center",ce=(Math.abs(L)+(Math.sign(L)<0?T[A]:U[A]))/Math.max(T[A],U[A])||0,me=T[A]/U[A]||0,z=1.5;ya(C,{backgroundColor:[F,"currentcolor"],transform:[`translate${D}(${L}px) scale${D}(${me})`,`translate${D}(${L/z}px) scale${D}(${(ce-1)/z+1})`,"none"],transformOrigin:Array(3).fill(ue)},{duration:225,easing:Va})}}return R(()=>{const P=E.filterProps(a);return l(E,W({symbol:re,ref:r,class:["v-tab",a.class],style:a.style,tabindex:p.value?0:-1,role:"tab","aria-selected":String(p.value),active:!1},P,e,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":V}),{...i,default:()=>{var d;return l(G,null,[((d=i.default)==null?void 0:d.call(i))??a.text,!a.hideSlider&&l("div",{ref:s,class:["v-tab__slider",c.value],style:f.value},null)])}})}),xa({},r)}}),Fa=_({...Ie(_a(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Be=B()({name:"VTabsWindow",props:Fa(),emits:{"update:modelValue":a=>!0},setup(a,t){let{slots:i}=t;const e=oe(re,null),c=Ee(a,"modelValue"),f=k({get(){var r;return c.value!=null||!e?c.value:(r=e.items.value.find(s=>e.selected.value.includes(s.id)))==null?void 0:r.value},set(r){c.value=r}});return R(()=>{const r=ke.filterProps(a);return l(ke,W({_as:"VTabsWindow"},r,{modelValue:f.value,"onUpdate:modelValue":s=>f.value=s,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),i)}),{}}}),qa=_({...Ba()},"VTabsWindowItem"),Re=B()({name:"VTabsWindowItem",props:qa(),setup(a,t){let{slots:i}=t;return R(()=>{const e=Se.filterProps(a);return l(Se,W({_as:"VTabsWindowItem"},e,{class:["v-tabs-window-item",a.class],style:a.style}),i)}),{}}});function Ha(a){return a?a.map(t=>Ua(t)?t:{text:t,value:t}):[]}const Ka=_({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ra({mandatory:"force",selectedClass:"v-tab-item--selected"}),...wa(),...de()},"VTabs"),Xa=B()({name:"VTabs",props:Ka(),emits:{"update:modelValue":a=>!0},setup(a,t){let{attrs:i,slots:e}=t;const c=Ee(a,"modelValue"),f=k(()=>Ha(a.items)),{densityClasses:r}=Pa(a),{backgroundColorClasses:s,backgroundColorStyles:n}=se(g(a,"bgColor")),{scopeId:p}=ka();return he({VTab:{color:g(a,"color"),direction:g(a,"direction"),stacked:g(a,"stacked"),fixed:g(a,"fixedTabs"),sliderColor:g(a,"sliderColor"),hideSlider:g(a,"hideSlider")}}),R(()=>{const V=Ue.filterProps(a),P=!!(e.window||a.items.length>0);return l(G,null,[l(Ue,W(V,{modelValue:c.value,"onUpdate:modelValue":d=>c.value=d,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},r.value,s.value,a.class],style:[{"--v-tabs-height":Sa(a.height)},n.value,a.style],role:"tablist",symbol:re},p,i),{default:()=>{var d;return[((d=e.default)==null?void 0:d.call(e))??f.value.map(u=>{var y;return((y=e.tab)==null?void 0:y.call(e,{item:u}))??l(_e,W(u,{key:u.text,value:u.value}),{default:e[`tab.${u.value}`]?()=>{var x;return(x=e[`tab.${u.value}`])==null?void 0:x.call(e,{item:u})}:void 0})})]}}),P&&l(Be,W({modelValue:c.value,"onUpdate:modelValue":d=>c.value=d,key:"tabs-window"},p),{default:()=>{var d;return[f.value.map(u=>{var y;return((y=e.item)==null?void 0:y.call(e,{item:u}))??l(Re,{value:u.value},{default:()=>{var x;return(x=e[`item.${u.value}`])==null?void 0:x.call(e,{item:u})}})}),(d=e.window)==null?void 0:d.call(e)]}})])}),{}}}),Ya={class:"pb-4"},Ja={class:"d-flex justify-space-between pb-10"},Qa={class:"d-flex justify-end"},Za={key:0,class:"pl-4"},$a={class:"headline"};function et(a,t,i,e,c,f){const r=Ne;return w(),O("div",null,[l(Ca,{density:"comfortable"},{default:o(()=>[l(Xa,{modelValue:e.activeTab,"onUpdate:modelValue":t[0]||(t[0]=s=>e.activeTab=s)},{default:o(()=>[(w(!0),O(G,null,ee(e.tabs,s=>(w(),h(_e,{key:s.title,value:s.title},{default:o(()=>[v(S(s.title),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(Be,{modelValue:e.activeTab,"onUpdate:modelValue":t[12]||(t[12]=s=>e.activeTab=s)},{default:o(()=>[(w(!0),O(G,null,ee(e.tabs,s=>(w(),h(Re,{key:s.title,value:s.title},{default:o(()=>[l(Ia,null,{default:o(()=>[I("p",Ya,S(s.text),1),l(pe,{class:"pa-2"}),l(Ea,{rounded:""},{default:o(()=>[s.selections?(w(!0),O(G,{key:0},ee(s.selections,n=>(w(),h(Y,{disabled:n.advanced,key:n.title,class:"pa-5"},{default:o(()=>[l(ae,null,{default:o(()=>[v(S((n.advanced?"Disabled: ":"")+n.title),1)]),_:2},1024),l(be,{class:"d-block pb-5"},{default:o(()=>[v(S(n.text),1)]),_:2},1024),l(Te,{"model-value":n.initial,"onUpdate:modelValue":n.valueChange,items:n.options,outlined:""},null,8,["model-value","onUpdate:modelValue","items"])]),_:2},1032,["disabled"]))),128)):s.title==="User Management"&&e.useAppStore().hasAdminAccess?(w(),h(r,{key:1},{default:o(()=>[l(Y,{class:"pa-5"},{default:o(()=>[I("div",Ja,[t[15]||(t[15]=I("h2",null,"User Management",-1)),I("div",Qa,[l(E,{color:"primary",onClick:t[1]||(t[1]=n=>e.userStore.fetchUsers(e.tenantId,e.appStore.currUser.uid))},{default:o(()=>[...t[13]||(t[13]=[v(" Refresh ")])]),_:1}),l(Ma,{class:"pl-5"}),l(E,{color:"primary",onClick:e.openAddUserDialog},{default:o(()=>[...t[14]||(t[14]=[v(" Add User ")])]),_:1})])]),l(La,{class:"data-table rounded",density:"comfortable",items:e.userStore.users,headers:e.userTableHeaders,"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:-1,title:"All"}],"item-value":"email",dense:"",outlined:""},{"item.email":o(({item:n})=>[v(S(n.email),1)]),"item.uid":o(({item:n})=>[v(S(n.uid),1)]),"item.role":o(({item:n})=>[v(S(n.role),1)]),"item.action":o(({item:n})=>[I("div",null,[l(Q,{class:"me-3",onClick:p=>e.openEditUserDialog(n)},{default:o(()=>[...t[16]||(t[16]=[v(" mdi-pencil ")])]),_:2},1032,["onClick"]),l(Q,{color:"red",onClick:p=>e.openDeleteUserDialog(n)},{default:o(()=>[...t[17]||(t[17]=[v(" mdi-delete ")])]),_:2},1032,["onClick"])])]),_:1},8,["items"])]),_:1})]),_:1})):(w(),h(Y,{key:2,class:"pa-5"},{default:o(()=>[l(ae,null,{default:o(()=>[...t[18]||(t[18]=[v("No settings available.")])]),_:1})]),_:1}))]),_:2},1024),s.migration?(w(),h(Oa,{key:0,rounded:"",class:"mt-4"},{default:o(()=>[l(Wa,null,{default:o(()=>[l(le,null,{default:o(()=>[l(Y,null,{default:o(()=>[l(ae,null,{default:o(()=>[...t[19]||(t[19]=[v("Data Migration")])]),_:1}),l(be,null,{default:o(()=>[...t[20]||(t[20]=[v(" Migrating from a different tenant? Enter your details below and start the migration process. ")])]),_:1})]),_:1})]),_:1}),l(te,null,{default:o(()=>[l(Da,{onSubmit:t[5]||(t[5]=n=>e.doMigration()),class:"ma-2"},{default:o(()=>[l(J,{modelValue:e.oldTenantId,"onUpdate:modelValue":t[2]||(t[2]=n=>e.oldTenantId=n),label:"Old Tenant ID",required:""},{append:o(()=>[ie((w(),h(Q,null,{default:o(()=>[...t[21]||(t[21]=[v("mdi-help-circle-outline ")])]),_:1})),[[Aa,"You can find your tenant id in the path of your URL (e.g. yourname-y71nc)","top"]])]),_:1},8,["modelValue"]),l(J,{modelValue:e.oldEmail,"onUpdate:modelValue":t[3]||(t[3]=n=>e.oldEmail=n),label:"Old Tenant Email",required:""},null,8,["modelValue"]),l(J,{modelValue:e.oldPassword,"onUpdate:modelValue":t[4]||(t[4]=n=>e.oldPassword=n),label:"Old Tenant Password",required:"",type:"password"},null,8,["modelValue"]),l(pe,{class:"pb-4"}),I("span",null,[l(E,{onClick:e.doMigration,color:e.migrationError?"error":"primary",loading:e.migrationLoading,disabled:!e.oldTenantId||!e.oldEmail||!e.oldPassword},{default:o(()=>[...t[22]||(t[22]=[v(" Confirm & Start Migration ")])]),_:1},8,["color","loading","disabled"]),e.migrationLong?(w(),O("span",Za,S(e.migrationLong),1)):X("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})):X("",!0),l(xe,{modelValue:e.dialog,"onUpdate:modelValue":t[9]||(t[9]=n=>e.dialog=n),"max-width":"500px"},{default:o(()=>[l(ye,null,{default:o(()=>[l(Ve,null,{default:o(()=>[I("span",$a,S(e.editingUID?"Edit User Role":"Add New User"),1)]),_:1}),l(we,null,{default:o(()=>[e.editingUID?X("",!0):(w(),h(J,{key:0,modelValue:e.newUserEmail,"onUpdate:modelValue":t[6]||(t[6]=n=>e.newUserEmail=n),label:"User Email",outlined:"",required:"",editable:"true",rules:[n=>/.+@.+\..+/.test(n)||"E-mail must be valid"]},null,8,["modelValue","rules"])),l(Te,{modelValue:e.newUserRole,"onUpdate:modelValue":t[7]||(t[7]=n=>e.newUserRole=n),label:"Role",items:["admin","user","manager"],outlined:"",required:""},null,8,["modelValue"])]),_:1}),l(Pe,null,{default:o(()=>[l(E,{onClick:t[8]||(t[8]=n=>e.dialog=!1)},{default:o(()=>[...t[23]||(t[23]=[v(" Cancel")])]),_:1}),l(E,{color:"primary",disabled:!!e.editingUID&&e.oldUserRole===e.newUserRole||!e.editingUID&&!/.+@.+\..+/.test(e.newUserEmail),onClick:e.handleAddOrUpdateUser},{default:o(()=>[v(S(e.editingUID?"Update":"Add User"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(xe,{modelValue:e.deleteUserDialog,"onUpdate:modelValue":t[11]||(t[11]=n=>e.deleteUserDialog=n),"max-width":"500px"},{default:o(()=>[l(ye,null,{default:o(()=>[l(Ve,null,{default:o(()=>[...t[24]||(t[24]=[I("span",{class:"headline"},"Delete User",-1)])]),_:1}),l(we,null,{default:o(()=>[I("p",null," Are you sure you want to delete the user "+S(e.deleteUserMail)+"? ",1)]),_:1}),l(Pe,null,{default:o(()=>[l(E,{color:"blue",onClick:t[10]||(t[10]=n=>e.deleteUserDialog=!1)},{default:o(()=>[...t[25]||(t[25]=[v(" Cancel ")])]),_:1}),l(E,{color:"red",onClick:e.handleDeleteUser},{default:o(()=>[...t[26]||(t[26]=[v("Delete")])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),e.migrationSuccess||e.migrationError?(w(),h(ha,{key:0,closable:"",type:e.migrationSuccess?"success":"error",class:"ms-8 me-8 mb-8"},{default:o(()=>[v(S(e.migrationSuccess||e.migrationError),1)]),_:1},8,["type"])):X("",!0)])}const rt=Ta(Ga,[["render",et],["__file","/home/runner/work/cloud-porsche/cloud-porsche/cloud-dev-ui/src/pages/[tenantId]/settings.vue"]]);export{rt as default};
