import{d as y,r as w,o as n,j as g,k as l,w as o,c as d,a4 as O,J as c,br as I,A as V,B as T,b as a,C as f,p as h,M as x,W as D,K as F,D as N,t as p,u as i,e as U,s,I as B,P as A,N as z,b0 as G}from"./index-p8F1I7Eo.js";import{V as H}from"./VDataTable-j3hTh0eS.js";import{V as Y}from"./VSelect-hf9cPqrI.js";import{V as k}from"./VChip-bJK9fyN9.js";import{V as M,a as j}from"./VRow-yukr7wC1.js";import{u as L}from"./index-5gGiVP8f.js";import"./VPagination-Dbs92HfA.js";const $={key:1,class:"mdi mdi-flash text-yellow"},J={class:"d-flex text-center align-center"},K={key:0},W={key:1},q=y({__name:"ParkingSpotComponent",props:{spot:{},disableDialog:{type:Boolean},explanation:{}},emits:["stateChange"],setup(Q,{emit:E}){const P=E,u=w(!1);function m(e){switch(e){case s.ParkingSpotState.FREE:return;case s.ParkingSpotState.OCCUPIED:return"green";case s.ParkingSpotState.RESERVED:return"yellow";case s.ParkingSpotState.OUT_OF_ORDER:return"red";case s.ParkingSpotState.CHARGING:return"blue";default:return"black"}}function S(e){switch(e){case s.ParkingSpotState.FREE:return"Free";case s.ParkingSpotState.OCCUPIED:return"Occupied";case s.ParkingSpotState.RESERVED:return"Reserved";case s.ParkingSpotState.OUT_OF_ORDER:return"Out of Order";case s.ParkingSpotState.CHARGING:return"Charging";default:return"Unknown"}}function R(e){P("stateChange",e)}function b(){u.value=!0}function v(){u.value=!1}return(e,t)=>(n(),g("div",null,[l(V,{color:m(e.spot.state),onClick:t[0]||(t[0]=r=>e.disableDialog?void 0:b()),disabled:e.spot.placeholder,border:"",flat:"",class:I([e.spot.placeholder?"disabled-spot":"","spot d-flex align-center justify-center"])},{default:o(()=>[e.explanation?(n(),d(O,{key:0,activator:"parent",text:e.explanation,location:"bottom"},null,8,["text"])):c("",!0),e.spot.electricCharging?(n(),g("i",$)):c("",!0)]),_:1},8,["color","disabled","class"]),l(z,{modelValue:i(u),"onUpdate:modelValue":t[3]||(t[3]=r=>A(u)?u.value=r:null),"max-width":"50%","max-height":"80%"},{default:o(()=>[l(V,{rounded:"",class:"overflow-hidden"},{default:o(()=>[l(T,null,{default:o(()=>[a("span",J,[t[5]||(t[5]=f("Parking Spot Details ")),l(h),l(x,{icon:"",variant:"flat",onClick:t[1]||(t[1]=r=>v())},{default:o(()=>[l(D,null,{default:o(()=>t[4]||(t[4]=[f("mdi-close")])),_:1})]),_:1})])]),_:1}),l(F),l(N,null,{default:o(()=>[e.spot?(n(),d(H,{key:0,density:"compact","hide-default-header":"","hide-default-footer":""},{body:o(()=>[a("tr",null,[t[6]||(t[6]=a("td",null,"ID",-1)),a("td",null,p(e.spot.id),1)]),a("tr",null,[t[7]||(t[7]=a("td",null,"State",-1)),a("td",null,[i(U)().hasAdminAccess?(n(),d(Y,{key:0,variant:"plain","model-value":e.spot.state,"onUpdate:modelValue":t[2]||(t[2]=r=>R(r)),items:[i(s.ParkingSpotState).FREE,i(s.ParkingSpotState).RESERVED,i(s.ParkingSpotState).OUT_OF_ORDER],"menu-icon":"mdi-pencil"},{selection:o(({item:r})=>[l(k,{color:m(r.raw),text:S(r.raw),class:"text-uppercase",size:"small",label:""},null,8,["color","text"])]),item:o(({props:r,item:C})=>[l(B,{props:r,onClick:r.onClick},{default:o(()=>[l(k,{color:m(C.raw),text:S(C.raw),class:"text-uppercase",size:"small",label:""},null,8,["color","text"])]),_:2},1032,["props","onClick"])]),_:1},8,["model-value","items"])):(n(),d(k,{key:1,color:m(e.spot.state),text:S(e.spot.state),class:"text-uppercase",size:"small",label:""},null,8,["color","text"]))])]),a("tr",null,[t[8]||(t[8]=a("td",null,"Last State Change",-1)),a("td",null,p(i(L)(e.spot.lastStateChange,"DD.MM.YYYY HH:mm:ss")),1)]),a("tr",null,[t[9]||(t[9]=a("td",null,"Is electric charging spot?",-1)),a("td",null,[l(D,{color:e.spot.electricCharging?"green":"red"},{default:o(()=>[f(p(e.spot.electricCharging?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"])])]),e.spot.currentCharge?(n(),g("tr",K,[t[10]||(t[10]=a("td",null,"Current charge",-1)),a("td",null,p(e.spot.currentCharge)+"%",1)])):c("",!0),e.spot.customer?(n(),g("tr",W,[t[11]||(t[11]=a("td",null,"Parked Car",-1)),a("td",null,p(e.spot.customer.licensePlate),1)])):c("",!0)]),_:1})):(n(),d(M,{key:1},{default:o(()=>[l(j,null,{default:o(()=>t[12]||(t[12]=[f(" No parking spot selected.")])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),ot=G(q,[["__scopeId","data-v-81b78b25"]]);export{ot as default};
