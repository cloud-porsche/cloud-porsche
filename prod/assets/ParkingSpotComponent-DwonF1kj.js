import{d as y,r as O,o as n,k as g,l,w as o,c as d,a5 as w,M as f,bs as x,D as V,E as F,b as a,F as c,q as I,s as T,X as D,x as h,G as U,t as p,u as i,f as N,z as s,L as B,Q as z,O as A,b1 as G}from"./index-Bsw1IfI-.js";import{V as H}from"./VDataTable-CojhYOMw.js";import{V as Y}from"./VSelect-CNMU9u9T.js";import{V as k}from"./VChip-C1Wy9kug.js";import{V as L,a as M}from"./VRow-B3RHJn6Z.js";import{u as $}from"./index-BAhiIYZO.js";import"./VPagination-CqCj4r71.js";const j={key:1,class:"mdi mdi-flash text-yellow"},q={class:"d-flex text-center align-center"},Q={key:0},X={key:1},J=y({__name:"ParkingSpotComponent",props:{spot:{},disableDialog:{type:Boolean},explanation:{}},emits:["stateChange"],setup(K,{emit:E}){const R=E,u=O(!1);function m(e){switch(e){case s.ParkingSpotState.FREE:return;case s.ParkingSpotState.OCCUPIED:return"green";case s.ParkingSpotState.RESERVED:return"yellow";case s.ParkingSpotState.OUT_OF_ORDER:return"red";case s.ParkingSpotState.CHARGING:return"blue";default:return"black"}}function S(e){switch(e){case s.ParkingSpotState.FREE:return"Free";case s.ParkingSpotState.OCCUPIED:return"Occupied";case s.ParkingSpotState.RESERVED:return"Reserved";case s.ParkingSpotState.OUT_OF_ORDER:return"Out of Order";case s.ParkingSpotState.CHARGING:return"Charging";default:return"Unknown"}}function b(e){R("stateChange",e)}function P(){u.value=!0}function v(){u.value=!1}return(e,t)=>(n(),g("div",null,[l(V,{color:m(e.spot.state),onClick:t[0]||(t[0]=r=>e.disableDialog?void 0:P()),disabled:e.spot.placeholder,border:"",flat:"",class:x([e.spot.placeholder?"disabled-spot":"","spot d-flex align-center justify-center"])},{default:o(()=>[e.explanation?(n(),d(w,{key:0,activator:"parent",text:e.explanation,location:"bottom"},null,8,["text"])):f("",!0),e.spot.electricCharging?(n(),g("i",j)):f("",!0)]),_:1},8,["color","disabled","class"]),l(A,{modelValue:i(u),"onUpdate:modelValue":t[3]||(t[3]=r=>z(u)?u.value=r:null),"max-width":"50%","max-height":"80%"},{default:o(()=>[l(V,{rounded:"",class:"overflow-hidden"},{default:o(()=>[l(F,null,{default:o(()=>[a("span",q,[t[5]||(t[5]=c("Parking Spot Details ")),l(I),l(T,{icon:"",variant:"flat",onClick:t[1]||(t[1]=r=>v())},{default:o(()=>[l(D,null,{default:o(()=>t[4]||(t[4]=[c("mdi-close")])),_:1})]),_:1})])]),_:1}),l(h),l(U,null,{default:o(()=>[e.spot?(n(),d(H,{key:0,density:"compact","hide-default-header":"","hide-default-footer":""},{body:o(()=>[a("tr",null,[t[6]||(t[6]=a("td",null,"ID",-1)),a("td",null,p(e.spot.id),1)]),a("tr",null,[t[7]||(t[7]=a("td",null,"State",-1)),a("td",null,[i(N)().hasAdminAccess?(n(),d(Y,{key:0,variant:"plain","model-value":e.spot.state,"onUpdate:modelValue":t[2]||(t[2]=r=>b(r)),items:[i(s.ParkingSpotState).FREE,i(s.ParkingSpotState).RESERVED,i(s.ParkingSpotState).OUT_OF_ORDER],"menu-icon":"mdi-pencil"},{selection:o(({item:r})=>[l(k,{color:m(r.raw),text:S(r.raw),class:"text-uppercase",size:"small",label:""},null,8,["color","text"])]),item:o(({props:r,item:C})=>[l(B,{props:r,onClick:r.onClick},{default:o(()=>[l(k,{color:m(C.raw),text:S(C.raw),class:"text-uppercase",size:"small",label:""},null,8,["color","text"])]),_:2},1032,["props","onClick"])]),_:1},8,["model-value","items"])):(n(),d(k,{key:1,color:m(e.spot.state),text:S(e.spot.state),class:"text-uppercase",size:"small",label:""},null,8,["color","text"]))])]),a("tr",null,[t[8]||(t[8]=a("td",null,"Last State Change",-1)),a("td",null,p(i($)(e.spot.lastStateChange,"DD.MM.YYYY HH:mm:ss")),1)]),a("tr",null,[t[9]||(t[9]=a("td",null,"Is electric charging spot?",-1)),a("td",null,[l(D,{color:e.spot.electricCharging?"green":"red"},{default:o(()=>[c(p(e.spot.electricCharging?"mdi-check-circle":"mdi-minus-circle"),1)]),_:1},8,["color"])])]),e.spot.currentCharge?(n(),g("tr",Q,[t[10]||(t[10]=a("td",null,"Current charge",-1)),a("td",null,p(e.spot.currentCharge)+"%",1)])):f("",!0),e.spot.customer?(n(),g("tr",X,[t[11]||(t[11]=a("td",null,"Parked Car",-1)),a("td",null,p(e.spot.customer.licensePlate),1)])):f("",!0)]),_:1})):(n(),d(L,{key:1},{default:o(()=>[l(M,null,{default:o(()=>t[12]||(t[12]=[c(" No parking spot selected.")])),_:1})]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),ot=G(J,[["__scopeId","data-v-81b78b25"]]);export{ot as default};
