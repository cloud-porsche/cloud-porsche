const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C-TWU2i8.js","assets/ProTier-WEItR_0B.js","assets/ProTier-DnBMG4dj.css","assets/VSelect-BoUmtaYN.js","assets/VChip-DRVAF1qL.js","assets/VChip-DsRJUznz.css","assets/VSelect-CgvyrPNl.css","assets/index-DIzVoQOD.css","assets/_id_-BOgXcDwV.js","assets/VRow-DRgvTkQL.js","assets/VTextarea-Bi2iwv8w.js","assets/VTextarea-BAE0bsJs.css","assets/VFileInput-CkPwRdeJ.js","assets/VFileInput-CdScEAjv.css","assets/VDataTable-CwklLWKB.js","assets/VPagination-CJXWOpo_.js","assets/VPagination-osFSi_du.css","assets/VDataTable-DXmHtqsb.css","assets/index-D0m80SB5.js","assets/_id_-9yaKboVv.css","assets/profile-CGbq-pBC.js","assets/profile-2i62Ype7.css","assets/index-DA5Mdlwr.js","assets/ParkingSpotComponent-BxOqynjd.js","assets/ParkingSpotComponent-CvebGzkd.css","assets/VWindowItem-DEXN2mvh.js","assets/VWindowItem-ByIod57Y.css","assets/index-WOdVKPT7.css","assets/_id_-VrjwY5LZ.js","assets/_id_-C1Ta-1Ip.css","assets/settings-ClJl0NvT.js","assets/settings-Cbn6FGsH.css"])))=>i.map(i=>d[i]);
var GV=Object.defineProperty;var qV=(t,e,n)=>e in t?GV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pt=(t,e,n)=>qV(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function u0(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Yt={},nc=[],mr=()=>{},KV=()=>!1,Am=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),h0=t=>t.startsWith("onUpdate:"),Dn=Object.assign,d0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},YV=Object.prototype.hasOwnProperty,Jt=(t,e)=>YV.call(t,e),ct=Array.isArray,ic=t=>Qh(t)==="[object Map]",R1=t=>Qh(t)==="[object Set]",XV=t=>Qh(t)==="[object RegExp]",bt=t=>typeof t=="function",_n=t=>typeof t=="string",fo=t=>typeof t=="symbol",dn=t=>t!==null&&typeof t=="object",f0=t=>(dn(t)||bt(t))&&bt(t.then)&&bt(t.catch),O1=Object.prototype.toString,Qh=t=>O1.call(t),JV=t=>Qh(t).slice(8,-1),M1=t=>Qh(t)==="[object Object]",p0=t=>_n(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,lh=u0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},QV=/-(\w)/g,$i=Pm(t=>t.replace(QV,(e,n)=>n?n.toUpperCase():"")),ZV=/\B([A-Z])/g,po=Pm(t=>t.replace(ZV,"-$1").toLowerCase()),Nc=Pm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ry=Pm(t=>t?`on${Nc(t)}`:""),Gi=(t,e)=>!Object.is(t,e),sc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},D1=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Pv=t=>{const e=parseFloat(t);return isNaN(e)?t:e},N1=t=>{const e=_n(t)?Number(t):NaN;return isNaN(e)?t:e};let rx;const Rm=()=>rx||(rx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Om(t){if(ct(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=_n(i)?i2(i):Om(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(_n(t)||dn(t))return t}const e2=/;(?![^(]*\))/g,t2=/:([^]+)/,n2=/\/\*[^]*?\*\//g;function i2(t){const e={};return t.replace(n2,"").split(e2).forEach(n=>{if(n){const i=n.split(t2);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Mm(t){let e="";if(_n(t))e=t;else if(ct(t))for(let n=0;n<t.length;n++){const i=Mm(t[n]);i&&(e+=i+" ")}else if(dn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function j7(t){if(!t)return null;let{class:e,style:n}=t;return e&&!_n(e)&&(t.class=Mm(e)),n&&(t.style=Om(n)),t}const s2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",r2=u0(s2);function L1(t){return!!t||t===""}const V1=t=>!!(t&&t.__v_isRef===!0),rl=t=>_n(t)?t:t==null?"":ct(t)||dn(t)&&(t.toString===O1||!bt(t.toString))?V1(t)?rl(t.value):JSON.stringify(t,F1,2):String(t),F1=(t,e)=>V1(e)?F1(t,e.value):ic(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[Oy(i,r)+" =>"]=s,n),{})}:R1(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Oy(n))}:fo(e)?Oy(e):dn(e)&&!ct(e)&&!M1(e)?String(e):e,Oy=(t,e="")=>{var n;return fo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ui;class B1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ui,!e&&Ui&&(this.index=(Ui.scopes||(Ui.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ui;try{return Ui=this,e()}finally{Ui=n}}}on(){Ui=this}off(){Ui=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Lc(t){return new B1(t)}function U1(){return Ui}function fs(t,e=!1){Ui&&Ui.cleanups.push(t)}let un;const My=new WeakSet;class j1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ui&&Ui.active&&Ui.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,My.has(this)&&(My.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ox(this),z1(this);const e=un,n=Xs;un=this,Xs=!0;try{return this.fn()}finally{W1(this),un=e,Xs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)y0(e);this.deps=this.depsTail=void 0,ox(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?My.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Rv(this)&&this.run()}get dirty(){return Rv(this)}}let H1=0,ch,uh;function $1(t,e=!1){if(t.flags|=8,e){t.next=uh,uh=t;return}t.next=ch,ch=t}function m0(){H1++}function g0(){if(--H1>0)return;if(uh){let e=uh;for(uh=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ch;){let e=ch;for(ch=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function z1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function W1(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),y0(i),o2(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Rv(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(G1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function G1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ih))return;t.globalVersion=Ih;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Rv(t)){t.flags&=-3;return}const n=un,i=Xs;un=t,Xs=!0;try{z1(t);const s=t.fn(t._value);(e.version===0||Gi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{un=n,Xs=i,W1(t),t.flags&=-3}}function y0(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)y0(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function o2(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Xs=!0;const q1=[];function ha(){q1.push(Xs),Xs=!1}function da(){const t=q1.pop();Xs=t===void 0?!0:t}function ox(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=un;un=void 0;try{e()}finally{un=n}}}let Ih=0;class a2{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dm{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!un||!Xs||un===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==un)n=this.activeLink=new a2(un,this),un.deps?(n.prevDep=un.depsTail,un.depsTail.nextDep=n,un.depsTail=n):un.deps=un.depsTail=n,K1(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=un.depsTail,n.nextDep=void 0,un.depsTail.nextDep=n,un.depsTail=n,un.deps===n&&(un.deps=i)}return n}trigger(e){this.version++,Ih++,this.notify(e)}notify(e){m0();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{g0()}}}function K1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)K1(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Sp=new WeakMap,Xa=Symbol(""),Ov=Symbol(""),Ah=Symbol("");function Ri(t,e,n){if(Xs&&un){let i=Sp.get(t);i||Sp.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Dm),s.map=i,s.key=n),s.track()}}function qr(t,e,n,i,s,r){const a=Sp.get(t);if(!a){Ih++;return}const c=h=>{h&&h.trigger()};if(m0(),e==="clear")a.forEach(c);else{const h=ct(t),d=h&&p0(n);if(h&&n==="length"){const f=Number(i);a.forEach((m,b)=>{(b==="length"||b===Ah||!fo(b)&&b>=f)&&c(m)})}else switch((n!==void 0||a.has(void 0))&&c(a.get(n)),d&&c(a.get(Ah)),e){case"add":h?d&&c(a.get("length")):(c(a.get(Xa)),ic(t)&&c(a.get(Ov)));break;case"delete":h||(c(a.get(Xa)),ic(t)&&c(a.get(Ov)));break;case"set":ic(t)&&c(a.get(Xa));break}}g0()}function l2(t,e){const n=Sp.get(t);return n&&n.get(e)}function Vl(t){const e=st(t);return e===t?e:(Ri(e,"iterate",Ah),ks(t)?e:e.map(Oi))}function Nm(t){return Ri(t=st(t),"iterate",Ah),t}const c2={__proto__:null,[Symbol.iterator](){return Dy(this,Symbol.iterator,Oi)},concat(...t){return Vl(this).concat(...t.map(e=>ct(e)?Vl(e):e))},entries(){return Dy(this,"entries",t=>(t[1]=Oi(t[1]),t))},every(t,e){return zr(this,"every",t,e,void 0,arguments)},filter(t,e){return zr(this,"filter",t,e,n=>n.map(Oi),arguments)},find(t,e){return zr(this,"find",t,e,Oi,arguments)},findIndex(t,e){return zr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zr(this,"findLast",t,e,Oi,arguments)},findLastIndex(t,e){return zr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ny(this,"includes",t)},indexOf(...t){return Ny(this,"indexOf",t)},join(t){return Vl(this).join(t)},lastIndexOf(...t){return Ny(this,"lastIndexOf",t)},map(t,e){return zr(this,"map",t,e,void 0,arguments)},pop(){return ju(this,"pop")},push(...t){return ju(this,"push",t)},reduce(t,...e){return ax(this,"reduce",t,e)},reduceRight(t,...e){return ax(this,"reduceRight",t,e)},shift(){return ju(this,"shift")},some(t,e){return zr(this,"some",t,e,void 0,arguments)},splice(...t){return ju(this,"splice",t)},toReversed(){return Vl(this).toReversed()},toSorted(t){return Vl(this).toSorted(t)},toSpliced(...t){return Vl(this).toSpliced(...t)},unshift(...t){return ju(this,"unshift",t)},values(){return Dy(this,"values",Oi)}};function Dy(t,e,n){const i=Nm(t),s=i[e]();return i!==t&&!ks(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const u2=Array.prototype;function zr(t,e,n,i,s,r){const a=Nm(t),c=a!==t&&!ks(t),h=a[e];if(h!==u2[e]){const m=h.apply(t,r);return c?Oi(m):m}let d=n;a!==t&&(c?d=function(m,b){return n.call(this,Oi(m),b,t)}:n.length>2&&(d=function(m,b){return n.call(this,m,b,t)}));const f=h.call(a,d,i);return c&&s?s(f):f}function ax(t,e,n,i){const s=Nm(t);let r=n;return s!==t&&(ks(t)?n.length>3&&(r=function(a,c,h){return n.call(this,a,c,h,t)}):r=function(a,c,h){return n.call(this,a,Oi(c),h,t)}),s[e](r,...i)}function Ny(t,e,n){const i=st(t);Ri(i,"iterate",Ah);const s=i[e](...n);return(s===-1||s===!1)&&_0(n[0])?(n[0]=st(n[0]),i[e](...n)):s}function ju(t,e,n=[]){ha(),m0();const i=st(t)[e].apply(t,n);return g0(),da(),i}const h2=u0("__proto__,__v_isRef,__isVue"),Y1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fo));function d2(t){fo(t)||(t=String(t));const e=st(this);return Ri(e,"has",t),e.hasOwnProperty(t)}class X1{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?C2:ek:r?Z1:Q1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=ct(e);if(!s){let h;if(a&&(h=c2[n]))return h;if(n==="hasOwnProperty")return d2}const c=Reflect.get(e,n,Dt(e)?e:i);return(fo(n)?Y1.has(n):h2(n))||(s||Ri(e,"get",n),r)?c:Dt(c)?a&&p0(n)?c:c.value:dn(c)?s?Zh(c):ti(c):c}}class J1 extends X1{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const h=ol(r);if(!ks(i)&&!ol(i)&&(r=st(r),i=st(i)),!ct(e)&&Dt(r)&&!Dt(i))return h?!1:(r.value=i,!0)}const a=ct(e)&&p0(n)?Number(n)<e.length:Jt(e,n),c=Reflect.set(e,n,i,Dt(e)?e:s);return e===st(s)&&(a?Gi(i,r)&&qr(e,"set",n,i):qr(e,"add",n,i)),c}deleteProperty(e,n){const i=Jt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&qr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!fo(n)||!Y1.has(n))&&Ri(e,"has",n),i}ownKeys(e){return Ri(e,"iterate",ct(e)?"length":Xa),Reflect.ownKeys(e)}}class f2 extends X1{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const p2=new J1,m2=new f2,g2=new J1(!0);const Mv=t=>t,Vf=t=>Reflect.getPrototypeOf(t);function y2(t,e,n){return function(...i){const s=this.__v_raw,r=st(s),a=ic(r),c=t==="entries"||t===Symbol.iterator&&a,h=t==="keys"&&a,d=s[t](...i),f=n?Mv:e?Dv:Oi;return!e&&Ri(r,"iterate",h?Ov:Xa),{next(){const{value:m,done:b}=d.next();return b?{value:m,done:b}:{value:c?[f(m[0]),f(m[1])]:f(m),done:b}},[Symbol.iterator](){return this}}}}function Ff(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function v2(t,e){const n={get(s){const r=this.__v_raw,a=st(r),c=st(s);t||(Gi(s,c)&&Ri(a,"get",s),Ri(a,"get",c));const{has:h}=Vf(a),d=e?Mv:t?Dv:Oi;if(h.call(a,s))return d(r.get(s));if(h.call(a,c))return d(r.get(c));r!==a&&r.get(s)},get size(){const s=this.__v_raw;return!t&&Ri(st(s),"iterate",Xa),Reflect.get(s,"size",s)},has(s){const r=this.__v_raw,a=st(r),c=st(s);return t||(Gi(s,c)&&Ri(a,"has",s),Ri(a,"has",c)),s===c?r.has(s):r.has(s)||r.has(c)},forEach(s,r){const a=this,c=a.__v_raw,h=st(c),d=e?Mv:t?Dv:Oi;return!t&&Ri(h,"iterate",Xa),c.forEach((f,m)=>s.call(r,d(f),d(m),a))}};return Dn(n,t?{add:Ff("add"),set:Ff("set"),delete:Ff("delete"),clear:Ff("clear")}:{add(s){!e&&!ks(s)&&!ol(s)&&(s=st(s));const r=st(this);return Vf(r).has.call(r,s)||(r.add(s),qr(r,"add",s,s)),this},set(s,r){!e&&!ks(r)&&!ol(r)&&(r=st(r));const a=st(this),{has:c,get:h}=Vf(a);let d=c.call(a,s);d||(s=st(s),d=c.call(a,s));const f=h.call(a,s);return a.set(s,r),d?Gi(r,f)&&qr(a,"set",s,r):qr(a,"add",s,r),this},delete(s){const r=st(this),{has:a,get:c}=Vf(r);let h=a.call(r,s);h||(s=st(s),h=a.call(r,s)),c&&c.call(r,s);const d=r.delete(s);return h&&qr(r,"delete",s,void 0),d},clear(){const s=st(this),r=s.size!==0,a=s.clear();return r&&qr(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=y2(s,t,e)}),n}function v0(t,e){const n=v2(t,e);return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Jt(n,s)&&s in i?n:i,s,r)}const b2={get:v0(!1,!1)},_2={get:v0(!1,!0)},w2={get:v0(!0,!1)};const Q1=new WeakMap,Z1=new WeakMap,ek=new WeakMap,C2=new WeakMap;function x2(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function E2(t){return t.__v_skip||!Object.isExtensible(t)?0:x2(JV(t))}function ti(t){return ol(t)?t:b0(t,!1,p2,b2,Q1)}function tk(t){return b0(t,!1,g2,_2,Z1)}function Zh(t){return b0(t,!0,m2,w2,ek)}function b0(t,e,n,i,s){if(!dn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=E2(t);if(a===0)return t;const c=new Proxy(t,a===2?i:n);return s.set(t,c),c}function no(t){return ol(t)?no(t.__v_raw):!!(t&&t.__v_isReactive)}function ol(t){return!!(t&&t.__v_isReadonly)}function ks(t){return!!(t&&t.__v_isShallow)}function _0(t){return t?!!t.__v_raw:!1}function st(t){const e=t&&t.__v_raw;return e?st(e):t}function Lm(t){return!Jt(t,"__v_skip")&&Object.isExtensible(t)&&D1(t,"__v_skip",!0),t}const Oi=t=>dn(t)?ti(t):t,Dv=t=>dn(t)?Zh(t):t;function Dt(t){return t?t.__v_isRef===!0:!1}function Ye(t){return nk(t,!1)}function ht(t){return nk(t,!0)}function nk(t,e){return Dt(t)?t:new T2(t,e)}class T2{constructor(e,n){this.dep=new Dm,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:st(e),this._value=n?e:Oi(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||ks(e)||ol(e);e=i?e:st(e),Gi(e,n)&&(this._rawValue=e,this._value=i?e:Oi(e),this.dep.trigger())}}function He(t){return Dt(t)?t.value:t}const S2={get:(t,e,n)=>e==="__v_raw"?t:He(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Dt(s)&&!Dt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function ik(t){return no(t)?t:new Proxy(t,S2)}class k2{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Dm,{get:i,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function I2(t){return new k2(t)}function Vm(t){const e=ct(t)?new Array(t.length):{};for(const n in t)e[n]=sk(t,n);return e}class A2{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return l2(st(this._object),this._key)}}class P2{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ct(t,e,n){return Dt(t)?t:bt(t)?new P2(t):dn(t)&&arguments.length>1?sk(t,e,n):Ye(t)}function sk(t,e,n){const i=t[e];return Dt(i)?i:new A2(t,e,n)}class R2{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Dm(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ih-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&un!==this)return $1(this,!0),!0}get value(){const e=this.dep.track();return G1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function O2(t,e,n=!1){let i,s;return bt(t)?i=t:(i=t.get,s=t.set),new R2(i,s,n)}const Bf={},kp=new WeakMap;let za;function M2(t,e=!1,n=za){if(n){let i=kp.get(n);i||kp.set(n,i=[]),i.push(t)}}function D2(t,e,n=Yt){const{immediate:i,deep:s,once:r,scheduler:a,augmentJob:c,call:h}=n,d=N=>s?N:ks(N)||s===!1||s===0?Kr(N,1):Kr(N);let f,m,b,w,y=!1,v=!1;if(Dt(t)?(m=()=>t.value,y=ks(t)):no(t)?(m=()=>d(t),y=!0):ct(t)?(v=!0,y=t.some(N=>no(N)||ks(N)),m=()=>t.map(N=>{if(Dt(N))return N.value;if(no(N))return d(N);if(bt(N))return h?h(N,2):N()})):bt(t)?e?m=h?()=>h(t,2):t:m=()=>{if(b){ha();try{b()}finally{da()}}const N=za;za=f;try{return h?h(t,3,[w]):t(w)}finally{za=N}}:m=mr,e&&s){const N=m,F=s===!0?1/0:s;m=()=>Kr(N(),F)}const x=U1(),k=()=>{f.stop(),x&&x.active&&d0(x.effects,f)};if(r&&e){const N=e;e=(...F)=>{N(...F),k()}}let I=v?new Array(t.length).fill(Bf):Bf;const D=N=>{if(!(!(f.flags&1)||!f.dirty&&!N))if(e){const F=f.run();if(s||y||(v?F.some((O,S)=>Gi(O,I[S])):Gi(F,I))){b&&b();const O=za;za=f;try{const S=[F,I===Bf?void 0:v&&I[0]===Bf?[]:I,w];h?h(e,3,S):e(...S),I=F}finally{za=O}}}else f.run()};return c&&c(D),f=new j1(m),f.scheduler=a?()=>a(D,!1):D,w=N=>M2(N,!1,f),b=f.onStop=()=>{const N=kp.get(f);if(N){if(h)h(N,4);else for(const F of N)F();kp.delete(f)}},e?i?D(!0):I=f.run():a?a(D.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function Kr(t,e=1/0,n){if(e<=0||!dn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Dt(t))Kr(t.value,e,n);else if(ct(t))for(let i=0;i<t.length;i++)Kr(t[i],e,n);else if(R1(t)||ic(t))t.forEach(i=>{Kr(i,e,n)});else if(M1(t)){for(const i in t)Kr(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Kr(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ed(t,e,n,i){try{return i?t(...i):t()}catch(s){Vc(s,e,n)}}function Zs(t,e,n,i){if(bt(t)){const s=ed(t,e,n,i);return s&&f0(s)&&s.catch(r=>{Vc(r,e,n)}),s}if(ct(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Zs(t[r],e,n,i));return s}}function Vc(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Yt;if(e){let c=e.parent;const h=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const f=c.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](t,h,d)===!1)return}c=c.parent}if(r){ha(),ed(r,null,10,[t,h,d]),da();return}}N2(t,n,s,i,a)}function N2(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const ji=[];let lr=-1;const rc=[];let Go=null,zl=0;const rk=Promise.resolve();let Ip=null;function gi(t){const e=Ip||rk;return t?e.then(this?t.bind(this):t):e}function L2(t){let e=lr+1,n=ji.length;for(;e<n;){const i=e+n>>>1,s=ji[i],r=Ph(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function w0(t){if(!(t.flags&1)){const e=Ph(t),n=ji[ji.length-1];!n||!(t.flags&2)&&e>=Ph(n)?ji.push(t):ji.splice(L2(e),0,t),t.flags|=1,ok()}}function ok(){Ip||(Ip=rk.then(lk))}function Nv(t){ct(t)?rc.push(...t):Go&&t.id===-1?Go.splice(zl+1,0,t):t.flags&1||(rc.push(t),t.flags|=1),ok()}function lx(t,e,n=lr+1){for(;n<ji.length;n++){const i=ji[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ji.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ak(t){if(rc.length){const e=[...new Set(rc)].sort((n,i)=>Ph(n)-Ph(i));if(rc.length=0,Go){Go.push(...e);return}for(Go=e,zl=0;zl<Go.length;zl++){const n=Go[zl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Go=null,zl=0}}const Ph=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lk(t){try{for(lr=0;lr<ji.length;lr++){const e=ji[lr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ed(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;lr<ji.length;lr++){const e=ji[lr];e&&(e.flags&=-2)}lr=-1,ji.length=0,ak(),Ip=null,(ji.length||rc.length)&&lk()}}let ri=null,ck=null;function Ap(t){const e=ri;return ri=t,ck=t&&t.type.__scopeId||null,e}function Tt(t,e=ri,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&wx(-1);const r=Ap(e);let a;try{a=t(...s)}finally{Ap(r),i._d&&wx(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Ei(t,e){if(ri===null)return t;const n=Hm(ri),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,c,h=Yt]=e[s];r&&(bt(r)&&(r={mounted:r,updated:r}),r.deep&&Kr(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:c,modifiers:h}))}return t}function Ba(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const c=s[a];r&&(c.oldValue=r[a].value);let h=c.dir[i];h&&(ha(),Zs(h,n,8,[t.el,c,t,e]),da())}}const uk=Symbol("_vte"),hk=t=>t.__isTeleport,hh=t=>t&&(t.disabled||t.disabled===""),cx=t=>t&&(t.defer||t.defer===""),ux=t=>typeof SVGElement<"u"&&t instanceof SVGElement,hx=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Lv=(t,e)=>{const n=t&&t.to;return _n(n)?e?e(n):null:n},dk={name:"Teleport",__isTeleport:!0,process(t,e,n,i,s,r,a,c,h,d){const{mc:f,pc:m,pbc:b,o:{insert:w,querySelector:y,createText:v,createComment:x}}=d,k=hh(e.props);let{shapeFlag:I,children:D,dynamicChildren:N}=e;if(t==null){const F=e.el=v(""),O=e.anchor=v("");w(F,n,i),w(O,n,i);const S=(L,U)=>{I&16&&(s&&s.isCE&&(s.ce._teleportTarget=L),f(D,L,U,s,r,a,c,h))},A=()=>{const L=e.target=Lv(e.props,y),U=fk(L,e,v,w);L&&(a!=="svg"&&ux(L)?a="svg":a!=="mathml"&&hx(L)&&(a="mathml"),k||(S(L,U),ap(e,!1)))};k&&(S(n,O),ap(e,!0)),cx(e.props)?Zn(()=>{A(),e.el.__isMounted=!0},r):A()}else{if(cx(e.props)&&!t.el.__isMounted){Zn(()=>{dk.process(t,e,n,i,s,r,a,c,h,d),delete t.el.__isMounted},r);return}e.el=t.el,e.targetStart=t.targetStart;const F=e.anchor=t.anchor,O=e.target=t.target,S=e.targetAnchor=t.targetAnchor,A=hh(t.props),L=A?n:O,U=A?F:S;if(a==="svg"||ux(O)?a="svg":(a==="mathml"||hx(O))&&(a="mathml"),N?(b(t.dynamicChildren,N,L,s,r,a,c),A0(t,e,!0)):h||m(t,e,L,U,s,r,a,c,!1),k)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Uf(e,n,F,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const z=e.target=Lv(e.props,y);z&&Uf(e,z,null,d,0)}else A&&Uf(e,O,S,d,1);ap(e,k)}},remove(t,e,n,{um:i,o:{remove:s}},r){const{shapeFlag:a,children:c,anchor:h,targetStart:d,targetAnchor:f,target:m,props:b}=t;if(m&&(s(d),s(f)),r&&s(h),a&16){const w=r||!hh(b);for(let y=0;y<c.length;y++){const v=c[y];i(v,e,n,w,!!v.dynamicChildren)}}},move:Uf,hydrate:V2};function Uf(t,e,n,{o:{insert:i},m:s},r=2){r===0&&i(t.targetAnchor,e,n);const{el:a,anchor:c,shapeFlag:h,children:d,props:f}=t,m=r===2;if(m&&i(a,e,n),(!m||hh(f))&&h&16)for(let b=0;b<d.length;b++)s(d[b],e,n,2);m&&i(c,e,n)}function V2(t,e,n,i,s,r,{o:{nextSibling:a,parentNode:c,querySelector:h,insert:d,createText:f}},m){const b=e.target=Lv(e.props,h);if(b){const w=hh(e.props),y=b._lpa||b.firstChild;if(e.shapeFlag&16)if(w)e.anchor=m(a(t),e,c(t),n,i,s,r),e.targetStart=y,e.targetAnchor=y&&a(y);else{e.anchor=a(t);let v=y;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,b._lpa=e.targetAnchor&&a(e.targetAnchor);break}}v=a(v)}e.targetAnchor||fk(b,e,f,d),m(y&&a(y),e,b,n,i,s,r)}ap(e,w)}return e.anchor&&a(e.anchor)}const F2=dk;function ap(t,e){const n=t.ctx;if(n&&n.ut){let i,s;for(e?(i=t.el,s=t.anchor):(i=t.targetStart,s=t.targetAnchor);i&&i!==s;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function fk(t,e,n,i){const s=e.targetStart=n(""),r=e.targetAnchor=n("");return s[uk]=r,t&&(i(s,t),i(r,t)),r}const qo=Symbol("_leaveCb"),jf=Symbol("_enterCb");function pk(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ps(()=>{t.isMounted=!0}),yi(()=>{t.isUnmounting=!0}),t}const Cs=[Function,Array],mk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cs,onEnter:Cs,onAfterEnter:Cs,onEnterCancelled:Cs,onBeforeLeave:Cs,onLeave:Cs,onAfterLeave:Cs,onLeaveCancelled:Cs,onBeforeAppear:Cs,onAppear:Cs,onAfterAppear:Cs,onAppearCancelled:Cs},gk=t=>{const e=t.subTree;return e.component?gk(e.component):e},B2={name:"BaseTransition",props:mk,setup(t,{slots:e}){const n=fa(),i=pk();return()=>{const s=e.default&&C0(e.default(),!0);if(!s||!s.length)return;const r=yk(s),a=st(t),{mode:c}=a;if(i.isLeaving)return Ly(r);const h=dx(r);if(!h)return Ly(r);let d=Rh(h,a,i,n,m=>d=m);h.type!==ni&&sa(h,d);let f=n.subTree&&dx(n.subTree);if(f&&f.type!==ni&&!Ws(h,f)&&gk(n).type!==ni){let m=Rh(f,a,i,n);if(sa(f,m),c==="out-in"&&h.type!==ni)return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,f=void 0},Ly(r);c==="in-out"&&h.type!==ni?m.delayLeave=(b,w,y)=>{const v=vk(i,f);v[String(f.key)]=f,b[qo]=()=>{w(),b[qo]=void 0,delete d.delayedLeave,f=void 0},d.delayedLeave=()=>{y(),delete d.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return r}}};function yk(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==ni){e=n;break}}return e}const U2=B2;function vk(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Rh(t,e,n,i,s){const{appear:r,mode:a,persisted:c=!1,onBeforeEnter:h,onEnter:d,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:b,onLeave:w,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:x,onAppear:k,onAfterAppear:I,onAppearCancelled:D}=e,N=String(t.key),F=vk(n,t),O=(L,U)=>{L&&Zs(L,i,9,U)},S=(L,U)=>{const z=U[1];O(L,U),ct(L)?L.every(G=>G.length<=1)&&z():L.length<=1&&z()},A={mode:a,persisted:c,beforeEnter(L){let U=h;if(!n.isMounted)if(r)U=x||h;else return;L[qo]&&L[qo](!0);const z=F[N];z&&Ws(t,z)&&z.el[qo]&&z.el[qo](),O(U,[L])},enter(L){let U=d,z=f,G=m;if(!n.isMounted)if(r)U=k||d,z=I||f,G=D||m;else return;let H=!1;const q=L[jf]=Z=>{H||(H=!0,Z?O(G,[L]):O(z,[L]),A.delayedLeave&&A.delayedLeave(),L[jf]=void 0)};U?S(U,[L,q]):q()},leave(L,U){const z=String(t.key);if(L[jf]&&L[jf](!0),n.isUnmounting)return U();O(b,[L]);let G=!1;const H=L[qo]=q=>{G||(G=!0,U(),q?O(v,[L]):O(y,[L]),L[qo]=void 0,F[z]===t&&delete F[z])};F[z]=t,w?S(w,[L,H]):H()},clone(L){const U=Rh(L,e,n,i,s);return s&&s(U),U}};return A}function Ly(t){if(td(t))return t=vr(t),t.children=null,t}function dx(t){if(!td(t))return hk(t.type)&&t.children?yk(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&bt(n.default))return n.default()}}function sa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function C0(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let a=t[r];const c=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===At?(a.patchFlag&128&&s++,i=i.concat(C0(a.children,e,c))):(e||a.type!==ni)&&i.push(c!=null?vr(a,{key:c}):a)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function mo(t,e){return bt(t)?Dn({name:t.name},e,{setup:t}):t}function x0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function H7(t){const e=fa(),n=ht(null);if(e){const s=e.refs===Yt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Pp(t,e,n,i,s=!1){if(ct(t)){t.forEach((y,v)=>Pp(y,e&&(ct(e)?e[v]:e),n,i,s));return}if(Ja(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Pp(t,e,n,i.component.subTree);return}const r=i.shapeFlag&4?Hm(i.component):i.el,a=s?null:r,{i:c,r:h}=t,d=e&&e.r,f=c.refs===Yt?c.refs={}:c.refs,m=c.setupState,b=st(m),w=m===Yt?()=>!1:y=>Jt(b,y);if(d!=null&&d!==h&&(_n(d)?(f[d]=null,w(d)&&(m[d]=null)):Dt(d)&&(d.value=null)),bt(h))ed(h,c,12,[a,f]);else{const y=_n(h),v=Dt(h);if(y||v){const x=()=>{if(t.f){const k=y?w(h)?m[h]:f[h]:h.value;s?ct(k)&&d0(k,r):ct(k)?k.includes(r)||k.push(r):y?(f[h]=[r],w(h)&&(m[h]=f[h])):(h.value=[r],t.k&&(f[t.k]=h.value))}else y?(f[h]=a,w(h)&&(m[h]=a)):v&&(h.value=a,t.k&&(f[t.k]=a))};a?(x.id=-1,Zn(x,n)):x()}}}const fx=t=>t.nodeType===8;Rm().requestIdleCallback;Rm().cancelIdleCallback;function j2(t,e){if(fx(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(fx(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const Ja=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function $7(t){bt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:s=200,hydrate:r,timeout:a,suspensible:c=!0,onError:h}=t;let d=null,f,m=0;const b=()=>(m++,d=null,w()),w=()=>{let y;return d||(y=d=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),h)return new Promise((x,k)=>{h(v,()=>x(b()),()=>k(v),m+1)});throw v}).then(v=>y!==d&&d?d:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),f=v,v)))};return mo({name:"AsyncComponentWrapper",__asyncLoader:w,__asyncHydrate(y,v,x){const k=r?()=>{const I=r(x,D=>j2(y,D));I&&(v.bum||(v.bum=[])).push(I)}:x;f?k():w().then(()=>!v.isUnmounted&&k())},get __asyncResolved(){return f},setup(){const y=ii;if(x0(y),f)return()=>Vy(f,y);const v=D=>{d=null,Vc(D,y,13,!i)};if(c&&y.suspense||vc)return w().then(D=>()=>Vy(D,y)).catch(D=>(v(D),()=>i?Q(i,{error:D}):null));const x=Ye(!1),k=Ye(),I=Ye(!!s);return s&&setTimeout(()=>{I.value=!1},s),a!=null&&setTimeout(()=>{if(!x.value&&!k.value){const D=new Error(`Async component timed out after ${a}ms.`);v(D),k.value=D}},a),w().then(()=>{x.value=!0,y.parent&&td(y.parent.vnode)&&y.parent.update()}).catch(D=>{v(D),k.value=D}),()=>{if(x.value&&f)return Vy(f,y);if(k.value&&i)return Q(i,{error:k.value});if(n&&!I.value)return Q(n)}}})}function Vy(t,e){const{ref:n,props:i,children:s,ce:r}=e.vnode,a=Q(t,i,s);return a.ref=n,a.ce=r,delete e.vnode.ce,a}const td=t=>t.type.__isKeepAlive,H2={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=fa(),i=n.ctx;if(!i.renderer)return()=>{const I=e.default&&e.default();return I&&I.length===1?I[0]:I};const s=new Map,r=new Set;let a=null;const c=n.suspense,{renderer:{p:h,m:d,um:f,o:{createElement:m}}}=i,b=m("div");i.activate=(I,D,N,F,O)=>{const S=I.component;d(I,D,N,0,c),h(S.vnode,I,D,N,S,c,F,I.slotScopeIds,O),Zn(()=>{S.isDeactivated=!1,S.a&&sc(S.a);const A=I.props&&I.props.onVnodeMounted;A&&xs(A,S.parent,I)},c)},i.deactivate=I=>{const D=I.component;Mp(D.m),Mp(D.a),d(I,b,null,1,c),Zn(()=>{D.da&&sc(D.da);const N=I.props&&I.props.onVnodeUnmounted;N&&xs(N,D.parent,I),D.isDeactivated=!0},c)};function w(I){Fy(I),f(I,n,c,!0)}function y(I){s.forEach((D,N)=>{const F=Gv(D.type);F&&!I(F)&&v(N)})}function v(I){const D=s.get(I);D&&(!a||!Ws(D,a))?w(D):a&&Fy(a),s.delete(I),r.delete(I)}dt(()=>[t.include,t.exclude],([I,D])=>{I&&y(N=>Qu(I,N)),D&&y(N=>!Qu(D,N))},{flush:"post",deep:!0});let x=null;const k=()=>{x!=null&&(Dp(n.subTree.type)?Zn(()=>{s.set(x,Hf(n.subTree))},n.subTree.suspense):s.set(x,Hf(n.subTree)))};return ps(k),Bm(k),yi(()=>{s.forEach(I=>{const{subTree:D,suspense:N}=n,F=Hf(D);if(I.type===F.type&&I.key===F.key){Fy(F);const O=F.component.da;O&&Zn(O,N);return}w(I)})}),()=>{if(x=null,!e.default)return a=null;const I=e.default(),D=I[0];if(I.length>1)return a=null,I;if(!ra(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return a=null,D;let N=Hf(D);if(N.type===ni)return a=null,N;const F=N.type,O=Gv(Ja(N)?N.type.__asyncResolved||{}:F),{include:S,exclude:A,max:L}=t;if(S&&(!O||!Qu(S,O))||A&&O&&Qu(A,O))return N.shapeFlag&=-257,a=N,D;const U=N.key==null?F:N.key,z=s.get(U);return N.el&&(N=vr(N),D.shapeFlag&128&&(D.ssContent=N)),x=U,z?(N.el=z.el,N.component=z.component,N.transition&&sa(N,N.transition),N.shapeFlag|=512,r.delete(U),r.add(U)):(r.add(U),L&&r.size>parseInt(L,10)&&v(r.values().next().value)),N.shapeFlag|=256,a=N,Dp(D.type)?D:N}}},$2=H2;function Qu(t,e){return ct(t)?t.some(n=>Qu(n,e)):_n(t)?t.split(",").includes(e):XV(t)?(t.lastIndex=0,t.test(e)):!1}function bk(t,e){_k(t,"a",e)}function E0(t,e){_k(t,"da",e)}function _k(t,e,n=ii){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Fm(e,i,n),n){let s=n.parent;for(;s&&s.parent;)td(s.parent.vnode)&&z2(i,e,n,s),s=s.parent}}function z2(t,e,n,i){const s=Fm(e,t,i,!0);wk(()=>{d0(i[e],s)},n)}function Fy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Hf(t){return t.shapeFlag&128?t.ssContent:t}function Fm(t,e,n=ii,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{ha();const c=al(n),h=Zs(e,n,t,a);return c(),da(),h});return i?s.unshift(r):s.push(r),r}}const go=t=>(e,n=ii)=>{(!vc||t==="sp")&&Fm(t,(...i)=>e(...i),n)},nd=go("bm"),ps=go("m"),W2=go("bu"),Bm=go("u"),yi=go("bum"),wk=go("um"),G2=go("sp"),q2=go("rtg"),K2=go("rtc");function Y2(t,e=ii){Fm("ec",t,e)}const T0="components",X2="directives";function Ck(t,e){return S0(T0,t,!0,e)||t}const xk=Symbol.for("v-ndc");function Ek(t){return _n(t)?S0(T0,t,!1)||t:t||xk}function id(t){return S0(X2,t)}function S0(t,e,n=!0,i=!1){const s=ri||ii;if(s){const r=s.type;if(t===T0){const c=Gv(r,!1);if(c&&(c===e||c===$i(e)||c===Nc($i(e))))return r}const a=px(s[t]||r[t],e)||px(s.appContext[t],e);return!a&&i?r:a}}function px(t,e){return t&&(t[e]||t[$i(e)]||t[Nc($i(e))])}function Vv(t,e,n,i){let s;const r=n,a=ct(t);if(a||_n(t)){const c=a&&no(t);let h=!1;c&&(h=!ks(t),t=Nm(t)),s=new Array(t.length);for(let d=0,f=t.length;d<f;d++)s[d]=e(h?Oi(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,r)}else if(dn(t))if(t[Symbol.iterator])s=Array.from(t,(c,h)=>e(c,h,void 0,r));else{const c=Object.keys(t);s=new Array(c.length);for(let h=0,d=c.length;h<d;h++){const f=c[h];s[h]=e(t[f],f,h,r)}}else s=[];return s}function z7(t,e,n={},i,s){if(ri.ce||ri.parent&&Ja(ri.parent)&&ri.parent.ce)return Qt(),Pn(At,null,[Q("slot",n,i)],64);let r=t[e];r&&r._c&&(r._d=!1),Qt();const a=r&&Tk(r(n)),c=n.key||a&&a.key,h=Pn(At,{key:(c&&!fo(c)?c:`_${e}`)+(!a&&i?"_fb":"")},a||[],a&&t._===1?64:-2);return r&&r._c&&(r._d=!0),h}function Tk(t){return t.some(e=>ra(e)?!(e.type===ni||e.type===At&&!Tk(e.children)):!0)?t:null}const Fv=t=>t?Wk(t)?Hm(t):Fv(t.parent):null,dh=Dn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fv(t.parent),$root:t=>Fv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>k0(t),$forceUpdate:t=>t.f||(t.f=()=>{w0(t.update)}),$nextTick:t=>t.n||(t.n=gi.bind(t.proxy)),$watch:t=>bF.bind(t)}),By=(t,e)=>t!==Yt&&!t.__isScriptSetup&&Jt(t,e),J2={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:c,appContext:h}=t;let d;if(e[0]!=="$"){const w=a[e];if(w!==void 0)switch(w){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(By(i,e))return a[e]=1,i[e];if(s!==Yt&&Jt(s,e))return a[e]=2,s[e];if((d=t.propsOptions[0])&&Jt(d,e))return a[e]=3,r[e];if(n!==Yt&&Jt(n,e))return a[e]=4,n[e];Bv&&(a[e]=0)}}const f=dh[e];let m,b;if(f)return e==="$attrs"&&Ri(t.attrs,"get",""),f(t);if((m=c.__cssModules)&&(m=m[e]))return m;if(n!==Yt&&Jt(n,e))return a[e]=4,n[e];if(b=h.config.globalProperties,Jt(b,e))return b[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return By(s,e)?(s[e]=n,!0):i!==Yt&&Jt(i,e)?(i[e]=n,!0):Jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let c;return!!n[a]||t!==Yt&&Jt(t,a)||By(e,a)||(c=r[0])&&Jt(c,a)||Jt(i,a)||Jt(dh,a)||Jt(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Jt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Rp(t){return ct(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function W7(t,e){return!t||!e?t||e:ct(t)&&ct(e)?t.concat(e):Dn({},Rp(t),Rp(e))}function G7(t){const e=fa();let n=t();return zv(),f0(n)&&(n=n.catch(i=>{throw al(e),i})),[n,()=>al(e)]}let Bv=!0;function Q2(t){const e=k0(t),n=t.proxy,i=t.ctx;Bv=!1,e.beforeCreate&&mx(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:c,provide:h,inject:d,created:f,beforeMount:m,mounted:b,beforeUpdate:w,updated:y,activated:v,deactivated:x,beforeDestroy:k,beforeUnmount:I,destroyed:D,unmounted:N,render:F,renderTracked:O,renderTriggered:S,errorCaptured:A,serverPrefetch:L,expose:U,inheritAttrs:z,components:G,directives:H,filters:q}=e;if(d&&Z2(d,i,null),a)for(const oe in a){const ce=a[oe];bt(ce)&&(i[oe]=ce.bind(n))}if(s){const oe=s.call(n,n);dn(oe)&&(t.data=ti(oe))}if(Bv=!0,r)for(const oe in r){const ce=r[oe],ve=bt(ce)?ce.bind(n,n):bt(ce.get)?ce.get.bind(n,n):mr,we=!bt(ce)&&bt(ce.set)?ce.set.bind(n):mr,be=re({get:ve,set:we});Object.defineProperty(i,oe,{enumerable:!0,configurable:!0,get:()=>be.value,set:Ce=>be.value=Ce})}if(c)for(const oe in c)Sk(c[oe],i,n,oe);if(h){const oe=bt(h)?h.call(n):h;Reflect.ownKeys(oe).forEach(ce=>{mi(ce,oe[ce])})}f&&mx(f,t,"c");function ie(oe,ce){ct(ce)?ce.forEach(ve=>oe(ve.bind(n))):ce&&oe(ce.bind(n))}if(ie(nd,m),ie(ps,b),ie(W2,w),ie(Bm,y),ie(bk,v),ie(E0,x),ie(Y2,A),ie(K2,O),ie(q2,S),ie(yi,I),ie(wk,N),ie(G2,L),ct(U))if(U.length){const oe=t.exposed||(t.exposed={});U.forEach(ce=>{Object.defineProperty(oe,ce,{get:()=>n[ce],set:ve=>n[ce]=ve})})}else t.exposed||(t.exposed={});F&&t.render===mr&&(t.render=F),z!=null&&(t.inheritAttrs=z),G&&(t.components=G),H&&(t.directives=H),L&&x0(t)}function Z2(t,e,n=mr){ct(t)&&(t=Uv(t));for(const i in t){const s=t[i];let r;dn(s)?"default"in s?r=zt(s.from||i,s.default,!0):r=zt(s.from||i):r=zt(s),Dt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function mx(t,e,n){Zs(ct(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sk(t,e,n,i){let s=i.includes(".")?Fk(n,i):()=>n[i];if(_n(t)){const r=e[t];bt(r)&&dt(s,r)}else if(bt(t))dt(s,t.bind(n));else if(dn(t))if(ct(t))t.forEach(r=>Sk(r,e,n,i));else{const r=bt(t.handler)?t.handler.bind(n):e[t.handler];bt(r)&&dt(s,r,t)}}function k0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,c=r.get(e);let h;return c?h=c:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(d=>Op(h,d,a,!0)),Op(h,e,a)),dn(e)&&r.set(e,h),h}function Op(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Op(t,r,n,!0),s&&s.forEach(a=>Op(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const c=eF[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const eF={data:gx,props:yx,emits:yx,methods:Zu,computed:Zu,beforeCreate:Bi,created:Bi,beforeMount:Bi,mounted:Bi,beforeUpdate:Bi,updated:Bi,beforeDestroy:Bi,beforeUnmount:Bi,destroyed:Bi,unmounted:Bi,activated:Bi,deactivated:Bi,errorCaptured:Bi,serverPrefetch:Bi,components:Zu,directives:Zu,watch:nF,provide:gx,inject:tF};function gx(t,e){return e?t?function(){return Dn(bt(t)?t.call(this,this):t,bt(e)?e.call(this,this):e)}:e:t}function tF(t,e){return Zu(Uv(t),Uv(e))}function Uv(t){if(ct(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bi(t,e){return t?[...new Set([].concat(t,e))]:e}function Zu(t,e){return t?Dn(Object.create(null),t,e):e}function yx(t,e){return t?ct(t)&&ct(e)?[...new Set([...t,...e])]:Dn(Object.create(null),Rp(t),Rp(e??{})):e}function nF(t,e){if(!t)return e;if(!e)return t;const n=Dn(Object.create(null),t);for(const i in e)n[i]=Bi(t[i],e[i]);return n}function kk(){return{app:null,config:{isNativeTag:KV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iF=0;function sF(t,e){return function(i,s=null){bt(i)||(i=Dn({},i)),s!=null&&!dn(s)&&(s=null);const r=kk(),a=new WeakSet,c=[];let h=!1;const d=r.app={_uid:iF++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:$F,get config(){return r.config},set config(f){},use(f,...m){return a.has(f)||(f&&bt(f.install)?(a.add(f),f.install(d,...m)):bt(f)&&(a.add(f),f(d,...m))),d},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),d},component(f,m){return m?(r.components[f]=m,d):r.components[f]},directive(f,m){return m?(r.directives[f]=m,d):r.directives[f]},mount(f,m,b){if(!h){const w=d._ceVNode||Q(i,s);return w.appContext=r,b===!0?b="svg":b===!1&&(b=void 0),m&&e?e(w,f):t(w,f,b),h=!0,d._container=f,f.__vue_app__=d,Hm(w.component)}},onUnmount(f){c.push(f)},unmount(){h&&(Zs(c,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(f,m){return r.provides[f]=m,d},runWithContext(f){const m=Qa;Qa=d;try{return f()}finally{Qa=m}}};return d}}let Qa=null;function mi(t,e){if(ii){let n=ii.provides;const i=ii.parent&&ii.parent.provides;i===n&&(n=ii.provides=Object.create(i)),n[t]=e}}function zt(t,e,n=!1){const i=ii||ri;if(i||Qa){const s=Qa?Qa._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&bt(e)?e.call(i&&i.proxy):e}}function rF(){return!!(ii||ri||Qa)}const Ik={},Ak=()=>Object.create(Ik),Pk=t=>Object.getPrototypeOf(t)===Ik;function oF(t,e,n,i=!1){const s={},r=Ak();t.propsDefaults=Object.create(null),Rk(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:tk(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function aF(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,c=st(s),[h]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let m=0;m<f.length;m++){let b=f[m];if(jm(t.emitsOptions,b))continue;const w=e[b];if(h)if(Jt(r,b))w!==r[b]&&(r[b]=w,d=!0);else{const y=$i(b);s[y]=jv(h,c,y,w,t,!1)}else w!==r[b]&&(r[b]=w,d=!0)}}}else{Rk(t,e,s,r)&&(d=!0);let f;for(const m in c)(!e||!Jt(e,m)&&((f=po(m))===m||!Jt(e,f)))&&(h?n&&(n[m]!==void 0||n[f]!==void 0)&&(s[m]=jv(h,c,m,void 0,t,!0)):delete s[m]);if(r!==c)for(const m in r)(!e||!Jt(e,m))&&(delete r[m],d=!0)}d&&qr(t.attrs,"set","")}function Rk(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,c;if(e)for(let h in e){if(lh(h))continue;const d=e[h];let f;s&&Jt(s,f=$i(h))?!r||!r.includes(f)?n[f]=d:(c||(c={}))[f]=d:jm(t.emitsOptions,h)||(!(h in i)||d!==i[h])&&(i[h]=d,a=!0)}if(r){const h=st(n),d=c||Yt;for(let f=0;f<r.length;f++){const m=r[f];n[m]=jv(s,h,m,d[m],t,!Jt(d,m))}}return a}function jv(t,e,n,i,s,r){const a=t[n];if(a!=null){const c=Jt(a,"default");if(c&&i===void 0){const h=a.default;if(a.type!==Function&&!a.skipFactory&&bt(h)){const{propsDefaults:d}=s;if(n in d)i=d[n];else{const f=al(s);i=d[n]=h.call(null,e),f()}}else i=h;s.ce&&s.ce._setProp(n,i)}a[0]&&(r&&!c?i=!1:a[1]&&(i===""||i===po(n))&&(i=!0))}return i}const lF=new WeakMap;function Ok(t,e,n=!1){const i=n?lF:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},c=[];let h=!1;if(!bt(t)){const f=m=>{h=!0;const[b,w]=Ok(m,e,!0);Dn(a,b),w&&c.push(...w)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!r&&!h)return dn(t)&&i.set(t,nc),nc;if(ct(r))for(let f=0;f<r.length;f++){const m=$i(r[f]);vx(m)&&(a[m]=Yt)}else if(r)for(const f in r){const m=$i(f);if(vx(m)){const b=r[f],w=a[m]=ct(b)||bt(b)?{type:b}:Dn({},b),y=w.type;let v=!1,x=!0;if(ct(y))for(let k=0;k<y.length;++k){const I=y[k],D=bt(I)&&I.name;if(D==="Boolean"){v=!0;break}else D==="String"&&(x=!1)}else v=bt(y)&&y.name==="Boolean";w[0]=v,w[1]=x,(v||Jt(w,"default"))&&c.push(m)}}const d=[a,c];return dn(t)&&i.set(t,d),d}function vx(t){return t[0]!=="$"&&!lh(t)}const Mk=t=>t[0]==="_"||t==="$stable",I0=t=>ct(t)?t.map(zs):[zs(t)],cF=(t,e,n)=>{if(e._n)return e;const i=Tt((...s)=>I0(e(...s)),n);return i._c=!1,i},Dk=(t,e,n)=>{const i=t._ctx;for(const s in t){if(Mk(s))continue;const r=t[s];if(bt(r))e[s]=cF(s,r,i);else if(r!=null){const a=I0(r);e[s]=()=>a}}},Nk=(t,e)=>{const n=I0(e);t.slots.default=()=>n},Lk=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},uF=(t,e,n)=>{const i=t.slots=Ak();if(t.vnode.shapeFlag&32){const s=e._;s?(Lk(i,e,n),n&&D1(i,"_",s,!0)):Dk(e,i)}else e&&Nk(t,e)},hF=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=Yt;if(i.shapeFlag&32){const c=e._;c?n&&c===1?r=!1:Lk(s,e,n):(r=!e.$stable,Dk(e,s)),a=e}else e&&(Nk(t,e),a={default:1});if(r)for(const c in s)!Mk(c)&&a[c]==null&&delete s[c]},Zn=RF;function dF(t){return fF(t)}function fF(t,e){const n=Rm();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:c,createComment:h,setText:d,setElementText:f,parentNode:m,nextSibling:b,setScopeId:w=mr,insertStaticContent:y}=t,v=(se,ae,ye,Se=null,xe=null,Re=null,ze=void 0,Ue=null,Fe=!!ae.dynamicChildren)=>{if(se===ae)return;se&&!Ws(se,ae)&&(Se=ge(se),Ce(se,xe,Re,!0),se=null),ae.patchFlag===-2&&(Fe=!1,ae.dynamicChildren=null);const{type:Ie,ref:ot,shapeFlag:Oe}=ae;switch(Ie){case sd:x(se,ae,ye,Se);break;case ni:k(se,ae,ye,Se);break;case Hy:se==null&&I(ae,ye,Se,ze);break;case At:G(se,ae,ye,Se,xe,Re,ze,Ue,Fe);break;default:Oe&1?F(se,ae,ye,Se,xe,Re,ze,Ue,Fe):Oe&6?H(se,ae,ye,Se,xe,Re,ze,Ue,Fe):(Oe&64||Oe&128)&&Ie.process(se,ae,ye,Se,xe,Re,ze,Ue,Fe,Ge)}ot!=null&&xe&&Pp(ot,se&&se.ref,Re,ae||se,!ae)},x=(se,ae,ye,Se)=>{if(se==null)i(ae.el=c(ae.children),ye,Se);else{const xe=ae.el=se.el;ae.children!==se.children&&d(xe,ae.children)}},k=(se,ae,ye,Se)=>{se==null?i(ae.el=h(ae.children||""),ye,Se):ae.el=se.el},I=(se,ae,ye,Se)=>{[se.el,se.anchor]=y(se.children,ae,ye,Se,se.el,se.anchor)},D=({el:se,anchor:ae},ye,Se)=>{let xe;for(;se&&se!==ae;)xe=b(se),i(se,ye,Se),se=xe;i(ae,ye,Se)},N=({el:se,anchor:ae})=>{let ye;for(;se&&se!==ae;)ye=b(se),s(se),se=ye;s(ae)},F=(se,ae,ye,Se,xe,Re,ze,Ue,Fe)=>{ae.type==="svg"?ze="svg":ae.type==="math"&&(ze="mathml"),se==null?O(ae,ye,Se,xe,Re,ze,Ue,Fe):L(se,ae,xe,Re,ze,Ue,Fe)},O=(se,ae,ye,Se,xe,Re,ze,Ue)=>{let Fe,Ie;const{props:ot,shapeFlag:Oe,transition:et,dirs:Je}=se;if(Fe=se.el=a(se.type,Re,ot&&ot.is,ot),Oe&8?f(Fe,se.children):Oe&16&&A(se.children,Fe,null,Se,xe,Uy(se,Re),ze,Ue),Je&&Ba(se,null,Se,"created"),S(Fe,se,se.scopeId,ze,Se),ot){for(const Bt in ot)Bt!=="value"&&!lh(Bt)&&r(Fe,Bt,null,ot[Bt],Re,Se);"value"in ot&&r(Fe,"value",null,ot.value,Re),(Ie=ot.onVnodeBeforeMount)&&xs(Ie,Se,se)}Je&&Ba(se,null,Se,"beforeMount");const ut=pF(xe,et);ut&&et.beforeEnter(Fe),i(Fe,ae,ye),((Ie=ot&&ot.onVnodeMounted)||ut||Je)&&Zn(()=>{Ie&&xs(Ie,Se,se),ut&&et.enter(Fe),Je&&Ba(se,null,Se,"mounted")},xe)},S=(se,ae,ye,Se,xe)=>{if(ye&&w(se,ye),Se)for(let Re=0;Re<Se.length;Re++)w(se,Se[Re]);if(xe){let Re=xe.subTree;if(ae===Re||Dp(Re.type)&&(Re.ssContent===ae||Re.ssFallback===ae)){const ze=xe.vnode;S(se,ze,ze.scopeId,ze.slotScopeIds,xe.parent)}}},A=(se,ae,ye,Se,xe,Re,ze,Ue,Fe=0)=>{for(let Ie=Fe;Ie<se.length;Ie++){const ot=se[Ie]=Ue?Ko(se[Ie]):zs(se[Ie]);v(null,ot,ae,ye,Se,xe,Re,ze,Ue)}},L=(se,ae,ye,Se,xe,Re,ze)=>{const Ue=ae.el=se.el;let{patchFlag:Fe,dynamicChildren:Ie,dirs:ot}=ae;Fe|=se.patchFlag&16;const Oe=se.props||Yt,et=ae.props||Yt;let Je;if(ye&&Ua(ye,!1),(Je=et.onVnodeBeforeUpdate)&&xs(Je,ye,ae,se),ot&&Ba(ae,se,ye,"beforeUpdate"),ye&&Ua(ye,!0),(Oe.innerHTML&&et.innerHTML==null||Oe.textContent&&et.textContent==null)&&f(Ue,""),Ie?U(se.dynamicChildren,Ie,Ue,ye,Se,Uy(ae,xe),Re):ze||ce(se,ae,Ue,null,ye,Se,Uy(ae,xe),Re,!1),Fe>0){if(Fe&16)z(Ue,Oe,et,ye,xe);else if(Fe&2&&Oe.class!==et.class&&r(Ue,"class",null,et.class,xe),Fe&4&&r(Ue,"style",Oe.style,et.style,xe),Fe&8){const ut=ae.dynamicProps;for(let Bt=0;Bt<ut.length;Bt++){const Rt=ut[Bt],ai=Oe[Rt],Bn=et[Rt];(Bn!==ai||Rt==="value")&&r(Ue,Rt,ai,Bn,xe,ye)}}Fe&1&&se.children!==ae.children&&f(Ue,ae.children)}else!ze&&Ie==null&&z(Ue,Oe,et,ye,xe);((Je=et.onVnodeUpdated)||ot)&&Zn(()=>{Je&&xs(Je,ye,ae,se),ot&&Ba(ae,se,ye,"updated")},Se)},U=(se,ae,ye,Se,xe,Re,ze)=>{for(let Ue=0;Ue<ae.length;Ue++){const Fe=se[Ue],Ie=ae[Ue],ot=Fe.el&&(Fe.type===At||!Ws(Fe,Ie)||Fe.shapeFlag&70)?m(Fe.el):ye;v(Fe,Ie,ot,null,Se,xe,Re,ze,!0)}},z=(se,ae,ye,Se,xe)=>{if(ae!==ye){if(ae!==Yt)for(const Re in ae)!lh(Re)&&!(Re in ye)&&r(se,Re,ae[Re],null,xe,Se);for(const Re in ye){if(lh(Re))continue;const ze=ye[Re],Ue=ae[Re];ze!==Ue&&Re!=="value"&&r(se,Re,Ue,ze,xe,Se)}"value"in ye&&r(se,"value",ae.value,ye.value,xe)}},G=(se,ae,ye,Se,xe,Re,ze,Ue,Fe)=>{const Ie=ae.el=se?se.el:c(""),ot=ae.anchor=se?se.anchor:c("");let{patchFlag:Oe,dynamicChildren:et,slotScopeIds:Je}=ae;Je&&(Ue=Ue?Ue.concat(Je):Je),se==null?(i(Ie,ye,Se),i(ot,ye,Se),A(ae.children||[],ye,ot,xe,Re,ze,Ue,Fe)):Oe>0&&Oe&64&&et&&se.dynamicChildren?(U(se.dynamicChildren,et,ye,xe,Re,ze,Ue),(ae.key!=null||xe&&ae===xe.subTree)&&A0(se,ae,!0)):ce(se,ae,ye,ot,xe,Re,ze,Ue,Fe)},H=(se,ae,ye,Se,xe,Re,ze,Ue,Fe)=>{ae.slotScopeIds=Ue,se==null?ae.shapeFlag&512?xe.ctx.activate(ae,ye,Se,ze,Fe):q(ae,ye,Se,xe,Re,ze,Fe):Z(se,ae,Fe)},q=(se,ae,ye,Se,xe,Re,ze)=>{const Ue=se.component=VF(se,Se,xe);if(td(se)&&(Ue.ctx.renderer=Ge),FF(Ue,!1,ze),Ue.asyncDep){if(xe&&xe.registerDep(Ue,ie,ze),!se.el){const Fe=Ue.subTree=Q(ni);k(null,Fe,ae,ye)}}else ie(Ue,se,ae,ye,xe,Re,ze)},Z=(se,ae,ye)=>{const Se=ae.component=se.component;if(EF(se,ae,ye))if(Se.asyncDep&&!Se.asyncResolved){oe(Se,ae,ye);return}else Se.next=ae,Se.update();else ae.el=se.el,Se.vnode=ae},ie=(se,ae,ye,Se,xe,Re,ze)=>{const Ue=()=>{if(se.isMounted){let{next:Oe,bu:et,u:Je,parent:ut,vnode:Bt}=se;{const fn=Vk(se);if(fn){Oe&&(Oe.el=Bt.el,oe(se,Oe,ze)),fn.asyncDep.then(()=>{se.isUnmounted||Ue()});return}}let Rt=Oe,ai;Ua(se,!1),Oe?(Oe.el=Bt.el,oe(se,Oe,ze)):Oe=Bt,et&&sc(et),(ai=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&xs(ai,ut,Oe,Bt),Ua(se,!0);const Bn=jy(se),qn=se.subTree;se.subTree=Bn,v(qn,Bn,m(qn.el),ge(qn),se,xe,Re),Oe.el=Bn.el,Rt===null&&P0(se,Bn.el),Je&&Zn(Je,xe),(ai=Oe.props&&Oe.props.onVnodeUpdated)&&Zn(()=>xs(ai,ut,Oe,Bt),xe)}else{let Oe;const{el:et,props:Je}=ae,{bm:ut,m:Bt,parent:Rt,root:ai,type:Bn}=se,qn=Ja(ae);if(Ua(se,!1),ut&&sc(ut),!qn&&(Oe=Je&&Je.onVnodeBeforeMount)&&xs(Oe,Rt,ae),Ua(se,!0),et&&Pe){const fn=()=>{se.subTree=jy(se),Pe(et,se.subTree,se,xe,null)};qn&&Bn.__asyncHydrate?Bn.__asyncHydrate(et,se,fn):fn()}else{ai.ce&&ai.ce._injectChildStyle(Bn);const fn=se.subTree=jy(se);v(null,fn,ye,Se,se,xe,Re),ae.el=fn.el}if(Bt&&Zn(Bt,xe),!qn&&(Oe=Je&&Je.onVnodeMounted)){const fn=ae;Zn(()=>xs(Oe,Rt,fn),xe)}(ae.shapeFlag&256||Rt&&Ja(Rt.vnode)&&Rt.vnode.shapeFlag&256)&&se.a&&Zn(se.a,xe),se.isMounted=!0,ae=ye=Se=null}};se.scope.on();const Fe=se.effect=new j1(Ue);se.scope.off();const Ie=se.update=Fe.run.bind(Fe),ot=se.job=Fe.runIfDirty.bind(Fe);ot.i=se,ot.id=se.uid,Fe.scheduler=()=>w0(ot),Ua(se,!0),Ie()},oe=(se,ae,ye)=>{ae.component=se;const Se=se.vnode.props;se.vnode=ae,se.next=null,aF(se,ae.props,Se,ye),hF(se,ae.children,ye),ha(),lx(se),da()},ce=(se,ae,ye,Se,xe,Re,ze,Ue,Fe=!1)=>{const Ie=se&&se.children,ot=se?se.shapeFlag:0,Oe=ae.children,{patchFlag:et,shapeFlag:Je}=ae;if(et>0){if(et&128){we(Ie,Oe,ye,Se,xe,Re,ze,Ue,Fe);return}else if(et&256){ve(Ie,Oe,ye,Se,xe,Re,ze,Ue,Fe);return}}Je&8?(ot&16&&$e(Ie,xe,Re),Oe!==Ie&&f(ye,Oe)):ot&16?Je&16?we(Ie,Oe,ye,Se,xe,Re,ze,Ue,Fe):$e(Ie,xe,Re,!0):(ot&8&&f(ye,""),Je&16&&A(Oe,ye,Se,xe,Re,ze,Ue,Fe))},ve=(se,ae,ye,Se,xe,Re,ze,Ue,Fe)=>{se=se||nc,ae=ae||nc;const Ie=se.length,ot=ae.length,Oe=Math.min(Ie,ot);let et;for(et=0;et<Oe;et++){const Je=ae[et]=Fe?Ko(ae[et]):zs(ae[et]);v(se[et],Je,ye,null,xe,Re,ze,Ue,Fe)}Ie>ot?$e(se,xe,Re,!0,!1,Oe):A(ae,ye,Se,xe,Re,ze,Ue,Fe,Oe)},we=(se,ae,ye,Se,xe,Re,ze,Ue,Fe)=>{let Ie=0;const ot=ae.length;let Oe=se.length-1,et=ot-1;for(;Ie<=Oe&&Ie<=et;){const Je=se[Ie],ut=ae[Ie]=Fe?Ko(ae[Ie]):zs(ae[Ie]);if(Ws(Je,ut))v(Je,ut,ye,null,xe,Re,ze,Ue,Fe);else break;Ie++}for(;Ie<=Oe&&Ie<=et;){const Je=se[Oe],ut=ae[et]=Fe?Ko(ae[et]):zs(ae[et]);if(Ws(Je,ut))v(Je,ut,ye,null,xe,Re,ze,Ue,Fe);else break;Oe--,et--}if(Ie>Oe){if(Ie<=et){const Je=et+1,ut=Je<ot?ae[Je].el:Se;for(;Ie<=et;)v(null,ae[Ie]=Fe?Ko(ae[Ie]):zs(ae[Ie]),ye,ut,xe,Re,ze,Ue,Fe),Ie++}}else if(Ie>et)for(;Ie<=Oe;)Ce(se[Ie],xe,Re,!0),Ie++;else{const Je=Ie,ut=Ie,Bt=new Map;for(Ie=ut;Ie<=et;Ie++){const Un=ae[Ie]=Fe?Ko(ae[Ie]):zs(ae[Ie]);Un.key!=null&&Bt.set(Un.key,Ie)}let Rt,ai=0;const Bn=et-ut+1;let qn=!1,fn=0;const gs=new Array(Bn);for(Ie=0;Ie<Bn;Ie++)gs[Ie]=0;for(Ie=Je;Ie<=Oe;Ie++){const Un=se[Ie];if(ai>=Bn){Ce(Un,xe,Re,!0);continue}let zi;if(Un.key!=null)zi=Bt.get(Un.key);else for(Rt=ut;Rt<=et;Rt++)if(gs[Rt-ut]===0&&Ws(Un,ae[Rt])){zi=Rt;break}zi===void 0?Ce(Un,xe,Re,!0):(gs[zi-ut]=Ie+1,zi>=fn?fn=zi:qn=!0,v(Un,ae[zi],ye,null,xe,Re,ze,Ue,Fe),ai++)}const Kn=qn?mF(gs):nc;for(Rt=Kn.length-1,Ie=Bn-1;Ie>=0;Ie--){const Un=ut+Ie,zi=ae[Un],Rn=Un+1<ot?ae[Un+1].el:Se;gs[Ie]===0?v(null,zi,ye,Rn,xe,Re,ze,Ue,Fe):qn&&(Rt<0||Ie!==Kn[Rt]?be(zi,ye,Rn,2):Rt--)}}},be=(se,ae,ye,Se,xe=null)=>{const{el:Re,type:ze,transition:Ue,children:Fe,shapeFlag:Ie}=se;if(Ie&6){be(se.component.subTree,ae,ye,Se);return}if(Ie&128){se.suspense.move(ae,ye,Se);return}if(Ie&64){ze.move(se,ae,ye,Ge);return}if(ze===At){i(Re,ae,ye);for(let Oe=0;Oe<Fe.length;Oe++)be(Fe[Oe],ae,ye,Se);i(se.anchor,ae,ye);return}if(ze===Hy){D(se,ae,ye);return}if(Se!==2&&Ie&1&&Ue)if(Se===0)Ue.beforeEnter(Re),i(Re,ae,ye),Zn(()=>Ue.enter(Re),xe);else{const{leave:Oe,delayLeave:et,afterLeave:Je}=Ue,ut=()=>i(Re,ae,ye),Bt=()=>{Oe(Re,()=>{ut(),Je&&Je()})};et?et(Re,ut,Bt):Bt()}else i(Re,ae,ye)},Ce=(se,ae,ye,Se=!1,xe=!1)=>{const{type:Re,props:ze,ref:Ue,children:Fe,dynamicChildren:Ie,shapeFlag:ot,patchFlag:Oe,dirs:et,cacheIndex:Je}=se;if(Oe===-2&&(xe=!1),Ue!=null&&Pp(Ue,null,ye,se,!0),Je!=null&&(ae.renderCache[Je]=void 0),ot&256){ae.ctx.deactivate(se);return}const ut=ot&1&&et,Bt=!Ja(se);let Rt;if(Bt&&(Rt=ze&&ze.onVnodeBeforeUnmount)&&xs(Rt,ae,se),ot&6)rt(se.component,ye,Se);else{if(ot&128){se.suspense.unmount(ye,Se);return}ut&&Ba(se,null,ae,"beforeUnmount"),ot&64?se.type.remove(se,ae,ye,Ge,Se):Ie&&!Ie.hasOnce&&(Re!==At||Oe>0&&Oe&64)?$e(Ie,ae,ye,!1,!0):(Re===At&&Oe&384||!xe&&ot&16)&&$e(Fe,ae,ye),Se&&De(se)}(Bt&&(Rt=ze&&ze.onVnodeUnmounted)||ut)&&Zn(()=>{Rt&&xs(Rt,ae,se),ut&&Ba(se,null,ae,"unmounted")},ye)},De=se=>{const{type:ae,el:ye,anchor:Se,transition:xe}=se;if(ae===At){We(ye,Se);return}if(ae===Hy){N(se);return}const Re=()=>{s(ye),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(se.shapeFlag&1&&xe&&!xe.persisted){const{leave:ze,delayLeave:Ue}=xe,Fe=()=>ze(ye,Re);Ue?Ue(se.el,Re,Fe):Fe()}else Re()},We=(se,ae)=>{let ye;for(;se!==ae;)ye=b(se),s(se),se=ye;s(ae)},rt=(se,ae,ye)=>{const{bum:Se,scope:xe,job:Re,subTree:ze,um:Ue,m:Fe,a:Ie}=se;Mp(Fe),Mp(Ie),Se&&sc(Se),xe.stop(),Re&&(Re.flags|=8,Ce(ze,se,ae,ye)),Ue&&Zn(Ue,ae),Zn(()=>{se.isUnmounted=!0},ae),ae&&ae.pendingBranch&&!ae.isUnmounted&&se.asyncDep&&!se.asyncResolved&&se.suspenseId===ae.pendingId&&(ae.deps--,ae.deps===0&&ae.resolve())},$e=(se,ae,ye,Se=!1,xe=!1,Re=0)=>{for(let ze=Re;ze<se.length;ze++)Ce(se[ze],ae,ye,Se,xe)},ge=se=>{if(se.shapeFlag&6)return ge(se.component.subTree);if(se.shapeFlag&128)return se.suspense.next();const ae=b(se.anchor||se.el),ye=ae&&ae[uk];return ye?b(ye):ae};let Ae=!1;const Ne=(se,ae,ye)=>{se==null?ae._vnode&&Ce(ae._vnode,null,null,!0):v(ae._vnode||null,se,ae,null,null,null,ye),ae._vnode=se,Ae||(Ae=!0,lx(),ak(),Ae=!1)},Ge={p:v,um:Ce,m:be,r:De,mt:q,mc:A,pc:ce,pbc:U,n:ge,o:t};let xt,Pe;return{render:Ne,hydrate:xt,createApp:sF(Ne,xt)}}function Uy({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ua({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function pF(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function A0(t,e,n=!1){const i=t.children,s=e.children;if(ct(i)&&ct(s))for(let r=0;r<i.length;r++){const a=i[r];let c=s[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[r]=Ko(s[r]),c.el=a.el),!n&&c.patchFlag!==-2&&A0(a,c)),c.type===sd&&(c.el=a.el)}}function mF(t){const e=t.slice(),n=[0];let i,s,r,a,c;const h=t.length;for(i=0;i<h;i++){const d=t[i];if(d!==0){if(s=n[n.length-1],t[s]<d){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)c=r+a>>1,t[n[c]]<d?r=c+1:a=c;d<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function Vk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Vk(e)}function Mp(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const gF=Symbol.for("v-scx"),yF=()=>zt(gF);function Qi(t,e){return Um(t,null,e)}function vF(t,e){return Um(t,null,{flush:"sync"})}function dt(t,e,n){return Um(t,e,n)}function Um(t,e,n=Yt){const{immediate:i,deep:s,flush:r,once:a}=n,c=Dn({},n),h=e&&i||!e&&r!=="post";let d;if(vc){if(r==="sync"){const w=yF();d=w.__watcherHandles||(w.__watcherHandles=[])}else if(!h){const w=()=>{};return w.stop=mr,w.resume=mr,w.pause=mr,w}}const f=ii;c.call=(w,y,v)=>Zs(w,f,y,v);let m=!1;r==="post"?c.scheduler=w=>{Zn(w,f&&f.suspense)}:r!=="sync"&&(m=!0,c.scheduler=(w,y)=>{y?w():w0(w)}),c.augmentJob=w=>{e&&(w.flags|=4),m&&(w.flags|=2,f&&(w.id=f.uid,w.i=f))};const b=D2(t,e,c);return vc&&(d?d.push(b):h&&b()),b}function bF(t,e,n){const i=this.proxy,s=_n(t)?t.includes(".")?Fk(i,t):()=>i[t]:t.bind(i,i);let r;bt(e)?r=e:(r=e.handler,n=e);const a=al(this),c=Um(s,r.bind(i),n);return a(),c}function Fk(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function q7(t,e,n=Yt){const i=fa(),s=$i(e),r=po(e),a=Bk(t,s),c=I2((h,d)=>{let f,m=Yt,b;return vF(()=>{const w=t[s];Gi(f,w)&&(f=w,d())}),{get(){return h(),n.get?n.get(f):f},set(w){const y=n.set?n.set(w):w;if(!Gi(y,f)&&!(m!==Yt&&Gi(w,m)))return;const v=i.vnode.props;v&&(e in v||s in v||r in v)&&(`onUpdate:${e}`in v||`onUpdate:${s}`in v||`onUpdate:${r}`in v)||(f=w,d()),i.emit(`update:${e}`,y),Gi(w,y)&&Gi(w,m)&&!Gi(y,b)&&d(),m=w,b=y}}});return c[Symbol.iterator]=()=>{let h=0;return{next(){return h<2?{value:h++?a||Yt:c,done:!1}:{done:!0}}}},c}const Bk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${$i(e)}Modifiers`]||t[`${po(e)}Modifiers`];function _F(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Yt;let s=n;const r=e.startsWith("update:"),a=r&&Bk(i,e.slice(7));a&&(a.trim&&(s=n.map(f=>_n(f)?f.trim():f)),a.number&&(s=n.map(Pv)));let c,h=i[c=Ry(e)]||i[c=Ry($i(e))];!h&&r&&(h=i[c=Ry(po(e))]),h&&Zs(h,t,6,s);const d=i[c+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Zs(d,t,6,s)}}function Uk(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},c=!1;if(!bt(t)){const h=d=>{const f=Uk(d,e,!0);f&&(c=!0,Dn(a,f))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!r&&!c?(dn(t)&&i.set(t,null),null):(ct(r)?r.forEach(h=>a[h]=null):Dn(a,r),dn(t)&&i.set(t,a),a)}function jm(t,e){return!t||!Am(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(t,e[0].toLowerCase()+e.slice(1))||Jt(t,po(e))||Jt(t,e))}function jy(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:a,attrs:c,emit:h,render:d,renderCache:f,props:m,data:b,setupState:w,ctx:y,inheritAttrs:v}=t,x=Ap(t);let k,I;try{if(n.shapeFlag&4){const N=s||i,F=N;k=zs(d.call(F,N,f,m,w,b,y)),I=c}else{const N=e;k=zs(N.length>1?N(m,{attrs:c,slots:a,emit:h}):N(m,null)),I=e.props?c:CF(c)}}catch(N){fh.length=0,Vc(N,t,1),k=Q(ni)}let D=k;if(I&&v!==!1){const N=Object.keys(I),{shapeFlag:F}=D;N.length&&F&7&&(r&&N.some(h0)&&(I=xF(I,r)),D=vr(D,I,!1,!0))}return n.dirs&&(D=vr(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&sa(D,n.transition),k=D,Ap(x),k}function wF(t,e=!0){let n;for(let i=0;i<t.length;i++){const s=t[i];if(ra(s)){if(s.type!==ni||s.children==="v-if"){if(n)return;n=s}}else return}return n}const CF=t=>{let e;for(const n in t)(n==="class"||n==="style"||Am(n))&&((e||(e={}))[n]=t[n]);return e},xF=(t,e)=>{const n={};for(const i in t)(!h0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function EF(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:c,patchFlag:h}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?bx(i,a,d):!!a;if(h&8){const f=e.dynamicProps;for(let m=0;m<f.length;m++){const b=f[m];if(a[b]!==i[b]&&!jm(d,b))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===a?!1:i?a?bx(i,a,d):!0:!!a;return!1}function bx(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!jm(n,r))return!0}return!1}function P0({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Dp=t=>t.__isSuspense;let Hv=0;const TF={name:"Suspense",__isSuspense:!0,process(t,e,n,i,s,r,a,c,h,d){if(t==null)kF(e,n,i,s,r,a,c,h,d);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}IF(t,e,n,i,s,a,c,h,d)}},hydrate:AF,normalize:PF},SF=TF;function Oh(t,e){const n=t.props&&t.props[e];bt(n)&&n()}function kF(t,e,n,i,s,r,a,c,h){const{p:d,o:{createElement:f}}=h,m=f("div"),b=t.suspense=jk(t,s,i,e,m,n,r,a,c,h);d(null,b.pendingBranch=t.ssContent,m,null,i,b,r,a),b.deps>0?(Oh(t,"onPending"),Oh(t,"onFallback"),d(null,t.ssFallback,e,n,i,null,r,a),oc(b,t.ssFallback)):b.resolve(!1,!0)}function IF(t,e,n,i,s,r,a,c,{p:h,um:d,o:{createElement:f}}){const m=e.suspense=t.suspense;m.vnode=e,e.el=t.el;const b=e.ssContent,w=e.ssFallback,{activeBranch:y,pendingBranch:v,isInFallback:x,isHydrating:k}=m;if(v)m.pendingBranch=b,Ws(b,v)?(h(v,b,m.hiddenContainer,null,s,m,r,a,c),m.deps<=0?m.resolve():x&&(k||(h(y,w,n,i,s,null,r,a,c),oc(m,w)))):(m.pendingId=Hv++,k?(m.isHydrating=!1,m.activeBranch=v):d(v,s,m),m.deps=0,m.effects.length=0,m.hiddenContainer=f("div"),x?(h(null,b,m.hiddenContainer,null,s,m,r,a,c),m.deps<=0?m.resolve():(h(y,w,n,i,s,null,r,a,c),oc(m,w))):y&&Ws(b,y)?(h(y,b,n,i,s,m,r,a,c),m.resolve(!0)):(h(null,b,m.hiddenContainer,null,s,m,r,a,c),m.deps<=0&&m.resolve()));else if(y&&Ws(b,y))h(y,b,n,i,s,m,r,a,c),oc(m,b);else if(Oh(e,"onPending"),m.pendingBranch=b,b.shapeFlag&512?m.pendingId=b.component.suspenseId:m.pendingId=Hv++,h(null,b,m.hiddenContainer,null,s,m,r,a,c),m.deps<=0)m.resolve();else{const{timeout:I,pendingId:D}=m;I>0?setTimeout(()=>{m.pendingId===D&&m.fallback(w)},I):I===0&&m.fallback(w)}}function jk(t,e,n,i,s,r,a,c,h,d,f=!1){const{p:m,m:b,um:w,n:y,o:{parentNode:v,remove:x}}=d;let k;const I=OF(t);I&&e&&e.pendingBranch&&(k=e.pendingId,e.deps++);const D=t.props?N1(t.props.timeout):void 0,N=r,F={vnode:t,parent:e,parentComponent:n,namespace:a,container:i,hiddenContainer:s,deps:0,pendingId:Hv++,timeout:typeof D=="number"?D:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(O=!1,S=!1){const{vnode:A,activeBranch:L,pendingBranch:U,pendingId:z,effects:G,parentComponent:H,container:q}=F;let Z=!1;F.isHydrating?F.isHydrating=!1:O||(Z=L&&U.transition&&U.transition.mode==="out-in",Z&&(L.transition.afterLeave=()=>{z===F.pendingId&&(b(U,q,r===N?y(L):r,0),Nv(G))}),L&&(v(L.el)===q&&(r=y(L)),w(L,H,F,!0)),Z||b(U,q,r,0)),oc(F,U),F.pendingBranch=null,F.isInFallback=!1;let ie=F.parent,oe=!1;for(;ie;){if(ie.pendingBranch){ie.effects.push(...G),oe=!0;break}ie=ie.parent}!oe&&!Z&&Nv(G),F.effects=[],I&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),Oh(A,"onResolve")},fallback(O){if(!F.pendingBranch)return;const{vnode:S,activeBranch:A,parentComponent:L,container:U,namespace:z}=F;Oh(S,"onFallback");const G=y(A),H=()=>{F.isInFallback&&(m(null,O,U,G,L,null,z,c,h),oc(F,O))},q=O.transition&&O.transition.mode==="out-in";q&&(A.transition.afterLeave=H),F.isInFallback=!0,w(A,L,null,!0),q||H()},move(O,S,A){F.activeBranch&&b(F.activeBranch,O,S,A),F.container=O},next(){return F.activeBranch&&y(F.activeBranch)},registerDep(O,S,A){const L=!!F.pendingBranch;L&&F.deps++;const U=O.vnode.el;O.asyncDep.catch(z=>{Vc(z,O,0)}).then(z=>{if(O.isUnmounted||F.isUnmounted||F.pendingId!==O.suspenseId)return;O.asyncResolved=!0;const{vnode:G}=O;Wv(O,z,!1),U&&(G.el=U);const H=!U&&O.subTree.el;S(O,G,v(U||O.subTree.el),U?null:y(O.subTree),F,a,A),H&&x(H),P0(O,G.el),L&&--F.deps===0&&F.resolve()})},unmount(O,S){F.isUnmounted=!0,F.activeBranch&&w(F.activeBranch,n,O,S),F.pendingBranch&&w(F.pendingBranch,n,O,S)}};return F}function AF(t,e,n,i,s,r,a,c,h){const d=e.suspense=jk(e,i,n,t.parentNode,document.createElement("div"),null,s,r,a,c,!0),f=h(t,d.pendingBranch=e.ssContent,n,d,r,a);return d.deps===0&&d.resolve(!1,!0),f}function PF(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=_x(i?n.default:n),t.ssFallback=i?_x(n.fallback):Q(ni)}function _x(t){let e;if(bt(t)){const n=gc&&t._c;n&&(t._d=!1,Qt()),t=t(),n&&(t._d=!0,e=Ki,Hk())}return ct(t)&&(t=wF(t)),t=zs(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function RF(t,e){e&&e.pendingBranch?ct(t)?e.effects.push(...t):e.effects.push(t):Nv(t)}function oc(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,i&&i.subTree===n&&(i.vnode.el=s,P0(i,s))}function OF(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const At=Symbol.for("v-fgt"),sd=Symbol.for("v-txt"),ni=Symbol.for("v-cmt"),Hy=Symbol.for("v-stc"),fh=[];let Ki=null;function Qt(t=!1){fh.push(Ki=t?null:[])}function Hk(){fh.pop(),Ki=fh[fh.length-1]||null}let gc=1;function wx(t,e=!1){gc+=t,t<0&&Ki&&e&&(Ki.hasOnce=!0)}function $k(t){return t.dynamicChildren=gc>0?Ki||nc:null,Hk(),gc>0&&Ki&&Ki.push(t),t}function yc(t,e,n,i,s,r){return $k(qi(t,e,n,i,s,r,!0))}function Pn(t,e,n,i,s){return $k(Q(t,e,n,i,s,!0))}function ra(t){return t?t.__v_isVNode===!0:!1}function Ws(t,e){return t.type===e.type&&t.key===e.key}const zk=({key:t})=>t??null,lp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?_n(t)||Dt(t)||bt(t)?{i:ri,r:t,k:e,f:!!n}:t:null);function qi(t,e=null,n=null,i=0,s=null,r=t===At?0:1,a=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&zk(e),ref:e&&lp(e),scopeId:ck,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ri};return c?(R0(h,n),r&128&&t.normalize(h)):n&&(h.shapeFlag|=_n(n)?8:16),gc>0&&!a&&Ki&&(h.patchFlag>0||r&6)&&h.patchFlag!==32&&Ki.push(h),h}const Q=MF;function MF(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===xk)&&(t=ni),ra(t)){const c=vr(t,e,!0);return n&&R0(c,n),gc>0&&!r&&Ki&&(c.shapeFlag&6?Ki[Ki.indexOf(t)]=c:Ki.push(c)),c.patchFlag=-2,c}if(HF(t)&&(t=t.__vccOpts),e){e=DF(e);let{class:c,style:h}=e;c&&!_n(c)&&(e.class=Mm(c)),dn(h)&&(_0(h)&&!ct(h)&&(h=Dn({},h)),e.style=Om(h))}const a=_n(t)?1:Dp(t)?128:hk(t)?64:dn(t)?4:bt(t)?2:0;return qi(t,e,n,i,s,a,r,!0)}function DF(t){return t?_0(t)||Pk(t)?Dn({},t):t:null}function vr(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:a,children:c,transition:h}=t,d=e?lt(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&zk(d),ref:e&&e.ref?n&&r?ct(r)?r.concat(lp(e)):[r,lp(e)]:lp(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==At?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vr(t.ssContent),ssFallback:t.ssFallback&&vr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&i&&sa(f,h.clone(f)),f}function ei(t=" ",e=0){return Q(sd,null,t,e)}function as(t="",e=!1){return e?(Qt(),Pn(ni,null,t)):Q(ni,null,t)}function zs(t){return t==null||typeof t=="boolean"?Q(ni):ct(t)?Q(At,null,t.slice()):ra(t)?Ko(t):Q(sd,null,String(t))}function Ko(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vr(t)}function R0(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ct(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),R0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Pk(e)?e._ctx=ri:s===3&&ri&&(ri.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else bt(e)?(e={default:e,_ctx:ri},n=32):(e=String(e),i&64?(n=16,e=[ei(e)]):n=8);t.children=e,t.shapeFlag|=n}function lt(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Mm([e.class,i.class]));else if(s==="style")e.style=Om([e.style,i.style]);else if(Am(s)){const r=e[s],a=i[s];a&&r!==a&&!(ct(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function xs(t,e,n,i=null){Zs(t,e,7,[n,i])}const NF=kk();let LF=0;function VF(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||NF,r={uid:LF++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new B1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ok(i,s),emitsOptions:Uk(i,s),emit:null,emitted:null,propsDefaults:Yt,inheritAttrs:i.inheritAttrs,ctx:Yt,data:Yt,props:Yt,attrs:Yt,slots:Yt,refs:Yt,setupState:Yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=_F.bind(null,r),t.ce&&t.ce(r),r}let ii=null;const fa=()=>ii||ri;let Np,$v;{const t=Rm(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};Np=e("__VUE_INSTANCE_SETTERS__",n=>ii=n),$v=e("__VUE_SSR_SETTERS__",n=>vc=n)}const al=t=>{const e=ii;return Np(t),t.scope.on(),()=>{t.scope.off(),Np(e)}},zv=()=>{ii&&ii.scope.off(),Np(null)};function Wk(t){return t.vnode.shapeFlag&4}let vc=!1;function FF(t,e=!1,n=!1){e&&$v(e);const{props:i,children:s}=t.vnode,r=Wk(t);oF(t,i,r,e),uF(t,s,n);const a=r?BF(t,e):void 0;return e&&$v(!1),a}function BF(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,J2);const{setup:i}=n;if(i){ha();const s=t.setupContext=i.length>1?jF(t):null,r=al(t),a=ed(i,t,0,[t.props,s]),c=f0(a);if(da(),r(),(c||t.sp)&&!Ja(t)&&x0(t),c){if(a.then(zv,zv),e)return a.then(h=>{Wv(t,h,e)}).catch(h=>{Vc(h,t,0)});t.asyncDep=a}else Wv(t,a,e)}else Gk(t,e)}function Wv(t,e,n){bt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:dn(e)&&(t.setupState=ik(e)),Gk(t,n)}let Cx;function Gk(t,e,n){const i=t.type;if(!t.render){if(!e&&Cx&&!i.render){const s=i.template||k0(t).template;if(s){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:h}=i,d=Dn(Dn({isCustomElement:r,delimiters:c},a),h);i.render=Cx(s,d)}}t.render=i.render||mr}{const s=al(t);ha();try{Q2(t)}finally{da(),s()}}}const UF={get(t,e){return Ri(t,"get",""),t[e]}};function jF(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,UF),slots:t.slots,emit:t.emit,expose:e}}function Hm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ik(Lm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in dh)return dh[n](t)},has(e,n){return n in e||n in dh}})):t.proxy}function Gv(t,e=!0){return bt(t)?t.displayName||t.name:t.name||e&&t.__name}function HF(t){return bt(t)&&"__vccOpts"in t}const re=(t,e)=>O2(t,e,vc);function yo(t,e,n){const i=arguments.length;return i===2?dn(e)&&!ct(e)?ra(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ra(n)&&(n=[n]),Q(t,e,n))}const $F="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qv;const xx=typeof window<"u"&&window.trustedTypes;if(xx)try{qv=xx.createPolicy("vue",{createHTML:t=>t})}catch{}const qk=qv?t=>qv.createHTML(t):t=>t,zF="http://www.w3.org/2000/svg",WF="http://www.w3.org/1998/Math/MathML",Gr=typeof document<"u"?document:null,Ex=Gr&&Gr.createElement("template"),GF={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?Gr.createElementNS(zF,t):e==="mathml"?Gr.createElementNS(WF,t):n?Gr.createElement(t,{is:n}):Gr.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Gr.createTextNode(t),createComment:t=>Gr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{Ex.innerHTML=qk(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const c=Ex.content;if(i==="svg"||i==="mathml"){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Uo="transition",Hu="animation",bc=Symbol("_vtc"),Kk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Yk=Dn({},mk,Kk),qF=t=>(t.displayName="Transition",t.props=Yk,t),oo=qF((t,{slots:e})=>yo(U2,Xk(t),e)),ja=(t,e=[])=>{ct(t)?t.forEach(n=>n(...e)):t&&t(...e)},Tx=t=>t?ct(t)?t.some(e=>e.length>1):t.length>1:!1;function Xk(t){const e={};for(const G in t)G in Kk||(e[G]=t[G]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:h=r,appearActiveClass:d=a,appearToClass:f=c,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:b=`${n}-leave-active`,leaveToClass:w=`${n}-leave-to`}=t,y=KF(s),v=y&&y[0],x=y&&y[1],{onBeforeEnter:k,onEnter:I,onEnterCancelled:D,onLeave:N,onLeaveCancelled:F,onBeforeAppear:O=k,onAppear:S=I,onAppearCancelled:A=D}=e,L=(G,H,q,Z)=>{G._enterCancelled=Z,$o(G,H?f:c),$o(G,H?d:a),q&&q()},U=(G,H)=>{G._isLeaving=!1,$o(G,m),$o(G,w),$o(G,b),H&&H()},z=G=>(H,q)=>{const Z=G?S:I,ie=()=>L(H,G,q);ja(Z,[H,ie]),Sx(()=>{$o(H,G?h:r),ar(H,G?f:c),Tx(Z)||kx(H,i,v,ie)})};return Dn(e,{onBeforeEnter(G){ja(k,[G]),ar(G,r),ar(G,a)},onBeforeAppear(G){ja(O,[G]),ar(G,h),ar(G,d)},onEnter:z(!1),onAppear:z(!0),onLeave(G,H){G._isLeaving=!0;const q=()=>U(G,H);ar(G,m),G._enterCancelled?(ar(G,b),Kv()):(Kv(),ar(G,b)),Sx(()=>{G._isLeaving&&($o(G,m),ar(G,w),Tx(N)||kx(G,i,x,q))}),ja(N,[G,q])},onEnterCancelled(G){L(G,!1,void 0,!0),ja(D,[G])},onAppearCancelled(G){L(G,!0,void 0,!0),ja(A,[G])},onLeaveCancelled(G){U(G),ja(F,[G])}})}function KF(t){if(t==null)return null;if(dn(t))return[$y(t.enter),$y(t.leave)];{const e=$y(t);return[e,e]}}function $y(t){return N1(t)}function ar(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[bc]||(t[bc]=new Set)).add(e)}function $o(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[bc];n&&(n.delete(e),n.size||(t[bc]=void 0))}function Sx(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let YF=0;function kx(t,e,n,i){const s=t._endId=++YF,r=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:c,propCount:h}=Jk(t,e);if(!a)return i();const d=a+"end";let f=0;const m=()=>{t.removeEventListener(d,b),r()},b=w=>{w.target===t&&++f>=h&&m()};setTimeout(()=>{f<h&&m()},c+1),t.addEventListener(d,b)}function Jk(t,e){const n=window.getComputedStyle(t),i=y=>(n[y]||"").split(", "),s=i(`${Uo}Delay`),r=i(`${Uo}Duration`),a=Ix(s,r),c=i(`${Hu}Delay`),h=i(`${Hu}Duration`),d=Ix(c,h);let f=null,m=0,b=0;e===Uo?a>0&&(f=Uo,m=a,b=r.length):e===Hu?d>0&&(f=Hu,m=d,b=h.length):(m=Math.max(a,d),f=m>0?a>d?Uo:Hu:null,b=f?f===Uo?r.length:h.length:0);const w=f===Uo&&/\b(transform|all)(,|$)/.test(i(`${Uo}Property`).toString());return{type:f,timeout:m,propCount:b,hasTransform:w}}function Ix(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>Ax(n)+Ax(t[i])))}function Ax(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Kv(){return document.body.offsetHeight}function XF(t,e,n){const i=t[bc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Lp=Symbol("_vod"),Qk=Symbol("_vsh"),rd={beforeMount(t,{value:e},{transition:n}){t[Lp]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):$u(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),$u(t,!0),i.enter(t)):i.leave(t,()=>{$u(t,!1)}):$u(t,e))},beforeUnmount(t,{value:e}){$u(t,e)}};function $u(t,e){t.style.display=e?t[Lp]:"none",t[Qk]=!e}const JF=Symbol(""),QF=/(^|;)\s*display\s*:/;function ZF(t,e,n){const i=t.style,s=_n(n);let r=!1;if(n&&!s){if(e)if(_n(e))for(const a of e.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&cp(i,c,"")}else for(const a in e)n[a]==null&&cp(i,a,"");for(const a in n)a==="display"&&(r=!0),cp(i,a,n[a])}else if(s){if(e!==n){const a=i[JF];a&&(n+=";"+a),i.cssText=n,r=QF.test(n)}}else e&&t.removeAttribute("style");Lp in t&&(t[Lp]=r?i.display:"",t[Qk]&&(i.display="none"))}const Px=/\s*!important$/;function cp(t,e,n){if(ct(n))n.forEach(i=>cp(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=eB(t,e);Px.test(n)?t.setProperty(po(i),n.replace(Px,""),"important"):t[i]=n}}const Rx=["Webkit","Moz","ms"],zy={};function eB(t,e){const n=zy[e];if(n)return n;let i=$i(e);if(i!=="filter"&&i in t)return zy[e]=i;i=Nc(i);for(let s=0;s<Rx.length;s++){const r=Rx[s]+i;if(r in t)return zy[e]=r}return e}const Ox="http://www.w3.org/1999/xlink";function Mx(t,e,n,i,s,r=r2(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ox,e.slice(6,e.length)):t.setAttributeNS(Ox,e,n):n==null||r&&!L1(n)?t.removeAttribute(e):t.setAttribute(e,r?"":fo(n)?String(n):n)}function Dx(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?qk(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const c=r==="OPTION"?t.getAttribute("value")||"":t.value,h=n==null?t.type==="checkbox"?"on":"":String(n);(c!==h||!("_value"in t))&&(t.value=h),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=L1(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}function Wl(t,e,n,i){t.addEventListener(e,n,i)}function tB(t,e,n,i){t.removeEventListener(e,n,i)}const Nx=Symbol("_vei");function nB(t,e,n,i,s=null){const r=t[Nx]||(t[Nx]={}),a=r[e];if(i&&a)a.value=i;else{const[c,h]=iB(e);if(i){const d=r[e]=oB(i,s);Wl(t,c,d,h)}else a&&(tB(t,c,a,h),r[e]=void 0)}}const Lx=/(?:Once|Passive|Capture)$/;function iB(t){let e;if(Lx.test(t)){e={};let i;for(;i=t.match(Lx);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):po(t.slice(2)),e]}let Wy=0;const sB=Promise.resolve(),rB=()=>Wy||(sB.then(()=>Wy=0),Wy=Date.now());function oB(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Zs(aB(i,n.value),e,5,[i])};return n.value=t,n.attached=rB(),n}function aB(t,e){if(ct(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Vx=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,lB=(t,e,n,i,s,r)=>{const a=s==="svg";e==="class"?XF(t,i,a):e==="style"?ZF(t,n,i):Am(e)?h0(e)||nB(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cB(t,e,i,a))?(Dx(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mx(t,e,i,a,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!_n(i))?Dx(t,$i(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Mx(t,e,i,a))};function cB(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Vx(e)&&bt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Vx(e)&&_n(n)?!1:e in t}const Zk=new WeakMap,eI=new WeakMap,Vp=Symbol("_moveCb"),Fx=Symbol("_enterCb"),uB=t=>(delete t.props.mode,t),hB=uB({name:"TransitionGroup",props:Dn({},Yk,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=fa(),i=pk();let s,r;return Bm(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!mB(s[0].el,n.vnode.el,a))return;s.forEach(dB),s.forEach(fB);const c=s.filter(pB);Kv(),c.forEach(h=>{const d=h.el,f=d.style;ar(d,a),f.transform=f.webkitTransform=f.transitionDuration="";const m=d[Vp]=b=>{b&&b.target!==d||(!b||/transform$/.test(b.propertyName))&&(d.removeEventListener("transitionend",m),d[Vp]=null,$o(d,a))};d.addEventListener("transitionend",m)})}),()=>{const a=st(t),c=Xk(a);let h=a.tag||At;if(s=[],r)for(let d=0;d<r.length;d++){const f=r[d];f.el&&f.el instanceof Element&&(s.push(f),sa(f,Rh(f,c,i,n)),Zk.set(f,f.el.getBoundingClientRect()))}r=e.default?C0(e.default()):[];for(let d=0;d<r.length;d++){const f=r[d];f.key!=null&&sa(f,Rh(f,c,i,n))}return Q(h,null,r)}}}),O0=hB;function dB(t){const e=t.el;e[Vp]&&e[Vp](),e[Fx]&&e[Fx]()}function fB(t){eI.set(t,t.el.getBoundingClientRect())}function pB(t){const e=Zk.get(t),n=eI.get(t),i=e.left-n.left,s=e.top-n.top;if(i||s){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${s}px)`,r.transitionDuration="0s",t}}function mB(t,e,n){const i=t.cloneNode(),s=t[bc];s&&s.forEach(c=>{c.split(/\s+/).forEach(h=>h&&i.classList.remove(h))}),n.split(/\s+/).forEach(c=>c&&i.classList.add(c)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:a}=Jk(i);return r.removeChild(i),a}const Bx=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ct(e)?n=>sc(e,n):e};function gB(t){t.target.composing=!0}function Ux(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gy=Symbol("_assign"),K7={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Gy]=Bx(s);const r=i||s.props&&s.props.type==="number";Wl(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),r&&(c=Pv(c)),t[Gy](c)}),n&&Wl(t,"change",()=>{t.value=t.value.trim()}),e||(Wl(t,"compositionstart",gB),Wl(t,"compositionend",Ux),Wl(t,"change",Ux))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:r}},a){if(t[Gy]=Bx(a),t.composing)return;const c=(r||t.type==="number")&&!/^0\d/.test(t.value)?Pv(t.value):t.value,h=e??"";c!==h&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===h)||(t.value=h))}},yB=["ctrl","shift","alt","meta"],vB={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>yB.some(n=>t[`${n}Key`]&&!e.includes(n))},Y7=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const c=vB[e[a]];if(c&&c(s,e))return}return t(s,...r)})},bB={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tI=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const r=po(s.key);if(e.some(a=>a===r||bB[a]===r))return t(s)})},_B=Dn({patchProp:lB},GF);let jx;function nI(){return jx||(jx=dF(_B))}const iI=(...t)=>{nI().render(...t)},wB=(...t)=>{const e=nI().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=xB(i);if(!s)return;const r=e._component;!bt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,CB(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function CB(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xB(t){return _n(t)?document.querySelector(t):t}var EB=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let sI;const $m=t=>sI=t,rI=Symbol();function Yv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ph;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ph||(ph={}));function TB(){const t=Lc(!0),e=t.run(()=>Ye({}));let n=[],i=[];const s=Lm({install(r){$m(s),s._a=r,r.provide(rI,s),r.config.globalProperties.$pinia=s,i.forEach(a=>n.push(a)),i=[]},use(r){return!this._a&&!EB?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const oI=()=>{};function Hx(t,e,n,i=oI){t.push(e);const s=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),i())};return!n&&U1()&&fs(s),s}function Fl(t,...e){t.slice().forEach(n=>{n(...e)})}const SB=t=>t(),$x=Symbol(),qy=Symbol();function Xv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Yv(s)&&Yv(i)&&t.hasOwnProperty(n)&&!Dt(i)&&!no(i)?t[n]=Xv(s,i):t[n]=i}return t}const kB=Symbol();function IB(t){return!Yv(t)||!t.hasOwnProperty(kB)}const{assign:zo}=Object;function AB(t){return!!(Dt(t)&&t.effect)}function PB(t,e,n,i){const{state:s,actions:r,getters:a}=e,c=n.state.value[t];let h;function d(){c||(n.state.value[t]=s?s():{});const f=Vm(n.state.value[t]);return zo(f,r,Object.keys(a||{}).reduce((m,b)=>(m[b]=Lm(re(()=>{$m(n);const w=n._s.get(t);return a[b].call(w,w)})),m),{}))}return h=aI(t,d,e,n,i,!0),h}function aI(t,e,n={},i,s,r){let a;const c=zo({actions:{}},n),h={deep:!0};let d,f,m=[],b=[],w;const y=i.state.value[t];!r&&!y&&(i.state.value[t]={}),Ye({});let v;function x(A){let L;d=f=!1,typeof A=="function"?(A(i.state.value[t]),L={type:ph.patchFunction,storeId:t,events:w}):(Xv(i.state.value[t],A),L={type:ph.patchObject,payload:A,storeId:t,events:w});const U=v=Symbol();gi().then(()=>{v===U&&(d=!0)}),f=!0,Fl(m,L,i.state.value[t])}const k=r?function(){const{state:L}=n,U=L?L():{};this.$patch(z=>{zo(z,U)})}:oI;function I(){a.stop(),m=[],b=[],i._s.delete(t)}const D=(A,L="")=>{if($x in A)return A[qy]=L,A;const U=function(){$m(i);const z=Array.from(arguments),G=[],H=[];function q(oe){G.push(oe)}function Z(oe){H.push(oe)}Fl(b,{args:z,name:U[qy],store:F,after:q,onError:Z});let ie;try{ie=A.apply(this&&this.$id===t?this:F,z)}catch(oe){throw Fl(H,oe),oe}return ie instanceof Promise?ie.then(oe=>(Fl(G,oe),oe)).catch(oe=>(Fl(H,oe),Promise.reject(oe))):(Fl(G,ie),ie)};return U[$x]=!0,U[qy]=L,U},N={_p:i,$id:t,$onAction:Hx.bind(null,b),$patch:x,$reset:k,$subscribe(A,L={}){const U=Hx(m,A,L.detached,()=>z()),z=a.run(()=>dt(()=>i.state.value[t],G=>{(L.flush==="sync"?f:d)&&A({storeId:t,type:ph.direct,events:w},G)},zo({},h,L)));return U},$dispose:I},F=ti(N);i._s.set(t,F);const S=(i._a&&i._a.runWithContext||SB)(()=>i._e.run(()=>(a=Lc()).run(()=>e({action:D}))));for(const A in S){const L=S[A];if(Dt(L)&&!AB(L)||no(L))r||(y&&IB(L)&&(Dt(L)?L.value=y[A]:Xv(L,y[A])),i.state.value[t][A]=L);else if(typeof L=="function"){const U=D(L,A);S[A]=U,c.actions[A]=L}}return zo(F,S),zo(st(F),S),Object.defineProperty(F,"$state",{get:()=>i.state.value[t],set:A=>{x(L=>{zo(L,A)})}}),i._p.forEach(A=>{zo(F,a.run(()=>A({store:F,app:i._a,pinia:i,options:c})))}),y&&r&&n.hydrate&&n.hydrate(F.$state,y),d=!0,f=!0,F}function zm(t,e,n){let i,s;const r=typeof e=="function";typeof t=="string"?(i=t,s=r?n:e):(s=t,i=t.id);function a(c,h){const d=rF();return c=c||(d?zt(rI,null):null),c&&$m(c),c=sI,c._s.has(i)||(r?aI(i,e,s,c):PB(i,s,c)),c._s.get(i)}return a.$id=i,a}function X7(t){{t=st(t);const e={};for(const n in t){const i=t[n];(Dt(i)||no(i))&&(e[n]=Ct(t,n))}return e}}const RB=TB();/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Gl=typeof document<"u";function lI(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function OB(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&lI(t.default)}const tn=Object.assign;function Ky(t,e){const n={};for(const i in e){const s=e[i];n[i]=er(s)?s.map(t):t(s)}return n}const mh=()=>{},er=Array.isArray,cI=/#/g,MB=/&/g,DB=/\//g,NB=/=/g,LB=/\?/g,uI=/\+/g,VB=/%5B/g,FB=/%5D/g,hI=/%5E/g,BB=/%60/g,dI=/%7B/g,UB=/%7C/g,fI=/%7D/g,jB=/%20/g;function M0(t){return encodeURI(""+t).replace(UB,"|").replace(VB,"[").replace(FB,"]")}function HB(t){return M0(t).replace(dI,"{").replace(fI,"}").replace(hI,"^")}function Jv(t){return M0(t).replace(uI,"%2B").replace(jB,"+").replace(cI,"%23").replace(MB,"%26").replace(BB,"`").replace(dI,"{").replace(fI,"}").replace(hI,"^")}function $B(t){return Jv(t).replace(NB,"%3D")}function zB(t){return M0(t).replace(cI,"%23").replace(LB,"%3F")}function WB(t){return t==null?"":zB(t).replace(DB,"%2F")}function Mh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const GB=/\/$/,qB=t=>t.replace(GB,"");function Yy(t,e,n="/"){let i,s={},r="",a="";const c=e.indexOf("#");let h=e.indexOf("?");return c<h&&c>=0&&(h=-1),h>-1&&(i=e.slice(0,h),r=e.slice(h+1,c>-1?c:e.length),s=t(r)),c>-1&&(i=i||e.slice(0,c),a=e.slice(c,e.length)),i=JB(i??e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:Mh(a)}}function KB(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function zx(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function YB(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&_c(e.matched[i],n.matched[s])&&pI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function _c(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function pI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!XB(t[n],e[n]))return!1;return!0}function XB(t,e){return er(t)?Wx(t,e):er(e)?Wx(e,t):t===e}function Wx(t,e){return er(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function JB(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,c;for(a=0;a<i.length;a++)if(c=i[a],c!==".")if(c==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}const jo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Dh;(function(t){t.pop="pop",t.push="push"})(Dh||(Dh={}));var gh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gh||(gh={}));function QB(t){if(!t)if(Gl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),qB(t)}const ZB=/^[^#]+#/;function eU(t,e){return t.replace(ZB,"#")+e}function tU(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Wm=()=>({left:window.scrollX,top:window.scrollY});function nU(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=tU(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Gx(t,e){return(history.state?history.state.position-e:-1)+t}const Qv=new Map;function iU(t,e){Qv.set(t,e)}function sU(t){const e=Qv.get(t);return Qv.delete(t),e}let rU=()=>location.protocol+"//"+location.host;function mI(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let c=s.includes(t.slice(r))?t.slice(r).length:1,h=s.slice(c);return h[0]!=="/"&&(h="/"+h),zx(h,"")}return zx(n,t)+i+s}function oU(t,e,n,i){let s=[],r=[],a=null;const c=({state:b})=>{const w=mI(t,location),y=n.value,v=e.value;let x=0;if(b){if(n.value=w,e.value=b,a&&a===y){a=null;return}x=v?b.position-v.position:0}else i(w);s.forEach(k=>{k(n.value,y,{delta:x,type:Dh.pop,direction:x?x>0?gh.forward:gh.back:gh.unknown})})};function h(){a=n.value}function d(b){s.push(b);const w=()=>{const y=s.indexOf(b);y>-1&&s.splice(y,1)};return r.push(w),w}function f(){const{history:b}=window;b.state&&b.replaceState(tn({},b.state,{scroll:Wm()}),"")}function m(){for(const b of r)b();r=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:h,listen:d,destroy:m}}function qx(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Wm():null}}function aU(t){const{history:e,location:n}=window,i={value:mI(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(h,d,f){const m=t.indexOf("#"),b=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+h:rU()+t+h;try{e[f?"replaceState":"pushState"](d,"",b),s.value=d}catch(w){console.error(w),n[f?"replace":"assign"](b)}}function a(h,d){const f=tn({},e.state,qx(s.value.back,h,s.value.forward,!0),d,{position:s.value.position});r(h,f,!0),i.value=h}function c(h,d){const f=tn({},s.value,e.state,{forward:h,scroll:Wm()});r(f.current,f,!0);const m=tn({},qx(i.value,h,null),{position:f.position+1},d);r(h,m,!1),i.value=h}return{location:i,state:s,push:c,replace:a}}function lU(t){t=QB(t);const e=aU(t),n=oU(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=tn({location:"",base:t,go:i,createHref:eU.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function cU(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),lU(t)}function uU(t){return typeof t=="string"||t&&typeof t=="object"}function gI(t){return typeof t=="string"||typeof t=="symbol"}const yI=Symbol("");var Kx;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Kx||(Kx={}));function wc(t,e){return tn(new Error,{type:t,[yI]:!0},e)}function Wr(t,e){return t instanceof Error&&yI in t&&(e==null||!!(t.type&e))}const Yx="[^/]+?",hU={sensitive:!1,strict:!1,start:!0,end:!0},dU=/[.+*?^${}()[\]/\\]/g;function fU(t,e){const n=tn({},hU,e),i=[];let s=n.start?"^":"";const r=[];for(const d of t){const f=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let m=0;m<d.length;m++){const b=d[m];let w=40+(n.sensitive?.25:0);if(b.type===0)m||(s+="/"),s+=b.value.replace(dU,"\\$&"),w+=40;else if(b.type===1){const{value:y,repeatable:v,optional:x,regexp:k}=b;r.push({name:y,repeatable:v,optional:x});const I=k||Yx;if(I!==Yx){w+=10;try{new RegExp(`(${I})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${y}" (${I}): `+N.message)}}let D=v?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;m||(D=x&&d.length<2?`(?:/${D})`:"/"+D),x&&(D+="?"),s+=D,w+=20,x&&(w+=-8),v&&(w+=-20),I===".*"&&(w+=-50)}f.push(w)}i.push(f)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function c(d){const f=d.match(a),m={};if(!f)return null;for(let b=1;b<f.length;b++){const w=f[b]||"",y=r[b-1];m[y.name]=w&&y.repeatable?w.split("/"):w}return m}function h(d){let f="",m=!1;for(const b of t){(!m||!f.endsWith("/"))&&(f+="/"),m=!1;for(const w of b)if(w.type===0)f+=w.value;else if(w.type===1){const{value:y,repeatable:v,optional:x}=w,k=y in d?d[y]:"";if(er(k)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const I=er(k)?k.join("/"):k;if(!I)if(x)b.length<2&&(f.endsWith("/")?f=f.slice(0,-1):m=!0);else throw new Error(`Missing required param "${y}"`);f+=I}}return f||"/"}return{re:a,score:i,keys:r,parse:c,stringify:h}}function pU(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function vI(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=pU(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(Xx(i))return 1;if(Xx(s))return-1}return s.length-i.length}function Xx(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const mU={type:0,value:""},gU=/[a-zA-Z0-9_]/;function yU(t){if(!t)return[[]];if(t==="/")return[[mU]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(w){throw new Error(`ERR (${n})/"${d}": ${w}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let c=0,h,d="",f="";function m(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:f,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),d="")}function b(){d+=h}for(;c<t.length;){if(h=t[c++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(d&&m(),a()):h===":"?(m(),n=1):b();break;case 4:b(),n=i;break;case 1:h==="("?n=2:gU.test(h)?b():(m(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--);break;case 2:h===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+h:n=3:f+=h;break;case 3:m(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),m(),a(),s}function vU(t,e,n){const i=fU(yU(t.path),n),s=tn(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function bU(t,e){const n=[],i=new Map;e=eE({strict:!1,end:!0,sensitive:!1},e);function s(m){return i.get(m)}function r(m,b,w){const y=!w,v=Qx(m);v.aliasOf=w&&w.record;const x=eE(e,m),k=[v];if("alias"in m){const N=typeof m.alias=="string"?[m.alias]:m.alias;for(const F of N)k.push(Qx(tn({},v,{components:w?w.record.components:v.components,path:F,aliasOf:w?w.record:v})))}let I,D;for(const N of k){const{path:F}=N;if(b&&F[0]!=="/"){const O=b.record.path,S=O[O.length-1]==="/"?"":"/";N.path=b.record.path+(F&&S+F)}if(I=vU(N,b,x),w?w.alias.push(I):(D=D||I,D!==I&&D.alias.push(I),y&&m.name&&!Zx(I)&&a(m.name)),bI(I)&&h(I),v.children){const O=v.children;for(let S=0;S<O.length;S++)r(O[S],I,w&&w.children[S])}w=w||I}return D?()=>{a(D)}:mh}function a(m){if(gI(m)){const b=i.get(m);b&&(i.delete(m),n.splice(n.indexOf(b),1),b.children.forEach(a),b.alias.forEach(a))}else{const b=n.indexOf(m);b>-1&&(n.splice(b,1),m.record.name&&i.delete(m.record.name),m.children.forEach(a),m.alias.forEach(a))}}function c(){return n}function h(m){const b=CU(m,n);n.splice(b,0,m),m.record.name&&!Zx(m)&&i.set(m.record.name,m)}function d(m,b){let w,y={},v,x;if("name"in m&&m.name){if(w=i.get(m.name),!w)throw wc(1,{location:m});x=w.record.name,y=tn(Jx(b.params,w.keys.filter(D=>!D.optional).concat(w.parent?w.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),m.params&&Jx(m.params,w.keys.map(D=>D.name))),v=w.stringify(y)}else if(m.path!=null)v=m.path,w=n.find(D=>D.re.test(v)),w&&(y=w.parse(v),x=w.record.name);else{if(w=b.name?i.get(b.name):n.find(D=>D.re.test(b.path)),!w)throw wc(1,{location:m,currentLocation:b});x=w.record.name,y=tn({},b.params,m.params),v=w.stringify(y)}const k=[];let I=w;for(;I;)k.unshift(I.record),I=I.parent;return{name:x,path:v,params:y,matched:k,meta:wU(k)}}t.forEach(m=>r(m));function f(){n.length=0,i.clear()}return{addRoute:r,resolve:d,removeRoute:a,clearRoutes:f,getRoutes:c,getRecordMatcher:s}}function Jx(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Qx(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_U(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _U(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function Zx(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function wU(t){return t.reduce((e,n)=>tn(e,n.meta),{})}function eE(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function CU(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;vI(t,e[r])<0?i=r:n=r+1}const s=xU(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function xU(t){let e=t;for(;e=e.parent;)if(bI(e)&&vI(t,e)===0)return e}function bI({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function EU(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(uI," "),a=r.indexOf("="),c=Mh(a<0?r:r.slice(0,a)),h=a<0?null:Mh(r.slice(a+1));if(c in e){let d=e[c];er(d)||(d=e[c]=[d]),d.push(h)}else e[c]=h}return e}function tE(t){let e="";for(let n in t){const i=t[n];if(n=$B(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(er(i)?i.map(r=>r&&Jv(r)):[i&&Jv(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function TU(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=er(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const SU=Symbol(""),nE=Symbol(""),Gm=Symbol(""),D0=Symbol(""),Zv=Symbol("");function zu(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Yo(t,e,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((c,h)=>{const d=b=>{b===!1?h(wc(4,{from:n,to:e})):b instanceof Error?h(b):uU(b)?h(wc(2,{from:e,to:b})):(a&&i.enterCallbacks[s]===a&&typeof b=="function"&&a.push(b),c())},f=r(()=>t.call(i&&i.instances[s],e,n,d));let m=Promise.resolve(f);t.length<3&&(m=m.then(d)),m.catch(b=>h(b))})}function Xy(t,e,n,i,s=r=>r()){const r=[];for(const a of t)for(const c in a.components){let h=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(lI(h)){const f=(h.__vccOpts||h)[e];f&&r.push(Yo(f,n,i,a,c,s))}else{let d=h();r.push(()=>d.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${c}" at "${a.path}"`);const m=OB(f)?f.default:f;a.mods[c]=f,a.components[c]=m;const w=(m.__vccOpts||m)[e];return w&&Yo(w,n,i,a,c,s)()}))}}return r}function iE(t){const e=zt(Gm),n=zt(D0),i=re(()=>{const h=He(t.to);return e.resolve(h)}),s=re(()=>{const{matched:h}=i.value,{length:d}=h,f=h[d-1],m=n.matched;if(!f||!m.length)return-1;const b=m.findIndex(_c.bind(null,f));if(b>-1)return b;const w=sE(h[d-2]);return d>1&&sE(f)===w&&m[m.length-1].path!==w?m.findIndex(_c.bind(null,h[d-2])):b}),r=re(()=>s.value>-1&&PU(n.params,i.value.params)),a=re(()=>s.value>-1&&s.value===n.matched.length-1&&pI(n.params,i.value.params));function c(h={}){return AU(h)?e[He(t.replace)?"replace":"push"](He(t.to)).catch(mh):Promise.resolve()}return{route:i,href:re(()=>i.value.href),isActive:r,isExactActive:a,navigate:c}}const kU=mo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:iE,setup(t,{slots:e}){const n=ti(iE(t)),{options:i}=zt(Gm),s=re(()=>({[rE(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[rE(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:yo("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),IU=kU;function AU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function PU(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!er(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function sE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const rE=(t,e,n)=>t??e??n,RU=mo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=zt(Zv),s=re(()=>t.route||i.value),r=zt(nE,0),a=re(()=>{let d=He(r);const{matched:f}=s.value;let m;for(;(m=f[d])&&!m.components;)d++;return d}),c=re(()=>s.value.matched[a.value]);mi(nE,re(()=>a.value+1)),mi(SU,c),mi(Zv,s);const h=Ye();return dt(()=>[h.value,c.value,t.name],([d,f,m],[b,w,y])=>{f&&(f.instances[m]=d,w&&w!==f&&d&&d===b&&(f.leaveGuards.size||(f.leaveGuards=w.leaveGuards),f.updateGuards.size||(f.updateGuards=w.updateGuards))),d&&f&&(!w||!_c(f,w)||!b)&&(f.enterCallbacks[m]||[]).forEach(v=>v(d))},{flush:"post"}),()=>{const d=s.value,f=t.name,m=c.value,b=m&&m.components[f];if(!b)return oE(n.default,{Component:b,route:d});const w=m.props[f],y=w?w===!0?d.params:typeof w=="function"?w(d):w:null,x=yo(b,tn({},y,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(m.instances[f]=null)},ref:h}));return oE(n.default,{Component:x,route:d})||x}}});function oE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const OU=RU;function MU(t){const e=bU(t.routes,t),n=t.parseQuery||EU,i=t.stringifyQuery||tE,s=t.history,r=zu(),a=zu(),c=zu(),h=ht(jo);let d=jo;Gl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ky.bind(null,ge=>""+ge),m=Ky.bind(null,WB),b=Ky.bind(null,Mh);function w(ge,Ae){let Ne,Ge;return gI(ge)?(Ne=e.getRecordMatcher(ge),Ge=Ae):Ge=ge,e.addRoute(Ge,Ne)}function y(ge){const Ae=e.getRecordMatcher(ge);Ae&&e.removeRoute(Ae)}function v(){return e.getRoutes().map(ge=>ge.record)}function x(ge){return!!e.getRecordMatcher(ge)}function k(ge,Ae){if(Ae=tn({},Ae||h.value),typeof ge=="string"){const ae=Yy(n,ge,Ae.path),ye=e.resolve({path:ae.path},Ae),Se=s.createHref(ae.fullPath);return tn(ae,ye,{params:b(ye.params),hash:Mh(ae.hash),redirectedFrom:void 0,href:Se})}let Ne;if(ge.path!=null)Ne=tn({},ge,{path:Yy(n,ge.path,Ae.path).path});else{const ae=tn({},ge.params);for(const ye in ae)ae[ye]==null&&delete ae[ye];Ne=tn({},ge,{params:m(ae)}),Ae.params=m(Ae.params)}const Ge=e.resolve(Ne,Ae),xt=ge.hash||"";Ge.params=f(b(Ge.params));const Pe=KB(i,tn({},ge,{hash:HB(xt),path:Ge.path})),se=s.createHref(Pe);return tn({fullPath:Pe,hash:xt,query:i===tE?TU(ge.query):ge.query||{}},Ge,{redirectedFrom:void 0,href:se})}function I(ge){return typeof ge=="string"?Yy(n,ge,h.value.path):tn({},ge)}function D(ge,Ae){if(d!==ge)return wc(8,{from:Ae,to:ge})}function N(ge){return S(ge)}function F(ge){return N(tn(I(ge),{replace:!0}))}function O(ge){const Ae=ge.matched[ge.matched.length-1];if(Ae&&Ae.redirect){const{redirect:Ne}=Ae;let Ge=typeof Ne=="function"?Ne(ge):Ne;return typeof Ge=="string"&&(Ge=Ge.includes("?")||Ge.includes("#")?Ge=I(Ge):{path:Ge},Ge.params={}),tn({query:ge.query,hash:ge.hash,params:Ge.path!=null?{}:ge.params},Ge)}}function S(ge,Ae){const Ne=d=k(ge),Ge=h.value,xt=ge.state,Pe=ge.force,se=ge.replace===!0,ae=O(Ne);if(ae)return S(tn(I(ae),{state:typeof ae=="object"?tn({},xt,ae.state):xt,force:Pe,replace:se}),Ae||Ne);const ye=Ne;ye.redirectedFrom=Ae;let Se;return!Pe&&YB(i,Ge,Ne)&&(Se=wc(16,{to:ye,from:Ge}),be(Ge,Ge,!0,!1)),(Se?Promise.resolve(Se):U(ye,Ge)).catch(xe=>Wr(xe)?Wr(xe,2)?xe:we(xe):ce(xe,ye,Ge)).then(xe=>{if(xe){if(Wr(xe,2))return S(tn({replace:se},I(xe.to),{state:typeof xe.to=="object"?tn({},xt,xe.to.state):xt,force:Pe}),Ae||ye)}else xe=G(ye,Ge,!0,se,xt);return z(ye,Ge,xe),xe})}function A(ge,Ae){const Ne=D(ge,Ae);return Ne?Promise.reject(Ne):Promise.resolve()}function L(ge){const Ae=We.values().next().value;return Ae&&typeof Ae.runWithContext=="function"?Ae.runWithContext(ge):ge()}function U(ge,Ae){let Ne;const[Ge,xt,Pe]=DU(ge,Ae);Ne=Xy(Ge.reverse(),"beforeRouteLeave",ge,Ae);for(const ae of Ge)ae.leaveGuards.forEach(ye=>{Ne.push(Yo(ye,ge,Ae))});const se=A.bind(null,ge,Ae);return Ne.push(se),$e(Ne).then(()=>{Ne=[];for(const ae of r.list())Ne.push(Yo(ae,ge,Ae));return Ne.push(se),$e(Ne)}).then(()=>{Ne=Xy(xt,"beforeRouteUpdate",ge,Ae);for(const ae of xt)ae.updateGuards.forEach(ye=>{Ne.push(Yo(ye,ge,Ae))});return Ne.push(se),$e(Ne)}).then(()=>{Ne=[];for(const ae of Pe)if(ae.beforeEnter)if(er(ae.beforeEnter))for(const ye of ae.beforeEnter)Ne.push(Yo(ye,ge,Ae));else Ne.push(Yo(ae.beforeEnter,ge,Ae));return Ne.push(se),$e(Ne)}).then(()=>(ge.matched.forEach(ae=>ae.enterCallbacks={}),Ne=Xy(Pe,"beforeRouteEnter",ge,Ae,L),Ne.push(se),$e(Ne))).then(()=>{Ne=[];for(const ae of a.list())Ne.push(Yo(ae,ge,Ae));return Ne.push(se),$e(Ne)}).catch(ae=>Wr(ae,8)?ae:Promise.reject(ae))}function z(ge,Ae,Ne){c.list().forEach(Ge=>L(()=>Ge(ge,Ae,Ne)))}function G(ge,Ae,Ne,Ge,xt){const Pe=D(ge,Ae);if(Pe)return Pe;const se=Ae===jo,ae=Gl?history.state:{};Ne&&(Ge||se?s.replace(ge.fullPath,tn({scroll:se&&ae&&ae.scroll},xt)):s.push(ge.fullPath,xt)),h.value=ge,be(ge,Ae,Ne,se),we()}let H;function q(){H||(H=s.listen((ge,Ae,Ne)=>{if(!rt.listening)return;const Ge=k(ge),xt=O(Ge);if(xt){S(tn(xt,{replace:!0}),Ge).catch(mh);return}d=Ge;const Pe=h.value;Gl&&iU(Gx(Pe.fullPath,Ne.delta),Wm()),U(Ge,Pe).catch(se=>Wr(se,12)?se:Wr(se,2)?(S(se.to,Ge).then(ae=>{Wr(ae,20)&&!Ne.delta&&Ne.type===Dh.pop&&s.go(-1,!1)}).catch(mh),Promise.reject()):(Ne.delta&&s.go(-Ne.delta,!1),ce(se,Ge,Pe))).then(se=>{se=se||G(Ge,Pe,!1),se&&(Ne.delta&&!Wr(se,8)?s.go(-Ne.delta,!1):Ne.type===Dh.pop&&Wr(se,20)&&s.go(-1,!1)),z(Ge,Pe,se)}).catch(mh)}))}let Z=zu(),ie=zu(),oe;function ce(ge,Ae,Ne){we(ge);const Ge=ie.list();return Ge.length?Ge.forEach(xt=>xt(ge,Ae,Ne)):console.error(ge),Promise.reject(ge)}function ve(){return oe&&h.value!==jo?Promise.resolve():new Promise((ge,Ae)=>{Z.add([ge,Ae])})}function we(ge){return oe||(oe=!ge,q(),Z.list().forEach(([Ae,Ne])=>ge?Ne(ge):Ae()),Z.reset()),ge}function be(ge,Ae,Ne,Ge){const{scrollBehavior:xt}=t;if(!Gl||!xt)return Promise.resolve();const Pe=!Ne&&sU(Gx(ge.fullPath,0))||(Ge||!Ne)&&history.state&&history.state.scroll||null;return gi().then(()=>xt(ge,Ae,Pe)).then(se=>se&&nU(se)).catch(se=>ce(se,ge,Ae))}const Ce=ge=>s.go(ge);let De;const We=new Set,rt={currentRoute:h,listening:!0,addRoute:w,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:v,resolve:k,options:t,push:N,replace:F,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:r.add,beforeResolve:a.add,afterEach:c.add,onError:ie.add,isReady:ve,install(ge){const Ae=this;ge.component("RouterLink",IU),ge.component("RouterView",OU),ge.config.globalProperties.$router=Ae,Object.defineProperty(ge.config.globalProperties,"$route",{enumerable:!0,get:()=>He(h)}),Gl&&!De&&h.value===jo&&(De=!0,N(s.location).catch(xt=>{}));const Ne={};for(const xt in jo)Object.defineProperty(Ne,xt,{get:()=>h.value[xt],enumerable:!0});ge.provide(Gm,Ae),ge.provide(D0,tk(Ne)),ge.provide(Zv,h);const Ge=ge.unmount;We.add(ge),ge.unmount=function(){We.delete(ge),We.size<1&&(d=jo,H&&H(),H=null,h.value=jo,De=!1,oe=!1),Ge()}}};function $e(ge){return ge.reduce((Ae,Ne)=>Ae.then(()=>L(Ne)),Promise.resolve())}return rt}function DU(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const c=e.matched[a];c&&(t.matched.find(d=>_c(d,c))?i.push(c):n.push(c));const h=t.matched[a];h&&(e.matched.find(d=>_c(d,h))||s.push(h))}return[n,i,s]}function NU(){return zt(Gm)}function _I(t){return zt(D0)}function LU(t){const{extendRoutes:e,routes:n}=t;return e&&console.warn('"extendRoutes()" is deprecated, please modify the routes directly. See https://uvr.esm.is/guide/extending-routes.html#extending-routes-at-runtime for an alternative.'),MU(Object.assign(t,{routes:typeof e=="function"&&e(n)||n}))}const VU="modulepreload",FU=function(t){return"/prod/"+t},aE={},Wo=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=FU(h),h in aE)return;aE[h]=!0;const d=h.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":VU,d||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function r(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})},BU=[{path:"/:path(.*)",name:"/[...path]",component:()=>Wo(()=>import("./_...path_-BAUIZ7rS.js"),[])},{path:"/:tenantId",children:[{path:"",name:"/[tenantId]/",component:()=>Wo(()=>import("./index-C-TWU2i8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))},{path:"defects",children:[{path:":id",name:"/[tenantId]/defects/[id]",component:()=>Wo(()=>import("./_id_-BOgXcDwV.js"),__vite__mapDeps([8,4,5,9,10,11,3,6,12,13,14,15,16,17,18,19]))}]},{path:"profile",name:"/[tenantId]/profile",component:()=>Wo(()=>import("./profile-CGbq-pBC.js"),__vite__mapDeps([20,12,4,5,13,9,21]))},{path:"property",children:[{path:"",name:"/[tenantId]/property/",component:()=>Wo(()=>import("./index-DA5Mdlwr.js"),__vite__mapDeps([22,23,14,15,16,3,4,5,6,17,9,18,24,1,2,25,26,10,11,27]))},{path:":id",name:"/[tenantId]/property/[id]",component:()=>Wo(()=>import("./_id_-VrjwY5LZ.js"),__vite__mapDeps([28,1,2,4,5,18,3,6,15,16,29]))}]},{path:"settings",name:"/[tenantId]/settings",component:()=>Wo(()=>import("./settings-ClJl0NvT.js"),__vite__mapDeps([30,1,2,25,26,4,5,3,6,14,15,16,17,31]))}]}];var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke=function(t,e){if(!t)throw Fc(e)},Fc=function(t){return new Error("Firebase Database ("+wI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},UU=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],c=t[n++],h=((s&7)<<18|(r&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},qm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,c=a?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,f=r>>2,m=(r&3)<<4|c>>4;let b=(c&15)<<2|d>>6,w=d&63;h||(w=64,a||(b=64)),i.push(n[f],n[m],n[b],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||c==null||d==null||m==null)throw new jU;const b=r<<2|c>>4;if(i.push(b),d!==64){const w=c<<4&240|d>>2;if(i.push(w),m!==64){const y=d<<6&192|m;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xI=function(t){const e=CI(t);return qm.encodeByteArray(e,!0)},Fp=function(t){return xI(t).replace(/\./g,"")},Bp=function(t){try{return qm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){return EI(void 0,t)}function EI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$U(n)||(t[n]=EI(t[n],e[n]));return t}function $U(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=()=>zU().__FIREBASE_DEFAULTS__,GU=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bp(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return WU()||GU()||qU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TI=t=>{var e,n;return(n=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KU=t=>{const e=TI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},SI=()=>{var t;return(t=Km())===null||t===void 0?void 0:t.config},kI=t=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fp(JSON.stringify(n)),Fp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())}function XU(){var t;const e=(t=Km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function II(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZU(){const t=Fi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AI(){return wI.NODE_ADMIN===!0}function ej(){return!XU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PI(){try{return typeof indexedDB=="object"}catch{return!1}}function tj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="FirebaseError";class Er extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=nj,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?ij(r,i):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Er(s,c,i)}}function ij(t,e){return t.replace(sj,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const sj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){return JSON.parse(t)}function xi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=Lh(Bp(r[0])||""),n=Lh(Bp(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},rj=function(t){const e=RI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oj=function(t){const e=RI(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function eb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Up(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function jp(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(cE(r)&&cE(a)){if(!jp(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function cE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)i[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const b=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(b<<1|b>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],c=this.chain_[3],h=this.chain_[4],d,f;for(let m=0;m<80;m++){m<40?m<20?(d=c^r&(a^c),f=1518500249):(d=r^a^c,f=1859775393):m<60?(d=r&a|c&(r|a),f=2400959708):(d=r^a^c,f=3395469782);const b=(s<<5|s>>>27)+d+h+f+i[m]&4294967295;h=c,c=a,a=(r<<30|r>>>2)&4294967295,r=s,s=b}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<n;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function lj(t,e){const n=new cj(t,e);return n.subscribe.bind(n)}class cj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");uj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Jy),s.error===void 0&&(s.error=Jy),s.complete===void 0&&(s.complete=Jy);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jy(){}function hj(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,Ke(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;s=65536+(r<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ym=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){return t&&t._delegate?t._delegate:t}class tr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Nh;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mj(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pj(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pj(t){return t===Wa?void 0:t}function mj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mt||(Mt={}));const yj={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},vj=Mt.INFO,bj={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},_j=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=bj[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class od{constructor(e){this.name=e,this._logLevel=vj,this._logHandler=_j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const wj=(t,e)=>e.some(n=>t instanceof n);let uE,hE;function Cj(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xj(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OI=new WeakMap,tb=new WeakMap,MI=new WeakMap,Qy=new WeakMap,L0=new WeakMap;function Ej(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(ea(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&OI.set(n,t)}).catch(()=>{}),L0.set(e,t),e}function Tj(t){if(tb.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});tb.set(t,e)}let nb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sj(t){nb=t(nb)}function kj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zy(this),e,...n);return MI.set(i,e.sort?e.sort():[e]),ea(i)}:xj().includes(t)?function(...e){return t.apply(Zy(this),e),ea(OI.get(this))}:function(...e){return ea(t.apply(Zy(this),e))}}function Ij(t){return typeof t=="function"?kj(t):(t instanceof IDBTransaction&&Tj(t),wj(t,Cj())?new Proxy(t,nb):t)}function ea(t){if(t instanceof IDBRequest)return Ej(t);if(Qy.has(t))return Qy.get(t);const e=Ij(t);return e!==t&&(Qy.set(t,e),L0.set(e,t)),e}const Zy=t=>L0.get(t);function Aj(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),c=ea(a);return i&&a.addEventListener("upgradeneeded",h=>{i(ea(a.result),h.oldVersion,h.newVersion,ea(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{r&&h.addEventListener("close",()=>r()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const Pj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],ev=new Map;function dE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ev.get(e))return ev.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Rj.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Pj.includes(n)))return;const r=async function(a,...c){const h=this.transaction(a,s?"readwrite":"readonly");let d=h.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return ev.set(e,r),r}Sj(t=>({...t,get:(e,n,i)=>dE(e,n)||t.get(e,n,i),has:(e,n)=>!!dE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mj(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Mj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ib="@firebase/app",fE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new od("@firebase/app"),Dj="@firebase/app-compat",Nj="@firebase/analytics-compat",Lj="@firebase/analytics",Vj="@firebase/app-check-compat",Fj="@firebase/app-check",Bj="@firebase/auth",Uj="@firebase/auth-compat",jj="@firebase/database",Hj="@firebase/data-connect",$j="@firebase/database-compat",zj="@firebase/functions",Wj="@firebase/functions-compat",Gj="@firebase/installations",qj="@firebase/installations-compat",Kj="@firebase/messaging",Yj="@firebase/messaging-compat",Xj="@firebase/performance",Jj="@firebase/performance-compat",Qj="@firebase/remote-config",Zj="@firebase/remote-config-compat",eH="@firebase/storage",tH="@firebase/storage-compat",nH="@firebase/firestore",iH="@firebase/vertexai-preview",sH="@firebase/firestore-compat",rH="firebase",oH="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="[DEFAULT]",aH={[ib]:"fire-core",[Dj]:"fire-core-compat",[Lj]:"fire-analytics",[Nj]:"fire-analytics-compat",[Fj]:"fire-app-check",[Vj]:"fire-app-check-compat",[Bj]:"fire-auth",[Uj]:"fire-auth-compat",[jj]:"fire-rtdb",[Hj]:"fire-data-connect",[$j]:"fire-rtdb-compat",[zj]:"fire-fn",[Wj]:"fire-fn-compat",[Gj]:"fire-iid",[qj]:"fire-iid-compat",[Kj]:"fire-fcm",[Yj]:"fire-fcm-compat",[Xj]:"fire-perf",[Jj]:"fire-perf-compat",[Qj]:"fire-rc",[Zj]:"fire-rc-compat",[eH]:"fire-gcs",[tH]:"fire-gcs-compat",[nH]:"fire-fst",[sH]:"fire-fst-compat",[iH]:"fire-vertex","fire-js":"fire-js",[rH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map,lH=new Map,rb=new Map;function pE(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function br(t){const e=t.name;if(rb.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;rb.set(e,t);for(const n of Hp.values())pE(n,t);for(const n of lH.values())pE(n,t);return!0}function V0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Bc("app","Firebase",cH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=oH;function DI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sb,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ta.create("bad-app-name",{appName:String(s)});if(n||(n=SI()),!n)throw ta.create("no-options");const r=Hp.get(s);if(r){if(jp(n,r.options)&&jp(i,r.config))return r;throw ta.create("duplicate-app",{appName:s})}const a=new gj(s);for(const h of rb.values())a.addComponent(h);const c=new uH(n,i,a);return Hp.set(s,c),c}function F0(t=sb){const e=Hp.get(t);if(!e&&t===sb&&SI())return DI();if(!e)throw ta.create("no-app",{appName:t});return e}function us(t,e,n){var i;let s=(i=aH[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(c.join(" "));return}br(new tr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="firebase-heartbeat-database",dH=1,Vh="firebase-heartbeat-store";let tv=null;function NI(){return tv||(tv=Aj(hH,dH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ta.create("idb-open",{originalErrorMessage:t.message})})),tv}async function fH(t){try{const n=(await NI()).transaction(Vh),i=await n.objectStore(Vh).get(LI(t));return await n.done,i}catch(e){if(e instanceof Er)ao.warn(e.message);else{const n=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ao.warn(n.message)}}}async function mE(t,e){try{const i=(await NI()).transaction(Vh,"readwrite");await i.objectStore(Vh).put(e,LI(t)),await i.done}catch(n){if(n instanceof Er)ao.warn(n.message);else{const i=ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ao.warn(i.message)}}}function LI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=1024,mH=30*24*60*60*1e3;class gH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vH(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=mH}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ao.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gE(),{heartbeatsToSend:i,unsentEntries:s}=yH(this._heartbeatsCache.heartbeats),r=Fp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return ao.warn(n),""}}}function gE(){return new Date().toISOString().substring(0,10)}function yH(t,e=pH){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),yE(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PI()?tj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yE(t){return Fp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(t){br(new tr("platform-logger",e=>new Oj(e),"PRIVATE")),br(new tr("heartbeat",e=>new gH(e),"PRIVATE")),us(ib,fE,t),us(ib,fE,"esm2017"),us("fire-js","")}bH("");function B0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function VI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _H=VI,FI=new Bc("auth","Firebase",VI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new od("@firebase/auth");function wH(t,...e){$p.logLevel<=Mt.WARN&&$p.warn(`Auth (${pa}): ${t}`,...e)}function up(t,...e){$p.logLevel<=Mt.ERROR&&$p.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,...e){throw j0(t,...e)}function Js(t,...e){return j0(t,...e)}function U0(t,e,n){const i=Object.assign(Object.assign({},_H()),{[e]:n});return new Bc("auth","Firebase",i).create(e,{appName:t.name})}function io(t){return U0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CH(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Rs(t,"argument-error"),U0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j0(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return FI.create(t,...e)}function vt(t,e,...n){if(!t)throw j0(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw up(e),new Error(e)}function lo(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xH(){return vE()==="http:"||vE()==="https:"}function vE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xH()||QU()||"connection"in navigator)?navigator.onLine:!0}function TH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,lo(n>e,"Short delay should be less than long delay!"),this.isMobile=N0()||II()}get(){return EH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t,e){lo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=new ad(3e4,6e4);function bo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Tr(t,e,n,i,s={}){return UI(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const c=Uc(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},r);return JU()||(d.referrerPolicy="no-referrer"),BI.fetch()(jI(t,t.config.apiHost,n,c),d)})}async function UI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},SH),e);try{const s=new AH(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw $f(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const c=r.ok?a.errorMessage:a.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw $f(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw $f(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw $f(t,"user-disabled",a);const f=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw U0(t,f,d);Rs(t,f)}}catch(s){if(s instanceof Er)throw s;Rs(t,"network-request-failed",{message:String(s)})}}async function ld(t,e,n,i,s={}){const r=await Tr(t,e,n,i,s);return"mfaPendingCredential"in r&&Rs(t,"multi-factor-auth-required",{_serverResponse:r}),r}function jI(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?H0(t.config,s):`${t.config.apiScheme}://${s}`}function IH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Js(this.auth,"network-request-failed")),kH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $f(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Js(t,e,i);return s.customData._tokenResponse=n,s}function bE(t){return t!==void 0&&t.enterprise!==void 0}class PH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function RH(t,e){return Tr(t,"GET","/v2/recaptchaConfig",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(t,e){return Tr(t,"POST","/v1/accounts:delete",e)}async function HI(t,e){return Tr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MH(t,e=!1){const n=Ds(t),i=await n.getIdToken(e),s=$0(i);vt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:yh(nv(s.auth_time)),issuedAtTime:yh(nv(s.iat)),expirationTime:yh(nv(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function nv(t){return Number(t)*1e3}function $0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return up("JWT malformed, contained fewer than 3 sections"),null;try{const s=Bp(n);return s?JSON.parse(s):(up("Failed to decode base64 JWT payload"),null)}catch(s){return up("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _E(t){const e=$0(t);return vt(e,"internal-error"),vt(typeof e.exp<"u","internal-error"),vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Er&&DH(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function DH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yh(this.lastLoginAt),this.creationTime=yh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){var e;const n=t.auth,i=await t.getIdToken(),s=await xc(t,HI(n,{idToken:i}));vt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?$I(r.providerUserInfo):[],c=VH(t.providerData,a),h=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!(c!=null&&c.length),f=h?d:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new ab(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function LH(t){const e=Ds(t);await zp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VH(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function $I(t){return t.map(e=>{var{providerId:n}=e,i=B0(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e){const n=await UI(t,{},async()=>{const i=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=jI(t,s,"/v1/token",`key=${r}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",BI.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BH(t,e){return Tr(t,"POST","/v2/accounts:revokeToken",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){vt(e.idToken,"internal-error"),vt(typeof e.idToken<"u","internal-error"),vt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){vt(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await FH(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ac;return i&&(vt(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(vt(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(vt(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ac,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e){vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=B0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ab(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MH(this,e)}reload(){return LH(this)}_assign(e){this!==e&&(vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await zp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await xc(this,OH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,c,h,d,f;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,w=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,I=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:D,emailVerified:N,isAnonymous:F,providerData:O,stsTokenManager:S}=n;vt(D&&S,e,"internal-error");const A=ac.fromJSON(this.name,S);vt(typeof D=="string",e,"internal-error"),Ho(m,e.name),Ho(b,e.name),vt(typeof N=="boolean",e,"internal-error"),vt(typeof F=="boolean",e,"internal-error"),Ho(w,e.name),Ho(y,e.name),Ho(v,e.name),Ho(x,e.name),Ho(k,e.name),Ho(I,e.name);const L=new Zr({uid:D,auth:e,email:b,emailVerified:N,displayName:m,isAnonymous:F,photoURL:y,phoneNumber:w,tenantId:v,stsTokenManager:A,createdAt:k,lastLoginAt:I});return O&&Array.isArray(O)&&(L.providerData=O.map(U=>Object.assign({},U))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,i=!1){const s=new ac;s.updateFromServerResponse(n);const r=new Zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await zp(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];vt(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?$I(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new ac;c.updateFromIdToken(i);const h=new Zr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new ab(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function eo(t){lo(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(lo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zI.type="NONE";const CE=zI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e,n){return`firebase:${t}:${e}:${n}`}class lc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=hp(this.userKey,s.apiKey,r),this.fullPersistenceKey=hp("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new lc(eo(CE),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||eo(CE);const a=hp(i,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(a);if(f){const m=Zr._fromJSON(e,f);d!==r&&(c=m),r=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!h.length?new lc(r,e,i):(r=h[0],c&&await r._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(a)}catch{}})),new lc(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XI(e))return"Blackberry";if(JI(e))return"Webos";if(GI(e))return"Safari";if((e.includes("chrome/")||qI(e))&&!e.includes("edge/"))return"Chrome";if(YI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WI(t=Fi()){return/firefox\//i.test(t)}function GI(t=Fi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qI(t=Fi()){return/crios\//i.test(t)}function KI(t=Fi()){return/iemobile/i.test(t)}function YI(t=Fi()){return/android/i.test(t)}function XI(t=Fi()){return/blackberry/i.test(t)}function JI(t=Fi()){return/webos/i.test(t)}function z0(t=Fi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UH(t=Fi()){var e;return z0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jH(){return ZU()&&document.documentMode===10}function QI(t=Fi()){return z0(t)||YI(t)||JI(t)||XI(t)||/windows phone/i.test(t)||KI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e=[]){let n;switch(t){case"Browser":n=xE(Fi());break;case"Worker":n=`${xE(Fi())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,c)=>{try{const h=e(r);a(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=6;class WH{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:zH,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(r=h.containsUppercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new HH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=eo(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await lc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HI(this,{idToken:e}),i=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&(h!=null&&h.user)&&(s=h.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(io(this));const n=e?Ds(e):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $H(this),n=new WH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await BH(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&eo(e)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[eo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(c,this,"internal-error"),c.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _o(t){return Ds(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lj(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qH(t){Xm=t}function eA(t){return Xm.loadJS(t)}function KH(){return Xm.recaptchaEnterpriseScript}function YH(){return Xm.gapiScript}function XH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const JH="recaptcha-enterprise",QH="NO_RECAPTCHA";class ZH{constructor(e){this.type=JH,this.auth=_o(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,c)=>{RH(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new PH(h);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,a(d.siteKey)}}).catch(h=>{c(h)})})}function s(r,a,c){const h=window.grecaptcha;bE(h)?h.enterprise.ready(()=>{h.enterprise.execute(r,{action:e}).then(d=>{a(d)}).catch(()=>{a(QH)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,a)=>{i(this.auth).then(c=>{if(!n&&bE(window.grecaptcha))s(c,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=KH();h.length!==0&&(h+=c),eA(h).then(()=>{s(c,r,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function TE(t,e,n,i=!1){const s=new ZH(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wp(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await TE(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await TE(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){const n=V0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(jp(r,e??{}))return s;Rs(s,"already-initialized")}return n.initialize({options:e})}function e$(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(eo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function nA(t,e,n){const i=_o(t);vt(i._canInitEmulator,i,"emulator-config-failed"),vt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=iA(e),{host:a,port:c}=t$(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${r}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),n$()}function iA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t$(t){const e=iA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:SE(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:SE(a)}}}function SE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function i$(t,e){return Tr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e){return ld(t,"POST","/v1/accounts:signInWithPassword",bo(t,e))}async function sA(t,e){return Tr(t,"POST","/v1/accounts:sendOobCode",bo(t,e))}async function r$(t,e){return sA(t,e)}async function o$(t,e){return sA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a$(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}async function l$(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends W0{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Fh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",s$);case"emailLink":return a$(e,{email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,i,"signUpPassword",i$);case"emailLink":return l$(e,{idToken:n,email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e){return ld(t,"POST","/v1/accounts:signInWithIdp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$="http://localhost";class ll extends W0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=B0(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new ll(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cc(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,cc(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cc(e,n)}buildRequest(){const e={requestUri:c$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h$(t){const e=eh(th(t)).link,n=e?eh(th(e)).deep_link_id:null,i=eh(th(t)).deep_link_id;return(i?eh(th(i)).link:null)||i||n||e||t}class G0{constructor(e){var n,i,s,r,a,c;const h=eh(th(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,f=(i=h.oobCode)!==null&&i!==void 0?i:null,m=u$((s=h.mode)!==null&&s!==void 0?s:null);vt(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(r=h.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=h$(e);try{return new G0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.providerId=jc.PROVIDER_ID}static credential(e,n){return Fh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=G0.parseLink(n);return vt(i,"argument-error"),Fh._fromEmailAndCode(e,i.code,i.tenantId)}}jc.PROVIDER_ID="password";jc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends cd{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch{return null}}}Xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ll._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Yr.credential(n,i)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends cd{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends cd{constructor(){super("twitter.com")}static credential(e,n){return ll._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Jo.credential(n,i)}catch{return null}}}Jo.TWITTER_SIGN_IN_METHOD="twitter.com";Jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e){return ld(t,"POST","/v1/accounts:signUp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await Zr._fromIdTokenResponse(e,i,s),a=kE(i);return new cl({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=kE(i);return new cl({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function kE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Er{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Gp.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Gp(e,n,i,s)}}function rA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Gp._fromErrorAndOperation(t,r,e,i):r})}async function f$(t,e,n=!1){const i=await xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e,n=!1){const{auth:i}=t;if(qs(i.app))return Promise.reject(io(i));const s="reauthenticate";try{const r=await xc(t,rA(i,s,e,t),n);vt(r.idToken,i,"internal-error");const a=$0(r.idToken);vt(a,i,"internal-error");const{sub:c}=a;return vt(t.uid===c,i,"user-mismatch"),cl._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Rs(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(t,e,n=!1){if(qs(t.app))return Promise.reject(io(t));const i="signIn",s=await rA(t,i,e),r=await cl._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function m$(t,e){return oA(_o(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t){const e=_o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g$(t,e,n){const i=_o(t);await Wp(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",o$)}async function y$(t,e,n){if(qs(t.app))return Promise.reject(io(t));const i=_o(t),a=await Wp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d$).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&aA(t),h}),c=await cl._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function v$(t,e,n){return qs(t.app)?Promise.reject(io(t)):m$(Ds(t),jc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&aA(t),i})}async function lA(t,e){const n=Ds(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:r}=await r$(n.auth,s);r!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b$(t,e){return Tr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ds(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await xc(i,b$(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function cA(t,e,n,i){return Ds(t).onIdTokenChanged(e,n,i)}function _$(t,e,n){return Ds(t).beforeAuthStateChanged(e,n)}function K0(t){return Ds(t).signOut()}const qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=1e3,C$=10;class hA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,h)=>{this.notifyListeners(a,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);jH()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,C$):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},w$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const dA=hA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fA.type="SESSION";const pA=fA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Jm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,r)),h=await x$(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((c,h)=>{const d=Y0("",20);s.port1.start();const f=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(m){const b=m;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(b.data.response);break;default:clearTimeout(f),clearTimeout(r),h(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function T$(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function S$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I$(){return mA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebaseLocalStorageDb",A$=1,Kp="firebaseLocalStorage",yA="fbase_key";class ud{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qm(t,e){return t.transaction([Kp],e?"readwrite":"readonly").objectStore(Kp)}function P$(){const t=indexedDB.deleteDatabase(gA);return new ud(t).toPromise()}function lb(){const t=indexedDB.open(gA,A$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Kp,{keyPath:yA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Kp)?e(i):(i.close(),await P$(),e(await lb()))})})}async function IE(t,e,n){const i=Qm(t,!0).put({[yA]:e,value:n});return new ud(i).toPromise()}async function R$(t,e){const n=Qm(t,!1).get(e),i=await new ud(n).toPromise();return i===void 0?null:i.value}function AE(t,e){const n=Qm(t,!0).delete(e);return new ud(n).toPromise()}const O$=800,M$=3;class vA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>M$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(I$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await S$(),!this.activeServiceWorker)return;this.sender=new E$(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lb();return await IE(e,qp,"1"),await AE(e,qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>IE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>R$(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Qm(s,!1).getAll();return new ud(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vA.type="LOCAL";const D$=vA;new ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e){return e?eo(e):(vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends W0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N$(t){return oA(t.auth,new X0(t),t.bypassAuthState)}function L$(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),p$(n,new X0(t),t.bypassAuthState)}async function V$(t){const{auth:e,user:n}=t;return vt(n,e,"internal-error"),f$(n,new X0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:c}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N$;case"linkViaPopup":case"linkViaRedirect":return V$;case"reauthViaPopup":case"reauthViaRedirect":return L$;default:Rs(this.auth,"internal-error")}}resolve(e){lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new ad(2e3,1e4);async function B$(t,e,n){if(qs(t.app))return Promise.reject(Js(t,"operation-not-supported-in-this-environment"));const i=_o(t);CH(t,e,q0);const s=bA(i,n);return new qa(i,"signInViaPopup",e,s).executeNotNull()}class qa extends _A{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return vt(e,this.auth,"internal-error"),e}async onExecution(){lo(this.filter.length===1,"Popup operations only handle one event");const e=Y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F$.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="pendingRedirect",dp=new Map;class j$ extends _A{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=dp.get(this.auth._key());if(!e){try{const i=await H$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}dp.set(this.auth._key(),e)}return this.bypassAuthState||dp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H$(t,e){const n=W$(e),i=z$(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function $$(t,e){dp.set(t._key(),e)}function z$(t){return eo(t._redirectPersistence)}function W$(t){return hp(U$,t.config.apiKey,t.name)}async function G$(t,e,n=!1){if(qs(t.app))return Promise.reject(io(t));const i=_o(t),s=bA(i,e),a=await new j$(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=10*60*1e3;class K${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!wA(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q$&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e={}){return Tr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q$=/^https?/;async function Z$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X$(t);for(const n of e)try{if(ez(n))return}catch{}Rs(t,"unauthorized-domain")}function ez(t){const e=ob(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Q$.test(n))return!1;if(J$.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=new ad(3e4,6e4);function RE(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nz(t){return new Promise((e,n)=>{var i,s,r;function a(){RE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RE(),n(Js(t,"network-request-failed"))},timeout:tz.get()})}if(!((s=(i=gr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=gr().gapi)===null||r===void 0)&&r.load)a();else{const c=XH("iframefcb");return gr()[c]=()=>{gapi.load?a():n(Js(t,"network-request-failed"))},eA(`${YH()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw fp=null,e})}let fp=null;function iz(t){return fp=fp||nz(t),fp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=new ad(5e3,15e3),rz="__/auth/iframe",oz="emulator/auth/iframe",az={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cz(t){const e=t.config;vt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H0(e,oz):`https://${t.config.authDomain}/${rz}`,i={apiKey:e.apiKey,appName:t.name,v:pa},s=lz.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Uc(i).slice(1)}`}async function uz(t){const e=await iz(t),n=gr().gapi;return vt(n,t,"internal-error"),e.open({where:document.body,url:cz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:az,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Js(t,"network-request-failed"),c=gr().setTimeout(()=>{r(a)},sz.get());function h(){gr().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dz=500,fz=600,pz="_blank",mz="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gz(t,e,n,i=dz,s=fz){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},hz),{width:i.toString(),height:s.toString(),top:r,left:a}),d=Fi().toLowerCase();n&&(c=qI(d)?pz:n),WI(d)&&(e=e||mz,h.scrollbars="yes");const f=Object.entries(h).reduce((b,[w,y])=>`${b}${w}=${y},`,"");if(UH(d)&&c!=="_self")return yz(e||"",c),new OE(null);const m=window.open(e||"",c,f);vt(m,t,"popup-blocked");try{m.focus()}catch{}return new OE(m)}function yz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="__/auth/handler",bz="emulator/auth/handler",_z=encodeURIComponent("fac");async function ME(t,e,n,i,s,r){vt(t.config.authDomain,t,"auth-domain-config-required"),vt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:pa,eventId:s};if(e instanceof q0){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof cd){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const h=await t._getAppCheckToken(),d=h?`#${_z}=${encodeURIComponent(h)}`:"";return`${wz(t)}?${Uc(c).slice(1)}${d}`}function wz({config:t}){return t.emulator?H0(t,bz):`https://${t.authDomain}/${vz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="webStorageSupport";class Cz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=G$,this._overrideRedirectResult=$$}async _openPopup(e,n,i,s){var r;lo((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await ME(e,n,i,ob(),s);return gz(e,a,Y0())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await ME(e,n,i,ob(),s);return T$(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(lo(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await uz(e),i=new K$(e);return n.register("authEvent",s=>(vt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iv,{type:iv},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[iv];a!==void 0&&n(!!a),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QI()||GI()||z0()}}const CA=Cz;var DE="@firebase/auth",NE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tz(t){br(new tr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;vt(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZI(t)},d=new GH(i,s,r,h);return e$(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),br(new tr("auth-internal",e=>{const n=_o(e.getProvider("auth").getImmediate());return(i=>new xz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(DE,NE,Ez(t)),us(DE,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=5*60,kz=kI("authIdTokenMaxAge")||Sz;let LE=null;const Iz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>kz)return;const s=n==null?void 0:n.token;LE!==s&&(LE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Yp(t=F0()){const e=V0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tA(t,{popupRedirectResolver:CA,persistence:[D$,dA,pA]}),i=kI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=Iz(r.toString());_$(n,a,()=>a(n.currentUser)),cA(n,c=>a(c))}}const s=TI("auth");return s&&nA(n,`http://${s}`),n}function Az(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qH({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Js("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",Az().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tz("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new Map,Rz={activated:!1,tokenObservers:[]};function nr(t){return Pz.get(t)||Object.assign({},Rz)}const VE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n,i,s,r){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=r,this.pending=null,this.nextErrorWaitInterval=s,s>r)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Nh,this.pending.promise.catch(n=>{}),await Mz(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Nh,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Mz(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Xp=new Bc("appCheck","AppCheck",Dz);function xA(t){if(!nr(t).activated)throw Xp.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="firebase-app-check-database",Lz=1,cb="firebase-app-check-store";let zf=null;function Vz(){return zf||(zf=new Promise((t,e)=>{try{const n=indexedDB.open(Nz,Lz);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;e(Xp.create("storage-open",{originalErrorMessage:(s=i.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(cb,{keyPath:"compositeKey"})}}}catch(n){e(Xp.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),zf)}function Fz(t,e){return Bz(Uz(t),e)}async function Bz(t,e){const i=(await Vz()).transaction(cb,"readwrite"),r=i.objectStore(cb).put({compositeKey:t,value:e});return new Promise((a,c)=>{r.onsuccess=h=>{a()},i.onerror=h=>{var d;c(Xp.create("storage-set",{originalErrorMessage:(d=h.target.error)===null||d===void 0?void 0:d.message}))}})}function Uz(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new od("@firebase/app-check");function FE(t,e){return PI()?Fz(t,e).catch(n=>{ub.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz={error:"UNKNOWN_ERROR"};function Hz(t){return qm.encodeString(JSON.stringify(t),!1)}async function hb(t,e=!1){const n=t.app;xA(n);const i=nr(n);let s=i.token,r;if(s&&!nh(s)&&(i.token=void 0,s=void 0),!s){const h=await i.cachedTokenPromise;h&&(nh(h)?s=h:await FE(n,void 0))}if(!e&&s&&nh(s))return{token:s.token};let a=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await nr(n).exchangeTokenPromise}catch(h){h.code==="appCheck/throttled"?ub.warn(h.message):ub.error(h),r=h}let c;return s?r?nh(s)?c={token:s.token,internalError:r}:c=UE(r):(c={token:s.token},i.token=s,await FE(n,s)):c=UE(r),a&&Gz(n,c),c}async function $z(t){const e=t.app;xA(e);const{provider:n}=nr(e);{const{token:i}=await n.getToken();return{token:i}}}function zz(t,e,n,i){const{app:s}=t,r=nr(s),a={next:n,error:i,type:e};if(r.tokenObservers=[...r.tokenObservers,a],r.token&&nh(r.token)){const c=r.token;Promise.resolve().then(()=>{n({token:c.token}),BE(t)}).catch(()=>{})}r.cachedTokenPromise.then(()=>BE(t))}function EA(t,e){const n=nr(t),i=n.tokenObservers.filter(s=>s.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function BE(t){const{app:e}=t,n=nr(e);let i=n.tokenRefresher;i||(i=Wz(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Wz(t){const{app:e}=t;return new Oz(async()=>{const n=nr(e);let i;if(n.token?i=await hb(t,!0):i=await hb(t),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=nr(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,s),Math.max(0,i-Date.now())}else return 0},VE.RETRIAL_MIN_WAIT,VE.RETRIAL_MAX_WAIT)}function Gz(t,e){const n=nr(t).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function nh(t){return t.expireTimeMillis-Date.now()>0}function UE(t){return{token:Hz(jz),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nr(this.app);for(const n of e)EA(this.app,n.next);return Promise.resolve()}}function Kz(t,e){return new qz(t,e)}function Yz(t){return{getToken:e=>hb(t,e),getLimitedUseToken:()=>$z(t),addTokenListener:e=>zz(t,"INTERNAL",e),removeTokenListener:e=>EA(t.app,e)}}const Xz="@firebase/app-check",Jz="0.8.8",Qz="app-check",jE="app-check-internal";function Zz(){br(new tr(Qz,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Kz(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(jE).initialize()})),br(new tr(jE,t=>{const e=t.getProvider("app-check").getImmediate();return Yz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),us(Xz,Jz)}Zz();var eW="firebase",tW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(eW,tW,"app");const TA=Symbol("firebaseApp");function SA(t){return fa()&&zt(TA,null)||F0(t)}const nW=typeof window<"u",Wf=new WeakMap;function iW(t,e){if(!Wf.has(t)){const n=Lc(!0);Wf.set(t,n);const{unmount:i}=e;e.unmount=()=>{i.call(e),n.stop(),Wf.delete(t)}}return Wf.get(t)}const kA=new WeakMap;function db(t){return kA.get(SA(t))}const Gf=new WeakMap;function IA(t){const e=SA(t);if(!Gf.has(e)){let n;const s=[new Promise(r=>{n=r}),r=>{Gf.set(e,r),n(r.value)}];Gf.set(e,s)}return Gf.get(e)}function sW(t){const e=IA(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function rW(t,e){cA(e,n=>{const i=IA();t.value=n,Array.isArray(i)&&i[1](t)})}var HE={};const $E="@firebase/database",zE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AA="";function oW(t){AA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Lh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aW(e)}}catch{}return new lW},Ka=PA("localStorage"),cW=PA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new od("@firebase/database"),uW=function(){let t=1;return function(){return t++}}(),RA=function(t){const e=dj(t),n=new aj;n.update(e);const i=n.digest();return qm.encodeByteArray(i)},hd=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=hd.apply(null,i):typeof i=="object"?e+=xi(i):e+=i,e+=" "}return e};let vh=null,WE=!0;const hW=function(t,e){Ke(!e,"Can't turn on custom loggers persistently."),uc.logLevel=Mt.VERBOSE,vh=uc.log.bind(uc)},Mi=function(...t){if(WE===!0&&(WE=!1,vh===null&&cW.get("logging_enabled")===!0&&hW()),vh){const e=hd.apply(null,t);vh(e)}},dd=function(t){return function(...e){Mi(t,...e)}},fb=function(...t){const e="FIREBASE INTERNAL ERROR: "+hd(...t);uc.error(e)},ul=function(...t){const e=`FIREBASE FATAL ERROR: ${hd(...t)}`;throw uc.error(e),new Error(e)},hs=function(...t){const e="FIREBASE WARNING: "+hd(...t);uc.warn(e)},dW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&hs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},OA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ec="[MIN_NAME]",hl="[MAX_NAME]",Hc=function(t,e){if(t===e)return 0;if(t===Ec||e===hl)return-1;if(e===Ec||t===hl)return 1;{const n=GE(t),i=GE(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},pW=function(t,e){return t===e?0:t<e?-1:1},Wu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+xi(e))},J0=function(t){if(typeof t!="object"||t===null)return xi(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=xi(e[i]),n+=":",n+=J0(t[e[i]]);return n+="}",n},MA=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Os(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DA=function(t){Ke(!OA(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,a,c,h;t===0?(r=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=c+i,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(r=0,a=Math.round(t/Math.pow(2,1-i-n))));const d=[];for(h=n;h;h-=1)d.push(a%2?1:0),a=Math.floor(a/2);for(h=e;h;h-=1)d.push(r%2?1:0),r=Math.floor(r/2);d.push(s?1:0),d.reverse();const f=d.join("");let m="";for(h=0;h<64;h+=8){let b=parseInt(f.substr(h,8),2).toString(16);b.length===1&&(b="0"+b),m=m+b}return m.toLowerCase()},mW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},yW=new RegExp("^-?(0*)\\d{1,10}$"),vW=-2147483648,bW=2147483647,GE=function(t){if(yW.test(t)){const e=Number(t);if(e>=vW&&e<=bW)return e}return null},fd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw hs("Exception was thrown by user callback.",n),e},Math.floor(0))}},_W=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){hs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hs(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="5",NA="v",LA="s",VA="r",FA="f",BA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UA="ls",jA="p",pb="ac",HA="websocket",$A="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n,i,s,r=!1,a="",c=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ka.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ka.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function EW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zA(t,e,n){Ke(typeof e=="string","typeof type must == string"),Ke(typeof n=="object","typeof params must == object");let i;if(e===HA)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===$A)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EW(t)&&(n.ns=t.namespace);const s=[];return Os(n,(r,a)=>{s.push(r+"="+a)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(){this.counters_={}}incrementCounter(e,n=1){vo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={},rv={};function Z0(t){const e=t.toString();return sv[e]||(sv[e]=new TW),sv[e]}function SW(t,e){const n=t.toString();return rv[n]||(rv[n]=e()),rv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&fd(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="start",IW="close",AW="pLPCommand",PW="pRTLPCB",WA="id",GA="pw",qA="ser",RW="cb",OW="seg",MW="ts",DW="d",NW="dframe",KA=1870,YA=30,LW=KA-YA,VW=25e3,FW=3e4;class Xl{constructor(e,n,i,s,r,a,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dd(e),this.stats_=Z0(n),this.urlFn=h=>(this.appCheckToken&&(h[pb]=this.appCheckToken),zA(n,$A,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FW)),fW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new e_((...r)=>{const[a,c,h,d,f]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===qE)this.id=c,this.password=h;else if(a===IW)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,c]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[qE]="t",i[qA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[RW]=this.scriptTagHolder.uniqueCallbackIdentifier),i[NA]=Q0,this.transportSessionId&&(i[LA]=this.transportSessionId),this.lastSessionId&&(i[UA]=this.lastSessionId),this.applicationId&&(i[jA]=this.applicationId),this.appCheckToken&&(i[pb]=this.appCheckToken),typeof location<"u"&&location.hostname&&BA.test(location.hostname)&&(i[VA]=FA);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xl.forceAllow_=!0}static forceDisallow(){Xl.forceDisallow_=!0}static isAvailable(){return Xl.forceAllow_?!0:!Xl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mW()&&!gW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=xi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=xI(n),s=MA(i,LW);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[NW]="t",i[WA]=e,i[GA]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=xi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class e_{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uW(),window[AW+this.uniqueCallbackIdentifier]=e,window[PW+this.uniqueCallbackIdentifier]=n,this.myIFrame=e_.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){Mi("frame writing exception"),c.stack&&Mi(c.stack),Mi(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mi("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[WA]=this.myID,e[GA]=this.myPW,e[qA]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YA+i.length<=KA;){const a=this.pendingSegs.shift();i=i+"&"+OW+s+"="+a.seg+"&"+MW+s+"="+a.ts+"&"+DW+s+"="+a.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(VW)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Mi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=16384,UW=45e3;let Jp=null;typeof MozWebSocket<"u"?Jp=MozWebSocket:typeof WebSocket<"u"&&(Jp=WebSocket);class Gs{constructor(e,n,i,s,r,a,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dd(this.connId),this.stats_=Z0(n),this.connURL=Gs.connectionURL_(n,a,c,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const a={};return a[NA]=Q0,typeof location<"u"&&location.hostname&&BA.test(location.hostname)&&(a[VA]=FA),n&&(a[LA]=n),i&&(a[UA]=i),s&&(a[pb]=s),r&&(a[jA]=r),zA(e,HA,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ka.set("previous_websocket_failure",!0);try{let i;AI(),this.mySock=new Jp(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Gs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Jp!==null&&!Gs.forceDisallow_}static previouslyFailed(){return Ka.isInMemoryStorage||Ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ka.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Lh(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=xi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=MA(n,BW);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gs.responsesRequiredToBeHealthy=2;Gs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xl,Gs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Gs&&Gs.isAvailable();let i=n&&!Gs.previouslyFailed();if(e.webSocketOnly&&(n||hs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Gs];else{const s=this.transports_=[];for(const r of Bh.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Bh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=6e4,HW=5e3,$W=10*1024,zW=100*1024,ov="t",KE="d",WW="s",YE="r",GW="e",XE="o",JE="a",QE="n",ZE="p",qW="h";class KW{constructor(e,n,i,s,r,a,c,h,d,f){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=h,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dd("c:"+this.id+":"),this.transportManager_=new Bh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=bh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$W?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ov in e){const n=e[ov];n===JE?this.upgradeIfSecondaryHealthy_():n===YE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===XE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Wu("t",e),i=Wu("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ZE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:JE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:QE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Wu("t",e),i=Wu("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Wu(ov,e);if(KE in e){const i=e[KE];if(n===qW){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===QE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WW?this.onConnectionShutdown_(i):n===YE?this.onReset_(i):n===GW?fb("Server Error: "+i):n===XE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Q0!==i&&hs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),bh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ZE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.allowedEvents_=e,this.listeners_={},Ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){Ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends JA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!N0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qp}getInitialEvent(e){return Ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=32,tT=768;class wn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function sn(){return new wn("")}function Ht(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function oa(t){return t.pieces_.length-t.pieceNum_}function vn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new wn(t.pieces_,e)}function QA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ZA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new wn(e,0)}function pi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof wn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new wn(n,0)}function Ft(t){return t.pieceNum_>=t.pieces_.length}function Ss(t,e){const n=Ht(t),i=Ht(e);if(n===null)return e;if(n===i)return Ss(vn(t),vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tP(t,e){if(oa(t)!==oa(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ks(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(oa(t)>oa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class XW{constructor(e,n){this.errorPrefix_=n,this.parts_=ZA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ym(this.parts_[i]);nP(this)}}function JW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ym(e),nP(t)}function QW(t){const e=t.parts_.pop();t.byteLength_-=Ym(e),t.parts_.length>0&&(t.byteLength_-=1)}function nP(t){if(t.byteLength_>tT)throw new Error(t.errorPrefix_+"has a key path longer than "+tT+" bytes ("+t.byteLength_+").");if(t.parts_.length>eT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eT+") or object contains a cycle "+Ga(t))}function Ga(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends JA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t_}getInitialEvent(e){return Ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=1e3,ZW=60*5*1e3,nT=30*1e3,e4=1.3,t4=3e4,n4="server_kill",iT=3;class so extends XA{constructor(e,n,i,s,r,a,c,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=so.nextPersistentConnectionId_++,this.log_=dd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gu,this.maxReconnectDelay_=ZW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!AI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");t_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(xi(r)),Ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Nh,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),Ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ke(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(a).set(r,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},a="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,c=>{const h=c.d,d=c.s;so.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(d,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vo(e,"w")){const i=Cc(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();hs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oj(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rj(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},a="n";s&&(r.q=i,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const a={p:n,d:i};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xi(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):fb("Unrecognized action received from server: "+xi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>t4&&(this.reconnectDelay_=Gu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*e4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+so.nextConnectionId_++,r=this.lastSessionId;let a=!1,c=null;const h=function(){c?c.close():(a=!0,i())},d=function(m){Ke(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:h,sendRequest:d};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,b]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?Mi("getToken() completed but was canceled"):(Mi("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=b&&b.token,c=new KW(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,w=>{hs(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(n4)},r))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&hs(m),h())}}}interrupt(e){Mi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],eb(this.interruptReasons_)&&(this.reconnectDelay_=Gu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>J0(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new wn(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Mi("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iT&&(this.reconnectDelay_=nT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Mi("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+AA.replace(/\./g,"-")]=1,N0()?e["framework.cordova"]=1:II()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qp.getInstance().currentlyOnline();return eb(this.interruptReasons_)&&e}}so.nextPersistentConnectionId_=0;so.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new $t(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new $t(Ec,e),s=new $t(Ec,n);return this.compare(i,s)!==0}minPost(){return $t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;class iP extends Zm{static get __EMPTY_NODE(){return qf}static set __EMPTY_NODE(e){qf=e}compare(e,n){return Hc(e.name,n.name)}isDefinedOn(e){throw Fc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return $t.MIN}maxPost(){return new $t(hl,qf)}makePost(e,n){return Ke(typeof e=="string","KeyIndex indexValue must always be a string."),new $t(e,qf)}toString(){return".key"}}const hc=new iP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf=class{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ls=class ih{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??ih.RED,this.left=s??hr.EMPTY_NODE,this.right=r??hr.EMPTY_NODE}copy(e,n,i,s,r){return new ih(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return hr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ih.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ih.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};ls.RED=!0;ls.BLACK=!1;class i4{copy(e,n,i,s,r){return this}insert(e,n,i){return new ls(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let hr=class pp{constructor(e,n=pp.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pp(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ls.BLACK,null,null))}remove(e){return new pp(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ls.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kf(this.root_,null,this.comparator_,!0,e)}};hr.EMPTY_NODE=new i4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){return Hc(t.name,e.name)}function n_(t,e){return Hc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb;function r4(t){mb=t}const sP=function(t){return typeof t=="number"?"number:"+DA(t):"string:"+t},rP=function(t){if(t.isLeafNode()){const e=t.val();Ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vo(e,".sv"),"Priority must be a string or number.")}else Ke(t===mb||t.isEmpty(),"priority of unexpected type.");Ke(t===mb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sT;class di{constructor(e,n=di.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rP(this.priorityNode_)}static set __childrenNodeConstructor(e){sT=e}static get __childrenNodeConstructor(){return sT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new di(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:di.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ft(e)?this:Ht(e)===".priority"?this.priorityNode_:di.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:di.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ht(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(Ke(i!==".priority"||oa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,di.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DA(this.value_):e+=this.value_,this.lazyHash_=RA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===di.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof di.__childrenNodeConstructor?-1:(Ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=di.VALUE_TYPE_ORDER.indexOf(n),r=di.VALUE_TYPE_ORDER.indexOf(i);return Ke(s>=0,"Unknown leaf type: "+n),Ke(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}di.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oP,aP;function o4(t){oP=t}function a4(t){aP=t}class l4 extends Zm{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Hc(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return $t.MIN}maxPost(){return new $t(hl,new di("[PRIORITY-POST]",aP))}makePost(e,n){const i=oP(e);return new $t(n,new di("[PRIORITY-POST]",i))}toString(){return".priority"}}const Li=new l4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=Math.log(2);class u4{constructor(e){const n=r=>parseInt(Math.log(r)/c4,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zp=function(t,e,n,i){t.sort(e);const s=function(h,d){const f=d-h;let m,b;if(f===0)return null;if(f===1)return m=t[h],b=n?n(m):m,new ls(b,m.node,ls.BLACK,null,null);{const w=parseInt(f/2,10)+h,y=s(h,w),v=s(w+1,d);return m=t[w],b=n?n(m):m,new ls(b,m.node,ls.BLACK,y,v)}},r=function(h){let d=null,f=null,m=t.length;const b=function(y,v){const x=m-y,k=m;m-=y;const I=s(x+1,k),D=t[x],N=n?n(D):D;w(new ls(N,D.node,v,null,I))},w=function(y){d?(d.left=y,d=y):(f=y,d=y)};for(let y=0;y<h.count;++y){const v=h.nextBitIsOne(),x=Math.pow(2,h.count-(y+1));v?b(x,ls.BLACK):(b(x,ls.BLACK),b(x,ls.RED))}return f},a=new u4(t.length),c=r(a);return new hr(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let av;const Bl={};class to{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ke(Bl&&Li,"ChildrenNode.ts has not been loaded"),av=av||new to({".priority":Bl},{".priority":Li}),av}get(e){const n=Cc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hr?n:null}hasIndex(e){return vo(this.indexSet_,e.toString())}addIndex(e,n){Ke(e!==hc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator($t.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),i.push(a),a=r.getNext();let c;s?c=Zp(i,e.getCompare()):c=Bl;const h=e.toString(),d=Object.assign({},this.indexSet_);d[h]=e;const f=Object.assign({},this.indexes_);return f[h]=c,new to(f,d)}addToIndexes(e,n){const i=Up(this.indexes_,(s,r)=>{const a=Cc(this.indexSet_,r);if(Ke(a,"Missing index implementation for "+r),s===Bl)if(a.isDefinedOn(e.node)){const c=[],h=n.getIterator($t.Wrap);let d=h.getNext();for(;d;)d.name!==e.name&&c.push(d),d=h.getNext();return c.push(e),Zp(c,a.getCompare())}else return Bl;else{const c=n.get(e.name);let h=s;return c&&(h=h.remove(new $t(e.name,c))),h.insert(e,e.node)}});return new to(i,this.indexSet_)}removeFromIndexes(e,n){const i=Up(this.indexes_,s=>{if(s===Bl)return s;{const r=n.get(e.name);return r?s.remove(new $t(e.name,r)):s}});return new to(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu;class Zt{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&rP(this.priorityNode_),this.children_.isEmpty()&&Ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qu||(qu=new Zt(new hr(n_),null,to.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qu}updatePriority(e){return this.children_.isEmpty()?this:new Zt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?qu:n}}getChild(e){const n=Ht(e);return n===null?this:this.getImmediateChild(n).getChild(vn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new $t(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?qu:this.priorityNode_;return new Zt(s,a,r)}}updateChild(e,n){const i=Ht(e);if(i===null)return n;{Ke(Ht(e)!==".priority"||oa(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(vn(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(Li,(a,c)=>{n[a]=c.val(e),i++,r&&Zt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*i){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sP(this.getPriority().val())+":"),this.forEachChild(Li,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":RA(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new $t(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new $t(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new $t(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,$t.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,$t.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pd?-1:0}withIndex(e){if(e===hc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Zt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===hc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Li),s=n.getIterator(Li);let r=i.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=i.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===hc?null:this.indexMap_.get(e.toString())}}Zt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class h4 extends Zt{constructor(){super(new hr(n_),Zt.EMPTY_NODE,to.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Zt.EMPTY_NODE}isEmpty(){return!1}}const pd=new h4;Object.defineProperties($t,{MIN:{value:new $t(Ec,Zt.EMPTY_NODE)},MAX:{value:new $t(hl,pd)}});iP.__EMPTY_NODE=Zt.EMPTY_NODE;di.__childrenNodeConstructor=Zt;r4(pd);a4(pd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=!0;function Di(t,e=null){if(t===null)return Zt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new di(n,Di(e))}if(!(t instanceof Array)&&d4){const n=[];let i=!1;if(Os(t,(a,c)=>{if(a.substring(0,1)!=="."){const h=Di(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new $t(a,h)))}}),n.length===0)return Zt.EMPTY_NODE;const r=Zp(n,s4,a=>a.name,n_);if(i){const a=Zp(n,Li.getCompare());return new Zt(r,Di(e),new to({".priority":a},{".priority":Li}))}else return new Zt(r,Di(e),to.Default)}else{let n=Zt.EMPTY_NODE;return Os(t,(i,s)=>{if(vo(t,i)&&i.substring(0,1)!=="."){const r=Di(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Di(e))}}o4(Di);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends Zm{constructor(e){super(),this.indexPath_=e,Ke(!Ft(e)&&Ht(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Hc(e.name,n.name):r}makePost(e,n){const i=Di(e),s=Zt.EMPTY_NODE.updateChild(this.indexPath_,i);return new $t(n,s)}maxPost(){const e=Zt.EMPTY_NODE.updateChild(this.indexPath_,pd);return new $t(hl,e)}toString(){return ZA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4 extends Zm{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Hc(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return $t.MIN}maxPost(){return $t.MAX}makePost(e,n){const i=Di(e);return new $t(n,i)}toString(){return".value"}}const m4=new p4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){return{type:"value",snapshotNode:t}}function y4(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function v4(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function b4(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Li}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ec}hasEnd(){return this.endSet_}getIndexEndValue(){return Ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Li}copy(){const e=new i_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Li?n="$priority":t.index_===m4?n="$value":t.index_===hc?n="$key":(Ke(t.index_ instanceof f4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=xi(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=xi(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+xi(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=xi(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+xi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function aT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Li&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends XA{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=dd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=em.getListenId_(e,i),c={};this.listens_[a]=c;const h=oT(e._queryParams);this.restRequest_(r+".json",h,(d,f)=>{let m=f;if(d===404&&(m=null,d=null),d===null&&this.onDataUpdate_(r,m,!1,i),Cc(this.listens_,a)===c){let b;d?d===401?b="permission_denied":b="rest_error:"+d:b="ok",s(b,null)}})}unlisten(e,n){const i=em.getListenId_(e,n);delete this.listens_[i]}get(e){const n=oT(e._queryParams),i=e._path.toString(),s=new Nh;return this.restRequest_(i+".json",n,(r,a)=>{let c=a;r===404&&(c=null,r=null),r===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Uc(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=Lh(c.responseText)}catch{hs("Failed to parse JSON response for "+a+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&hs("Got unsuccessful REST response for "+a+" Status: "+c.status),i(c.status);i=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.rootNode_=Zt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){return{value:null,children:new Map}}function lP(t,e,n){if(Ft(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ht(e);t.children.has(i)||t.children.set(i,tm());const s=t.children.get(i);e=vn(e),lP(s,e,n)}}function gb(t,e,n){t.value!==null?n(e,t.value):w4(t,(i,s)=>{const r=new wn(e.toString()+"/"+i);gb(s,r,n)})}function w4(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Os(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=10*1e3,x4=30*1e3,E4=5*60*1e3;class T4{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new C4(e);const i=lT+(x4-lT)*Math.random();bh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Os(e,(s,r)=>{r>0&&vo(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),bh(this.reportStats_.bind(this),Math.floor(Math.random()*2*E4))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dr||(dr={}));function cP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=dr.ACK_USER_WRITE,this.source=cP()}operationForChild(e){if(Ft(this.path)){if(this.affectedTree.value!=null)return Ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new wn(e));return new nm(sn(),n,this.revert)}}else return Ke(Ht(this.path)===e,"operationForChild called for unrelated child."),new nm(vn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=dr.OVERWRITE}operationForChild(e){return Ft(this.path)?new dl(this.source,sn(),this.snap.getImmediateChild(e)):new dl(this.source,vn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=dr.MERGE}operationForChild(e){if(Ft(this.path)){const n=this.children.subtree(new wn(e));return n.isEmpty()?null:n.value?new dl(this.source,sn(),n.value):new Uh(this.source,sn(),n)}else return Ke(Ht(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Uh(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ft(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ht(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function S4(t,e,n,i){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(b4(a.childName,a.snapshotNode))}),Ku(t,s,"child_removed",e,i,n),Ku(t,s,"child_added",e,i,n),Ku(t,s,"child_moved",r,i,n),Ku(t,s,"child_changed",e,i,n),Ku(t,s,"value",e,i,n),s}function Ku(t,e,n,i,s,r){const a=i.filter(c=>c.type===n);a.sort((c,h)=>I4(t,c,h)),a.forEach(c=>{const h=k4(t,c,r);s.forEach(d=>{d.respondsTo(c.type)&&e.push(d.createEvent(h,t.query_))})})}function k4(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function I4(t,e,n){if(e.childName==null||n.childName==null)throw Fc("Should only compare child_ events.");const i=new $t(e.childName,e.snapshotNode),s=new $t(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e){return{eventCache:t,serverCache:e}}function _h(t,e,n,i){return dP(new s_(e,n,i),t.serverCache)}function fP(t,e,n,i){return dP(t.eventCache,new s_(e,n,i))}function yb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv;const A4=()=>(lv||(lv=new hr(pW)),lv);class yn{constructor(e,n=A4()){this.value=e,this.children=n}static fromObject(e){let n=new yn(null);return Os(e,(i,s)=>{n=n.set(new wn(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:sn(),value:this.value};if(Ft(e))return null;{const i=Ht(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(vn(e),n);return r!=null?{path:pi(new wn(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ft(e))return this;{const n=Ht(e),i=this.children.get(n);return i!==null?i.subtree(vn(e)):new yn(null)}}set(e,n){if(Ft(e))return new yn(n,this.children);{const i=Ht(e),r=(this.children.get(i)||new yn(null)).set(vn(e),n),a=this.children.insert(i,r);return new yn(this.value,a)}}remove(e){if(Ft(e))return this.children.isEmpty()?new yn(null):new yn(null,this.children);{const n=Ht(e),i=this.children.get(n);if(i){const s=i.remove(vn(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new yn(null):new yn(this.value,r)}else return this}}get(e){if(Ft(e))return this.value;{const n=Ht(e),i=this.children.get(n);return i?i.get(vn(e)):null}}setTree(e,n){if(Ft(e))return n;{const i=Ht(e),r=(this.children.get(i)||new yn(null)).setTree(vn(e),n);let a;return r.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,r),new yn(this.value,a)}}fold(e){return this.fold_(sn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(pi(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,sn(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(Ft(e))return null;{const r=Ht(e),a=this.children.get(r);return a?a.findOnPath_(vn(e),pi(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,sn(),n)}foreachOnPath_(e,n,i){if(Ft(e))return this;{this.value&&i(n,this.value);const s=Ht(e),r=this.children.get(s);return r?r.foreachOnPath_(vn(e),pi(n,s),i):new yn(null)}}foreach(e){this.foreach_(sn(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(pi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.writeTree_=e}static empty(){return new Qs(new yn(null))}}function wh(t,e,n){if(Ft(e))return new Qs(new yn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const a=Ss(s,e);return r=r.updateChild(a,n),new Qs(t.writeTree_.set(s,r))}else{const s=new yn(n),r=t.writeTree_.setTree(e,s);return new Qs(r)}}}function cT(t,e,n){let i=t;return Os(n,(s,r)=>{i=wh(i,pi(e,s),r)}),i}function uT(t,e){if(Ft(e))return Qs.empty();{const n=t.writeTree_.setTree(e,new yn(null));return new Qs(n)}}function vb(t,e){return yl(t,e)!=null}function yl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ss(n.path,e)):null}function hT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Li,(i,s)=>{e.push(new $t(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new $t(i,s.value))}),e}function na(t,e){if(Ft(e))return t;{const n=yl(t,e);return n!=null?new Qs(new yn(n)):new Qs(t.writeTree_.subtree(e))}}function bb(t){return t.writeTree_.isEmpty()}function Tc(t,e){return pP(sn(),t.writeTree_,e)}function pP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(Ke(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=pP(pi(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(pi(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t,e){return _P(e,t)}function P4(t,e,n,i,s){Ke(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=wh(t.visibleWrites,e,n)),t.lastWriteId=i}function R4(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function O4(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);Ke(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&M4(c,i.path)?s=!1:Ks(i.path,c.path)&&(r=!0)),a--}if(s){if(r)return D4(t),!0;if(i.snap)t.visibleWrites=uT(t.visibleWrites,i.path);else{const c=i.children;Os(c,h=>{t.visibleWrites=uT(t.visibleWrites,pi(i.path,h))})}return!0}else return!1}function M4(t,e){if(t.snap)return Ks(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ks(pi(t.path,n),e))return!0;return!1}function D4(t){t.visibleWrites=gP(t.allWrites,N4,sn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function N4(t){return t.visible}function gP(t,e,n){let i=Qs.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const a=r.path;let c;if(r.snap)Ks(n,a)?(c=Ss(n,a),i=wh(i,c,r.snap)):Ks(a,n)&&(c=Ss(a,n),i=wh(i,sn(),r.snap.getChild(c)));else if(r.children){if(Ks(n,a))c=Ss(n,a),i=cT(i,c,r.children);else if(Ks(a,n))if(c=Ss(a,n),Ft(c))i=cT(i,sn(),r.children);else{const h=Cc(r.children,Ht(c));if(h){const d=h.getChild(vn(c));i=wh(i,sn(),d)}}}else throw Fc("WriteRecord should have .snap or .children")}}return i}function yP(t,e,n,i,s){if(!i&&!s){const r=yl(t.visibleWrites,e);if(r!=null)return r;{const a=na(t.visibleWrites,e);if(bb(a))return n;if(n==null&&!vb(a,sn()))return null;{const c=n||Zt.EMPTY_NODE;return Tc(a,c)}}}else{const r=na(t.visibleWrites,e);if(!s&&bb(r))return n;if(!s&&n==null&&!vb(r,sn()))return null;{const a=function(d){return(d.visible||s)&&(!i||!~i.indexOf(d.writeId))&&(Ks(d.path,e)||Ks(e,d.path))},c=gP(t.allWrites,a,e),h=n||Zt.EMPTY_NODE;return Tc(c,h)}}}function L4(t,e,n){let i=Zt.EMPTY_NODE;const s=yl(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Li,(r,a)=>{i=i.updateImmediateChild(r,a)}),i;if(n){const r=na(t.visibleWrites,e);return n.forEachChild(Li,(a,c)=>{const h=Tc(na(r,new wn(a)),c);i=i.updateImmediateChild(a,h)}),hT(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const r=na(t.visibleWrites,e);return hT(r).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function V4(t,e,n,i,s){Ke(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=pi(e,n);if(vb(t.visibleWrites,r))return null;{const a=na(t.visibleWrites,r);return bb(a)?s.getChild(n):Tc(a,s.getChild(n))}}function F4(t,e,n,i){const s=pi(e,n),r=yl(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const a=na(t.visibleWrites,s);return Tc(a,i.getNode().getImmediateChild(n))}else return null}function B4(t,e){return yl(t.visibleWrites,e)}function U4(t,e,n,i,s,r,a){let c;const h=na(t.visibleWrites,e),d=yl(h,sn());if(d!=null)c=d;else if(n!=null)c=Tc(h,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const f=[],m=a.getCompare(),b=r?c.getReverseIteratorFrom(i,a):c.getIteratorFrom(i,a);let w=b.getNext();for(;w&&f.length<s;)m(w,i)!==0&&f.push(w),w=b.getNext();return f}else return[]}function j4(){return{visibleWrites:Qs.empty(),allWrites:[],lastWriteId:-1}}function _b(t,e,n,i){return yP(t.writeTree,t.treePath,e,n,i)}function vP(t,e){return L4(t.writeTree,t.treePath,e)}function dT(t,e,n,i){return V4(t.writeTree,t.treePath,e,n,i)}function im(t,e){return B4(t.writeTree,pi(t.treePath,e))}function H4(t,e,n,i,s,r){return U4(t.writeTree,t.treePath,e,n,i,s,r)}function r_(t,e,n){return F4(t.writeTree,t.treePath,e,n)}function bP(t,e){return _P(pi(t.treePath,e),t.writeTree)}function _P(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;Ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ke(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,rT(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,v4(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,y4(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,rT(i,e.snapshotNode,s.oldSnap));else throw Fc("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const wP=new z4;class o_{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new s_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return r_(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fl(this.viewCache_),r=H4(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}function W4(t,e){Ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function G4(t,e,n,i,s){const r=new $4;let a,c;if(n.type===dr.OVERWRITE){const d=n;d.source.fromUser?a=wb(t,e,d.path,d.snap,i,s,r):(Ke(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered()&&!Ft(d.path),a=sm(t,e,d.path,d.snap,i,s,c,r))}else if(n.type===dr.MERGE){const d=n;d.source.fromUser?a=K4(t,e,d.path,d.children,i,s,r):(Ke(d.source.fromServer,"Unknown source."),c=d.source.tagged||e.serverCache.isFiltered(),a=Cb(t,e,d.path,d.children,i,s,c,r))}else if(n.type===dr.ACK_USER_WRITE){const d=n;d.revert?a=J4(t,e,d.path,i,s,r):a=Y4(t,e,d.path,d.affectedTree,i,s,r)}else if(n.type===dr.LISTEN_COMPLETE)a=X4(t,e,n.path,i,r);else throw Fc("Unknown operation type: "+n.type);const h=r.getChanges();return q4(e,a,h),{viewCache:a,changes:h}}function q4(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=yb(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(g4(yb(e)))}}function CP(t,e,n,i,s,r){const a=e.eventCache;if(im(i,n)!=null)return e;{let c,h;if(Ft(n))if(Ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=fl(e),f=d instanceof Zt?d:Zt.EMPTY_NODE,m=vP(i,f);c=t.filter.updateFullNode(e.eventCache.getNode(),m,r)}else{const d=_b(i,fl(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const d=Ht(n);if(d===".priority"){Ke(oa(n)===1,"Can't have a priority with additional path components");const f=a.getNode();h=e.serverCache.getNode();const m=dT(i,n,f,h);m!=null?c=t.filter.updatePriority(f,m):c=a.getNode()}else{const f=vn(n);let m;if(a.isCompleteForChild(d)){h=e.serverCache.getNode();const b=dT(i,n,a.getNode(),h);b!=null?m=a.getNode().getImmediateChild(d).updateChild(f,b):m=a.getNode().getImmediateChild(d)}else m=r_(i,d,e.serverCache);m!=null?c=t.filter.updateChild(a.getNode(),d,m,f,s,r):c=a.getNode()}}return _h(e,c,a.isFullyInitialized()||Ft(n),t.filter.filtersNodes())}}function sm(t,e,n,i,s,r,a,c){const h=e.serverCache;let d;const f=a?t.filter:t.filter.getIndexedFilter();if(Ft(n))d=f.updateFullNode(h.getNode(),i,null);else if(f.filtersNodes()&&!h.isFiltered()){const w=h.getNode().updateChild(n,i);d=f.updateFullNode(h.getNode(),w,null)}else{const w=Ht(n);if(!h.isCompleteForPath(n)&&oa(n)>1)return e;const y=vn(n),x=h.getNode().getImmediateChild(w).updateChild(y,i);w===".priority"?d=f.updatePriority(h.getNode(),x):d=f.updateChild(h.getNode(),w,x,y,wP,null)}const m=fP(e,d,h.isFullyInitialized()||Ft(n),f.filtersNodes()),b=new o_(s,m,r);return CP(t,m,n,s,b,c)}function wb(t,e,n,i,s,r,a){const c=e.eventCache;let h,d;const f=new o_(s,e,r);if(Ft(n))d=t.filter.updateFullNode(e.eventCache.getNode(),i,a),h=_h(e,d,!0,t.filter.filtersNodes());else{const m=Ht(n);if(m===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),i),h=_h(e,d,c.isFullyInitialized(),c.isFiltered());else{const b=vn(n),w=c.getNode().getImmediateChild(m);let y;if(Ft(b))y=i;else{const v=f.getCompleteChild(m);v!=null?QA(b)===".priority"&&v.getChild(eP(b)).isEmpty()?y=v:y=v.updateChild(b,i):y=Zt.EMPTY_NODE}if(w.equals(y))h=e;else{const v=t.filter.updateChild(c.getNode(),m,y,b,f,a);h=_h(e,v,c.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function fT(t,e){return t.eventCache.isCompleteForChild(e)}function K4(t,e,n,i,s,r,a){let c=e;return i.foreach((h,d)=>{const f=pi(n,h);fT(e,Ht(f))&&(c=wb(t,c,f,d,s,r,a))}),i.foreach((h,d)=>{const f=pi(n,h);fT(e,Ht(f))||(c=wb(t,c,f,d,s,r,a))}),c}function pT(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Cb(t,e,n,i,s,r,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,d;Ft(n)?d=i:d=new yn(null).setTree(n,i);const f=e.serverCache.getNode();return d.children.inorderTraversal((m,b)=>{if(f.hasChild(m)){const w=e.serverCache.getNode().getImmediateChild(m),y=pT(t,w,b);h=sm(t,h,new wn(m),y,s,r,a,c)}}),d.children.inorderTraversal((m,b)=>{const w=!e.serverCache.isCompleteForChild(m)&&b.value===null;if(!f.hasChild(m)&&!w){const y=e.serverCache.getNode().getImmediateChild(m),v=pT(t,y,b);h=sm(t,h,new wn(m),v,s,r,a,c)}}),h}function Y4(t,e,n,i,s,r,a){if(im(s,n)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(Ft(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return sm(t,e,n,h.getNode().getChild(n),s,r,c,a);if(Ft(n)){let d=new yn(null);return h.getNode().forEachChild(hc,(f,m)=>{d=d.set(new wn(f),m)}),Cb(t,e,n,d,s,r,c,a)}else return e}else{let d=new yn(null);return i.foreach((f,m)=>{const b=pi(n,f);h.isCompleteForPath(b)&&(d=d.set(f,h.getNode().getChild(b)))}),Cb(t,e,n,d,s,r,c,a)}}function X4(t,e,n,i,s){const r=e.serverCache,a=fP(e,r.getNode(),r.isFullyInitialized()||Ft(n),r.isFiltered());return CP(t,a,n,i,wP,s)}function J4(t,e,n,i,s,r){let a;if(im(i,n)!=null)return e;{const c=new o_(i,e,s),h=e.eventCache.getNode();let d;if(Ft(n)||Ht(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=_b(i,fl(e));else{const m=e.serverCache.getNode();Ke(m instanceof Zt,"serverChildren would be complete if leaf node"),f=vP(i,m)}f=f,d=t.filter.updateFullNode(h,f,r)}else{const f=Ht(n);let m=r_(i,f,e.serverCache);m==null&&e.serverCache.isCompleteForChild(f)&&(m=h.getImmediateChild(f)),m!=null?d=t.filter.updateChild(h,f,m,vn(n),c,r):e.eventCache.getNode().hasChild(f)?d=t.filter.updateChild(h,f,Zt.EMPTY_NODE,vn(n),c,r):d=h,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=_b(i,fl(e)),a.isLeafNode()&&(d=t.filter.updateFullNode(d,a,r)))}return a=e.serverCache.isFullyInitialized()||im(i,sn())!=null,_h(e,d,a,t.filter.filtersNodes())}}function Q4(t,e){const n=fl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ft(e)&&!n.getImmediateChild(Ht(e)).isEmpty())?n.getChild(e):null}function mT(t,e,n,i){e.type===dr.MERGE&&e.source.queryId!==null&&(Ke(fl(t.viewCache_),"We should always have a full cache before handling merges"),Ke(yb(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=G4(t.processor_,s,e,n,i);return W4(t.processor_,r.viewCache),Ke(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,Z4(t,r.changes,r.viewCache.eventCache.getNode())}function Z4(t,e,n,i){const s=t.eventRegistrations_;return S4(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT;function e3(t){Ke(!gT,"__referenceConstructor has already been defined"),gT=t}function a_(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return Ke(r!=null,"SyncTree gave us an op for an invalid query."),mT(r,e,n,i)}else{let r=[];for(const a of t.views.values())r=r.concat(mT(a,e,n,i));return r}}function l_(t,e){let n=null;for(const i of t.views.values())n=n||Q4(i,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yT;function t3(t){Ke(!yT,"__referenceConstructor has already been defined"),yT=t}class vT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new yn(null),this.pendingWriteTree_=j4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function n3(t,e,n,i,s){return P4(t.pendingWriteTree_,e,n,i,s),s?tg(t,new dl(cP(),e,n)):[]}function Jl(t,e,n=!1){const i=R4(t.pendingWriteTree_,e);if(O4(t.pendingWriteTree_,e)){let r=new yn(null);return i.snap!=null?r=r.set(sn(),!0):Os(i.children,a=>{r=r.set(new wn(a),!0)}),tg(t,new nm(i.path,r,n))}else return[]}function eg(t,e,n){return tg(t,new dl(uP(),e,n))}function i3(t,e,n){const i=yn.fromObject(n);return tg(t,new Uh(uP(),e,i))}function s3(t,e,n,i){const s=SP(t,i);if(s!=null){const r=kP(s),a=r.path,c=r.queryId,h=Ss(a,e),d=new dl(hP(c),h,n);return IP(t,a,d)}else return[]}function r3(t,e,n,i){const s=SP(t,i);if(s){const r=kP(s),a=r.path,c=r.queryId,h=Ss(a,e),d=yn.fromObject(n),f=new Uh(hP(c),h,d);return IP(t,a,f)}else return[]}function xP(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(a,c)=>{const h=Ss(a,e),d=l_(c,h);if(d)return d});return yP(s,e,r,n,!0)}function tg(t,e){return EP(e,t.syncPointTree_,null,mP(t.pendingWriteTree_,sn()))}function EP(t,e,n,i){if(Ft(t.path))return TP(t,e,n,i);{const s=e.get(sn());n==null&&s!=null&&(n=l_(s,sn()));let r=[];const a=Ht(t.path),c=t.operationForChild(a),h=e.children.get(a);if(h&&c){const d=n?n.getImmediateChild(a):null,f=bP(i,a);r=r.concat(EP(c,h,d,f))}return s&&(r=r.concat(a_(s,t,i,n))),r}}function TP(t,e,n,i){const s=e.get(sn());n==null&&s!=null&&(n=l_(s,sn()));let r=[];return e.children.inorderTraversal((a,c)=>{const h=n?n.getImmediateChild(a):null,d=bP(i,a),f=t.operationForChild(a);f&&(r=r.concat(TP(f,c,h,d)))}),s&&(r=r.concat(a_(s,t,i,n))),r}function SP(t,e){return t.tagToQueryMap.get(e)}function kP(t){const e=t.indexOf("$");return Ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new wn(t.substr(0,e))}}function IP(t,e,n){const i=t.syncPointTree_.get(e);Ke(i,"Missing sync point for query tag that we're tracking");const s=mP(t.pendingWriteTree_,e);return a_(i,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new c_(n)}node(){return this.node_}}class u_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pi(this.path_,e);return new u_(this.syncTree_,n)}node(){return xP(this.syncTree_,this.path_)}}const o3=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},bT=function(t,e,n){if(!t||typeof t!="object")return t;if(Ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a3(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l3(t[".sv"],e);Ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a3=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ke(!1,"Unexpected server value: "+t)}},l3=function(t,e,n){t.hasOwnProperty("increment")||Ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&Ke(!1,"Unexpected increment value: "+i);const s=e.node();if(Ke(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const a=s.getValue();return typeof a!="number"?i:a+i},c3=function(t,e,n,i){return h_(e,new u_(n,t),i)},u3=function(t,e,n){return h_(t,new c_(e),n)};function h_(t,e,n){const i=t.getPriority().val(),s=bT(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const a=t,c=bT(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new di(c,Di(s)):t}else{const a=t;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new di(s))),a.forEachChild(Li,(c,h)=>{const d=h_(h,e.getImmediateChild(c),n);d!==h&&(r=r.updateImmediateChild(c,d))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function f_(t,e){let n=e instanceof wn?e:new wn(e),i=t,s=Ht(n);for(;s!==null;){const r=Cc(i.node.children,s)||{children:{},childCount:0};i=new d_(s,i,r),n=vn(n),s=Ht(n)}return i}function $c(t){return t.node.value}function AP(t,e){t.node.value=e,xb(t)}function PP(t){return t.node.childCount>0}function h3(t){return $c(t)===void 0&&!PP(t)}function ng(t,e){Os(t.node.children,(n,i)=>{e(new d_(n,t,i))})}function RP(t,e,n,i){n&&!i&&e(t),ng(t,s=>{RP(s,e,!0,i)}),n&&i&&e(t)}function d3(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function md(t){return new wn(t.parent===null?t.name:md(t.parent)+"/"+t.name)}function xb(t){t.parent!==null&&f3(t.parent,t.name,t)}function f3(t,e,n){const i=h3(n),s=vo(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,xb(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,xb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=/[\[\].#$\/\u0000-\u001F\u007F]/,m3=/[\[\].#$\u0000-\u001F\u007F]/,cv=10*1024*1024,OP=function(t){return typeof t=="string"&&t.length!==0&&!p3.test(t)},g3=function(t){return typeof t=="string"&&t.length!==0&&!m3.test(t)},y3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),g3(t)},MP=function(t,e,n){const i=n instanceof wn?new XW(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ga(i));if(typeof e=="function")throw new Error(t+"contains a function "+Ga(i)+" with contents = "+e.toString());if(OA(e))throw new Error(t+"contains "+e.toString()+" "+Ga(i));if(typeof e=="string"&&e.length>cv/3&&Ym(e)>cv)throw new Error(t+"contains a string greater than "+cv+" utf8 bytes "+Ga(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Os(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!OP(a)))throw new Error(t+" contains an invalid key ("+a+") "+Ga(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JW(i,a),MP(t,c,i),QW(i)}),s&&r)throw new Error(t+' contains ".value" child '+Ga(i)+" in addition to actual children.")}},v3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!OP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!y3(n))throw new Error(hj(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _3(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!tP(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function vl(t,e,n){_3(t,n),w3(t,i=>Ks(i,e)||Ks(e,i))}function w3(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(C3(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function C3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();vh&&Mi("event: "+n.toString()),fd(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="repo_interrupt",E3=25;class T3{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new b3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tm(),this.transactionQueueTree_=new d_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function S3(t,e,n){if(t.stats_=Z0(t.repoInfo_),t.forceRestClient_||_W())t.server_=new em(t.repoInfo_,(i,s,r,a)=>{_T(t,i,s,r,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xi(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new so(t.repoInfo_,e,(i,s,r,a)=>{_T(t,i,s,r,a)},i=>{wT(t,i)},i=>{I3(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=SW(t.repoInfo_,()=>new T4(t.stats_,t.server_)),t.infoData_=new _4,t.infoSyncTree_=new vT({startListening:(i,s,r,a)=>{let c=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(c=eg(t.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),p_(t,"connected",!1),t.serverSyncTree_=new vT({startListening:(i,s,r,a)=>(t.server_.listen(i,r,s,(c,h)=>{const d=a(c,h);vl(t.eventQueue_,i._path,d)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function k3(t){const n=t.infoData_.getNode(new wn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function DP(t){return o3({timestamp:k3(t)})}function _T(t,e,n,i,s){t.dataUpdateCount++;const r=new wn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(i){const h=Up(n,d=>Di(d));a=r3(t.serverSyncTree_,r,h,s)}else{const h=Di(n);a=s3(t.serverSyncTree_,r,h,s)}else if(i){const h=Up(n,d=>Di(d));a=i3(t.serverSyncTree_,r,h)}else{const h=Di(n);a=eg(t.serverSyncTree_,r,h)}let c=r;a.length>0&&(c=g_(t,r)),vl(t.eventQueue_,c,a)}function wT(t,e){p_(t,"connected",e),e===!1&&P3(t)}function I3(t,e){Os(e,(n,i)=>{p_(t,n,i)})}function p_(t,e,n){const i=new wn("/.info/"+e),s=Di(n);t.infoData_.updateSnapshot(i,s);const r=eg(t.infoSyncTree_,i,s);vl(t.eventQueue_,i,r)}function A3(t){return t.nextWriteId_++}function P3(t){NP(t,"onDisconnectEvents");const e=DP(t),n=tm();gb(t.onDisconnect_,sn(),(s,r)=>{const a=c3(s,r,t.serverSyncTree_,e);lP(n,s,a)});let i=[];gb(n,sn(),(s,r)=>{i=i.concat(eg(t.serverSyncTree_,s,r));const a=D3(t,s);g_(t,a)}),t.onDisconnect_=tm(),vl(t.eventQueue_,sn(),i)}function R3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(x3)}function NP(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mi(n,...e)}function LP(t,e,n){return xP(t.serverSyncTree_,e,n)||Zt.EMPTY_NODE}function m_(t,e=t.transactionQueueTree_){if(e||ig(t,e),$c(e)){const n=FP(t,e);Ke(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&O3(t,md(e),n)}else PP(e)&&ng(e,n=>{m_(t,n)})}function O3(t,e,n){const i=n.map(d=>d.currentWriteId),s=LP(t,e,i);let r=s;const a=s.hash();for(let d=0;d<n.length;d++){const f=n[d];Ke(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const m=Ss(e,f.path);r=r.updateChild(m,f.currentOutputSnapshotRaw)}const c=r.val(!0),h=e;t.server_.put(h.toString(),c,d=>{NP(t,"transaction put response",{path:h.toString(),status:d});let f=[];if(d==="ok"){const m=[];for(let b=0;b<n.length;b++)n[b].status=2,f=f.concat(Jl(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&m.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();ig(t,f_(t.transactionQueueTree_,e)),m_(t,t.transactionQueueTree_),vl(t.eventQueue_,e,f);for(let b=0;b<m.length;b++)fd(m[b])}else{if(d==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{hs("transaction at "+h.toString()+" failed: "+d);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=d}g_(t,e)}},a)}function g_(t,e){const n=VP(t,e),i=md(n),s=FP(t,n);return M3(t,s,i),i}function M3(t,e,n){if(e.length===0)return;const i=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],d=Ss(n,h.path);let f=!1,m;if(Ke(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)f=!0,m=h.abortReason,s=s.concat(Jl(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=E3)f=!0,m="maxretry",s=s.concat(Jl(t.serverSyncTree_,h.currentWriteId,!0));else{const b=LP(t,h.path,a);h.currentInputSnapshot=b;const w=e[c].update(b.val());if(w!==void 0){MP("transaction failed: Data returned ",w,h.path);let y=Di(w);typeof w=="object"&&w!=null&&vo(w,".priority")||(y=y.updatePriority(b.getPriority()));const x=h.currentWriteId,k=DP(t),I=u3(y,b,k);h.currentOutputSnapshotRaw=y,h.currentOutputSnapshotResolved=I,h.currentWriteId=A3(t),a.splice(a.indexOf(x),1),s=s.concat(n3(t.serverSyncTree_,h.path,I,h.currentWriteId,h.applyLocally)),s=s.concat(Jl(t.serverSyncTree_,x,!0))}else f=!0,m="nodata",s=s.concat(Jl(t.serverSyncTree_,h.currentWriteId,!0))}vl(t.eventQueue_,n,s),s=[],f&&(e[c].status=2,function(b){setTimeout(b,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(m),!1,null))))}ig(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)fd(i[c]);m_(t,t.transactionQueueTree_)}function VP(t,e){let n,i=t.transactionQueueTree_;for(n=Ht(e);n!==null&&$c(i)===void 0;)i=f_(i,n),e=vn(e),n=Ht(e);return i}function FP(t,e){const n=[];return BP(t,e,n),n.sort((i,s)=>i.order-s.order),n}function BP(t,e,n){const i=$c(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);ng(e,s=>{BP(t,s,n)})}function ig(t,e){const n=$c(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,AP(e,n.length>0?n:void 0)}ng(e,i=>{ig(t,i)})}function D3(t,e){const n=md(VP(t,e)),i=f_(t.transactionQueueTree_,e);return d3(i,s=>{uv(t,s)}),uv(t,i),RP(i,s=>{uv(t,s)}),n}function uv(t,e){const n=$c(e);if(n){const i=[];let s=[],r=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(Ke(r===a-1,"All SENT items should be at beginning of queue."),r=a,n[a].status=3,n[a].abortReason="set"):(Ke(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Jl(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?AP(e,void 0):n.length=r+1,vl(t.eventQueue_,md(e),s);for(let a=0;a<i.length;a++)fd(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function L3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):hs(`Invalid query segment '${n}' in query '${t}'`)}return e}const CT=function(t,e){const n=V3(t),i=n.namespace;n.domain==="firebase.com"&&ul(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ul("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dW();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xW(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new wn(n.pathString)}},V3=function(t){let e="",n="",i="",s="",r="",a=!0,c="https",h=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(c=t.substring(0,d-1),t=t.substring(d+2));let f=t.indexOf("/");f===-1&&(f=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(f,m)),f<m&&(s=N3(t.substring(f,m)));const b=L3(t.substring(Math.min(t.length,m)));d=e.indexOf(":"),d>=0?(a=c==="https"||c==="wss",h=parseInt(e.substring(d+1),10)):d=e.length;const w=e.slice(0,d);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),r=i}"ns"in b&&(r=b.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:a,scheme:c,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return Ft(this._path)?null:QA(this._path)}get ref(){return new zc(this._repo,this._path)}get _queryIdentifier(){const e=aT(this._queryParams),n=J0(e);return n==="{}"?"default":n}get _queryObject(){return aT(this._queryParams)}isEqual(e){if(e=Ds(e),!(e instanceof y_))return!1;const n=this._repo===e._repo,i=tP(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+YW(this._path)}}class zc extends y_{constructor(e,n){super(e,n,new i_,!1)}get parent(){const e=eP(this._path);return e===null?null:new zc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}e3(zc);t3(zc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="FIREBASE_DATABASE_EMULATOR_HOST",Eb={};let B3=!1;function U3(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||ul("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mi("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=CT(r,s),c=a.repoInfo,h;typeof process<"u"&&HE&&(h=HE[F3]),h?(r=`http://${h}?ns=${c.namespace}`,a=CT(r,s),c=a.repoInfo):a.repoInfo.secure;const d=new CW(t.name,t.options,e);v3("Invalid Firebase Database URL",a),Ft(a.path)||ul("Database URL must point to the root of a Firebase Database (not including a child path).");const f=H3(c,t,d,new wW(t.name,n));return new $3(f,t)}function j3(t,e){const n=Eb[e];(!n||n[t.key]!==t)&&ul(`Database ${e}(${t.repoInfo_}) has already been deleted.`),R3(t),delete n[t.key]}function H3(t,e,n,i){let s=Eb[e.name];s||(s={},Eb[e.name]=s);let r=s[t.toURLString()];return r&&ul("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new T3(t,B3,n,i),s[t.toURLString()]=r,r}class $3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(S3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zc(this._repo,sn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(j3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ul("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){oW(pa),br(new tr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return U3(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),us($E,zE,t),us($E,zE,"esm2017")}so.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};so.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};z3();var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,UP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function L(){}L.prototype=A.prototype,S.D=A.prototype,S.prototype=new L,S.prototype.constructor=S,S.C=function(U,z,G){for(var H=Array(arguments.length-2),q=2;q<arguments.length;q++)H[q-2]=arguments[q];return A.prototype[z].apply(U,H)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,A,L){L||(L=0);var U=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)U[z]=A.charCodeAt(L++)|A.charCodeAt(L++)<<8|A.charCodeAt(L++)<<16|A.charCodeAt(L++)<<24;else for(z=0;16>z;++z)U[z]=A[L++]|A[L++]<<8|A[L++]<<16|A[L++]<<24;A=S.g[0],L=S.g[1],z=S.g[2];var G=S.g[3],H=A+(G^L&(z^G))+U[0]+3614090360&4294967295;A=L+(H<<7&4294967295|H>>>25),H=G+(z^A&(L^z))+U[1]+3905402710&4294967295,G=A+(H<<12&4294967295|H>>>20),H=z+(L^G&(A^L))+U[2]+606105819&4294967295,z=G+(H<<17&4294967295|H>>>15),H=L+(A^z&(G^A))+U[3]+3250441966&4294967295,L=z+(H<<22&4294967295|H>>>10),H=A+(G^L&(z^G))+U[4]+4118548399&4294967295,A=L+(H<<7&4294967295|H>>>25),H=G+(z^A&(L^z))+U[5]+1200080426&4294967295,G=A+(H<<12&4294967295|H>>>20),H=z+(L^G&(A^L))+U[6]+2821735955&4294967295,z=G+(H<<17&4294967295|H>>>15),H=L+(A^z&(G^A))+U[7]+4249261313&4294967295,L=z+(H<<22&4294967295|H>>>10),H=A+(G^L&(z^G))+U[8]+1770035416&4294967295,A=L+(H<<7&4294967295|H>>>25),H=G+(z^A&(L^z))+U[9]+2336552879&4294967295,G=A+(H<<12&4294967295|H>>>20),H=z+(L^G&(A^L))+U[10]+4294925233&4294967295,z=G+(H<<17&4294967295|H>>>15),H=L+(A^z&(G^A))+U[11]+2304563134&4294967295,L=z+(H<<22&4294967295|H>>>10),H=A+(G^L&(z^G))+U[12]+1804603682&4294967295,A=L+(H<<7&4294967295|H>>>25),H=G+(z^A&(L^z))+U[13]+4254626195&4294967295,G=A+(H<<12&4294967295|H>>>20),H=z+(L^G&(A^L))+U[14]+2792965006&4294967295,z=G+(H<<17&4294967295|H>>>15),H=L+(A^z&(G^A))+U[15]+1236535329&4294967295,L=z+(H<<22&4294967295|H>>>10),H=A+(z^G&(L^z))+U[1]+4129170786&4294967295,A=L+(H<<5&4294967295|H>>>27),H=G+(L^z&(A^L))+U[6]+3225465664&4294967295,G=A+(H<<9&4294967295|H>>>23),H=z+(A^L&(G^A))+U[11]+643717713&4294967295,z=G+(H<<14&4294967295|H>>>18),H=L+(G^A&(z^G))+U[0]+3921069994&4294967295,L=z+(H<<20&4294967295|H>>>12),H=A+(z^G&(L^z))+U[5]+3593408605&4294967295,A=L+(H<<5&4294967295|H>>>27),H=G+(L^z&(A^L))+U[10]+38016083&4294967295,G=A+(H<<9&4294967295|H>>>23),H=z+(A^L&(G^A))+U[15]+3634488961&4294967295,z=G+(H<<14&4294967295|H>>>18),H=L+(G^A&(z^G))+U[4]+3889429448&4294967295,L=z+(H<<20&4294967295|H>>>12),H=A+(z^G&(L^z))+U[9]+568446438&4294967295,A=L+(H<<5&4294967295|H>>>27),H=G+(L^z&(A^L))+U[14]+3275163606&4294967295,G=A+(H<<9&4294967295|H>>>23),H=z+(A^L&(G^A))+U[3]+4107603335&4294967295,z=G+(H<<14&4294967295|H>>>18),H=L+(G^A&(z^G))+U[8]+1163531501&4294967295,L=z+(H<<20&4294967295|H>>>12),H=A+(z^G&(L^z))+U[13]+2850285829&4294967295,A=L+(H<<5&4294967295|H>>>27),H=G+(L^z&(A^L))+U[2]+4243563512&4294967295,G=A+(H<<9&4294967295|H>>>23),H=z+(A^L&(G^A))+U[7]+1735328473&4294967295,z=G+(H<<14&4294967295|H>>>18),H=L+(G^A&(z^G))+U[12]+2368359562&4294967295,L=z+(H<<20&4294967295|H>>>12),H=A+(L^z^G)+U[5]+4294588738&4294967295,A=L+(H<<4&4294967295|H>>>28),H=G+(A^L^z)+U[8]+2272392833&4294967295,G=A+(H<<11&4294967295|H>>>21),H=z+(G^A^L)+U[11]+1839030562&4294967295,z=G+(H<<16&4294967295|H>>>16),H=L+(z^G^A)+U[14]+4259657740&4294967295,L=z+(H<<23&4294967295|H>>>9),H=A+(L^z^G)+U[1]+2763975236&4294967295,A=L+(H<<4&4294967295|H>>>28),H=G+(A^L^z)+U[4]+1272893353&4294967295,G=A+(H<<11&4294967295|H>>>21),H=z+(G^A^L)+U[7]+4139469664&4294967295,z=G+(H<<16&4294967295|H>>>16),H=L+(z^G^A)+U[10]+3200236656&4294967295,L=z+(H<<23&4294967295|H>>>9),H=A+(L^z^G)+U[13]+681279174&4294967295,A=L+(H<<4&4294967295|H>>>28),H=G+(A^L^z)+U[0]+3936430074&4294967295,G=A+(H<<11&4294967295|H>>>21),H=z+(G^A^L)+U[3]+3572445317&4294967295,z=G+(H<<16&4294967295|H>>>16),H=L+(z^G^A)+U[6]+76029189&4294967295,L=z+(H<<23&4294967295|H>>>9),H=A+(L^z^G)+U[9]+3654602809&4294967295,A=L+(H<<4&4294967295|H>>>28),H=G+(A^L^z)+U[12]+3873151461&4294967295,G=A+(H<<11&4294967295|H>>>21),H=z+(G^A^L)+U[15]+530742520&4294967295,z=G+(H<<16&4294967295|H>>>16),H=L+(z^G^A)+U[2]+3299628645&4294967295,L=z+(H<<23&4294967295|H>>>9),H=A+(z^(L|~G))+U[0]+4096336452&4294967295,A=L+(H<<6&4294967295|H>>>26),H=G+(L^(A|~z))+U[7]+1126891415&4294967295,G=A+(H<<10&4294967295|H>>>22),H=z+(A^(G|~L))+U[14]+2878612391&4294967295,z=G+(H<<15&4294967295|H>>>17),H=L+(G^(z|~A))+U[5]+4237533241&4294967295,L=z+(H<<21&4294967295|H>>>11),H=A+(z^(L|~G))+U[12]+1700485571&4294967295,A=L+(H<<6&4294967295|H>>>26),H=G+(L^(A|~z))+U[3]+2399980690&4294967295,G=A+(H<<10&4294967295|H>>>22),H=z+(A^(G|~L))+U[10]+4293915773&4294967295,z=G+(H<<15&4294967295|H>>>17),H=L+(G^(z|~A))+U[1]+2240044497&4294967295,L=z+(H<<21&4294967295|H>>>11),H=A+(z^(L|~G))+U[8]+1873313359&4294967295,A=L+(H<<6&4294967295|H>>>26),H=G+(L^(A|~z))+U[15]+4264355552&4294967295,G=A+(H<<10&4294967295|H>>>22),H=z+(A^(G|~L))+U[6]+2734768916&4294967295,z=G+(H<<15&4294967295|H>>>17),H=L+(G^(z|~A))+U[13]+1309151649&4294967295,L=z+(H<<21&4294967295|H>>>11),H=A+(z^(L|~G))+U[4]+4149444226&4294967295,A=L+(H<<6&4294967295|H>>>26),H=G+(L^(A|~z))+U[11]+3174756917&4294967295,G=A+(H<<10&4294967295|H>>>22),H=z+(A^(G|~L))+U[2]+718787259&4294967295,z=G+(H<<15&4294967295|H>>>17),H=L+(G^(z|~A))+U[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(z+(H<<21&4294967295|H>>>11))&4294967295,S.g[2]=S.g[2]+z&4294967295,S.g[3]=S.g[3]+G&4294967295}i.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var L=A-this.blockSize,U=this.B,z=this.h,G=0;G<A;){if(z==0)for(;G<=L;)s(this,S,G),G+=this.blockSize;if(typeof S=="string"){for(;G<A;)if(U[z++]=S.charCodeAt(G++),z==this.blockSize){s(this,U),z=0;break}}else for(;G<A;)if(U[z++]=S[G++],z==this.blockSize){s(this,U),z=0;break}}this.h=z,this.o+=A},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var L=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=L&255,L/=256;for(this.u(S),S=Array(16),A=L=0;4>A;++A)for(var U=0;32>U;U+=8)S[L++]=this.g[A]>>>U&255;return S};function r(S,A){var L=c;return Object.prototype.hasOwnProperty.call(L,S)?L[S]:L[S]=A(S)}function a(S,A){this.h=A;for(var L=[],U=!0,z=S.length-1;0<=z;z--){var G=S[z]|0;U&&G==A||(L[z]=G,U=!1)}this.g=L}var c={};function h(S){return-128<=S&&128>S?r(S,function(A){return new a([A|0],0>A?-1:0)}):new a([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return x(d(-S));for(var A=[],L=1,U=0;S>=L;U++)A[U]=S/L|0,L*=4294967296;return new a(A,0)}function f(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return x(f(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=d(Math.pow(A,8)),U=m,z=0;z<S.length;z+=8){var G=Math.min(8,S.length-z),H=parseInt(S.substring(z,z+G),A);8>G?(G=d(Math.pow(A,G)),U=U.j(G).add(d(H))):(U=U.j(L),U=U.add(d(H)))}return U}var m=h(0),b=h(1),w=h(16777216);t=a.prototype,t.m=function(){if(v(this))return-x(this).m();for(var S=0,A=1,L=0;L<this.g.length;L++){var U=this.i(L);S+=(0<=U?U:4294967296+U)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(v(this))return"-"+x(this).toString(S);for(var A=d(Math.pow(S,6)),L=this,U="";;){var z=N(L,A).g;L=k(L,z.j(A));var G=((0<L.g.length?L.g[0]:L.h)>>>0).toString(S);if(L=z,y(L))return G+U;for(;6>G.length;)G="0"+G;U=G+U}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=k(this,S),v(S)?-1:y(S)?0:1};function x(S){for(var A=S.g.length,L=[],U=0;U<A;U++)L[U]=~S.g[U];return new a(L,~S.h).add(b)}t.abs=function(){return v(this)?x(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),L=[],U=0,z=0;z<=A;z++){var G=U+(this.i(z)&65535)+(S.i(z)&65535),H=(G>>>16)+(this.i(z)>>>16)+(S.i(z)>>>16);U=H>>>16,G&=65535,H&=65535,L[z]=H<<16|G}return new a(L,L[L.length-1]&-2147483648?-1:0)};function k(S,A){return S.add(x(A))}t.j=function(S){if(y(this)||y(S))return m;if(v(this))return v(S)?x(this).j(x(S)):x(x(this).j(S));if(v(S))return x(this.j(x(S)));if(0>this.l(w)&&0>S.l(w))return d(this.m()*S.m());for(var A=this.g.length+S.g.length,L=[],U=0;U<2*A;U++)L[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<S.g.length;z++){var G=this.i(U)>>>16,H=this.i(U)&65535,q=S.i(z)>>>16,Z=S.i(z)&65535;L[2*U+2*z]+=H*Z,I(L,2*U+2*z),L[2*U+2*z+1]+=G*Z,I(L,2*U+2*z+1),L[2*U+2*z+1]+=H*q,I(L,2*U+2*z+1),L[2*U+2*z+2]+=G*q,I(L,2*U+2*z+2)}for(U=0;U<A;U++)L[U]=L[2*U+1]<<16|L[2*U];for(U=A;U<2*A;U++)L[U]=0;return new a(L,0)};function I(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function D(S,A){this.g=S,this.h=A}function N(S,A){if(y(A))throw Error("division by zero");if(y(S))return new D(m,m);if(v(S))return A=N(x(S),A),new D(x(A.g),x(A.h));if(v(A))return A=N(S,x(A)),new D(x(A.g),A.h);if(30<S.g.length){if(v(S)||v(A))throw Error("slowDivide_ only works with positive integers.");for(var L=b,U=A;0>=U.l(S);)L=F(L),U=F(U);var z=O(L,1),G=O(U,1);for(U=O(U,2),L=O(L,2);!y(U);){var H=G.add(U);0>=H.l(S)&&(z=z.add(L),G=H),U=O(U,1),L=O(L,1)}return A=k(S,z.j(A)),new D(z,A)}for(z=m;0<=S.l(A);){for(L=Math.max(1,Math.floor(S.m()/A.m())),U=Math.ceil(Math.log(L)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),G=d(L),H=G.j(A);v(H)||0<H.l(S);)L-=U,G=d(L),H=G.j(A);y(G)&&(G=b),z=z.add(G),S=k(S,H)}return new D(z,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),L=[],U=0;U<A;U++)L[U]=this.i(U)&S.i(U);return new a(L,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),L=[],U=0;U<A;U++)L[U]=this.i(U)|S.i(U);return new a(L,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),L=[],U=0;U<A;U++)L[U]=this.i(U)^S.i(U);return new a(L,this.h^S.h)};function F(S){for(var A=S.g.length+1,L=[],U=0;U<A;U++)L[U]=S.i(U)<<1|S.i(U-1)>>>31;return new a(L,S.h)}function O(S,A){var L=A>>5;A%=32;for(var U=S.g.length-L,z=[],G=0;G<U;G++)z[G]=0<A?S.i(G+L)>>>A|S.i(G+L+1)<<32-A:S.i(G+L);return new a(z,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,UP=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,Za=a}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jP,sh,HP,mp,Tb,$P,zP,WP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(E,j,Y){return E==Array.prototype||E==Object.prototype||(E[j]=Y.value),E};function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yf=="object"&&Yf];for(var j=0;j<E.length;++j){var Y=E[j];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var i=n(this);function s(E,j){if(j)e:{var Y=i;E=E.split(".");for(var ne=0;ne<E.length-1;ne++){var pe=E[ne];if(!(pe in Y))break e;Y=Y[pe]}E=E[E.length-1],ne=Y[E],j=j(ne),j!=ne&&j!=null&&e(Y,E,{configurable:!0,writable:!0,value:j})}}function r(E,j){E instanceof String&&(E+="");var Y=0,ne=!1,pe={next:function(){if(!ne&&Y<E.length){var _e=Y++;return{value:j(_e,E[_e]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}s("Array.prototype.values",function(E){return E||function(){return r(this,function(j,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(E){var j=typeof E;return j=j!="object"?j:E?Array.isArray(E)?"array":j:"null",j=="array"||j=="object"&&typeof E.length=="number"}function d(E){var j=typeof E;return j=="object"&&E!=null||j=="function"}function f(E,j,Y){return E.call.apply(E.bind,arguments)}function m(E,j,Y){if(!E)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,ne),E.apply(j,pe)}}return function(){return E.apply(j,arguments)}}function b(E,j,Y){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,b.apply(null,arguments)}function w(E,j){var Y=Array.prototype.slice.call(arguments,1);return function(){var ne=Y.slice();return ne.push.apply(ne,arguments),E.apply(this,ne)}}function y(E,j){function Y(){}Y.prototype=j.prototype,E.aa=j.prototype,E.prototype=new Y,E.prototype.constructor=E,E.Qb=function(ne,pe,_e){for(var je=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)je[qt-2]=arguments[qt];return j.prototype[pe].apply(ne,je)}}function v(E){const j=E.length;if(0<j){const Y=Array(j);for(let ne=0;ne<j;ne++)Y[ne]=E[ne];return Y}return[]}function x(E,j){for(let Y=1;Y<arguments.length;Y++){const ne=arguments[Y];if(h(ne)){const pe=E.length||0,_e=ne.length||0;E.length=pe+_e;for(let je=0;je<_e;je++)E[pe+je]=ne[je]}else E.push(ne)}}class k{constructor(j,Y){this.i=j,this.j=Y,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function I(E){return/^[\s\xa0]*$/.test(E)}function D(){var E=c.navigator;return E&&(E=E.userAgent)?E:""}function N(E){return N[" "](E),E}N[" "]=function(){};var F=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function O(E,j,Y){for(const ne in E)j.call(Y,E[ne],ne,E)}function S(E,j){for(const Y in E)j.call(void 0,E[Y],Y,E)}function A(E){const j={};for(const Y in E)j[Y]=E[Y];return j}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(E,j){let Y,ne;for(let pe=1;pe<arguments.length;pe++){ne=arguments[pe];for(Y in ne)E[Y]=ne[Y];for(let _e=0;_e<L.length;_e++)Y=L[_e],Object.prototype.hasOwnProperty.call(ne,Y)&&(E[Y]=ne[Y])}}function z(E){var j=1;E=E.split(":");const Y=[];for(;0<j&&E.length;)Y.push(E.shift()),j--;return E.length&&Y.push(E.join(":")),Y}function G(E){c.setTimeout(()=>{throw E},0)}function H(){var E=ve;let j=null;return E.g&&(j=E.g,E.g=E.g.next,E.g||(E.h=null),j.next=null),j}class q{constructor(){this.h=this.g=null}add(j,Y){const ne=Z.get();ne.set(j,Y),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var Z=new k(()=>new ie,E=>E.reset());class ie{constructor(){this.next=this.g=this.h=null}set(j,Y){this.h=j,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,ve=new q,we=()=>{const E=c.Promise.resolve(void 0);oe=()=>{E.then(be)}};var be=()=>{for(var E;E=H();){try{E.h.call(E.g)}catch(Y){G(Y)}var j=Z;j.j(E),100>j.h&&(j.h++,E.next=j.g,j.g=E)}ce=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function De(E,j){this.type=E,this.g=this.target=j,this.defaultPrevented=!1}De.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var E=!1,j=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Y=()=>{};c.addEventListener("test",Y,j),c.removeEventListener("test",Y,j)}catch{}return E}();function rt(E,j){if(De.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var Y=this.type=E.type,ne=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=j,j=E.relatedTarget){if(F){e:{try{N(j.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(j=null)}}else Y=="mouseover"?j=E.fromElement:Y=="mouseout"&&(j=E.toElement);this.relatedTarget=j,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=typeof E.pointerType=="string"?E.pointerType:$e[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&rt.aa.h.call(this)}}y(rt,De);var $e={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ne(E,j,Y,ne,pe){this.listener=E,this.proxy=null,this.src=j,this.type=Y,this.capture=!!ne,this.ha=pe,this.key=++Ae,this.da=this.fa=!1}function Ge(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function xt(E){this.src=E,this.g={},this.h=0}xt.prototype.add=function(E,j,Y,ne,pe){var _e=E.toString();E=this.g[_e],E||(E=this.g[_e]=[],this.h++);var je=se(E,j,ne,pe);return-1<je?(j=E[je],Y||(j.fa=!1)):(j=new Ne(j,this.src,_e,!!ne,pe),j.fa=Y,E.push(j)),j};function Pe(E,j){var Y=j.type;if(Y in E.g){var ne=E.g[Y],pe=Array.prototype.indexOf.call(ne,j,void 0),_e;(_e=0<=pe)&&Array.prototype.splice.call(ne,pe,1),_e&&(Ge(j),E.g[Y].length==0&&(delete E.g[Y],E.h--))}}function se(E,j,Y,ne){for(var pe=0;pe<E.length;++pe){var _e=E[pe];if(!_e.da&&_e.listener==j&&_e.capture==!!Y&&_e.ha==ne)return pe}return-1}var ae="closure_lm_"+(1e6*Math.random()|0),ye={};function Se(E,j,Y,ne,pe){if(Array.isArray(j)){for(var _e=0;_e<j.length;_e++)Se(E,j[_e],Y,ne,pe);return null}return Y=et(Y),E&&E[ge]?E.K(j,Y,d(ne)?!!ne.capture:!!ne,pe):xe(E,j,Y,!1,ne,pe)}function xe(E,j,Y,ne,pe,_e){if(!j)throw Error("Invalid event type");var je=d(pe)?!!pe.capture:!!pe,qt=ot(E);if(qt||(E[ae]=qt=new xt(E)),Y=qt.add(j,Y,ne,je,_e),Y.proxy)return Y;if(ne=Re(),Y.proxy=ne,ne.src=E,ne.listener=Y,E.addEventListener)We||(pe=je),pe===void 0&&(pe=!1),E.addEventListener(j.toString(),ne,pe);else if(E.attachEvent)E.attachEvent(Fe(j.toString()),ne);else if(E.addListener&&E.removeListener)E.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function Re(){function E(Y){return j.call(E.src,E.listener,Y)}const j=Ie;return E}function ze(E,j,Y,ne,pe){if(Array.isArray(j))for(var _e=0;_e<j.length;_e++)ze(E,j[_e],Y,ne,pe);else ne=d(ne)?!!ne.capture:!!ne,Y=et(Y),E&&E[ge]?(E=E.i,j=String(j).toString(),j in E.g&&(_e=E.g[j],Y=se(_e,Y,ne,pe),-1<Y&&(Ge(_e[Y]),Array.prototype.splice.call(_e,Y,1),_e.length==0&&(delete E.g[j],E.h--)))):E&&(E=ot(E))&&(j=E.g[j.toString()],E=-1,j&&(E=se(j,Y,ne,pe)),(Y=-1<E?j[E]:null)&&Ue(Y))}function Ue(E){if(typeof E!="number"&&E&&!E.da){var j=E.src;if(j&&j[ge])Pe(j.i,E);else{var Y=E.type,ne=E.proxy;j.removeEventListener?j.removeEventListener(Y,ne,E.capture):j.detachEvent?j.detachEvent(Fe(Y),ne):j.addListener&&j.removeListener&&j.removeListener(ne),(Y=ot(j))?(Pe(Y,E),Y.h==0&&(Y.src=null,j[ae]=null)):Ge(E)}}}function Fe(E){return E in ye?ye[E]:ye[E]="on"+E}function Ie(E,j){if(E.da)E=!0;else{j=new rt(j,this);var Y=E.listener,ne=E.ha||E.src;E.fa&&Ue(E),E=Y.call(ne,j)}return E}function ot(E){return E=E[ae],E instanceof xt?E:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(E){return typeof E=="function"?E:(E[Oe]||(E[Oe]=function(j){return E.handleEvent(j)}),E[Oe])}function Je(){Ce.call(this),this.i=new xt(this),this.M=this,this.F=null}y(Je,Ce),Je.prototype[ge]=!0,Je.prototype.removeEventListener=function(E,j,Y,ne){ze(this,E,j,Y,ne)};function ut(E,j){var Y,ne=E.F;if(ne)for(Y=[];ne;ne=ne.F)Y.push(ne);if(E=E.M,ne=j.type||j,typeof j=="string")j=new De(j,E);else if(j instanceof De)j.target=j.target||E;else{var pe=j;j=new De(ne,E),U(j,pe)}if(pe=!0,Y)for(var _e=Y.length-1;0<=_e;_e--){var je=j.g=Y[_e];pe=Bt(je,ne,!0,j)&&pe}if(je=j.g=E,pe=Bt(je,ne,!0,j)&&pe,pe=Bt(je,ne,!1,j)&&pe,Y)for(_e=0;_e<Y.length;_e++)je=j.g=Y[_e],pe=Bt(je,ne,!1,j)&&pe}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var E=this.i,j;for(j in E.g){for(var Y=E.g[j],ne=0;ne<Y.length;ne++)Ge(Y[ne]);delete E.g[j],E.h--}}this.F=null},Je.prototype.K=function(E,j,Y,ne){return this.i.add(String(E),j,!1,Y,ne)},Je.prototype.L=function(E,j,Y,ne){return this.i.add(String(E),j,!0,Y,ne)};function Bt(E,j,Y,ne){if(j=E.i.g[String(j)],!j)return!0;j=j.concat();for(var pe=!0,_e=0;_e<j.length;++_e){var je=j[_e];if(je&&!je.da&&je.capture==Y){var qt=je.listener,pn=je.ha||je.src;je.fa&&Pe(E.i,je),pe=qt.call(pn,ne)!==!1&&pe}}return pe&&!ne.defaultPrevented}function Rt(E,j,Y){if(typeof E=="function")Y&&(E=b(E,Y));else if(E&&typeof E.handleEvent=="function")E=b(E.handleEvent,E);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:c.setTimeout(E,j||0)}function ai(E){E.g=Rt(()=>{E.g=null,E.i&&(E.i=!1,ai(E))},E.l);const j=E.h;E.h=null,E.m.apply(null,j)}class Bn extends Ce{constructor(j,Y){super(),this.m=j,this.l=Y,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(E){Ce.call(this),this.h=E,this.g={}}y(qn,Ce);var fn=[];function gs(E){O(E.g,function(j,Y){this.g.hasOwnProperty(Y)&&Ue(j)},E),E.g={}}qn.prototype.N=function(){qn.aa.N.call(this),gs(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=c.JSON.stringify,Un=c.JSON.parse,zi=class{stringify(E){return c.JSON.stringify(E,void 0)}parse(E){return c.JSON.parse(E,void 0)}};function Rn(){}Rn.prototype.h=null;function tu(E){return E.h||(E.h=E.i())}function In(){}var Co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nu(){De.call(this,"d")}y(nu,De);function ga(){De.call(this,"c")}y(ga,De);var Lr={},li=null;function _l(){return li=li||new Je}Lr.La="serverreachability";function Ad(E){De.call(this,Lr.La,E)}y(Ad,De);function ya(E){const j=_l();ut(j,new Ad(j))}Lr.STAT_EVENT="statevent";function Pd(E,j){De.call(this,Lr.STAT_EVENT,E),this.stat=j}y(Pd,De);function Yn(E){const j=_l();ut(j,new Pd(j,E))}Lr.Ma="timingevent";function iu(E,j){De.call(this,Lr.Ma,E),this.size=j}y(iu,De);function va(E,j){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){E()},j)}function ba(){this.g=!0}ba.prototype.xa=function(){this.g=!1};function su(E,j,Y,ne,pe,_e){E.info(function(){if(E.g)if(_e)for(var je="",qt=_e.split("&"),pn=0;pn<qt.length;pn++){var Ut=qt[pn].split("=");if(1<Ut.length){var En=Ut[0];Ut=Ut[1];var ci=En.split("_");je=2<=ci.length&&ci[1]=="type"?je+(En+"="+Ut+"&"):je+(En+"=redacted&")}}else je=null;else je=_e;return"XMLHTTP REQ ("+ne+") [attempt "+pe+"]: "+j+`
`+Y+`
`+je})}function Rd(E,j,Y,ne,pe,_e,je){E.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+pe+"]: "+j+`
`+Y+`
`+_e+" "+je})}function Cn(E,j,Y,ne){E.info(function(){return"XMLHTTP TEXT ("+j+"): "+Pg(E,Y)+(ne?" "+ne:"")})}function Od(E,j){E.info(function(){return"TIMEOUT: "+j})}ba.prototype.info=function(){};function Pg(E,j){if(!E.g)return j;if(!j)return null;try{var Y=JSON.parse(j);if(Y){for(E=0;E<Y.length;E++)if(Array.isArray(Y[E])){var ne=Y[E];if(!(2>ne.length)){var pe=ne[1];if(Array.isArray(pe)&&!(1>pe.length)){var _e=pe[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var je=1;je<pe.length;je++)pe[je]=""}}}}return Kn(Y)}catch{return j}}var wl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Md={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ru;function _a(){}y(_a,Rn),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},ru=new _a;function ir(E,j,Y,ne){this.j=E,this.i=j,this.l=Y,this.R=ne||1,this.U=new qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ou}function ou(){this.i=null,this.g="",this.h=!1}var au={},lu={};function wa(E,j,Y){E.L=1,E.v=Ta(Ns(j)),E.m=Y,E.P=!0,Ca(E,null)}function Ca(E,j){E.F=Date.now(),xa(E),E.A=Ns(E.v);var Y=E.A,ne=E.R;Array.isArray(ne)||(ne=[String(ne)]),jd(Y.i,"t",ne),E.C=0,Y=E.j.J,E.h=new ou,E.g=Zd(E.j,Y?j:null,!E.m),0<E.O&&(E.M=new Bn(b(E.Y,E,E.g),E.O)),j=E.U,Y=E.g,ne=E.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(fn[0]=pe.toString()),pe=fn);for(var _e=0;_e<pe.length;_e++){var je=Se(Y,pe[_e],ne||j.handleEvent,!1,j.h||j);if(!je)break;j.g[je.key]=je}j=E.H?A(E.H):{},E.m?(E.u||(E.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,j)):(E.u="GET",E.g.ea(E.A,E.u,null,j)),ya(),su(E.i,E.u,E.A,E.l,E.R,E.m)}ir.prototype.ca=function(E){E=E.target;const j=this.M;j&&Vs(E)==3?j.j():this.Y(E)},ir.prototype.Y=function(E){try{if(E==this.g)e:{const ci=Vs(this.g);var j=this.g.Ba();const bs=this.g.Z();if(!(3>ci)&&(ci!=3||this.g&&(this.h.h||this.g.oa()||Pa(this.g)))){this.J||ci!=4||j==7||(j==8||0>=bs?ya(3):ya(2)),uu(this);var Y=this.g.Z();this.X=Y;t:if(Dd(this)){var ne=Pa(this.g);E="";var pe=ne.length,_e=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),Ea(this);var je="";break t}this.h.i=new c.TextDecoder}for(j=0;j<pe;j++)this.h.h=!0,E+=this.h.i.decode(ne[j],{stream:!(_e&&j==pe-1)});ne.length=0,this.h.g+=E,this.C=0,je=this.h.g}else je=this.g.oa();if(this.o=Y==200,Rd(this.i,this.u,this.A,this.l,this.R,ci,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,pn=this.g;if((qt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(qt)){var Ut=qt;break t}}Ut=null}if(Y=Ut)Cn(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hu(this,Y);else{this.o=!1,this.s=3,Yn(12),Vr(this),Ea(this);break e}}if(this.P){Y=!0;let bi;for(;!this.J&&this.C<je.length;)if(bi=on(this,je),bi==lu){ci==4&&(this.s=4,Yn(14),Y=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(bi==au){this.s=4,Yn(15),Cn(this.i,this.l,je,"[Invalid Chunk]"),Y=!1;break}else Cn(this.i,this.l,bi,null),hu(this,bi);if(Dd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ci!=4||je.length!=0||this.h.h||(this.s=1,Yn(16),Y=!1),this.o=this.o&&Y,!Y)Cn(this.i,this.l,je,"[Invalid Chunked Response]"),Vr(this),Ea(this);else if(0<je.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+je.length),ku(En),En.M=!0,Yn(11))}}else Cn(this.i,this.l,je,null),hu(this,je);ci==4&&Vr(this),this.o&&!this.J&&(ci==4?Yd(this.j,this):(this.o=!1,xa(this)))}else Gd(this.g),Y==400&&0<je.indexOf("Unknown SID")?(this.s=3,Yn(12)):(this.s=0,Yn(13)),Vr(this),Ea(this)}}}catch{}finally{}};function Dd(E){return E.g?E.u=="GET"&&E.L!=2&&E.j.Ca:!1}function on(E,j){var Y=E.C,ne=j.indexOf(`
`,Y);return ne==-1?lu:(Y=Number(j.substring(Y,ne)),isNaN(Y)?au:(ne+=1,ne+Y>j.length?lu:(j=j.slice(ne,ne+Y),E.C=ne+Y,j)))}ir.prototype.cancel=function(){this.J=!0,Vr(this)};function xa(E){E.S=Date.now()+E.I,cu(E,E.I)}function cu(E,j){if(E.B!=null)throw Error("WatchDog timer not null");E.B=va(b(E.ba,E),j)}function uu(E){E.B&&(c.clearTimeout(E.B),E.B=null)}ir.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(Od(this.i,this.A),this.L!=2&&(ya(),Yn(17)),Vr(this),this.s=2,Ea(this)):cu(this,this.S-E)};function Ea(E){E.j.G==0||E.J||Yd(E.j,E)}function Vr(E){uu(E);var j=E.M;j&&typeof j.ma=="function"&&j.ma(),E.M=null,gs(E.U),E.g&&(j=E.g,E.g=null,j.abort(),j.ma())}function hu(E,j){try{var Y=E.j;if(Y.G!=0&&(Y.g==E||du(Y.h,E))){if(!E.K&&du(Y.h,E)&&Y.G==3){try{var ne=Y.Da.g.parse(j)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var pe=ne;if(pe[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<E.F)xl(Y),rr(Y);else break e;Oa(Y),Yn(18)}}else Y.za=pe[1],0<Y.za-Y.T&&37500>pe[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=va(b(Y.Za,Y),6e3));if(1>=Fd(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Fs(Y,11)}else if((E.K||Y.g==E)&&xl(Y),!I(j))for(pe=Y.Da.g.parse(j),j=0;j<pe.length;j++){let Ut=pe[j];if(Y.T=Ut[0],Ut=Ut[1],Y.G==2)if(Ut[0]=="c"){Y.K=Ut[1],Y.ia=Ut[2];const En=Ut[3];En!=null&&(Y.la=En,Y.j.info("VER="+Y.la));const ci=Ut[4];ci!=null&&(Y.Aa=ci,Y.j.info("SVER="+Y.Aa));const bs=Ut[5];bs!=null&&typeof bs=="number"&&0<bs&&(ne=1.5*bs,Y.L=ne,Y.j.info("backChannelRequestTimeoutMs_="+ne)),ne=Y;const bi=E.g;if(bi){const El=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(El){var _e=ne.h;_e.g||El.indexOf("spdy")==-1&&El.indexOf("quic")==-1&&El.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(xo(_e,_e.h),_e.h=null))}if(ne.D){const Ma=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(ne.ya=Ma,an(ne.I,ne.D,Ma))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-E.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ne=Y;var je=E;if(ne.qa=Qd(ne,ne.J?ne.ia:null,ne.W),je.K){fu(ne.h,je);var qt=je,pn=ne.L;pn&&(qt.I=pn),qt.B&&(uu(qt),xa(qt)),ne.g=je}else Su(ne);0<Y.i.length&&Ra(Y)}else Ut[0]!="stop"&&Ut[0]!="close"||Fs(Y,7);else Y.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Fs(Y,7):Cu(Y):Ut[0]!="noop"&&Y.l&&Y.l.ta(Ut),Y.v=0)}}ya(4)}catch{}}var Nd=class{constructor(E,j){this.g=E,this.map=j}};function Ld(E){this.l=E||10,c.PerformanceNavigationTiming?(E=c.performance.getEntriesByType("navigation"),E=0<E.length&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vd(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Fd(E){return E.h?1:E.g?E.g.size:0}function du(E,j){return E.h?E.h==j:E.g?E.g.has(j):!1}function xo(E,j){E.g?E.g.add(j):E.h=j}function fu(E,j){E.h&&E.h==j?E.h=null:E.g&&E.g.has(j)&&E.g.delete(j)}Ld.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function pu(E){if(E.h!=null)return E.i.concat(E.h.D);if(E.g!=null&&E.g.size!==0){let j=E.i;for(const Y of E.g.values())j=j.concat(Y.D);return j}return v(E.i)}function Cl(E){if(E.V&&typeof E.V=="function")return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if(typeof E=="string")return E.split("");if(h(E)){for(var j=[],Y=E.length,ne=0;ne<Y;ne++)j.push(E[ne]);return j}j=[],Y=0;for(ne in E)j[Y++]=E[ne];return j}function Bd(E){if(E.na&&typeof E.na=="function")return E.na();if(!E.V||typeof E.V!="function"){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(h(E)||typeof E=="string"){var j=[];E=E.length;for(var Y=0;Y<E;Y++)j.push(Y);return j}j=[],Y=0;for(const ne in E)j[Y++]=ne;return j}}}function Wi(E,j){if(E.forEach&&typeof E.forEach=="function")E.forEach(j,void 0);else if(h(E)||typeof E=="string")Array.prototype.forEach.call(E,j,void 0);else for(var Y=Bd(E),ne=Cl(E),pe=ne.length,_e=0;_e<pe;_e++)j.call(void 0,ne[_e],Y&&Y[_e],E)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rg(E,j){if(E){E=E.split("&");for(var Y=0;Y<E.length;Y++){var ne=E[Y].indexOf("="),pe=null;if(0<=ne){var _e=E[Y].substring(0,ne);pe=E[Y].substring(ne+1)}else _e=E[Y];j(_e,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Fr(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Fr){this.h=E.h,To(this,E.j),this.o=E.o,this.g=E.g,Br(this,E.s),this.l=E.l;var j=E.i,Y=new ka;Y.i=j.i,j.g&&(Y.g=new Map(j.g),Y.h=j.h),Ud(this,Y),this.m=E.m}else E&&(j=String(E).match(Eo))?(this.h=!1,To(this,j[1]||"",!0),this.o=So(j[2]||""),this.g=So(j[3]||"",!0),Br(this,j[4]),this.l=So(j[5]||"",!0),Ud(this,j[6]||"",!0),this.m=So(j[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}Fr.prototype.toString=function(){var E=[],j=this.j;j&&E.push(ys(j,Sa,!0),":");var Y=this.g;return(Y||j=="file")&&(E.push("//"),(j=this.o)&&E.push(ys(j,Sa,!0),"@"),E.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&E.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&E.push("/"),E.push(ys(Y,Y.charAt(0)=="/"?Dg:Mg,!0))),(Y=this.i.toString())&&E.push("?",Y),(Y=this.m)&&E.push("#",ys(Y,mu)),E.join("")};function Ns(E){return new Fr(E)}function To(E,j,Y){E.j=Y?So(j,!0):j,E.j&&(E.j=E.j.replace(/:$/,""))}function Br(E,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);E.s=j}else E.s=null}function Ud(E,j,Y){j instanceof ka?(E.i=j,yu(E.i,E.h)):(Y||(j=ys(j,Ng)),E.i=new ka(j,E.h))}function an(E,j,Y){E.i.set(j,Y)}function Ta(E){return an(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function So(E,j){return E?j?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function ys(E,j,Y){return typeof E=="string"?(E=encodeURI(E).replace(j,Og),Y&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function Og(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var Sa=/[#\/\?@]/g,Mg=/[#\?:]/g,Dg=/[#\?]/g,Ng=/[#\?@]/g,mu=/#/g;function ka(E,j){this.h=this.g=null,this.i=E||null,this.j=!!j}function ts(E){E.g||(E.g=new Map,E.h=0,E.i&&Rg(E.i,function(j,Y){E.add(decodeURIComponent(j.replace(/\+/g," ")),Y)}))}t=ka.prototype,t.add=function(E,j){ts(this),this.i=null,E=vs(this,E);var Y=this.g.get(E);return Y||this.g.set(E,Y=[]),Y.push(j),this.h+=1,this};function gu(E,j){ts(E),j=vs(E,j),E.g.has(j)&&(E.i=null,E.h-=E.g.get(j).length,E.g.delete(j))}function ns(E,j){return ts(E),j=vs(E,j),E.g.has(j)}t.forEach=function(E,j){ts(this),this.g.forEach(function(Y,ne){Y.forEach(function(pe){E.call(j,pe,ne,this)},this)},this)},t.na=function(){ts(this);const E=Array.from(this.g.values()),j=Array.from(this.g.keys()),Y=[];for(let ne=0;ne<j.length;ne++){const pe=E[ne];for(let _e=0;_e<pe.length;_e++)Y.push(j[ne])}return Y},t.V=function(E){ts(this);let j=[];if(typeof E=="string")ns(this,E)&&(j=j.concat(this.g.get(vs(this,E))));else{E=Array.from(this.g.values());for(let Y=0;Y<E.length;Y++)j=j.concat(E[Y])}return j},t.set=function(E,j){return ts(this),this.i=null,E=vs(this,E),ns(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[j]),this.h+=1,this},t.get=function(E,j){return E?(E=this.V(E),0<E.length?String(E[0]):j):j};function jd(E,j,Y){gu(E,j),0<Y.length&&(E.i=null,E.g.set(vs(E,j),v(Y)),E.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],j=Array.from(this.g.keys());for(var Y=0;Y<j.length;Y++){var ne=j[Y];const _e=encodeURIComponent(String(ne)),je=this.V(ne);for(ne=0;ne<je.length;ne++){var pe=_e;je[ne]!==""&&(pe+="="+encodeURIComponent(String(je[ne]))),E.push(pe)}}return this.i=E.join("&")};function vs(E,j){return j=String(j),E.j&&(j=j.toLowerCase()),j}function yu(E,j){j&&!E.j&&(ts(E),E.i=null,E.g.forEach(function(Y,ne){var pe=ne.toLowerCase();ne!=pe&&(gu(this,ne),jd(this,pe,Y))},E)),E.j=j}function vu(E,j){const Y=new ba;if(c.Image){const ne=new Image;ne.onload=w(Ls,Y,"TestLoadImage: loaded",!0,j,ne),ne.onerror=w(Ls,Y,"TestLoadImage: error",!1,j,ne),ne.onabort=w(Ls,Y,"TestLoadImage: abort",!1,j,ne),ne.ontimeout=w(Ls,Y,"TestLoadImage: timeout",!1,j,ne),c.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=E}else j(!1)}function Hd(E,j){const Y=new ba,ne=new AbortController,pe=setTimeout(()=>{ne.abort(),Ls(Y,"TestPingServer: timeout",!1,j)},1e4);fetch(E,{signal:ne.signal}).then(_e=>{clearTimeout(pe),_e.ok?Ls(Y,"TestPingServer: ok",!0,j):Ls(Y,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(pe),Ls(Y,"TestPingServer: error",!1,j)})}function Ls(E,j,Y,ne,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),ne(Y)}catch{}}function Lg(){this.g=new zi}function Vg(E,j,Y){const ne=Y||"";try{Wi(E,function(pe,_e){let je=pe;d(pe)&&(je=Kn(pe)),j.push(ne+_e+"="+encodeURIComponent(je))})}catch(pe){throw j.push(ne+"type="+encodeURIComponent("_badmap")),pe}}function Ia(E){this.l=E.Ub||null,this.j=E.eb||!1}y(Ia,Rn),Ia.prototype.g=function(){return new ko(this.l,this.j)},Ia.prototype.i=function(E){return function(){return E}}({});function ko(E,j){Je.call(this),this.D=E,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ko,Je),t=ko.prototype,t.open=function(E,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=j,this.readyState=1,sr(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(j.body=E),(this.D||c).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},t.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ur(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ur(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}t.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var j=E.value?E.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!E.done}))&&(this.response=this.responseText+=j)}E.done?vi(this):sr(this),this.readyState==3&&Ur(this)}},t.Ra=function(E){this.g&&(this.response=this.responseText=E,vi(this))},t.Qa=function(E){this.g&&(this.response=E,vi(this))},t.ga=function(){this.g&&vi(this)};function vi(E){E.readyState=4,E.l=null,E.j=null,E.v=null,sr(E)}t.setRequestHeader=function(E,j){this.u.append(E,j)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],j=this.h.entries();for(var Y=j.next();!Y.done;)Y=Y.value,E.push(Y[0]+": "+Y[1]),Y=j.next();return E.join(`\r
`)};function sr(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function $d(E){let j="";return O(E,function(Y,ne){j+=ne,j+=":",j+=Y,j+=`\r
`}),j}function bu(E,j,Y){e:{for(ne in Y){var ne=!1;break e}ne=!0}ne||(Y=$d(Y),typeof E=="string"?Y!=null&&encodeURIComponent(String(Y)):an(E,j,Y))}function xn(E){Je.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(xn,Je);var zd=/^https?$/i,Nn=["POST","PUT"];t=xn.prototype,t.Ha=function(E){this.J=E},t.ea=function(E,j,Y,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);j=j?j.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ru.g(),this.v=this.o?tu(this.o):tu(ru),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(j,String(E),!0),this.B=!1}catch(_e){is(this,_e);return}if(E=Y||"",Y=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var pe in ne)Y.set(pe,ne[pe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const _e of ne.keys())Y.set(_e,ne.get(_e));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(Y.keys()).find(_e=>_e.toLowerCase()=="content-type"),pe=c.FormData&&E instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Nn,j,void 0))||ne||pe||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,je]of Y)this.g.setRequestHeader(_e,je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(E),this.u=!1}catch(_e){is(this,_e)}};function is(E,j){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=j,E.m=5,_u(E),Aa(E)}function _u(E){E.A||(E.A=!0,ut(E,"complete"),ut(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,ut(this,"complete"),ut(this,"abort"),Aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Aa(this,!0)),xn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wd(this):this.bb())},t.bb=function(){Wd(this)};function Wd(E){if(E.h&&typeof a<"u"&&(!E.v[1]||Vs(E)!=4||E.Z()!=2)){if(E.u&&Vs(E)==4)Rt(E.Ea,0,E);else if(ut(E,"readystatechange"),Vs(E)==4){E.h=!1;try{const je=E.Z();e:switch(je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var Y;if(!(Y=j)){var ne;if(ne=je===0){var pe=String(E.D).match(Eo)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),ne=!zd.test(pe?pe.toLowerCase():"")}Y=ne}if(Y)ut(E,"complete"),ut(E,"success");else{E.m=6;try{var _e=2<Vs(E)?E.g.statusText:""}catch{_e=""}E.l=_e+" ["+E.Z()+"]",_u(E)}}finally{Aa(E)}}}}function Aa(E,j){if(E.g){Io(E);const Y=E.g,ne=E.v[0]?()=>{}:null;E.g=null,E.v=null,j||ut(E,"ready");try{Y.onreadystatechange=ne}catch{}}}function Io(E){E.I&&(c.clearTimeout(E.I),E.I=null)}t.isActive=function(){return!!this.g};function Vs(E){return E.g?E.g.readyState:0}t.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(E){if(this.g){var j=this.g.responseText;return E&&j.indexOf(E)==0&&(j=j.substring(E.length)),Un(j)}};function Pa(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function Gd(E){const j={};E=(E.g&&2<=Vs(E)&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<E.length;ne++){if(I(E[ne]))continue;var Y=z(E[ne]);const pe=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const _e=j[pe]||[];j[pe]=_e,_e.push(Y)}S(j,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(E,j,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[E]||j}function wu(E){this.Aa=0,this.i=[],this.j=new ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,E),this.cb=ss("retryDelaySeedMs",1e4,E),this.Wa=ss("forwardChannelMaxRetries",2,E),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new Ld(E&&E.concurrentRequestLimit),this.Da=new Lg,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wu.prototype,t.la=8,t.G=1,t.connect=function(E,j,Y,ne){Yn(0),this.W=E,this.H=j||{},Y&&ne!==void 0&&(this.H.OSID=Y,this.H.OAID=ne),this.F=this.X,this.I=Qd(this,null,this.W),Ra(this)};function Cu(E){if(xu(E),E.G==3){var j=E.U++,Y=Ns(E.I);if(an(Y,"SID",E.K),an(Y,"RID",j),an(Y,"TYPE","terminate"),jr(E,Y),j=new ir(E,E.j,j),j.L=2,j.v=Ta(Ns(Y)),Y=!1,c.navigator&&c.navigator.sendBeacon)try{Y=c.navigator.sendBeacon(j.v.toString(),"")}catch{}!Y&&c.Image&&(new Image().src=j.v,Y=!0),Y||(j.g=Zd(j.j,null),j.g.ea(j.v)),j.F=Date.now(),xa(j)}Jd(E)}function rr(E){E.g&&(ku(E),E.g.cancel(),E.g=null)}function xu(E){rr(E),E.u&&(c.clearTimeout(E.u),E.u=null),xl(E),E.h.cancel(),E.s&&(typeof E.s=="number"&&c.clearTimeout(E.s),E.s=null)}function Ra(E){if(!Vd(E.h)&&!E.s){E.s=!0;var j=E.Ga;oe||we(),ce||(oe(),ce=!0),ve.add(j,E),E.B=0}}function Eu(E,j){return Fd(E.h)>=E.h.j-(E.s?1:0)?!1:E.s?(E.i=j.D.concat(E.i),!0):E.G==1||E.G==2||E.B>=(E.Va?0:E.Wa)?!1:(E.s=va(b(E.Ga,E,j),Xd(E,E.B)),E.B++,!0)}t.Ga=function(E){if(this.s)if(this.s=null,this.G==1){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const pe=new ir(this,this.j,E);let _e=this.o;if(this.S&&(_e?(_e=A(_e),U(_e,this.S)):_e=this.S),this.m!==null||this.O||(pe.H=_e,_e=null),this.P)e:{for(var j=0,Y=0;Y<this.i.length;Y++){t:{var ne=this.i[Y];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(j+=ne,4096<j){j=Y;break e}if(j===4096||Y===this.i.length-1){j=Y+1;break e}}j=1e3}else j=1e3;j=qd(this,pe,j),Y=Ns(this.I),an(Y,"RID",E),an(Y,"CVER",22),this.D&&an(Y,"X-HTTP-Session-Id",this.D),jr(this,Y),_e&&(this.O?j="headers="+encodeURIComponent(String($d(_e)))+"&"+j:this.m&&bu(Y,this.m,_e)),xo(this.h,pe),this.Ua&&an(Y,"TYPE","init"),this.P?(an(Y,"$req",j),an(Y,"SID","null"),pe.T=!0,wa(pe,Y,null)):wa(pe,Y,j),this.G=2}}else this.G==3&&(E?Tu(this,E):this.i.length==0||Vd(this.h)||Tu(this))};function Tu(E,j){var Y;j?Y=j.l:Y=E.U++;const ne=Ns(E.I);an(ne,"SID",E.K),an(ne,"RID",Y),an(ne,"AID",E.T),jr(E,ne),E.m&&E.o&&bu(ne,E.m,E.o),Y=new ir(E,E.j,Y,E.B+1),E.m===null&&(Y.H=E.o),j&&(E.i=j.D.concat(E.i)),j=qd(E,Y,1e3),Y.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),xo(E.h,Y),wa(Y,ne,j)}function jr(E,j){E.H&&O(E.H,function(Y,ne){an(j,ne,Y)}),E.l&&Wi({},function(Y,ne){an(j,ne,Y)})}function qd(E,j,Y){Y=Math.min(E.i.length,Y);var ne=E.l?b(E.l.Na,E.l,E):null;e:{var pe=E.i;let _e=-1;for(;;){const je=["count="+Y];_e==-1?0<Y?(_e=pe[0].g,je.push("ofs="+_e)):_e=0:je.push("ofs="+_e);let qt=!0;for(let pn=0;pn<Y;pn++){let Ut=pe[pn].g;const En=pe[pn].map;if(Ut-=_e,0>Ut)_e=Math.max(0,pe[pn].g-100),qt=!1;else try{Vg(En,je,"req"+Ut+"_")}catch{ne&&ne(En)}}if(qt){ne=je.join("&");break e}}}return E=E.i.splice(0,Y),j.D=E,ne}function Su(E){if(!E.g&&!E.u){E.Y=1;var j=E.Fa;oe||we(),ce||(oe(),ce=!0),ve.add(j,E),E.v=0}}function Oa(E){return E.g||E.u||3<=E.v?!1:(E.Y++,E.u=va(b(E.Fa,E),Xd(E,E.v)),E.v++,!0)}t.Fa=function(){if(this.u=null,Kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=va(b(this.ab,this),E)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yn(10),rr(this),Kd(this))};function ku(E){E.A!=null&&(c.clearTimeout(E.A),E.A=null)}function Kd(E){E.g=new ir(E,E.j,"rpc",E.Y),E.m===null&&(E.g.H=E.o),E.g.O=0;var j=Ns(E.qa);an(j,"RID","rpc"),an(j,"SID",E.K),an(j,"AID",E.T),an(j,"CI",E.F?"0":"1"),!E.F&&E.ja&&an(j,"TO",E.ja),an(j,"TYPE","xmlhttp"),jr(E,j),E.m&&E.o&&bu(j,E.m,E.o),E.L&&(E.g.I=E.L);var Y=E.g;E=E.ia,Y.L=1,Y.v=Ta(Ns(j)),Y.m=null,Y.P=!0,Ca(Y,E)}t.Za=function(){this.C!=null&&(this.C=null,rr(this),Oa(this),Yn(19))};function xl(E){E.C!=null&&(c.clearTimeout(E.C),E.C=null)}function Yd(E,j){var Y=null;if(E.g==j){xl(E),ku(E),E.g=null;var ne=2}else if(du(E.h,j))Y=j.D,fu(E.h,j),ne=1;else return;if(E.G!=0){if(j.o)if(ne==1){Y=j.m?j.m.length:0,j=Date.now()-j.F;var pe=E.B;ne=_l(),ut(ne,new iu(ne,Y)),Ra(E)}else Su(E);else if(pe=j.s,pe==3||pe==0&&0<j.X||!(ne==1&&Eu(E,j)||ne==2&&Oa(E)))switch(Y&&0<Y.length&&(j=E.h,j.i=j.i.concat(Y)),pe){case 1:Fs(E,5);break;case 4:Fs(E,10);break;case 3:Fs(E,6);break;default:Fs(E,2)}}}function Xd(E,j){let Y=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(Y*=2),Y*j}function Fs(E,j){if(E.j.info("Error code "+j),j==2){var Y=b(E.fb,E),ne=E.Xa;const pe=!ne;ne=new Fr(ne||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(ne,"https"),Ta(ne),pe?vu(ne.toString(),Y):Hd(ne.toString(),Y)}else Yn(2);E.G=0,E.l&&E.l.sa(j),Jd(E),xu(E)}t.fb=function(E){E?(this.j.info("Successfully pinged google.com"),Yn(2)):(this.j.info("Failed to ping google.com"),Yn(1))};function Jd(E){if(E.G=0,E.ka=[],E.l){const j=pu(E.h);(j.length!=0||E.i.length!=0)&&(x(E.ka,j),x(E.ka,E.i),E.h.i.length=0,v(E.i),E.i.length=0),E.l.ra()}}function Qd(E,j,Y){var ne=Y instanceof Fr?Ns(Y):new Fr(Y);if(ne.g!="")j&&(ne.g=j+"."+ne.g),Br(ne,ne.s);else{var pe=c.location;ne=pe.protocol,j=j?j+"."+pe.hostname:pe.hostname,pe=+pe.port;var _e=new Fr(null);ne&&To(_e,ne),j&&(_e.g=j),pe&&Br(_e,pe),Y&&(_e.l=Y),ne=_e}return Y=E.D,j=E.ya,Y&&j&&an(ne,Y,j),an(ne,"VER",E.la),jr(E,ne),ne}function Zd(E,j,Y){if(j&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=E.Ca&&!E.pa?new xn(new Ia({eb:Y})):new xn(E.pa),j.Ha(E.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}t=Iu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bs(){}Bs.prototype.g=function(E,j){return new ki(E,j)};function ki(E,j){Je.call(this),this.g=new wu(j),this.l=E,this.h=j&&j.messageUrlParams||null,E=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(E?E["X-WebChannel-Content-Type"]=j.messageContentType:E={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(E?E["X-WebChannel-Client-Profile"]=j.va:E={"X-WebChannel-Client-Profile":j.va}),this.g.S=E,(E=j&&j.Sb)&&!I(E)&&(this.g.m=E),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!I(j)&&(this.g.D=j,E=this.h,E!==null&&j in E&&(E=this.h,j in E&&delete E[j])),this.j=new Ao(this)}y(ki,Je),ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){Cu(this.g)},ki.prototype.o=function(E){var j=this.g;if(typeof E=="string"){var Y={};Y.__data__=E,E=Y}else this.u&&(Y={},Y.__data__=Kn(E),E=Y);j.i.push(new Nd(j.Ya++,E)),j.G==3&&Ra(j)},ki.prototype.N=function(){this.g.l=null,delete this.j,Cu(this.g),delete this.g,ki.aa.N.call(this)};function Au(E){nu.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var j=E.__sm__;if(j){e:{for(const Y in j){E=Y;break e}E=void 0}(this.i=E)&&(E=this.i,j=j!==null&&E in j?j[E]:void 0),this.data=j}else this.data=E}y(Au,nu);function ef(){ga.call(this),this.status=1}y(ef,ga);function Ao(E){this.g=E}y(Ao,Iu),Ao.prototype.ua=function(){ut(this.g,"a")},Ao.prototype.ta=function(E){ut(this.g,new Au(E))},Ao.prototype.sa=function(E){ut(this.g,new ef)},Ao.prototype.ra=function(){ut(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,WP=function(){return new Bs},zP=function(){return _l()},$P=Lr,Tb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wl.NO_ERROR=0,wl.TIMEOUT=8,wl.HTTP_ERROR=6,mp=wl,Md.COMPLETE="complete",HP=Md,In.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",Je.prototype.listen=Je.prototype.K,sh=In,xn.prototype.listenOnce=xn.prototype.L,xn.prototype.getLastError=xn.prototype.Ka,xn.prototype.getLastErrorCode=xn.prototype.Ba,xn.prototype.getStatus=xn.prototype.Z,xn.prototype.getResponseJson=xn.prototype.Oa,xn.prototype.getResponseText=xn.prototype.oa,xn.prototype.send=xn.prototype.ea,xn.prototype.setWithCredentials=xn.prototype.Ha,jP=xn}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ai.UNAUTHENTICATED=new Ai(null),Ai.GOOGLE_CREDENTIALS=new Ai("google-credentials-uid"),Ai.FIRST_PARTY=new Ai("first-party-uid"),Ai.MOCK_USER=new Ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new od("@firebase/firestore");function Yu(){return pl.logLevel}function Ze(t,...e){if(pl.logLevel<=Mt.DEBUG){const n=e.map(v_);pl.debug(`Firestore (${Wc}): ${t}`,...n)}}function co(t,...e){if(pl.logLevel<=Mt.ERROR){const n=e.map(v_);pl.error(`Firestore (${Wc}): ${t}`,...n)}}function Sc(t,...e){if(pl.logLevel<=Mt.WARN){const n=e.map(v_);pl.warn(`Firestore (${Wc}): ${t}`,...n)}}function v_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${Wc}) INTERNAL ASSERTION FAILED: `+t;throw co(e),new Error(e)}function Mn(t,e){t||It()}function Wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ai.UNAUTHENTICATED))}shutdown(){}}class G3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q3{constructor(e){this.t=e,this.currentUser=Ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mn(this.o===void 0);let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let r=new el;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new el,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const h=r;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new el)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mn(typeof i.accessToken=="string"),new GP(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mn(e===null||typeof e=="string"),new Ai(e)}}class K3{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ai.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Y3{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new K3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Mn(this.o===void 0);const i=r=>{r.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,Ze("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mn(typeof n.token=="string"),this.R=n.token,new X3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=Q3(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function Xt(t,e){return t<e?-1:t>e?1:0}function kc(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new mt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new mt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xi.fromMillis(Date.now())}static fromDate(e){return Xi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Xi(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Xi(0,0))}static max(){return new St(new Xi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,i){n===void 0?n=0:n>e.length&&It(),i===void 0?i=e.length-n:i>e.length-n&&It(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return jh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jh?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),a=n.get(s);if(r<a)return-1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class On extends jh{construct(e,n,i){return new On(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new mt(qe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new On(n)}static emptyPath(){return new On([])}}const Z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends jh{construct(e,n,i){return new Hi(e,n,i)}static isValidIdentifier(e){return Z3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new mt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new mt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new mt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(i+=c,s++):(r(),s++)}if(r(),a)throw new mt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(n)}static emptyPath(){return new Hi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(On.fromString(e))}static fromName(e){return new gt(On.fromString(e).popFirst(5))}static empty(){return new gt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return On.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new On(e.slice()))}}function e6(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=St.fromTimestamp(i===1e9?new Xi(n+1,0):new Xi(n,i));return new aa(s,gt.empty(),e)}function t6(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new aa(St.min(),gt.empty(),-1)}static max(){return new aa(St.max(),gt.empty(),-1)}}function n6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=gt.comparator(t.documentKey,e.documentKey),n!==0?n:Xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(t){if(t.code!==qe.FAILED_PRECONDITION||t.message!==i6)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Me.reject(n)}static resolve(e){return new Me((n,i)=>{n(e)})}static reject(e){return new Me((n,i)=>{i(e)})}static waitFor(e){return new Me((n,i)=>{let s=0,r=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++r,a&&r===s&&n()},h=>i(h))}),a=!0,r===s&&n()})}static or(e){let n=Me.resolve(!1);for(const i of e)n=n.next(s=>s?Me.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new Me((i,s)=>{const r=e.length,a=new Array(r);let c=0;for(let h=0;h<r;h++){const d=h;n(e[d]).next(f=>{a[d]=f,++c,c===r&&i(a)},f=>s(f))}})}static doWhile(e,n){return new Me((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function r6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}__.oe=-1;function sg(t){return t==null}function Sb(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rg(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.comparator=e,this.root=n||Ci.EMPTY}insert(e,n){return new Vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xf(this.root,e,this.comparator,!0)}}class Xf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Ci.RED,this.left=s??Ci.EMPTY,this.right=r??Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new Ci(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ci.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,n,i,s,r){return this}insert(e,n,i){return new Ci(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ti(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.fields=e,e.sort(Hi.comparator)}static empty(){return new Qo([])}unionWith(e){let n=new Ti(Hi.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return kc(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new KP("Invalid base64 string: "+r):r}}(e);return new Si(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const a6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(t){if(Mn(!!t),typeof t=="string"){let e=0;const n=a6.exec(t);if(Mn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ml(t){return typeof t=="string"?Si.fromBase64String(t):Si.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function C_(t){const e=t.mapValue.fields.__previous_value__;return w_(e)?C_(e):e}function Hh(t){const e=la(t.mapValue.fields.__local_write_time__.timestampValue);return new Xi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,i,s,r,a,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}class $h{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $h&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w_(t)?4:u6(t)?9007199254740991:c6(t)?10:11:It()}function _r(t,e){if(t===e)return!0;const n=gl(t);if(n!==gl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hh(t).isEqual(Hh(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=la(s.timestampValue),c=la(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ml(s.bytesValue).isEqual(ml(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ln(s.geoPointValue.latitude)===Ln(r.geoPointValue.latitude)&&Ln(s.geoPointValue.longitude)===Ln(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ln(s.integerValue)===Ln(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Ln(s.doubleValue),c=Ln(r.doubleValue);return a===c?Sb(a)===Sb(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return kc(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},c=r.mapValue.fields||{};if(TT(a)!==TT(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(c[h]===void 0||!_r(a[h],c[h])))return!1;return!0}(t,e);default:return It()}}function zh(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Ic(t,e){if(t===e)return 0;const n=gl(t),i=gl(e);if(n!==i)return Xt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xt(t.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Ln(r.integerValue||r.doubleValue),h=Ln(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return kT(t.timestampValue,e.timestampValue);case 4:return kT(Hh(t),Hh(e));case 5:return Xt(t.stringValue,e.stringValue);case 6:return function(r,a){const c=ml(r),h=ml(a);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),h=a.split("/");for(let d=0;d<c.length&&d<h.length;d++){const f=Xt(c[d],h[d]);if(f!==0)return f}return Xt(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Xt(Ln(r.latitude),Ln(a.latitude));return c!==0?c:Xt(Ln(r.longitude),Ln(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return function(r,a){var c,h,d,f;const m=r.fields||{},b=a.fields||{},w=(c=m.value)===null||c===void 0?void 0:c.arrayValue,y=(h=b.value)===null||h===void 0?void 0:h.arrayValue,v=Xt(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((f=y==null?void 0:y.values)===null||f===void 0?void 0:f.length)||0);return v!==0?v:IT(w,y)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Jf.mapValue&&a===Jf.mapValue)return 0;if(r===Jf.mapValue)return 1;if(a===Jf.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),d=a.fields||{},f=Object.keys(d);h.sort(),f.sort();for(let m=0;m<h.length&&m<f.length;++m){const b=Xt(h[m],f[m]);if(b!==0)return b;const w=Ic(c[h[m]],d[f[m]]);if(w!==0)return w}return Xt(h.length,f.length)}(t.mapValue,e.mapValue);default:throw It()}}function kT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xt(t,e);const n=la(t),i=la(e),s=Xt(n.seconds,i.seconds);return s!==0?s:Xt(n.nanos,i.nanos)}function IT(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Ic(n[s],i[s]);if(r)return r}return Xt(n.length,i.length)}function Ac(t){return kb(t)}function kb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=la(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ml(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return gt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=kb(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${kb(n.fields[a])}`;return s+"}"}(t.mapValue):It()}function Ib(t){return!!t&&"integerValue"in t}function x_(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hv(t){return!!t&&"mapValue"in t}function c6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ch(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rg(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ch(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ch(t.arrayValue.values[n]);return e}return Object.assign({},t)}function u6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(n)}setAll(e){let n=Hi.emptyPath(),i={},s=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}a?i[c.lastSegment()]=Ch(a):s.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());hv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];hv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){rg(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new ur(Ch(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,i,s,r,a,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Ni(e,0,St.min(),St.min(),St.min(),ur.empty(),0)}static newFoundDocument(e,n,i,s){return new Ni(e,1,n,St.min(),i,s,0)}static newNoDocument(e,n){return new Ni(e,2,n,St.min(),St.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Ni(e,3,n,St.min(),St.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.position=e,this.inclusive=n}}function RT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=gt.comparator(gt.fromName(a.referenceValue),n.key):i=Ic(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n="asc"){this.field=e,this.dir=n}}function h6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{}class si extends YP{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new f6(e,n,i):n==="array-contains"?new g6(e,i):n==="in"?new y6(e,i):n==="not-in"?new v6(e,i):n==="array-contains-any"?new b6(e,i):new si(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new p6(e,i):new m6(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ic(n,this.value)):n!==null&&gl(this.value)===gl(n)&&this.matchesComparison(Ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends YP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return XP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XP(t){return t.op==="and"}function JP(t){return d6(t)&&XP(t)}function d6(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function Ab(t){if(t instanceof si)return t.field.canonicalString()+t.op.toString()+Ac(t.value);if(JP(t))return t.filters.map(e=>Ab(e)).join(",");{const e=t.filters.map(n=>Ab(n)).join(",");return`${t.op}(${e})`}}function QP(t,e){return t instanceof si?function(i,s){return s instanceof si&&i.op===s.op&&i.field.isEqual(s.field)&&_r(i.value,s.value)}(t,e):t instanceof wr?function(i,s){return s instanceof wr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,c)=>r&&QP(a,s.filters[c]),!0):!1}(t,e):void It()}function ZP(t){return t instanceof si?function(n){return`${n.field.canonicalString()} ${n.op} ${Ac(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(ZP).join(" ,")+"}"}(t):"Filter"}class f6 extends si{constructor(e,n,i){super(e,n,i),this.key=gt.fromName(i.referenceValue)}matches(e){const n=gt.comparator(e.key,this.key);return this.matchesComparison(n)}}class p6 extends si{constructor(e,n){super(e,"in",n),this.keys=eR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m6 extends si{constructor(e,n){super(e,"not-in",n),this.keys=eR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>gt.fromName(i.referenceValue))}class g6 extends si{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x_(n)&&zh(n.arrayValue,this.value)}}class y6 extends si{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}}class v6 extends si{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zh(this.value.arrayValue,n)}}class b6 extends si{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>zh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n=null,i=[],s=[],r=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=c,this.ue=null}}function MT(t,e=null,n=[],i=[],s=null,r=null,a=null){return new _6(t,e,n,i,s,r,a)}function E_(t){const e=Wt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ab(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ac(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ac(i)).join(",")),e.ue=n}return e.ue}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function Pb(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n=null,i=[],s=[],r=null,a="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w6(t,e,n,i,s,r,a,c){return new og(t,e,n,i,s,r,a,c)}function S_(t){return new og(t)}function DT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C6(t){return t.collectionGroup!==null}function xh(t){const e=Wt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Ti(Hi.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.ce.push(new om(r,i))}),n.has(Hi.keyField().canonicalString())||e.ce.push(new om(Hi.keyField(),i))}return e.ce}function yr(t){const e=Wt(t);return e.le||(e.le=x6(e,xh(t))),e.le}function x6(t,e){if(t.limitType==="F")return MT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new om(s.field,r)});const n=t.endAt?new rm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new rm(t.startAt.position,t.startAt.inclusive):null;return MT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Rb(t,e,n){return new og(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ag(t,e){return T_(yr(t),yr(e))&&t.limitType===e.limitType}function tR(t){return`${E_(yr(t))}|lt:${t.limitType}`}function ql(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>ZP(s)).join(", ")}]`),sg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ac(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ac(s)).join(",")),`Target(${i})`}(yr(t))}; limitType=${t.limitType})`}function lg(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):gt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of xh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,c,h){const d=RT(a,c,h);return a.inclusive?d<=0:d<0}(i.startAt,xh(i),s)||i.endAt&&!function(a,c,h){const d=RT(a,c,h);return a.inclusive?d>=0:d>0}(i.endAt,xh(i),s))}(t,e)}function E6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nR(t){return(e,n)=>{let i=!1;for(const s of xh(t)){const r=T6(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function T6(t,e,n){const i=t.field.isKeyField()?gt.comparator(e.key,n.key):function(r,a,c){const h=a.data.field(r),d=c.data.field(r);return h!==null&&d!==null?Ic(h,d):It()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rg(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return o6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new Vn(gt.comparator);function ca(){return S6}const iR=new Vn(gt.comparator);function rh(...t){let e=iR;for(const n of t)e=e.insert(n.key,n);return e}function k6(t){let e=iR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ya(){return Eh()}function sR(){return Eh()}function Eh(){return new Gc(t=>t.toString(),(t,e)=>t.isEqual(e))}const I6=new Ti(gt.comparator);function Gt(...t){let e=I6;for(const n of t)e=e.add(n);return e}const A6=new Ti(Xt);function P6(){return A6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sb(e)?"-0":e}}function O6(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function M6(t,e,n){return t instanceof Ob?function(s,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&w_(r)&&(r=C_(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof am?rR(t,e):t instanceof lm?oR(t,e):function(s,r){const a=N6(s,r),c=NT(a)+NT(s.Pe);return Ib(a)&&Ib(s.Pe)?O6(c):R6(s.serializer,c)}(t,e)}function D6(t,e,n){return t instanceof am?rR(t,e):t instanceof lm?oR(t,e):n}function N6(t,e){return t instanceof Mb?function(i){return Ib(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Ob extends cg{}class am extends cg{constructor(e){super(),this.elements=e}}function rR(t,e){const n=aR(e);for(const i of t.elements)n.some(s=>_r(s,i))||n.push(i);return{arrayValue:{values:n}}}class lm extends cg{constructor(e){super(),this.elements=e}}function oR(t,e){let n=aR(e);for(const i of t.elements)n=n.filter(s=>!_r(s,i));return{arrayValue:{values:n}}}class Mb extends cg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function NT(t){return Ln(t.integerValue||t.doubleValue)}function aR(t){return x_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function L6(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof am&&s instanceof am||i instanceof lm&&s instanceof lm?kc(i.elements,s.elements,_r):i instanceof Mb&&s instanceof Mb?_r(i.Pe,s.Pe):i instanceof Ob&&s instanceof Ob}(t.transform,e.transform)}class tl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tl}static exists(e){return new tl(void 0,e)}static updateTime(e){return new tl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class k_{}function lR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F6(t.key,tl.none()):new I_(t.key,t.data,tl.none());{const n=t.data,i=ur.empty();let s=new Ti(Hi.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new ug(t.key,i,new Qo(s.toArray()),tl.none())}}function V6(t,e,n){t instanceof I_?function(s,r,a){const c=s.value.clone(),h=VT(s.fieldTransforms,r,a.transformResults);c.setAll(h),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ug?function(s,r,a){if(!gp(s.precondition,r))return void r.convertToUnknownDocument(a.version);const c=VT(s.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(cR(s)),h.setAll(c),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Th(t,e,n,i){return t instanceof I_?function(r,a,c,h){if(!gp(r.precondition,a))return c;const d=r.value.clone(),f=FT(r.fieldTransforms,h,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof ug?function(r,a,c,h){if(!gp(r.precondition,a))return c;const d=FT(r.fieldTransforms,h,a),f=a.data;return f.setAll(cR(r)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(r,a,c){return gp(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function LT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&kc(i,s,(r,a)=>L6(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class I_ extends k_{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ug extends k_{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function cR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function VT(t,e,n){const i=new Map;Mn(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,c=e.data.field(r.field);i.set(r.field,D6(a,c,n[s]))}return i}function FT(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,M6(r,a,e))}return i}class F6 extends k_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&V6(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Th(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Th(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=sR();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let c=this.applyToLocalView(a,r.mutatedFields);c=n.has(s.key)?null:c;const h=lR(a,c);h!==null&&i.set(s.key,h),a.isValidDocument()||a.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Gt())}isEqual(e){return this.batchId===e.batchId&&kc(this.mutations,e.mutations,(n,i)=>LT(n,i))&&kc(this.baseMutations,e.baseMutations,(n,i)=>LT(n,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,jt;function uR(t){if(t===void 0)return co("GRPC error has no .code"),qe.UNKNOWN;switch(t){case $n.OK:return qe.OK;case $n.CANCELLED:return qe.CANCELLED;case $n.UNKNOWN:return qe.UNKNOWN;case $n.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case $n.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case $n.INTERNAL:return qe.INTERNAL;case $n.UNAVAILABLE:return qe.UNAVAILABLE;case $n.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case $n.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case $n.NOT_FOUND:return qe.NOT_FOUND;case $n.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case $n.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case $n.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case $n.ABORTED:return qe.ABORTED;case $n.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case $n.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case $n.DATA_LOSS:return qe.DATA_LOSS;default:return It()}}(jt=$n||($n={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new Za([4294967295,4294967295],0);function BT(t){const e=H6().encode(t),n=new UP;return n.update(e),new Uint8Array(n.digest())}function UT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Za([n,i],0),new Za([s,r],0)]}class A_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(i<0)throw new oh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Za.fromNumber(this.Ie)}Ee(e,n,i){let s=e.add(n.multiply(Za.fromNumber(i)));return s.compare($6)===1&&(s=new Za([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=BT(e),[i,s]=UT(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);if(!this.de(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new A_(r,s,n);return i.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;const n=BT(e),[i,s]=UT(n);for(let r=0;r<this.hashCount;r++){const a=this.Ee(i,s,r);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,yd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hg(St.min(),s,new Vn(Xt),ca(),Gt())}}class yd{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new yd(i,n,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,i,s){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=s}}class hR{constructor(e,n){this.targetId=e,this.me=n}}class dR{constructor(e,n,i=Si.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class jT{constructor(){this.fe=0,this.ge=$T(),this.pe=Si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Gt(),n=Gt(),i=Gt();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:It()}}),new yd(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=$T()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Mn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class z6{constructor(e){this.Le=e,this.Be=new Map,this.ke=ca(),this.qe=HT(),this.Qe=new Vn(Xt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:It()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,i=e.me.count,s=this.Je(n);if(s){const r=s.target;if(Pb(r))if(i===0){const a=new gt(r.path);this.Ue(n,a,Ni.newNoDocument(a,St.min()))}else Mn(i===1);else{const a=this.Ye(n);if(a!==i){const c=this.Ze(e),h=c?this.Xe(c,e,a):1;if(h!==0){this.je(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,c;try{a=ml(i).toUint8Array()}catch(h){if(h instanceof KP)return Sc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new A_(a,s,r)}catch(h){return Sc(h instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ie===0?null:c}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,r,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((r,a)=>{const c=this.Je(a);if(c){if(r.current&&Pb(c.target)){const h=new gt(c.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,Ni.newNoDocument(h,e))}r.be&&(n.set(a,r.ve()),r.Ce())}});let i=Gt();this.qe.forEach((r,a)=>{let c=!0;a.forEachWhile(h=>{const d=this.Je(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.ke.forEach((r,a)=>a.setReadTime(e));const s=new hg(e,n,this.Qe,this.ke,i);return this.ke=ca(),this.qe=HT(),this.Qe=new Vn(Xt),s}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ti(Xt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function HT(){return new Vn(gt.comparator)}function $T(){return new Vn(gt.comparator)}const W6={asc:"ASCENDING",desc:"DESCENDING"},G6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q6={and:"AND",or:"OR"};class K6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Db(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function Y6(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dc(t){return Mn(!!t),St.fromTimestamp(function(n){const i=la(n);return new Xi(i.seconds,i.nanos)}(t))}function J6(t,e){return Nb(t,e).canonicalString()}function Nb(t,e){const n=function(s){return new On(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fR(t){const e=On.fromString(t);return Mn(vR(e)),e}function dv(t,e){const n=fR(e);if(n.get(1)!==t.databaseId.projectId)throw new mt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new mt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(mR(n))}function pR(t,e){return J6(t.databaseId,e)}function Q6(t){const e=fR(t);return e.length===4?On.emptyPath():mR(e)}function zT(t){return new On(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return Mn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z6(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:It()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(d,f){return d.useProto3Json?(Mn(f===void 0||typeof f=="string"),Si.fromBase64String(f||"")):(Mn(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Si.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const f=d.code===void 0?qe.UNKNOWN:uR(d.code);return new mt(f,d.message||"")}(a);n=new dR(i,s,r,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=dv(t,i.document.name),r=dc(i.document.updateTime),a=i.document.createTime?dc(i.document.createTime):St.min(),c=new ur({mapValue:{fields:i.document.fields}}),h=Ni.newFoundDocument(s,r,a,c),d=i.targetIds||[],f=i.removedTargetIds||[];n=new yp(d,f,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=dv(t,i.document),r=i.readTime?dc(i.readTime):St.min(),a=Ni.newNoDocument(s,r),c=i.removedTargetIds||[];n=new yp([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=dv(t,i.document),r=i.removedTargetIds||[];n=new yp([],r,s,null)}else{if(!("filter"in e))return It();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new j6(s,r),c=i.targetId;n=new hR(c,a)}}return n}function eG(t,e){return{documents:[pR(t,e.path)]}}function tG(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pR(t,s);const r=function(d){if(d.length!==0)return yR(wr.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(d){if(d.length!==0)return d.map(f=>function(b){return{field:Kl(b.field),direction:sG(b.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Db(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function nG(t){let e=Q6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Mn(i===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(m){const b=gR(m);return b instanceof wr&&JP(b)?b.getFilters():[b]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(b=>function(y){return new om(Yl(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(m){let b;return b=typeof m=="object"?m.value:m,sg(b)?null:b}(n.limit));let h=null;n.startAt&&(h=function(m){const b=!!m.before,w=m.values||[];return new rm(w,b)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const b=!m.before,w=m.values||[];return new rm(w,b)}(n.endAt)),w6(e,s,a,r,c,"F",h,d)}function iG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Yl(n.unaryFilter.field);return si.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Yl(n.unaryFilter.field);return si.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yl(n.unaryFilter.field);return si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Yl(n.unaryFilter.field);return si.create(a,"!=",{nullValue:"NULL_VALUE"});default:return It()}}(t):t.fieldFilter!==void 0?function(n){return si.create(Yl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(i=>gR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return It()}}(n.compositeFilter.op))}(t):It()}function sG(t){return W6[t]}function rG(t){return G6[t]}function oG(t){return q6[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Yl(t){return Hi.fromServerFormat(t.fieldPath)}function yR(t){return t instanceof si?function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:rG(n.op),value:n.value}}}(t):t instanceof wr?function(n){const i=n.getFilters().map(s=>yR(s));return i.length===1?i[0]:{compositeFilter:{op:oG(n.op),filters:i}}}(t):It()}function vR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,i,s,r=St.min(),a=St.min(),c=Si.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e){this.ct=e}}function lG(t){const e=nG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.un=new uG}addToCollectionParentIndex(e,n){return this.un.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(aa.min())}updateCollectionGroup(e,n,i){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class uG{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Ti(On.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ti(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pc(0)}static kn(){return new Pc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(){this.changes=new Gc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Me.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Th(i.mutation,s,Qo.empty(),Xi.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Gt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Gt()){const s=Ya();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=rh();return r.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ya();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Gt()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,i,s){let r=ca();const a=Eh(),c=function(){return Eh()}();return n.forEach((h,d)=>{const f=i.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof ug)?r=r.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Th(f.mutation,d,f.mutation.getFieldMask(),Xi.now())):a.set(d.key,Qo.empty())}),this.recalculateAndSaveOverlays(e,r).next(h=>(h.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var m;return c.set(d,new dG(f,(m=a.get(d))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Eh();let s=new Vn((a,c)=>a-c),r=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let f=i.get(h)||Qo.empty();f=c.applyToLocalView(d,f),i.set(h,f);const m=(s.get(c.batchId)||Gt()).add(h);s=s.insert(c.batchId,m)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,f=h.value,m=sR();f.forEach(b=>{if(!r.has(b)){const w=lR(n.get(b),i.get(b));w!==null&&m.set(b,w),r=r.add(b)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return Me.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):Me.resolve(Ya());let c=-1,h=r;return a.next(d=>Me.forEach(d,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),r.get(f)?Me.resolve():this.remoteDocumentCache.getEntry(e,f).next(b=>{h=h.insert(f,b)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,h,d,Gt())).next(f=>({batchId:c,changes:k6(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new gt(n)).next(i=>{let s=rh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=rh();return this.indexManager.getCollectionParents(e,r).next(c=>Me.forEach(c,h=>{const d=function(m,b){return new og(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,h.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(f=>{f.forEach((m,b)=>{a=a.insert(m,b)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((h,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Ni.newInvalidDocument(f)))});let c=rh();return a.forEach((h,d)=>{const f=r.get(h);f!==void 0&&Th(f.mutation,d,Qo.empty(),Xi.now()),lg(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dc(s.createTime)}}(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:lG(s.bundledQuery),readTime:dc(s.readTime)}}(n)),Me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(){this.overlays=new Vn(gt.comparator),this.Ir=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ya();return Me.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ht(e,n,r)}),Me.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Ir.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(i)),Me.resolve()}getOverlaysForCollection(e,n,i){const s=Ya(),r=n.length+1,a=new gt(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&h.largestBatchId>i&&s.set(h.getKey(),h)}return Me.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Vn((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=r.get(d.largestBatchId);f===null&&(f=Ya(),r=r.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Ya(),h=r.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return Me.resolve(c)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(i.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new U6(n,i));let r=this.Ir.get(n);r===void 0&&(r=Gt(),this.Ir.set(n,r)),this.Ir.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.sessionToken=Si.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Tr=new Ti(fi.Er),this.dr=new Ti(fi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new fi(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new fi(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new gt(new On([])),i=new fi(n,e),s=new fi(n,e+1),r=[];return this.dr.forEachInRange([i,s],a=>{this.Vr(a),r.push(a.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new gt(new On([])),i=new fi(n,e),s=new fi(n,e+1);let r=Gt();return this.dr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new fi(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class fi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return gt.comparator(e.key,n.key)||Xt(e.wr,n.wr)}static Ar(e,n){return Xt(e.wr,n.wr)||gt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ti(fi.Er)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new B6(r,n,i,s);this.mutationQueue.push(a);for(const c of s)this.br=this.br.add(new fi(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Me.resolve(a)}lookupMutationBatch(e,n){return Me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.vr(i),r=s<0?0:s;return Me.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new fi(n,0),s=new fi(n,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([i,s],a=>{const c=this.Dr(a.wr);r.push(c)}),Me.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ti(Xt);return n.forEach(s=>{const r=new fi(s,0),a=new fi(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,a],c=>{i=i.add(c.wr)})}),Me.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;gt.isDocumentKey(r)||(r=r.child(""));const a=new fi(new gt(r),0);let c=new Ti(Xt);return this.br.forEachWhile(h=>{const d=h.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.wr)),!0)},a),Me.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(i=>{const s=this.Dr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Mn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return Me.forEach(n.mutations,s=>{const r=new fi(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new fi(n,0),s=this.br.firstAfterOrEqual(i);return Me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.Mr=e,this.docs=function(){return new Vn(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Me.resolve(i?i.document.mutableCopy():Ni.newInvalidDocument(n))}getEntries(e,n){let i=ca();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ni.newInvalidDocument(s))}),Me.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=ca();const a=n.path,c=new gt(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:f}}=h.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||n6(t6(f),i)<=0||(s.has(f.key)||lg(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return Me.resolve(r)}getAllFromCollectionGroup(e,n,i,s){It()}Or(e,n){return Me.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new bG(this)}getSize(e){return Me.resolve(this.size)}}class bG extends hG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(i)}),Me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.persistence=e,this.Nr=new Gc(n=>E_(n),T_),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Lr=0,this.Br=new P_,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,s)=>n(s)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),Me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Pc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Kn(n),Me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Nr.delete(a),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Me.waitFor(r).next(()=>s)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return Me.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),Me.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),Me.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return Me.resolve(i)}containsKey(e,n){return Me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new __(0),this.Kr=!1,this.Kr=!0,this.$r=new gG,this.referenceDelegate=e(this),this.Ur=new _G(this),this.indexManager=new cG,this.remoteDocumentCache=function(s){return new vG(s)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new aG(n),this.Gr=new pG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new yG(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Ze("MemoryPersistence","Starting transaction:",e);const s=new CG(this.Qr.next());return this.referenceDelegate.zr(),i(s).next(r=>this.referenceDelegate.jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Hr(e,n){return Me.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class CG extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Jr=new P_,this.Yr=null}static Zr(e){return new R_(e)}get Xr(){if(this.Yr)return this.Yr;throw It()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),Me.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Xr.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,i=>{const s=gt.fromPath(i);return this.ei(e,s).next(r=>{r||n.removeEntry(s,St.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Me.or([()=>Me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=s}static Wi(e,n){let i=Gt(),s=Gt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new O_(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ej()?8:r6(Fi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.Yi(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.Zi(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new xG;return this.Xi(e,n,a).next(c=>{if(r.result=c,this.zi)return this.es(e,n,a,c.size)})}).next(()=>r.result)}es(e,n,i,s){return i.documentReadCount<this.ji?(Yu()<=Mt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",ql(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(Yu()<=Mt.DEBUG&&Ze("QueryEngine","Query:",ql(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Hi*s?(Yu()<=Mt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",ql(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):Me.resolve())}Yi(e,n){if(DT(n))return Me.resolve(null);let i=yr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Rb(n,null,"F"),i=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Gt(...r);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const d=this.ts(n,c);return this.ns(n,d,a,h.readTime)?this.Yi(e,Rb(n,null,"F")):this.rs(e,d,n,h)}))})))}Zi(e,n,i,s){return DT(n)||s.isEqual(St.min())?Me.resolve(null):this.Ji.getDocuments(e,i).next(r=>{const a=this.ts(n,r);return this.ns(n,a,i,s)?Me.resolve(null):(Yu()<=Mt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ql(n)),this.rs(e,a,n,e6(s,-1)).next(c=>c))})}ts(e,n){let i=new Ti(nR(e));return n.forEach((s,r)=>{lg(e,r)&&(i=i.add(r))}),i}ns(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Xi(e,n,i){return Yu()<=Mt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",ql(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),i)}rs(e,n,i,s){return this.Ji.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n,i,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Vn(Xt),this._s=new Gc(r=>E_(r),T_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function SG(t,e,n,i){return new TG(t,e,n,i)}async function bR(t,e){const n=Wt(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],c=[];let h=Gt();for(const d of s){a.push(d.batchId);for(const f of d.mutations)h=h.add(f.key)}for(const d of r){c.push(d.batchId);for(const f of d.mutations)h=h.add(f.key)}return n.localDocuments.getDocuments(i,h).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:c}))})})}function _R(t){const e=Wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function kG(t,e){const n=Wt(t),i=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach((f,m)=>{const b=s.get(m);if(!b)return;c.push(n.Ur.removeMatchingKeys(r,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(r,f.addedDocuments,m)));let w=b.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(Si.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,i)),s=s.insert(m,w),function(v,x,k){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,w,f)&&c.push(n.Ur.updateTargetData(r,w))});let h=ca(),d=Gt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),c.push(IG(r,a,e.documentUpdates).next(f=>{h=f.Ps,d=f.Is})),!i.isEqual(St.min())){const f=n.Ur.getLastRemoteSnapshotVersion(r).next(m=>n.Ur.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(f)}return Me.waitFor(c).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,h,d)).next(()=>h)}).then(r=>(n.os=s,r))}function IG(t,e,n){let i=Gt(),s=Gt();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=ca();return n.forEach((c,h)=>{const d=r.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(St.min())?(e.removeEntry(c,h.readTime),a=a.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),a=a.insert(c,h)):Ze("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{Ps:a,Is:s}})}function AG(t,e){const n=Wt(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ur.getTargetData(i,e).next(r=>r?(s=r,Me.resolve(s)):n.Ur.allocateTargetId(i).next(a=>(s=new Zo(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.os.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function Lb(t,e,n){const i=Wt(t),s=i.os.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!gd(a))throw a;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.os=i.os.remove(e),i._s.delete(s.target)}function WT(t,e,n){const i=Wt(t);let s=St.min(),r=Gt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(h,d,f){const m=Wt(h),b=m._s.get(f);return b!==void 0?Me.resolve(m.os.get(b)):m.Ur.getTargetData(d,f)}(i,a,yr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(a,c.targetId).next(h=>{r=h})}).next(()=>i.ss.getDocumentsMatchingQuery(a,e,n?s:St.min(),n?r:Gt())).next(c=>(PG(i,E6(e),c),{documents:c,Ts:r})))}function PG(t,e,n){let i=t.us.get(e)||St.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.us.set(e,i)}class GT{constructor(){this.activeTargetIds=P6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RG{constructor(){this.so=new GT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new GT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function fv(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="WebChannelConnection";class NG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${s}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Fo(){return!1}Mo(n,i,s,r,a){const c=fv(),h=this.xo(n,i.toUriEncodedString());Ze("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,r,a),this.No(n,h,d,s).then(f=>(Ze("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Sc("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",h,"request:",s),f})}Lo(n,i,s,r,a,c){return this.Mo(n,i,s,r,a)}Oo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,a)=>n[a]=r),s&&s.headers.forEach((r,a)=>n[a]=r)}xo(n,i){const s=MG[n];return`${this.Do}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,s){const r=fv();return new Promise((a,c)=>{const h=new jP;h.setWithCredentials(!0),h.listenOnce(HP.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case mp.NO_ERROR:const f=h.getResponseJson();Ze(Ii,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(f)),a(f);break;case mp.TIMEOUT:Ze(Ii,`RPC '${e}' ${r} timed out`),c(new mt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case mp.HTTP_ERROR:const m=h.getStatus();if(Ze(Ii,`RPC '${e}' ${r} failed with status:`,m,"response text:",h.getResponseText()),m>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const y=function(x){const k=x.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(k)>=0?k:qe.UNKNOWN}(w.status);c(new mt(y,w.message))}else c(new mt(qe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new mt(qe.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{Ze(Ii,`RPC '${e}' ${r} completed.`)}});const d=JSON.stringify(s);Ze(Ii,`RPC '${e}' ${r} sending request:`,s),h.send(n,"POST",d,i,15)})}Bo(e,n,i){const s=fv(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=WP(),c=zP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const f=r.join("");Ze(Ii,`Creating RPC '${e}' stream ${s}: ${f}`,h);const m=a.createWebChannel(f,h);let b=!1,w=!1;const y=new DG({Io:x=>{w?Ze(Ii,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(b||(Ze(Ii,`Opening RPC '${e}' stream ${s} transport.`),m.open(),b=!0),Ze(Ii,`RPC '${e}' stream ${s} sending:`,x),m.send(x))},To:()=>m.close()}),v=(x,k,I)=>{x.listen(k,D=>{try{I(D)}catch(N){setTimeout(()=>{throw N},0)}})};return v(m,sh.EventType.OPEN,()=>{w||(Ze(Ii,`RPC '${e}' stream ${s} transport opened.`),y.yo())}),v(m,sh.EventType.CLOSE,()=>{w||(w=!0,Ze(Ii,`RPC '${e}' stream ${s} transport closed`),y.So())}),v(m,sh.EventType.ERROR,x=>{w||(w=!0,Sc(Ii,`RPC '${e}' stream ${s} transport errored:`,x),y.So(new mt(qe.UNAVAILABLE,"The operation could not be completed")))}),v(m,sh.EventType.MESSAGE,x=>{var k;if(!w){const I=x.data[0];Mn(!!I);const D=I,N=D.error||((k=D[0])===null||k===void 0?void 0:k.error);if(N){Ze(Ii,`RPC '${e}' stream ${s} received error:`,N);const F=N.status;let O=function(L){const U=$n[L];if(U!==void 0)return uR(U)}(F),S=N.message;O===void 0&&(O=qe.INTERNAL,S="Unknown error status: "+F+" with message "+N.message),w=!0,y.So(new mt(O,S)),m.close()}else Ze(Ii,`RPC '${e}' stream ${s} received:`,I),y.bo(I)}}),v(c,$P.STAT_EVENT,x=>{x.stat===Tb.PROXY?Ze(Ii,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Tb.NOPROXY&&Ze(Ii,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){return new K6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,i=1e3,s=1.5,r=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n,i,s,r,a,c,h){this.ui=e,this.Ho=i,this.Jo=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new CR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===qe.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Yo===n&&this.P_(i,s)},i=>{e(()=>{const s=new mt(qe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(s)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{i(()=>this.I_(s))}),this.stream.onMessage(s=>{i(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VG extends LG{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Z6(this.serializer,e),i=function(r){if(!("targetChange"in r))return St.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?dc(a.readTime):St.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=zT(this.serializer),n.addTarget=function(r,a){let c;const h=a.target;if(c=Pb(h)?{documents:eG(r,h)}:{query:tG(r,h)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=X6(r,a.resumeToken);const d=Db(r,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(St.min())>0){c.readTime=Y6(r,a.snapshotVersion.toTimestamp());const d=Db(r,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=iG(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=zT(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new mt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Mo(e,Nb(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new mt(qe.UNKNOWN,r.toString())})}Lo(e,n,i,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,Nb(n,i),s,a,c,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new mt(qe.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class BG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(co(n),this.D_=!1):Ze("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(a=>{i.enqueueAndForget(async()=>{bd(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(h){const d=Wt(h);d.L_.add(4),await vd(d),d.q_.set("Unknown"),d.L_.delete(4),await dg(d)}(this))})}),this.q_=new BG(i,s)}}async function dg(t){if(bd(t))for(const e of t.B_)await e(!0)}async function vd(t){for(const e of t.B_)await e(!1)}function xR(t,e){const n=Wt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),L_(n)?N_(n):qc(n).r_()&&D_(n,e))}function M_(t,e){const n=Wt(t),i=qc(n);n.N_.delete(e),i.r_()&&ER(n,e),n.N_.size===0&&(i.r_()?i.o_():bd(n)&&n.q_.set("Unknown"))}function D_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qc(t).A_(e)}function ER(t,e){t.Q_.xe(e),qc(t).R_(e)}function N_(t){t.Q_=new z6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qc(t).start(),t.q_.v_()}function L_(t){return bd(t)&&!qc(t).n_()&&t.N_.size>0}function bd(t){return Wt(t).L_.size===0}function TR(t){t.Q_=void 0}async function jG(t){t.q_.set("Online")}async function HG(t){t.N_.forEach((e,n)=>{D_(t,e)})}async function $G(t,e){TR(t),L_(t)?(t.q_.M_(e),N_(t)):t.q_.set("Unknown")}async function zG(t,e,n){if(t.q_.set("Online"),e instanceof dR&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const c of r.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(i){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await KT(t,i)}else if(e instanceof yp?t.Q_.Ke(e):e instanceof hR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(St.min()))try{const i=await _R(t.localStore);n.compareTo(i)>=0&&await function(r,a){const c=r.Q_.rt(a);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const f=r.N_.get(d);f&&r.N_.set(d,f.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,d)=>{const f=r.N_.get(h);if(!f)return;r.N_.set(h,f.withResumeToken(Si.EMPTY_BYTE_STRING,f.snapshotVersion)),ER(r,h);const m=new Zo(f.target,h,d,f.sequenceNumber);D_(r,m)}),r.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){Ze("RemoteStore","Failed to raise snapshot:",i),await KT(t,i)}}async function KT(t,e,n){if(!gd(e))throw e;t.L_.add(1),await vd(t),t.q_.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dg(t)})}async function YT(t,e){const n=Wt(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const i=bd(n);n.L_.add(3),await vd(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dg(n)}async function WG(t,e){const n=Wt(t);e?(n.L_.delete(2),await dg(n)):e||(n.L_.add(2),await vd(n),n.q_.set("Unknown"))}function qc(t){return t.K_||(t.K_=function(n,i,s){const r=Wt(n);return r.w_(),new VG(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Eo:jG.bind(null,t),Ro:HG.bind(null,t),mo:$G.bind(null,t),d_:zG.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),L_(t)?N_(t):t.q_.set("Unknown")):(await t.K_.stop(),TR(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,c=new V_(e,n,a,s,r);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SR(t,e){if(co("AsyncQueue",`${e}: ${t}`),gd(t))return new mt(qe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.comparator=e?(n,i)=>e(n,i)||gt.comparator(n.key,i.key):(n,i)=>gt.comparator(n.key,i.key),this.keyedMap=rh(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new fc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.W_=new Vn(gt.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):It():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Rc{constructor(e,n,i,s,r,a,c,h,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Rc(e,n,fc.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class qG{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const s=Wt(n),r=s.queries;s.queries=JT(),r.forEach((a,c)=>{for(const h of c.j_)h.onError(i)})})(this,new mt(qe.ABORTED,"Firestore shutting down"))}}function JT(){return new Gc(t=>tR(t),ag)}async function KG(t,e){const n=Wt(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.H_()&&e.J_()&&(i=2):(r=new GG,i=e.J_()?0:1);try{switch(i){case 0:r.z_=await n.onListen(s,!0);break;case 1:r.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=SR(a,`Initialization of query '${ql(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,r),r.j_.push(e),e.Z_(n.onlineState),r.z_&&e.X_(r.z_)&&F_(n)}async function YG(t,e){const n=Wt(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.j_.indexOf(e);a>=0&&(r.j_.splice(a,1),r.j_.length===0?s=e.J_()?0:1:!r.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function XG(t,e){const n=Wt(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const c of a.j_)c.X_(s)&&(i=!0);a.z_=s}}i&&F_(n)}function JG(t,e,n){const i=Wt(t),s=i.queries.get(e);if(s)for(const r of s.j_)r.onError(n);i.queries.delete(e)}function F_(t){t.Y_.forEach(e=>{e.next()})}var Vb,QT;(QT=Vb||(Vb={})).ea="default",QT.Cache="cache";class QG{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Rc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.key=e}}class IR{constructor(e){this.key=e}}class ZG{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Gt(),this.mutatedKeys=Gt(),this.Aa=nR(e),this.Ra=new fc(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new XT,s=n?n.Ra:this.Ra;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const b=s.get(f),w=lg(this.query,m)?m:null,y=!!b&&this.mutatedKeys.has(b.key),v=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;b&&w?b.data.isEqual(w.data)?y!==v&&(i.track({type:3,doc:w}),x=!0):this.ga(b,w)||(i.track({type:2,doc:w}),x=!0,(h&&this.Aa(w,h)>0||d&&this.Aa(w,d)<0)&&(c=!0)):!b&&w?(i.track({type:0,doc:w}),x=!0):b&&!w&&(i.track({type:1,doc:b}),x=!0,(h||d)&&(c=!0)),x&&(w?(a=a.add(w),r=v?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{Ra:a,fa:i,ns:c,mutatedKeys:r}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,m)=>function(w,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return v(w)-v(y)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(i),s=s!=null&&s;const c=n&&!s?this.ya():[],h=this.da.size===0&&this.current&&!s?1:0,d=h!==this.Ea;return this.Ea=h,a.length!==0||d?{snapshot:new Rc(this.query,e.Ra,r,a,e.mutatedKeys,h===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new XT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Gt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new IR(i))}),this.da.forEach(i=>{e.has(i)||n.push(new kR(i))}),n}ba(e){this.Ta=e.Ts,this.da=Gt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Rc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class t9{constructor(e){this.key=e,this.va=!1}}class n9{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Gc(c=>tR(c),ag),this.Ma=new Map,this.xa=new Set,this.Oa=new Vn(gt.comparator),this.Na=new Map,this.La=new P_,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function i9(t,e,n=!0){const i=MR(t);let s;const r=i.Fa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Da()):s=await AR(i,e,n,!0),s}async function s9(t,e){const n=MR(t);await AR(n,e,!0,!1)}async function AR(t,e,n,i){const s=await AG(t.localStore,yr(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let c;return i&&(c=await r9(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&xR(t.remoteStore,s),c}async function r9(t,e,n,i,s){t.Ka=(m,b,w)=>async function(v,x,k,I){let D=x.view.ma(k);D.ns&&(D=await WT(v.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,D)));const N=I&&I.targetChanges.get(x.targetId),F=I&&I.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(D,v.isPrimaryClient,N,F);return eS(v,x.targetId,O.wa),O.snapshot}(t,m,b,w);const r=await WT(t.localStore,e,!0),a=new ZG(e,r.Ts),c=a.ma(r.documents),h=yd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=a.applyChanges(c,t.isPrimaryClient,h);eS(t,n,d.wa);const f=new e9(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function o9(t,e,n){const i=Wt(t),s=i.Fa.get(e),r=i.Ma.get(s.targetId);if(r.length>1)return i.Ma.set(s.targetId,r.filter(a=>!ag(a,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Lb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&M_(i.remoteStore,s.targetId),Fb(i,s.targetId)}).catch(b_)):(Fb(i,s.targetId),await Lb(i.localStore,s.targetId,!0))}async function a9(t,e){const n=Wt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),M_(n.remoteStore,i.targetId))}async function PR(t,e){const n=Wt(t);try{const i=await kG(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Na.get(r);a&&(Mn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?Mn(a.va):s.removedDocuments.size>0&&(Mn(a.va),a.va=!1))}),await OR(n,i,e)}catch(i){await b_(i)}}function ZT(t,e,n){const i=Wt(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Fa.forEach((r,a)=>{const c=a.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const h=Wt(a);h.onlineState=c;let d=!1;h.queries.forEach((f,m)=>{for(const b of m.j_)b.Z_(c)&&(d=!0)}),d&&F_(h)}(i.eventManager,e),s.length&&i.Ca.d_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function l9(t,e,n){const i=Wt(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Na.get(e),r=s&&s.key;if(r){let a=new Vn(gt.comparator);a=a.insert(r,Ni.newNoDocument(r,St.min()));const c=Gt().add(r),h=new hg(St.min(),new Map,new Vn(Xt),a,c);await PR(i,h),i.Oa=i.Oa.remove(r),i.Na.delete(e),B_(i)}else await Lb(i.localStore,e,!1).then(()=>Fb(i,e,n)).catch(b_)}function Fb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||RR(t,i)})}function RR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(M_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),B_(t))}function eS(t,e,n){for(const i of n)i instanceof kR?(t.La.addReference(i.key,e),c9(t,i)):i instanceof IR?(Ze("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||RR(t,i.key)):It()}function c9(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Ze("SyncEngine","New document in limbo: "+n),t.xa.add(i),B_(t))}function B_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new gt(On.fromString(e)),i=t.qa.next();t.Na.set(i,new t9(n)),t.Oa=t.Oa.insert(n,i),xR(t.remoteStore,new Zo(yr(S_(n.path)),i,"TargetPurposeLimboResolution",__.oe))}}async function OR(t,e,n){const i=Wt(t),s=[],r=[],a=[];i.Fa.isEmpty()||(i.Fa.forEach((c,h)=>{a.push(i.Ka(h,e,n).then(d=>{var f;if((d||n)&&i.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(h.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){s.push(d);const m=O_.Wi(h.targetId,d);r.push(m)}}))}),await Promise.all(a),i.Ca.d_(s),await async function(h,d){const f=Wt(h);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Me.forEach(d,b=>Me.forEach(b.$i,w=>f.persistence.referenceDelegate.addReference(m,b.targetId,w)).next(()=>Me.forEach(b.Ui,w=>f.persistence.referenceDelegate.removeReference(m,b.targetId,w)))))}catch(m){if(!gd(m))throw m;Ze("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const b=m.targetId;if(!m.fromCache){const w=f.os.get(b),y=w.snapshotVersion,v=w.withLastLimboFreeSnapshotVersion(y);f.os=f.os.insert(b,v)}}}(i.localStore,r))}async function u9(t,e){const n=Wt(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const i=await bR(n.localStore,e);n.currentUser=e,function(r,a){r.ka.forEach(c=>{c.forEach(h=>{h.reject(new mt(qe.CANCELLED,a))})}),r.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await OR(n,i.hs)}}function h9(t,e){const n=Wt(t),i=n.Na.get(e);if(i&&i.va)return Gt().add(i.key);{let s=Gt();const r=n.Ma.get(e);if(!r)return s;for(const a of r){const c=n.Fa.get(a);s=s.unionWith(c.view.Va)}return s}}function MR(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.Ca.d_=XG.bind(null,e.eventManager),e.Ca.$a=JG.bind(null,e.eventManager),e}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wR(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return SG(this.persistence,new EG,e.initialUser,this.serializer)}Ga(e){return new wG(R_.Zr,this.serializer)}Wa(e){return new RG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class Bb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u9.bind(null,this.syncEngine),await WG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qG}()}createDatastore(e){const n=wR(e.databaseInfo.databaseId),i=function(r){return new NG(r)}(e.databaseInfo);return function(r,a,c,h){return new FG(r,a,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,c){return new UG(i,s,r,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ZT(this.syncEngine,n,0),function(){return qT.D()?new qT:new OG}())}createSyncEngine(e,n){return function(s,r,a,c,h,d,f){const m=new n9(s,r,a,c,h,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=Wt(s);Ze("RemoteStore","RemoteStore shutting down."),r.L_.add(5),await vd(r),r.k_.shutdown(),r.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bb.provider={build:()=>new Bb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ai.UNAUTHENTICATED,this.clientId=qP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Ze("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Ze("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=SR(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function mv(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await bR(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p9(t);Ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>YT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>YT(e.remoteStore,s)),t._onlineComponents=e}async function p9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===qe.FAILED_PRECONDITION||s.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Sc("Error using user provided cache. Falling back to memory cache: "+n),await mv(t,new cm)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await mv(t,new cm);return t._offlineComponents}async function m9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await tS(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await tS(t,new Bb))),t._onlineComponents}async function g9(t){const e=await m9(t),n=e.eventManager;return n.onListen=i9.bind(null,e.syncEngine),n.onUnlisten=o9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a9.bind(null,e.syncEngine),n}function y9(t,e,n={}){const i=new el;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,c,h,d){const f=new d9({next:b=>{f.Za(),a.enqueueAndForget(()=>YG(r,m));const w=b.docs.has(c);!w&&b.fromCache?d.reject(new mt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?d.reject(new mt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),m=new QG(S_(c.path),f,{includeMetadataChanges:!0,_a:!0});return KG(r,m)}(await g9(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e,n){if(!n)throw new mt(qe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b9(t,e,n,i){if(e===!0&&i===!0)throw new mt(qe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iS(t){if(!gt.isDocumentKey(t))throw new mt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _9(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function Ub(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new mt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_9(t);throw new mt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new mt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new mt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U_{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new mt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new W3;switch(i.type){case"firstParty":return new Y3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=nS.get(n);i&&(Ze("ComponentProvider","Removing Datastore"),nS.delete(n),i.terminate())}(this),Promise.resolve()}}function w9(t,e,n,i={}){var s;const r=(t=Ub(t,U_))._getSettings(),a=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==a&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:a,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Ai.MOCK_USER;else{c=YU(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new mt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ai(d)}t._authCredentials=new G3(new GP(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new j_(this.firestore,e,this._query)}}class ro{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class Wh extends j_{constructor(e,n,i){super(e,n,S_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new gt(e))}withConverter(e){return new Wh(this.firestore,e,this._path)}}function C9(t,e,...n){if(t=Ds(t),arguments.length===1&&(e=qP.newId()),v9("doc","path",e),t instanceof U_){const i=On.fromString(e,...n);return iS(i),new ro(t,null,new gt(i))}{if(!(t instanceof ro||t instanceof Wh))throw new mt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(On.fromString(e,...n));return iS(i),new ro(t.firestore,t instanceof Wh?t.converter:null,new gt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new CR(this,"async_queue_retry"),this.Vu=()=>{const i=pv();i&&Ze("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=pv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new el;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gd(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw co("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=V_.createAndSchedule(this,e,n,i,r=>this.yu(r));return this.Tu.push(s),s}fu(){this.Eu&&It()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class NR extends U_{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new rS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rS(e),this._firestoreClient=void 0,await e}}}function x9(t,e){const n=F0(),i="(default)",s=V0(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=KU("firestore");r&&w9(s,...r)}return s}function E9(t){if(t._terminated)throw new mt(qe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T9(t),t._firestoreClient}function T9(t){var e,n,i;const s=t._freezeSettings(),r=function(c,h,d,f){return new l6(c,h,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,DR(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new f9(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._byteString=e}static fromBase64String(e){try{return new um(Si.fromBase64String(e))}catch(n){throw new mt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new um(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new mt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new mt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new mt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}const I9=new RegExp("[~\\*/\\[\\]]");function A9(t,e,n){if(e.search(I9)>=0)throw oS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new LR(...e.split("."))._internalPath}catch{throw oS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function oS(t,e,n,i,s){let r=`Function ${e}() called with invalid data`;r+=". ";let a="";return new mt(qe.INVALID_ARGUMENT,r+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P9 extends VR{data(){return super.data()}}function FR(t,e){return typeof e=="string"?A9(t,e):e instanceof LR?e._internalPath:e._delegate._internalPath}class R9{convertValue(e,n="none"){switch(gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return rg(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Ln(a.doubleValue));return new k9(r)}convertGeoPoint(e){return new S9(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=C_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){const n=la(e);return new Xi(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=On.fromString(e);Mn(vR(i));const s=new $h(i.get(1),i.get(3)),r=new gt(i.popFirst(5));return s.isEqual(n)||co(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BR extends VR{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new M9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(FR("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class M9 extends BR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){t=Ub(t,ro);const e=Ub(t.firestore,NR);return y9(E9(e),t._key).then(n=>L9(e,t,n))}class N9 extends R9{constructor(e){super(),this.firestore=e}convertBytes(e){return new um(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,n)}}function L9(t,e,n){const i=n.docs.get(e._key),s=new N9(t);return new BR(t,s,e._key,i,new O9(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Wc=s})(pa),br(new tr("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),c=new NR(new q3(i.getProvider("auth-internal")),new J3(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new mt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(d.options.projectId,f)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),us(ET,"4.7.3",e),us(ET,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebasestorage.googleapis.com",V9="storageBucket",F9=2*60*1e3,B9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Er{constructor(e,n,i=0){super(gv(e),`Firebase Storage: ${n} (${gv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cr||(Cr={}));function gv(t){return"storage/"+t}function U9(){const t="An unknown error occurred, please check the error payload for server response.";return new Sr(Cr.UNKNOWN,t)}function j9(){return new Sr(Cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function H9(){return new Sr(Cr.CANCELED,"User canceled the upload/download.")}function $9(t){return new Sr(Cr.INVALID_URL,"Invalid URL '"+t+"'.")}function z9(t){return new Sr(Cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aS(t){return new Sr(Cr.INVALID_ARGUMENT,t)}function jR(){return new Sr(Cr.APP_DELETED,"The Firebase app was deleted.")}function W9(t){return new Sr(Cr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ys.makeFromUrl(e,n)}catch{return new Ys(e,"")}if(i.path==="")return i;throw z9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),h={bucket:1,path:3};function d(N){N.path_=decodeURIComponent(N.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${f}/b/${s}/o${b}`,"i"),y={bucket:1,path:3},v=n===UR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",k=new RegExp(`^https?://${v}/${s}/${x}`,"i"),D=[{regex:c,indices:h,postModify:r},{regex:w,indices:y,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let N=0;N<D.length;N++){const F=D[N],O=F.regex.exec(e);if(O){const S=O[F.indices.bucket];let A=O[F.indices.path];A||(A=""),i=new Ys(S,A),F.postModify(i);break}}if(i==null)throw $9(e);return i}}class G9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t,e,n){let i=1,s=null,r=null,a=!1,c=0;function h(){return c===2}let d=!1;function f(...x){d||(d=!0,e.apply(null,x))}function m(x){s=setTimeout(()=>{s=null,t(w,h())},x)}function b(){r&&clearTimeout(r)}function w(x,...k){if(d){b();return}if(x){b(),f.call(null,x,...k);return}if(h()||a){b(),f.call(null,x,...k);return}i<64&&(i*=2);let D;c===1?(c=2,D=0):D=(i+Math.random())*1e3,m(D)}let y=!1;function v(x){y||(y=!0,b(),!d&&(s!==null?(x||(c=2),clearTimeout(s),m(0)):x||(c=1)))}return m(0),r=setTimeout(()=>{a=!0,v(!0)},n),v}function K9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){return t!==void 0}function lS(t,e,n,i){if(i<e)throw aS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw aS(`Invalid value for '${t}'. Expected ${n} or less.`)}function X9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var hm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hm||(hm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,i,s,r,a,c,h,d,f,m,b=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,y)=>{this.resolve_=w,this.reject_=y,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Zf(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const c=r.getErrorCode()===hm.NO_ERROR,h=r.getStatus();if(!c||J9(h,this.additionalRetryCodes_)&&this.retry){const f=r.getErrorCode()===hm.ABORT;i(!1,new Zf(!1,null,f));return}const d=this.successCodes_.indexOf(h)!==-1;i(!0,new Zf(d,r))})},n=(i,s)=>{const r=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());Y9(h)?r(h):r()}catch(h){a(h)}else if(c!==null){const h=U9();h.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,h)):a(h)}else if(s.canceled){const h=this.appDelete_?jR():H9();a(h)}else{const h=j9();a(h)}};this.canceled_?n(!1,new Zf(!1,null,!0)):this.backoffId_=q9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Z9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function e5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function n5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i5(t,e,n,i,s,r,a=!0){const c=X9(t.urlParams),h=t.url+c,d=Object.assign({},t.headers);return t5(d,e),Z9(d,n),e5(d,r),n5(d,i),new Q9(h,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function r5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this._service=e,n instanceof Ys?this._location=n:this._location=Ys.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dm(e,n)}get root(){const e=new Ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return r5(this._location.path)}get storage(){return this._service}get parent(){const e=s5(this._location.path);if(e===null)return null;const n=new Ys(this._location.bucket,e);return new dm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W9(e)}}function cS(t,e){const n=e==null?void 0:e[V9];return n==null?null:Ys.makeFromBucketSpec(n,t)}class o5{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=UR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F9,this._maxUploadRetryTime=B9,this._requests=new Set,s!=null?this._bucket=Ys.makeFromBucketSpec(s,this._host):this._bucket=cS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ys.makeFromBucketSpec(this._url,e):this._bucket=cS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dm(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new G9(jR());{const a=i5(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const uS="@firebase/storage",hS="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="storage";function l5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new o5(n,i,s,e,pa)}function c5(){br(new tr(a5,l5,"PUBLIC").setMultipleInstances(!0)),us(uS,hS,""),us(uS,hS,"esm2017")}c5();const HR=Symbol("VueFireAuth");function u5({dependencies:t,initialUser:e}){return(n,i)=>{const[s,r]=h5(n,i,e,t);rW(s,r)}}function h5(t,e,n,i,s=tA(t,i)){const r=iW(t,e).run(()=>Ye(n));return kA.set(t,r),e.provide(HR,s),[r,s]}function H_(t){return nW?zt(HR):null}function d5(t,{firebaseApp:e,modules:n=[]}){t.provide(TA,e);for(const i of n)i(e,t)}function $R(t){return t!==null&&!t.emailVerified&&!!t.providerData.find(e=>e.providerId==="password")}var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var pc={},fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.DefectState=void 0;var dS;(function(t){t[t.OPEN=0]="OPEN",t[t.IN_WORK=1]="IN_WORK",t[t.REJECTED=2]="REJECTED",t[t.DONE=3]="DONE"})(dS||(fg.DefectState=dS={}));var Pi={};const p5={},m5=Object.freeze(Object.defineProperty({__proto__:null,default:p5},Symbol.toStringTag,{value:"Module"})),g5=f5(m5);Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Customer=Pi.ParkingSpot=Pi.ParkingSpotLayer=Pi.IParkingProperty=Pi.ParkingPropertyType=Pi.SimulationState=Pi.ParkingSpotState=void 0;const zR=g5;var jb;(function(t){t[t.FREE=0]="FREE",t[t.OCCUPIED=1]="OCCUPIED",t[t.RESERVED=2]="RESERVED",t[t.OUT_OF_ORDER=3]="OUT_OF_ORDER",t[t.CHARGING=4]="CHARGING"})(jb||(Pi.ParkingSpotState=jb={}));var fS;(function(t){t.OFF="off",t.SLOW="slow",t.NORMAL="normal",t.FAST="fast"})(fS||(Pi.SimulationState=fS={}));var pS;(function(t){t[t.TRACK_TOTAL=0]="TRACK_TOTAL",t[t.TRACK_INDIVIDUAL=1]="TRACK_INDIVIDUAL"})(pS||(Pi.ParkingPropertyType=pS={}));class y5{constructor(){Pt(this,"id");Pt(this,"tenantId");Pt(this,"name");Pt(this,"location");Pt(this,"description");Pt(this,"lastModified");Pt(this,"pricePerHour");Pt(this,"customers");Pt(this,"parkingType");Pt(this,"layers");Pt(this,"defects");Pt(this,"simulationState")}}Pi.IParkingProperty=y5;class v5{constructor(e){Pt(this,"floor");Pt(this,"name");Pt(this,"description");Pt(this,"spotCount");Pt(this,"columns");Pt(this,"idPattern");Pt(this,"parkingSpots");Object.assign(this,e),e!=null&&e.parkingSpots&&(this.parkingSpots=e.parkingSpots.map(n=>({...new WR(n)})))}}Pi.ParkingSpotLayer=v5;class WR{constructor(e){Pt(this,"id",zR.randomUUID());Pt(this,"state",jb.FREE);Pt(this,"lastStateChange",new Date);Pt(this,"customer",null);Pt(this,"placeholder",!1);Pt(this,"electricCharging",!1);Pt(this,"currentCharge");Object.assign(this,e)}}Pi.ParkingSpot=WR;class b5{constructor(e){Pt(this,"id",zR.randomUUID());Pt(this,"licensePlate");Pt(this,"toPay");Pt(this,"hasPayed");Object.assign(this,e)}}Pi.Customer=b5;var GR={};Object.defineProperty(GR,"__esModule",{value:!0});var qR={};Object.defineProperty(qR,"__esModule",{value:!0});var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.ITenant=Oc.TenantTier=void 0;var mS;(function(t){t[t.FREE=0]="FREE",t[t.PRO=1]="PRO",t[t.ENTERPRISE=2]="ENTERPRISE"})(mS||(Oc.TenantTier=mS={}));class _5{constructor(){Pt(this,"tenantId");Pt(this,"tenantName");Pt(this,"tier");Pt(this,"adminEmail");Pt(this,"ip")}}Oc.ITenant=_5;var pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.Role=void 0;var gS;(function(t){t.ADMIN="admin",t.USER="user",t.MANAGER="manager"})(gS||(pg.Role=gS={}));(function(t){var e=Ql&&Ql.__createBinding||(Object.create?function(i,s,r,a){a===void 0&&(a=r);var c=Object.getOwnPropertyDescriptor(s,r);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(i,a,c)}:function(i,s,r,a){a===void 0&&(a=r),i[a]=s[r]}),n=Ql&&Ql.__exportStar||function(i,s){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&e(s,i,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(fg,t),n(Pi,t),n(GR,t),n(qR,t),n(Oc,t),n(pg,t)})(pc);const w5=localStorage.getItem("propertyManagement")??void 0??"",C5=localStorage.getItem("parkingManagement")??void 0??"",x5=localStorage.getItem("monitoringManagement")??void 0??"",E5=localStorage.getItem("tenantManagement")??"https://tenant-management.prod.cloud-porsche.com"??"",Yi=zm("app",{state:()=>({theme:{dark:T5()},api:{propertyManagement:w5,parkingManagement:C5,monitoringManagement:x5,tenantManagement:E5,ws:{socket:{},connected:!1}},auth:{loading:!0},tenant:{info:null},currUser:{role:"",uid:""}}),getters:{isDark(t){return t.theme.dark},authLoading(t){return t.auth.loading},wsStatus(t){return t.api.ws.connected},hasAdminAccess(t){var e,n,i;return((e=t.tenant.info)==null?void 0:e.tier)===pc.TenantTier.FREE||t.currUser.role==="admin"||((n=t.tenant.info)==null?void 0:n.adminEmail)===((i=Yp().currentUser)==null?void 0:i.email)},isUserRole(t){var e,n,i;return((e=t.tenant.info)==null?void 0:e.tier)!==pc.TenantTier.FREE&&t.currUser.role==="user"&&((n=t.tenant.info)==null?void 0:n.adminEmail)!==((i=Yp().currentUser)==null?void 0:i.email)},isFreeTenant(t){var e;return((e=t.tenant.info)==null?void 0:e.tier)===pc.TenantTier.FREE}},actions:{updateWsConnection(t){this.api.ws.socket=t,this.api.ws.connected=t.connected},toggleTheme(){this.theme.dark=!this.theme.dark,localStorage.setItem("dark",this.theme.dark.toString())},changePropertyManagementApiURL(t){this.api.propertyManagement=t,localStorage.setItem("propertyManagement",t)},changeParkingManagementApiURL(t){this.api.parkingManagement=t,localStorage.setItem("parkingManagement",t)},changeMonitoringManagementApiURL(t){this.api.monitoringManagement=t,localStorage.setItem("monitoringManagement",t)},changeTenantManagementApiURL(t){this.api.tenantManagement=t,localStorage.setItem("tenantManagement",t)},setAuthLoading(t){this.auth.loading=t},setTenantInfo(t){this.changePropertyManagementApiURL(`https://${t.ip}/property-management`),this.changeParkingManagementApiURL(`https://${t.ip}/parking-management`),this.changeMonitoringManagementApiURL(`https://${t.ip}/monitoring-management`),this.tenant.info=t},setCurrUserRole(t){this.currUser.role=t},setCurrUid(t){this.currUser.uid=t},removeCurrUserRole(){this.currUser.role=""}}});function T5(){const t=localStorage.getItem("dark");return t!==null?t==="true":window.matchMedia("(prefers-color-scheme: dark)").matches}class yS extends Error{constructor(n,i){const{status:s,statusText:r}=i;super(r||String(s));Pt(this,"request");Pt(this,"response");this.name="HttpError",this.request=n,this.response=i}}const S5="*/*",k5="*/*",I5="multipart/form-data",z_="application/json",A5="text/*";function P5(t){return(t.headers.get("content-type")??"").includes(z_)}function R5(t,e){function n(i){e.set("accept",e.get("accept")??i)}t.arrayBuffer=async()=>(n(S5),(await t).arrayBuffer()),t.blob=async()=>(n(k5),(await t).blob()),t.formData=async()=>(n(I5),(await t).formData()),t.json=async()=>{n(z_);const i=await t;return P5(i)?i.json():i.text()},t.text=async()=>(n(A5),(await t).text())}const KR={init:{}};function Kc(t,e,n,i,s,r="propertyManagement"){let a;switch(r){case"propertyManagement":a=Yi().api.propertyManagement;break;case"parkingManagement":a=Yi().api.parkingManagement;break;case"monitoringManagement":a=Yi().api.monitoringManagement;break;case"tenantManagement":a=Yi().api.tenantManagement}typeof t=="string"&&a!==void 0&&a!=="undefined"&&!t.startsWith("http")&&!t.startsWith("ws")&&(t=`${a}${t.startsWith("/")?t:`/${t}`}`);async function c(){var w;await Promise.resolve();const d=await((w=db().value)==null?void 0:w.getIdToken()),f=Es.currentRoute.value.params.tenantId;f&&f!=="free-tier"&&e.set("tenant-id",f),d&&e.set("authorization",d);const m=new Request(t,{...KR.init,...n,headers:e,method:i,body:s});if(W_().data.left_free_api_calls===0&&r!=="monitoringManagement")throw new yS(m,new Response("No free API calls left",{status:429}));const b=await fetch(m);if(!b.ok)throw new yS(m,b);return b}const h=c();return R5(h,e),h}function _d(t){const e=new Headers;return new Headers(KR.init.headers).forEach((n,i)=>e.set(i,n)),new Headers(t==null?void 0:t.headers).forEach((n,i)=>e.set(i,n)),e}function YR(t){const e=_d(t);return e.set("content-type",z_),e}function Gh(t,e,n="propertyManagement"){return Kc(t,_d(e),e,"GET",void 0,n)}function O5(t,e,n,i="propertyManagement"){return Kc(t,_d(n),n,"POST",e,i)}function Sh(t,e,n,i="propertyManagement"){return Kc(t,YR(n),n,"POST",JSON.stringify(e),i)}function nJ(t,e,n,i="propertyManagement"){return Kc(t,_d(n),n,"PATCH",e,i)}function vS(t,e,n,i="propertyManagement"){return Kc(t,YR(n),n,"PATCH",JSON.stringify(e),i)}function XR(t,e,n="propertyManagement"){return Kc(t,_d(e),e,"DELETE",void 0,n)}const M5=localStorage.getItem("timeframe")??"weekly",W_=zm("monitoring",{state:()=>({free_data:{left_free_api_calls:1/0,customer_count_change:{current_period_customers:0,percent_change:0}},data:{customers:{},customer_distribution:{},avg_utilization:{},api_calls:{current_period_api_calls:0,percent_change:0},parking_income:{current_period_income:0,percent_change:0},defect_distribution:{}},timeframe:M5,loading:!1,error:null}),actions:{async fetchFreeMonitoringData(){const t=await(await Gh(`/v1/monitoring/free_data?timeframe=${this.$state.timeframe}`,void 0,"monitoringManagement")).json();this.$state.free_data=t.data},async fetchMonitoringData(){const t=await(await Gh(`/v1/monitoring/data?timeframe=${this.$state.timeframe}`,void 0,"monitoringManagement")).json();this.$state.data=t.data},async fetchAllData(){this.$state.loading=!0;try{await this.fetchFreeMonitoringData(),await this.fetchMonitoringData()}catch(t){this.$state.loading=!1,this.$state.error=t}finally{this.$state.loading=!1,this.$state.error=null}},setTimeframe(t){this.$state.timeframe=t,localStorage.setItem("timeframe",t)}}}),G_=zm("properties",{state:()=>({properties:[],loading:!0,error:null}),getters:{parkingSpots:t=>e=>{const n=t.properties.find(i=>i.id===e);return(n==null?void 0:n.layers.flatMap(i=>i.parkingSpots).filter(i=>!i.placeholder))??[]}},actions:{async fetchProperties(){this.$state.loading=!0;try{this.$state.properties=await(await Gh("/v1/parking-properties")).json()}catch(t){this.$state.loading=!1,this.$state.error=t}finally{this.$state.loading=!1,this.$state.error=null}},async fetchProperty(t){this.$state.loading=!0;try{const e=await(await Gh("/v1/parking-properties/"+t)).json();this.$state.properties=this.$state.properties.map(n=>n.id===t?e:n)}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null}},setProperties(t){this.$state.properties=t},async addProperty(t){this.$state.loading=!0;try{await Sh("/v1/parking-properties",t)}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchProperties()}},async deleteProperty(t){this.$state.loading=!0;try{await XR(`/v1/parking-properties/${t}`),this.$state.properties=this.$state.properties.filter(e=>e.id!==t)}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null}},async updateProperty(t,e){this.$state.loading=!0;try{await vS(`/v1/parking-properties/${t}`,e)}catch(n){this.$state.loading=!1,this.$state.error=n}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchProperty(t)}},async updateParkingSpot(t,e,n){this.$state.loading=!0;try{await vS(`/v1/parking-properties/${t}/${e}`,n)}catch(i){this.$state.loading=!1,this.$state.error=i}finally{this.$state.loading=!1,this.$state.error=null,await this.fetchProperty(t)}},async setSimulationActive(t,e){this.$state.loading=!0;try{await Sh(`/v1/simulation/${t}/start`,{speed:e},void 0,"parkingManagement")}catch(n){this.$state.loading=!1,this.$state.error=n}finally{this.$state.loading=!1,this.$state.error=null}},async updateSimulationSpeed(t,e){var i;const n=(i=this.$state.properties.find(s=>s.id===t))==null?void 0:i.simulationState;if(!(!n||n===pc.SimulationState.OFF||e===n||e===pc.SimulationState.OFF)){this.$state.loading=!0;try{await Sh(`/v1/simulation/${t}/update-speed`,{speed:e},void 0,"parkingManagement")}catch(s){this.$state.loading=!1,this.$state.error=s}finally{this.$state.loading=!1,this.$state.error=null}}},async setSimulationInactive(t){this.$state.loading=!0;try{await O5(`/v1/simulation/${t}/stop`,void 0,void 0,"parkingManagement")}catch(e){this.$state.loading=!1,this.$state.error=e}finally{this.$state.loading=!1,this.$state.error=null}}}}),JR=zm("user",{state:()=>({users:[],loading:!1,error:null}),actions:{async fetchUsers(t,e){this.$state.loading=!0,this.$state.error=null;try{const i=await(await Gh(`/v1/tenants/${t}/users/${e}`,void 0,"tenantManagement")).json();Array.isArray(i)?this.$state.users=i.map(s=>{var r;return{email:s.email,uid:s.uid,role:(r=s.customClaims)==null?void 0:r.role}}):this.$state.error="Fetched users data is not an array."}catch(n){this.$state.error="Error fetching users.",console.error(n)}finally{this.$state.loading=!1}},async addUser(t,e,n){this.$state.error=null;try{const i={email:e,role:n};await Sh(`/v1/tenants/${t}/users`,i,void 0,"tenantManagement"),await this.fetchUsers(t,Yi().currUser.uid)}catch(i){this.$state.error="Error adding user.",console.error(i)}},async updateUserRole(t,e,n){this.$state.error=null;try{const i={uid:e,role:n};await Sh(`/v1/tenants/${t}/users/setRole`,i,void 0,"tenantManagement"),await this.fetchUsers(t,Yi().currUser.uid)}catch(i){this.$state.error="Error updating user role.",console.error(i)}},async deleteUser(t,e){this.$state.error=null;try{await XR(`/v1/tenants/${t}/users/${e}`,void 0,"tenantManagement"),await this.fetchUsers(t,Yi().currUser.uid)}catch(n){this.$state.error="Error deleting user.",console.error(n)}}}}),Es=LU({history:cU("/prod/"),routes:BU});Es.beforeEach(async(t,e)=>{const n=await sW(),i=!!n,s=t.params.tenantId;if(!s&&t.name!=="/[tenantId]/")return{name:"/[tenantId]/",params:{tenantId:"free-tier"}};if((!i||$R(n))&&t.name!=="/[tenantId]/profile")return{name:"/[tenantId]/profile",params:{tenantId:s},query:{redirect:t.fullPath}};if(i&&e.params.tenantId&&s!==e.params.tenantId){const r=Yp(),a=Yi();return a.api.ws.connected&&a.api.ws.socket.disconnect(),a.$reset(),G_().$reset(),W_().$reset(),JR().$reset(),await K0(r),{name:"/[tenantId]/",params:{tenantId:s}}}});Es.onError((t,e)=>{var n,i;(i=(n=t==null?void 0:t.message)==null?void 0:n.includes)!=null&&i.call(n,"Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",t):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),window.location.reload()):console.error(t)});Es.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function D5(t){t.use(RB).use(Es)}const hn=typeof window<"u",q_=hn&&"IntersectionObserver"in window,N5=hn&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function bS(t,e,n){L5(t,e),e.set(t,n)}function L5(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function V5(t,e,n){return t.set(QR(t,e),n),n}function Ha(t,e){return t.get(QR(t,e))}function QR(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ZR(t,e,n){const i=e.length-1;if(i<0)return t===void 0?n:t;for(let s=0;s<i;s++){if(t==null)return n;t=t[e[s]]}return t==null||t[e[i]]===void 0?n:t[e[i]]}function wd(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(i=>wd(t[i],e[i]))}function Hb(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),ZR(t,e.split("."),n))}function Jr(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const s=e(t,n);return typeof s>"u"?n:s}if(typeof e=="string")return Hb(t,e,n);if(Array.isArray(e))return ZR(t,e,n);if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}function mg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,i)=>e+i)}function _t(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function eO(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function _S(t){let e;return t!==null&&typeof t=="object"&&((e=Object.getPrototypeOf(t))===Object.prototype||e===null)}function tO(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const wS=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),iJ=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function sJ(t){return Object.keys(t)}function yv(t,e){return e.every(n=>t.hasOwnProperty(n))}function nO(t,e){const n={},i=new Set(Object.keys(t));for(const s of e)i.has(s)&&(n[s]=t[s]);return n}function CS(t,e,n){const i=Object.create(null),s=Object.create(null);for(const r in t)e.some(a=>a instanceof RegExp?a.test(r):a===r)&&!(n!=null&&n.some(a=>a===r))?i[r]=t[r]:s[r]=t[r];return[i,s]}function Ms(t,e){const n={...t};return e.forEach(i=>delete n[i]),n}function F5(t,e){const n={};return e.forEach(i=>n[i]=t[i]),n}const iO=/^on[^a-z]/,K_=t=>iO.test(t),B5=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function U5(t){const[e,n]=CS(t,[iO]),i=Ms(e,B5),[s,r]=CS(n,["class","style","id",/^data-/]);return Object.assign(s,e),Object.assign(r,i),[s,r]}function Is(t){return t==null?[]:Array.isArray(t)?t:[t]}function rJ(t,e){let n=0;const i=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...r),He(e))};return i.clear=()=>{clearTimeout(n)},i.immediate=t,i}function uo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function xS(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function ES(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function TS(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function j5(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<t.length;)n.push(t.substr(i,e)),i+=e;return n}function oJ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(t)>=e&&i<n.length-1;)t/=e,++i;return`${t.toFixed(1)} ${n[i]}B`}function Vi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const s in t)i[s]=t[s];for(const s in e){const r=t[s],a=e[s];if(_S(r)&&_S(a)){i[s]=Vi(r,a,n);continue}if(n&&Array.isArray(r)&&Array.isArray(a)){i[s]=n(r,a);continue}i[s]=a}return i}function sO(t){return t.map(e=>e.type===At?sO(e.children):e).flat()}function nl(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(nl.cache.has(t))return nl.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return nl.cache.set(t,e),e}nl.cache=new Map;function Zl(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Zl(t,n)).flat(1);if(e.suspense)return Zl(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>Zl(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Zl(t,e.component.subTree).flat(1)}return[]}var ep=new WeakMap,Ul=new WeakMap;class H5{constructor(e){bS(this,ep,[]),bS(this,Ul,0),this.size=e}push(e){Ha(ep,this)[Ha(Ul,this)]=e,V5(Ul,this,(Ha(Ul,this)+1)%this.size)}values(){return Ha(ep,this).slice(Ha(Ul,this)).concat(Ha(ep,this).slice(0,Ha(Ul,this)))}}function Y_(t){const e=ti({}),n=re(t);return Qi(()=>{for(const i in n.value)e[i]=n.value[i]},{flush:"sync"}),Vm(e)}function fm(t,e){return t.includes(e)}function rO(t){return t[2].toLowerCase()+t.slice(3)}const ds=()=>[Function,Array];function SS(t,e){return e="on"+Nc(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function $5(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(Array.isArray(t))for(const s of t)s(...n);else typeof t=="function"&&t(...n)}function pm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function oO(t,e,n){let i,s=t.indexOf(document.activeElement);const r=e==="next"?1:-1;do s+=r,i=t[s];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&s<t.length&&s>=0);return i}function kh(t,e){var i,s,r,a;const n=pm(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(r=n.at(-1))==null||r.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const c=oO(n,e);c?c.focus():kh(t,e==="next"?"first":"last")}}function aJ(t){return t==null||typeof t=="string"&&t.trim()===""}function z5(t,e){if(!(hn&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch{return null}}function W5(t){return t.some(e=>ra(e)?e.type===ni?!1:e.type!==At||W5(e.children):!0)?t:null}function G5(t,e){if(!hn||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function q5(t,e){const n=t.clientX,i=t.clientY,s=e.getBoundingClientRect(),r=s.left,a=s.top,c=s.right,h=s.bottom;return n>=r&&n<=c&&i>=a&&i<=h}function mm(){const t=ht(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>tO(t.value)}),e}function lJ(t){const e=t.key.length===1,n=!t.ctrlKey&&!t.metaKey&&!t.altKey;return e&&n}const aO=["top","bottom"],K5=["start","end","left","right"];function $b(t,e){let[n,i]=t.split(" ");return i||(i=fm(aO,n)?"start":fm(K5,n)?"top":"center"),{side:zb(n,e),align:zb(i,e)}}function zb(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function vv(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function bv(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function kS(t){return{side:t.align,align:t.side}}function IS(t){return fm(aO,t.side)?"y":"x"}class il{constructor(e){let{x:n,y:i,width:s,height:r}=e;this.x=n,this.y=i,this.width=s,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function AS(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function lO(t){return Array.isArray(t)?new il({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function X_(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),i=n.transform;if(i){let s,r,a,c,h;if(i.startsWith("matrix3d("))s=i.slice(9,-1).split(/, /),r=+s[0],a=+s[5],c=+s[12],h=+s[13];else if(i.startsWith("matrix("))s=i.slice(7,-1).split(/, /),r=+s[0],a=+s[3],c=+s[4],h=+s[5];else return new il(e);const d=n.transformOrigin,f=e.x-c-(1-r)*parseFloat(d),m=e.y-h-(1-a)*parseFloat(d.slice(d.indexOf(" ")+1)),b=r?e.width/r:t.offsetWidth+1,w=a?e.height/a:t.offsetHeight+1;return new il({x:f,y:m,width:b,height:w})}else return new il(e)}function ec(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let i;try{i=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(s=>{i.onfinish=()=>{s(i)}})),i}const vp=new WeakMap;function Y5(t,e){Object.keys(e).forEach(n=>{if(K_(n)){const i=rO(n),s=vp.get(t);if(e[n]==null)s==null||s.forEach(r=>{const[a,c]=r;a===i&&(t.removeEventListener(i,c),s.delete(r))});else if(!s||![...s].some(r=>r[0]===i&&r[1]===e[n])){t.addEventListener(i,e[n]);const r=s||new Set;r.add([i,e[n]]),vp.has(t)||vp.set(t,r)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function X5(t,e){Object.keys(e).forEach(n=>{if(K_(n)){const i=rO(n),s=vp.get(t);s==null||s.forEach(r=>{const[a,c]=r;a===i&&(t.removeEventListener(i,c),s.delete(r))})}else t.removeAttribute(n)})}const jl=2.4,PS=.2126729,RS=.7151522,OS=.072175,J5=.55,Q5=.58,Z5=.57,eq=.62,tp=.03,MS=1.45,tq=5e-4,nq=1.25,iq=1.25,DS=.078,NS=12.82051282051282,np=.06,LS=.001;function VS(t,e){const n=(t.r/255)**jl,i=(t.g/255)**jl,s=(t.b/255)**jl,r=(e.r/255)**jl,a=(e.g/255)**jl,c=(e.b/255)**jl;let h=n*PS+i*RS+s*OS,d=r*PS+a*RS+c*OS;if(h<=tp&&(h+=(tp-h)**MS),d<=tp&&(d+=(tp-d)**MS),Math.abs(d-h)<tq)return 0;let f;if(d>h){const m=(d**J5-h**Q5)*nq;f=m<LS?0:m<DS?m-m*NS*np:m-np}else{const m=(d**eq-h**Z5)*iq;f=m>-LS?0:m>-DS?m-m*NS*np:m+np}return f*100}function cJ(t){}function sq(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const gm=.20689655172413793,rq=t=>t>gm**3?Math.cbrt(t):t/(3*gm**2)+4/29,oq=t=>t>gm?t**3:3*gm**2*(t-4/29);function cO(t){const e=rq,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function uO(t){const e=oq,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const aq=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],lq=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,cq=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],uq=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function hO(t){const e=Array(3),n=lq,i=aq;for(let s=0;s<3;++s)e[s]=Math.round(uo(n(i[s][0]*t[0]+i[s][1]*t[1]+i[s][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function J_(t){let{r:e,g:n,b:i}=t;const s=[0,0,0],r=uq,a=cq;e=r(e/255),n=r(n/255),i=r(i/255);for(let c=0;c<3;++c)s[c]=a[c][0]*e+a[c][1]*n+a[c][2]*i;return s}function Wb(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function hq(t){return Wb(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const FS=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,dq={rgb:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),rgba:(t,e,n,i)=>({r:t,g:e,b:n,a:i}),hsl:(t,e,n,i)=>BS({h:t,s:e,l:n,a:i}),hsla:(t,e,n,i)=>BS({h:t,s:e,l:n,a:i}),hsv:(t,e,n,i)=>qh({h:t,s:e,v:n,a:i}),hsva:(t,e,n,i)=>qh({h:t,s:e,v:n,a:i})};function fr(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&FS.test(t)){const{groups:e}=t.match(FS),{fn:n,values:i}=e,s=i.split(/,\s*/).map(r=>r.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(r)/100:parseFloat(r));return dq[n](...s)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),pq(e)}else if(typeof t=="object"){if(yv(t,["r","g","b"]))return t;if(yv(t,["h","s","l"]))return qh(dO(t));if(yv(t,["h","s","v"]))return qh(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function qh(t){const{h:e,s:n,v:i,a:s}=t,r=c=>{const h=(c+e/60)%6;return i-i*n*Math.max(Math.min(h,4-h,1),0)},a=[r(5),r(3),r(1)].map(c=>Math.round(c*255));return{r:a[0],g:a[1],b:a[2],a:s}}function BS(t){return qh(dO(t))}function dO(t){const{h:e,s:n,l:i,a:s}=t,r=i+n*Math.min(i,1-i),a=r===0?0:2-2*i/r;return{h:e,s:a,v:r,a:s}}function ip(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function fq(t){let{r:e,g:n,b:i,a:s}=t;return`#${[ip(e),ip(n),ip(i),s!==void 0?ip(Math.round(s*255)):""].join("")}`}function pq(t){t=mq(t);let[e,n,i,s]=j5(t,2).map(r=>parseInt(r,16));return s=s===void 0?s:s/255,{r:e,g:n,b:i,a:s}}function mq(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=ES(ES(t,6),8,"F")),t}function gq(t,e){const n=cO(J_(t));return n[0]=n[0]+e*10,hO(uO(n))}function yq(t,e){const n=cO(J_(t));return n[0]=n[0]-e*10,hO(uO(n))}function vq(t){const e=fr(t);return J_(e)[1]}function fO(t){const e=Math.abs(VS(fr(0),fr(t)));return Math.abs(VS(fr(16777215),fr(t)))>Math.min(e,50)?"#fff":"#000"}function Le(t,e){return n=>Object.keys(t).reduce((i,s)=>{const a=typeof t[s]=="object"&&t[s]!=null&&!Array.isArray(t[s])?t[s]:{type:t[s]};return n&&s in n?i[s]={...a,default:n[s]}:i[s]=a,e&&!i[s].source&&(i[s].source=e),i},{})}const Nt=Le({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Wn(t,e){const n=fa();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function kr(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=Wn(t).type;return nl((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let pO=0,bp=new WeakMap;function Ir(){const t=Wn("getUid");if(bp.has(t))return bp.get(t);{const e=pO++;return bp.set(t,e),e}}Ir.reset=()=>{pO=0,bp=new WeakMap};function bq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const Mc=Symbol.for("vuetify:defaults");function _q(t){return Ye(t)}function Q_(){const t=zt(Mc);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function Yc(t,e){const n=Q_(),i=Ye(t),s=re(()=>{if(He(e==null?void 0:e.disabled))return n.value;const a=He(e==null?void 0:e.scoped),c=He(e==null?void 0:e.reset),h=He(e==null?void 0:e.root);if(i.value==null&&!(a||c||h))return n.value;let d=Vi(i.value,{prev:n.value});if(a)return d;if(c||h){const f=Number(c||1/0);for(let m=0;m<=f&&!(!d||!("prev"in d));m++)d=d.prev;return d&&typeof h=="string"&&h in d&&(d=Vi(Vi(d,{prev:d}),d[h])),d}return d.prev?Vi(d.prev,d):d});return mi(Mc,s),s}function wq(t,e){var n,i;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((i=t.props)==null?void 0:i[nl(e)])<"u"}function Cq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Q_();const i=Wn("useDefaults");if(e=e??i.type.name??i.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const s=re(()=>{var h;return(h=n.value)==null?void 0:h[t._as??e]}),r=new Proxy(t,{get(h,d){var m,b,w,y,v,x,k;const f=Reflect.get(h,d);return d==="class"||d==="style"?[(m=s.value)==null?void 0:m[d],f].filter(I=>I!=null):typeof d=="string"&&!wq(i.vnode,d)?((b=s.value)==null?void 0:b[d])!==void 0?(w=s.value)==null?void 0:w[d]:((v=(y=n.value)==null?void 0:y.global)==null?void 0:v[d])!==void 0?(k=(x=n.value)==null?void 0:x.global)==null?void 0:k[d]:f:f}}),a=ht();Qi(()=>{if(s.value){const h=Object.entries(s.value).filter(d=>{let[f]=d;return f.startsWith(f[0].toUpperCase())});a.value=h.length?Object.fromEntries(h):void 0}else a.value=void 0});function c(){const h=bq(Mc,i);mi(Mc,re(()=>a.value?Vi((h==null?void 0:h.value)??{},a.value):h==null?void 0:h.value))}return{props:r,provideSubDefaults:c}}function Xc(t){if(t._setup=t._setup??t.setup,!t.name)return t;if(t._setup){t.props=Le(t.props??{},t.name)();const e=Object.keys(t.props).filter(n=>n!=="class"&&n!=="style");t.filterProps=function(i){return nO(i,e)},t.props._as=String,t.setup=function(i,s){const r=Q_();if(!r.value)return t._setup(i,s);const{props:a,provideSubDefaults:c}=Cq(i,i._as??t.name,r),h=t._setup(a,s);return c(),h}}return t}function nt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Xc:mo)(e)}function uJ(t,e){return e.props=t,e}function Cd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return nt()({name:n??Nc($i(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Nt()},setup(i,s){let{slots:r}=s;return()=>{var a;return yo(i.tag,{class:[t,i.class],style:i.style},(a=r.default)==null?void 0:a.call(r))}}})}function mO(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const ym="cubic-bezier(0.4, 0, 0.2, 1)",xq="cubic-bezier(0.0, 0, 0.2, 1)",Eq="cubic-bezier(0.4, 0, 1, 1)";function Tq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?Sq(t):Z_(t))return t;t=t.parentElement}return document.scrollingElement}function vm(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(Z_(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function Z_(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function Sq(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function kq(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function pt(t){const e=Wn("useRender");e.render=t}const Ar=Le({border:[Boolean,Number,String]},"border");function Pr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();return{borderClasses:re(()=>{const i=Dt(t)?t.value:t.border,s=[];if(i===!0||i==="")s.push(`${e}--border`);else if(typeof i=="string"||i===0)for(const r of String(i).split(" "))s.push(`border-${r}`);return s})}}const Iq=[null,"default","comfortable","compact"],wo=Le({density:{type:String,default:"default",validator:t=>Iq.includes(t)}},"density");function ma(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();return{densityClasses:re(()=>`${e}--density-${t.density}`)}}const Rr=Le({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Or(t){return{elevationClasses:re(()=>{const n=Dt(t)?t.value:t.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const Zi=Le({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function es(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();return{roundedClasses:re(()=>{const i=Dt(t)?t.value:t.rounded,s=Dt(t)?t.value:t.tile,r=[];if(i===!0||i==="")r.push(`${e}--rounded`);else if(typeof i=="string"||i===0)for(const a of String(i).split(" "))r.push(`rounded-${a}`);else(s||i===!1)&&r.push("rounded-0");return r})}}const Fn=Le({tag:{type:String,default:"div"}},"tag"),bm=Symbol.for("vuetify:theme"),Gn=Le({theme:String},"theme");function US(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function Aq(){var i,s;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:US();const e=US();if(!t)return{...e,isDisabled:!0};const n={};for(const[r,a]of Object.entries(t.themes??{})){const c=a.dark||r==="dark"?(i=e.themes)==null?void 0:i.dark:(s=e.themes)==null?void 0:s.light;n[r]=Vi(c,a)}return Vi(e,{...t,themes:n})}function Pq(t){const e=Aq(t),n=Ye(e.defaultTheme),i=Ye(e.themes),s=re(()=>{const f={};for(const[m,b]of Object.entries(i.value)){const w=f[m]={...b,colors:{...b.colors}};if(e.variations)for(const y of e.variations.colors){const v=w.colors[y];if(v)for(const x of["lighten","darken"]){const k=x==="lighten"?gq:yq;for(const I of mg(e.variations[x],1))w.colors[`${y}-${x}-${I}`]=fq(k(fr(v),I))}}for(const y of Object.keys(w.colors)){if(/^on-[a-z]/.test(y)||w.colors[`on-${y}`])continue;const v=`on-${y}`,x=fr(w.colors[y]);w.colors[v]=fO(x)}}return f}),r=re(()=>s.value[n.value]),a=re(()=>{var y;const f=[];(y=r.value)!=null&&y.dark&&$a(f,":root",["color-scheme: dark"]),$a(f,":root",jS(r.value));for(const[v,x]of Object.entries(s.value))$a(f,`.v-theme--${v}`,[`color-scheme: ${x.dark?"dark":"normal"}`,...jS(x)]);const m=[],b=[],w=new Set(Object.values(s.value).flatMap(v=>Object.keys(v.colors)));for(const v of w)/^on-[a-z]/.test(v)?$a(b,`.${v}`,[`color: rgb(var(--v-theme-${v})) !important`]):($a(m,`.bg-${v}`,[`--v-theme-overlay-multiplier: var(--v-theme-${v}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${v})) !important`,`color: rgb(var(--v-theme-on-${v})) !important`]),$a(b,`.text-${v}`,[`color: rgb(var(--v-theme-${v})) !important`]),$a(b,`.border-${v}`,[`--v-border-color: var(--v-theme-${v})`]));return f.push(...m,...b),f.map((v,x)=>x===0?v:`    ${v}`).join("")});function c(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function h(f){if(e.isDisabled)return;const m=f._context.provides.usehead;if(m)if(m.push){const b=m.push(c);hn&&dt(a,()=>{b.patch(c)})}else hn?(m.addHeadObjs(re(c)),Qi(()=>m.updateDOM())):m.addHeadObjs(c());else{let w=function(){if(typeof document<"u"&&!b){const y=document.createElement("style");y.type="text/css",y.id="vuetify-theme-stylesheet",e.cspNonce&&y.setAttribute("nonce",e.cspNonce),b=y,document.head.appendChild(b)}b&&(b.innerHTML=a.value)},b=hn?document.getElementById("vuetify-theme-stylesheet"):null;hn?dt(a,w,{immediate:!0}):w()}}const d=re(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:h,isDisabled:e.isDisabled,name:n,themes:i,current:r,computedThemes:s,themeClasses:d,styles:a,global:{name:n,current:r}}}function oi(t){Wn("provideTheme");const e=zt(bm,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=re(()=>t.theme??e.name.value),i=re(()=>e.themes.value[n.value]),s=re(()=>e.isDisabled?void 0:`v-theme--${n.value}`),r={...e,name:n,current:i,themeClasses:s};return mi(bm,r),r}function $a(t,e,n){t.push(`${e} {
`,...n.map(i=>`  ${i};
`),`}
`)}function jS(t){const e=t.dark?2:1,n=t.dark?1:2,i=[];for(const[s,r]of Object.entries(t.colors)){const a=fr(r);i.push(`--v-theme-${s}: ${a.r},${a.g},${a.b}`),s.startsWith("on-")||i.push(`--v-theme-${s}-overlay-multiplier: ${vq(r)>.18?e:n}`)}for(const[s,r]of Object.entries(t.variables)){const a=typeof r=="string"&&r.startsWith("#")?fr(r):void 0,c=a?`${a.r}, ${a.g}, ${a.b}`:void 0;i.push(`--v-${s}: ${c??r}`)}return i}function ew(t){return Y_(()=>{const e=[],n={};if(t.value.background)if(Wb(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&hq(t.value.background)){const i=fr(t.value.background);if(i.a==null||i.a===1){const s=fO(i);n.color=s,n.caretColor=s}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(Wb(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function ho(t,e){const n=re(()=>({text:Dt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=ew(n);return{textColorClasses:i,textColorStyles:s}}function Ji(t,e){const n=re(()=>({background:Dt(t)?t.value:e?t[e]:null})),{colorClasses:i,colorStyles:s}=ew(n);return{backgroundColorClasses:i,backgroundColorStyles:s}}const Rq=["elevated","flat","tonal","outlined","text","plain"];function xd(t,e){return Q(At,null,[t&&Q("span",{key:"overlay",class:`${e}__overlay`},null),Q("span",{key:"underlay",class:`${e}__underlay`},null)])}const bl=Le({color:String,variant:{type:String,default:"elevated",validator:t=>Rq.includes(t)}},"variant");function Ed(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();const n=re(()=>{const{variant:r}=He(t);return`${e}--variant-${r}`}),{colorClasses:i,colorStyles:s}=ew(re(()=>{const{variant:r,color:a}=He(t);return{[["elevated","flat"].includes(r)?"background":"text"]:a}}));return{colorClasses:i,colorStyles:s,variantClasses:n}}const gO=Le({baseColor:String,divided:Boolean,...Ar(),...Nt(),...wo(),...Rr(),...Zi(),...Fn(),...Gn(),...bl()},"VBtnGroup"),Gb=nt()({name:"VBtnGroup",props:gO(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=oi(t),{densityClasses:s}=ma(t),{borderClasses:r}=Pr(t),{elevationClasses:a}=Or(t),{roundedClasses:c}=es(t);Yc({VBtn:{height:"auto",baseColor:Ct(t,"baseColor"),color:Ct(t,"color"),density:Ct(t,"density"),flat:!0,variant:Ct(t,"variant")}}),pt(()=>Q(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},i.value,r.value,s.value,a.value,c.value,t.class],style:t.style},n))}});function As(t,e){let n;function i(){n=Lc(),n.run(()=>e.length?e(()=>{n==null||n.stop(),i()}):e())}dt(t,s=>{s&&!n?i():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),fs(()=>{n==null||n.stop()})}function rn(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m=>m,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:m=>m;const r=Wn("useProxiedModel"),a=Ye(t[e]!==void 0?t[e]:n),c=nl(e),d=re(c!==e?()=>{var m,b,w,y;return t[e],!!(((m=r.vnode.props)!=null&&m.hasOwnProperty(e)||(b=r.vnode.props)!=null&&b.hasOwnProperty(c))&&((w=r.vnode.props)!=null&&w.hasOwnProperty(`onUpdate:${e}`)||(y=r.vnode.props)!=null&&y.hasOwnProperty(`onUpdate:${c}`)))}:()=>{var m,b;return t[e],!!((m=r.vnode.props)!=null&&m.hasOwnProperty(e)&&((b=r.vnode.props)!=null&&b.hasOwnProperty(`onUpdate:${e}`)))});As(()=>!d.value,()=>{dt(()=>t[e],m=>{a.value=m})});const f=re({get(){const m=t[e];return i(d.value?m:a.value)},set(m){const b=s(m),w=st(d.value?t[e]:a.value);w===b||i(w)===m||(a.value=b,r==null||r.emit(`update:${e}`,b))}});return Object.defineProperty(f,"externalValue",{get:()=>d.value?t[e]:a.value}),f}const Oq=Le({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Mq=Le({value:null,disabled:Boolean,selectedClass:String},"group-item");function Dq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Wn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Ir();mi(Symbol.for(`${e.description}:id`),s);const r=zt(e,null);if(!r){if(!n)return r;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=Ct(t,"value"),c=re(()=>!!(r.disabled.value||t.disabled));r.register({id:s,value:a,disabled:c},i),yi(()=>{r.unregister(s)});const h=re(()=>r.isSelected(s)),d=re(()=>r.items.value[0].id===s),f=re(()=>r.items.value[r.items.value.length-1].id===s),m=re(()=>h.value&&[r.selectedClass.value,t.selectedClass]);return dt(h,b=>{i.emit("group:selected",{value:b})},{flush:"sync"}),{id:s,isSelected:h,isFirst:d,isLast:f,toggle:()=>r.select(s,!h.value),select:b=>r.select(s,b),selectedClass:m,value:a,disabled:c,group:r}}function Nq(t,e){let n=!1;const i=ti([]),s=rn(t,"modelValue",[],b=>b==null?[]:yO(i,Is(b)),b=>{const w=Vq(i,b);return t.multiple?w:w[0]}),r=Wn("useGroup");function a(b,w){const y=b,v=Symbol.for(`${e.description}:id`),k=Zl(v,r==null?void 0:r.vnode).indexOf(w);He(y.value)==null&&(y.value=k,y.useIndexAsValue=!0),k>-1?i.splice(k,0,y):i.push(y)}function c(b){if(n)return;h();const w=i.findIndex(y=>y.id===b);i.splice(w,1)}function h(){const b=i.find(w=>!w.disabled);b&&t.mandatory==="force"&&!s.value.length&&(s.value=[b.id])}ps(()=>{h()}),yi(()=>{n=!0}),Bm(()=>{for(let b=0;b<i.length;b++)i[b].useIndexAsValue&&(i[b].value=b)});function d(b,w){const y=i.find(v=>v.id===b);if(!(w&&(y!=null&&y.disabled)))if(t.multiple){const v=s.value.slice(),x=v.findIndex(I=>I===b),k=~x;if(w=w??!k,k&&t.mandatory&&v.length<=1||!k&&t.max!=null&&v.length+1>t.max)return;x<0&&w?v.push(b):x>=0&&!w&&v.splice(x,1),s.value=v}else{const v=s.value.includes(b);if(t.mandatory&&v)return;s.value=w??!v?[b]:[]}}function f(b){if(t.multiple,s.value.length){const w=s.value[0],y=i.findIndex(k=>k.id===w);let v=(y+b)%i.length,x=i[v];for(;x.disabled&&v!==y;)v=(v+b)%i.length,x=i[v];if(x.disabled)return;s.value=[i[v].id]}else{const w=i.find(y=>!y.disabled);w&&(s.value=[w.id])}}const m={register:a,unregister:c,selected:s,select:d,disabled:Ct(t,"disabled"),prev:()=>f(i.length-1),next:()=>f(1),isSelected:b=>s.value.includes(b),selectedClass:re(()=>t.selectedClass),items:re(()=>i),getItemIndex:b=>Lq(i,b)};return mi(e,m),m}function Lq(t,e){const n=yO(t,[e]);return n.length?t.findIndex(i=>i.id===n[0]):-1}function yO(t,e){const n=[];return e.forEach(i=>{const s=t.find(a=>wd(i,a.value)),r=t[i];(s==null?void 0:s.value)!=null?n.push(s.id):r!=null&&n.push(r.id)}),n}function Vq(t,e){const n=[];return e.forEach(i=>{const s=t.findIndex(r=>r.id===i);if(~s){const r=t[s];n.push(r.value!=null?r.value:s)}}),n}const vO=Symbol.for("vuetify:v-btn-toggle"),Fq=Le({...gO(),...Oq()},"VBtnToggle");nt()({name:"VBtnToggle",props:Fq(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:i,next:s,prev:r,select:a,selected:c}=Nq(t,vO);return pt(()=>{const h=Gb.filterProps(t);return Q(Gb,lt({class:["v-btn-toggle",t.class]},h,{style:t.style}),{default:()=>{var d;return[(d=n.default)==null?void 0:d.call(n,{isSelected:i,next:s,prev:r,select:a,selected:c})]}})}),{next:s,prev:r,select:a}}});const Bq=Le({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),bn=nt(!1)({name:"VDefaultsProvider",props:Bq(),setup(t,e){let{slots:n}=e;const{defaults:i,disabled:s,reset:r,root:a,scoped:c}=Vm(t);return Yc(i,{reset:r,root:a,scoped:c,disabled:s}),()=>{var h;return(h=n.default)==null?void 0:h.call(n)}}}),bO={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload"},Td={component:t=>yo(wO,{...t,class:"mdi"})},cn=[String,Function,Object,Array],qb=Symbol.for("vuetify:icons"),gg=Le({icon:{type:cn},tag:{type:String,required:!0}},"icon"),HS=nt()({name:"VComponentIcon",props:gg(),setup(t,e){let{slots:n}=e;return()=>{const i=t.icon;return Q(t.tag,null,{default:()=>{var s;return[t.icon?Q(i,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),_O=Xc({name:"VSvgIcon",inheritAttrs:!1,props:gg(),setup(t,e){let{attrs:n}=e;return()=>Q(t.tag,lt(n,{style:null}),{default:()=>[Q("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(i=>Array.isArray(i)?Q("path",{d:i[0],"fill-opacity":i[1]},null):Q("path",{d:i},null)):Q("path",{d:t.icon},null)])]})}});Xc({name:"VLigatureIcon",props:gg(),setup(t){return()=>Q(t.tag,null,{default:()=>[t.icon]})}});const wO=Xc({name:"VClassIcon",props:gg(),setup(t){return()=>Q(t.tag,{class:t.icon},null)}});function Uq(){return{svg:{component:_O},class:{component:wO}}}function jq(t){const e=Uq(),n=(t==null?void 0:t.defaultSet)??"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=Td),Vi({defaultSet:n,sets:e,aliases:{...bO,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},t)}const Hq=t=>{const e=zt(qb);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:re(()=>{var h;const i=He(t);if(!i)return{component:HS};let s=i;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(h=e.aliases)==null?void 0:h[s.slice(1)])),Array.isArray(s))return{component:_O,icon:s};if(typeof s!="string")return{component:HS,icon:s};const r=Object.keys(e.sets).find(d=>typeof s=="string"&&s.startsWith(`${d}:`)),a=r?s.slice(r.length+1):s;return{component:e.sets[r??e.defaultSet].component,icon:a}})}},$q=["x-small","small","default","large","x-large"],yg=Le({size:{type:[String,Number],default:"default"}},"size");function vg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();return Y_(()=>{let n,i;return fm($q,t.size)?n=`${e}--size-${t.size}`:t.size&&(i={width:_t(t.size),height:_t(t.size)}),{sizeClasses:n,sizeStyles:i}})}const zq=Le({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:cn,...Nt(),...yg(),...Fn({tag:"i"}),...Gn()},"VIcon"),Ps=nt()({name:"VIcon",props:zq(),setup(t,e){let{attrs:n,slots:i}=e;const s=Ye(),{themeClasses:r}=oi(t),{iconData:a}=Hq(re(()=>s.value||t.icon)),{sizeClasses:c}=vg(t),{textColorClasses:h,textColorStyles:d}=ho(Ct(t,"color"));return pt(()=>{var b,w;const f=(b=i.default)==null?void 0:b.call(i);f&&(s.value=(w=sO(f).filter(y=>y.type===sd&&y.children&&typeof y.children=="string")[0])==null?void 0:w.children);const m=!!(n.onClick||n.onClickOnce);return Q(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",r.value,c.value,h.value,{"v-icon--clickable":m,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[c.value?void 0:{fontSize:_t(t.size),height:_t(t.size),width:_t(t.size)},d.value,t.style],role:m?"button":void 0,"aria-hidden":!m,tabindex:m?t.disabled?-1:0:void 0},{default:()=>[f]})}),{}}});function CO(t,e){const n=Ye(),i=ht(!1);if(q_){const s=new IntersectionObserver(r=>{i.value=!!r.find(a=>a.isIntersecting)},e);yi(()=>{s.disconnect()}),dt(n,(r,a)=>{a&&(s.unobserve(a),i.value=!1),r&&s.observe(r)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}function tw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=mm(),i=Ye();if(hn){const s=new ResizeObserver(r=>{t==null||t(r,s),r.length&&(e==="content"?i.value=r[0].contentRect:i.value=r[0].target.getBoundingClientRect())});yi(()=>{s.disconnect()}),dt(()=>n.el,(r,a)=>{a&&(s.unobserve(a),i.value=void 0),r&&s.observe(r)},{flush:"post"})}return{resizeRef:n,contentRect:Zh(i)}}const Wq=Le({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Nt(),...yg(),...Fn({tag:"div"}),...Gn()},"VProgressCircular"),Gq=nt()({name:"VProgressCircular",props:Wq(),setup(t,e){let{slots:n}=e;const i=20,s=2*Math.PI*i,r=Ye(),{themeClasses:a}=oi(t),{sizeClasses:c,sizeStyles:h}=vg(t),{textColorClasses:d,textColorStyles:f}=ho(Ct(t,"color")),{textColorClasses:m,textColorStyles:b}=ho(Ct(t,"bgColor")),{intersectionRef:w,isIntersecting:y}=CO(),{resizeRef:v,contentRect:x}=tw(),k=re(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),I=re(()=>Number(t.width)),D=re(()=>h.value?Number(t.size):x.value?x.value.width:Math.max(I.value,32)),N=re(()=>i/(1-I.value/D.value)*2),F=re(()=>I.value/D.value*N.value),O=re(()=>_t((100-k.value)/100*s));return Qi(()=>{w.value=r.value,v.value=r.value}),pt(()=>Q(t.tag,{ref:r,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":y.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},a.value,c.value,d.value,t.class],style:[h.value,f.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:k.value},{default:()=>[Q("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${N.value} ${N.value}`},[Q("circle",{class:["v-progress-circular__underlay",m.value],style:b.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":F.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),Q("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":F.value,"stroke-dasharray":s,"stroke-dashoffset":O.value},null)]),n.default&&Q("div",{class:"v-progress-circular__content"},[n.default({value:k.value})])]})),{}}}),Mr=Le({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Dr(t){return{dimensionStyles:re(()=>{const n={},i=_t(t.height),s=_t(t.maxHeight),r=_t(t.maxWidth),a=_t(t.minHeight),c=_t(t.minWidth),h=_t(t.width);return i!=null&&(n.height=i),s!=null&&(n.maxHeight=s),r!=null&&(n.maxWidth=r),a!=null&&(n.minHeight=a),c!=null&&(n.minWidth=c),h!=null&&(n.width=h),n})}}const qq={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},$S="$vuetify.",zS=(t,e)=>t.replace(/\{(\d+)\}/g,(n,i)=>String(e[+i])),xO=(t,e,n)=>function(i){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];if(!i.startsWith($S))return zS(i,r);const c=i.replace($S,""),h=t.value&&n.value[t.value],d=e.value&&n.value[e.value];let f=Hb(h,c,null);return f||(`${i}${t.value}`,f=Hb(d,c,null)),f||(f=i),typeof f!="string"&&(f=i),zS(f,r)};function EO(t,e){return(n,i)=>new Intl.NumberFormat([t.value,e.value],i).format(n)}function _v(t,e,n){const i=rn(t,e,t[e]??n.value);return i.value=t[e]??n.value,dt(n,s=>{t[e]==null&&(i.value=n.value)}),i}function TO(t){return e=>{const n=_v(e,"locale",t.current),i=_v(e,"fallback",t.fallback),s=_v(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:i,messages:s,t:xO(n,i,s),n:EO(n,i),provide:TO({current:n,fallback:i,messages:s})}}}function Kq(t){const e=ht((t==null?void 0:t.locale)??"en"),n=ht((t==null?void 0:t.fallback)??"en"),i=Ye({en:qq,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:i,t:xO(e,n,i),n:EO(e,n),provide:TO({current:e,fallback:n,messages:i})}}const _m=Symbol.for("vuetify:locale");function Yq(t){return t.name!=null}function Xq(t){const e=t!=null&&t.adapter&&Yq(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:Kq(t),n=Qq(e,t);return{...e,...n}}function Jc(){const t=zt(_m);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function Jq(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Qq(t,e){const n=Ye((e==null?void 0:e.rtl)??Jq()),i=re(()=>n.value[t.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:re(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Nr(){const t=zt(_m);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const WS={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Sd=Le({location:String},"location");function kd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Nr();return{locationStyles:re(()=>{if(!t.location)return{};const{side:r,align:a}=$b(t.location.split(" ").length>1?t.location:`${t.location} center`,i.value);function c(d){return n?n(d):0}const h={};return r!=="center"&&(e?h[WS[r]]=`calc(100% - ${c(r)}px)`:h[r]=0),a!=="center"?e?h[WS[a]]=`calc(100% - ${c(a)}px)`:h[a]=0:(r==="center"?h.top=h.left="50%":h[{top:"left",bottom:"left",left:"top",right:"top"}[r]]="50%",h.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[r]),h})}}const Zq=Le({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Nt(),...Sd({location:"top"}),...Zi(),...Fn(),...Gn()},"VProgressLinear"),SO=nt()({name:"VProgressLinear",props:Zq(),emits:{"update:modelValue":t=>!0},setup(t,e){var z;let{slots:n}=e;const i=rn(t,"modelValue"),{isRtl:s,rtlClasses:r}=Nr(),{themeClasses:a}=oi(t),{locationStyles:c}=kd(t),{textColorClasses:h,textColorStyles:d}=ho(t,"color"),{backgroundColorClasses:f,backgroundColorStyles:m}=Ji(re(()=>t.bgColor||t.color)),{backgroundColorClasses:b,backgroundColorStyles:w}=Ji(re(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:y,backgroundColorStyles:v}=Ji(t,"color"),{roundedClasses:x}=es(t),{intersectionRef:k,isIntersecting:I}=CO(),D=re(()=>parseFloat(t.max)),N=re(()=>parseFloat(t.height)),F=re(()=>uo(parseFloat(t.bufferValue)/D.value*100,0,100)),O=re(()=>uo(parseFloat(i.value)/D.value*100,0,100)),S=re(()=>s.value!==t.reverse),A=re(()=>t.indeterminate?"fade-transition":"slide-x-transition"),L=hn&&((z=window.matchMedia)==null?void 0:z.call(window,"(forced-colors: active)").matches);function U(G){if(!k.value)return;const{left:H,right:q,width:Z}=k.value.getBoundingClientRect(),ie=S.value?Z-G.clientX+(q-Z):G.clientX-H;i.value=Math.round(ie/Z*D.value)}return pt(()=>Q(t.tag,{ref:k,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&I.value,"v-progress-linear--reverse":S.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},x.value,a.value,r.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?_t(N.value):0,"--v-progress-linear-height":_t(N.value),...t.absolute?c.value:{}},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:O.value,onClick:t.clickable&&U},{default:()=>[t.stream&&Q("div",{key:"stream",class:["v-progress-linear__stream",h.value],style:{...d.value,[S.value?"left":"right"]:_t(-N.value),borderTop:`${_t(N.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${_t(N.value/4)})`,width:_t(100-F.value,"%"),"--v-progress-linear-stream-to":_t(N.value*(S.value?1:-1))}},null),Q("div",{class:["v-progress-linear__background",L?void 0:f.value],style:[m.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),Q("div",{class:["v-progress-linear__buffer",L?void 0:b.value],style:[w.value,{opacity:parseFloat(t.bufferOpacity),width:_t(F.value,"%")}]},null),Q(oo,{name:A.value},{default:()=>[t.indeterminate?Q("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(G=>Q("div",{key:G,class:["v-progress-linear__indeterminate",G,L?void 0:y.value],style:v.value},null))]):Q("div",{class:["v-progress-linear__determinate",L?void 0:y.value],style:[v.value,{width:_t(O.value,"%")}]},null)]}),n.default&&Q("div",{class:"v-progress-linear__content"},[n.default({value:O.value,buffer:F.value})])]})),{}}}),nw=Le({loading:[Boolean,String]},"loader");function iw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();return{loaderClasses:re(()=>({[`${e}--loading`]:t.loading}))}}function kO(t,e){var i;let{slots:n}=e;return Q("div",{class:`${t.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:t.color,isActive:t.active}))||Q(SO,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const eK=["static","relative","fixed","absolute","sticky"],bg=Le({position:{type:String,validator:t=>eK.includes(t)}},"position");function _g(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();return{positionClasses:re(()=>t.position?`${e}--${t.position}`:void 0)}}function tK(){const t=Wn("useRoute");return re(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function IO(){var t,e;return(e=(t=Wn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function sw(t,e){var m,b;const n=Ek("RouterLink"),i=re(()=>!!(t.href||t.to)),s=re(()=>(i==null?void 0:i.value)||SS(e,"click")||SS(t,"click"));if(typeof n=="string"||!("useLink"in n)){const w=Ct(t,"href");return{isLink:i,isClickable:s,href:w,linkProps:ti({href:w})}}const r=re(()=>({...t,to:Ct(()=>t.to||"")})),a=n.useLink(r.value),c=re(()=>t.to?a:void 0),h=tK(),d=re(()=>{var w,y,v;return c.value?t.exact?h.value?((v=c.value.isExactActive)==null?void 0:v.value)&&wd(c.value.route.value.query,h.value.query):((y=c.value.isExactActive)==null?void 0:y.value)??!1:((w=c.value.isActive)==null?void 0:w.value)??!1:!1}),f=re(()=>{var w;return t.to?(w=c.value)==null?void 0:w.route.value.href:t.href});return{isLink:i,isClickable:s,isActive:d,route:(m=c.value)==null?void 0:m.route,navigate:(b=c.value)==null?void 0:b.navigate,href:f,linkProps:ti({href:f,"aria-current":re(()=>d.value?"page":void 0)})}}const rw=Le({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let wv=!1;function nK(t,e){let n=!1,i,s;hn&&(gi(()=>{window.addEventListener("popstate",r),i=t==null?void 0:t.beforeEach((a,c,h)=>{wv?n?e(h):h():setTimeout(()=>n?e(h):h()),wv=!0}),s=t==null?void 0:t.afterEach(()=>{wv=!1})}),fs(()=>{window.removeEventListener("popstate",r),i==null||i(),s==null||s()}));function r(a){var c;(c=a.state)!=null&&c.replaced||(n=!0,setTimeout(()=>n=!1))}}function iK(t,e){dt(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&gi(()=>{e(!0)})},{immediate:!0})}const Kb=Symbol("rippleStop"),sK=80;function GS(t,e){t.style.transform=e,t.style.webkitTransform=e}function Yb(t){return t.constructor.name==="TouchEvent"}function AO(t){return t.constructor.name==="KeyboardEvent"}const rK=function(t,e){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,s=0;if(!AO(t)){const b=e.getBoundingClientRect(),w=Yb(t)?t.touches[t.touches.length-1]:t;i=w.clientX-b.left,s=w.clientY-b.top}let r=0,a=.3;(m=e._ripple)!=null&&m.circle?(a=.15,r=e.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(s-r)**2)/4):r=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const c=`${(e.clientWidth-r*2)/2}px`,h=`${(e.clientHeight-r*2)/2}px`,d=n.center?c:`${i-r}px`,f=n.center?h:`${s-r}px`;return{radius:r,scale:a,x:d,y:f,centerX:c,centerY:h}},wm={show(t,e){var w;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((w=e==null?void 0:e._ripple)!=null&&w.enabled))return;const i=document.createElement("span"),s=document.createElement("span");i.appendChild(s),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:r,scale:a,x:c,y:h,centerX:d,centerY:f}=rK(t,e,n),m=`${r*2}px`;s.className="v-ripple__animation",s.style.width=m,s.style.height=m,e.appendChild(i);const b=window.getComputedStyle(e);b&&b.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),GS(s,`translate(${c}, ${h}) scale3d(${a},${a},${a})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),GS(s,`translate(${d}, ${f}) scale3d(1,1,1)`)},0)},hide(t){var r;if(!((r=t==null?void 0:t._ripple)!=null&&r.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),s=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var c;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((c=n.parentNode)==null?void 0:c.parentNode)===t&&t.removeChild(n.parentNode)},300)},s)}};function PO(t){return typeof t>"u"||!!t}function Kh(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[Kb])){if(t[Kb]=!0,Yb(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||AO(t),n._ripple.class&&(e.class=n._ripple.class),Yb(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{wm.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},sK)}else wm.show(t,n,e)}}function qS(t){t[Kb]=!0}function cs(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{cs(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),wm.hide(e)}}function RO(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Yh=!1;function OO(t){!Yh&&(t.keyCode===wS.enter||t.keyCode===wS.space)&&(Yh=!0,Kh(t))}function MO(t){Yh=!1,cs(t)}function DO(t){Yh&&(Yh=!1,cs(t))}function NO(t,e,n){const{value:i,modifiers:s}=e,r=PO(i);if(r||wm.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=r,t._ripple.centered=s.center,t._ripple.circle=s.circle,eO(i)&&i.class&&(t._ripple.class=i.class),r&&!n){if(s.stop){t.addEventListener("touchstart",qS,{passive:!0}),t.addEventListener("mousedown",qS);return}t.addEventListener("touchstart",Kh,{passive:!0}),t.addEventListener("touchend",cs,{passive:!0}),t.addEventListener("touchmove",RO,{passive:!0}),t.addEventListener("touchcancel",cs),t.addEventListener("mousedown",Kh),t.addEventListener("mouseup",cs),t.addEventListener("mouseleave",cs),t.addEventListener("keydown",OO),t.addEventListener("keyup",MO),t.addEventListener("blur",DO),t.addEventListener("dragstart",cs,{passive:!0})}else!r&&n&&LO(t)}function LO(t){t.removeEventListener("mousedown",Kh),t.removeEventListener("touchstart",Kh),t.removeEventListener("touchend",cs),t.removeEventListener("touchmove",RO),t.removeEventListener("touchcancel",cs),t.removeEventListener("mouseup",cs),t.removeEventListener("mouseleave",cs),t.removeEventListener("keydown",OO),t.removeEventListener("keyup",MO),t.removeEventListener("dragstart",cs),t.removeEventListener("blur",DO)}function oK(t,e){NO(t,e,!1)}function aK(t){delete t._ripple,LO(t)}function lK(t,e){if(e.value===e.oldValue)return;const n=PO(e.oldValue);NO(t,e,n)}const ow={mounted:oK,unmounted:aK,updated:lK},VO=Le({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:vO},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:cn,appendIcon:cn,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Ar(),...Nt(),...wo(),...Mr(),...Rr(),...Mq(),...nw(),...Sd(),...bg(),...Zi(),...rw(),...yg(),...Fn({tag:"button"}),...Gn(),...bl({variant:"elevated"})},"VBtn"),kn=nt()({name:"VBtn",props:VO(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=oi(t),{borderClasses:r}=Pr(t),{densityClasses:a}=ma(t),{dimensionStyles:c}=Dr(t),{elevationClasses:h}=Or(t),{loaderClasses:d}=iw(t),{locationStyles:f}=kd(t),{positionClasses:m}=_g(t),{roundedClasses:b}=es(t),{sizeClasses:w,sizeStyles:y}=vg(t),v=Dq(t,t.symbol,!1),x=sw(t,n),k=re(()=>{var z;return t.active!==void 0?t.active:x.isLink.value?(z=x.isActive)==null?void 0:z.value:v==null?void 0:v.isSelected.value}),I=re(()=>k.value?t.activeColor??t.color:t.color),D=re(()=>{var G,H;return{color:(v==null?void 0:v.isSelected.value)&&(!x.isLink.value||((G=x.isActive)==null?void 0:G.value))||!v||((H=x.isActive)==null?void 0:H.value)?I.value??t.baseColor:t.baseColor,variant:t.variant}}),{colorClasses:N,colorStyles:F,variantClasses:O}=Ed(D),S=re(()=>(v==null?void 0:v.disabled.value)||t.disabled),A=re(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),L=re(()=>{if(!(t.value===void 0||typeof t.value=="symbol"))return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});function U(z){var G;S.value||x.isLink.value&&(z.metaKey||z.ctrlKey||z.shiftKey||z.button!==0||n.target==="_blank")||((G=x.navigate)==null||G.call(x,z),v==null||v.toggle())}return iK(x,v==null?void 0:v.select),pt(()=>{const z=x.isLink.value?"a":t.tag,G=!!(t.prependIcon||i.prepend),H=!!(t.appendIcon||i.append),q=!!(t.icon&&t.icon!==!0);return Ei(Q(z,lt({type:z==="a"?void 0:"button",class:["v-btn",v==null?void 0:v.selectedClass.value,{"v-btn--active":k.value,"v-btn--block":t.block,"v-btn--disabled":S.value,"v-btn--elevated":A.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--readonly":t.readonly,"v-btn--slim":t.slim,"v-btn--stacked":t.stacked},s.value,r.value,N.value,a.value,h.value,d.value,m.value,b.value,w.value,O.value,t.class],style:[F.value,c.value,f.value,y.value,t.style],"aria-busy":t.loading?!0:void 0,disabled:S.value||void 0,tabindex:t.loading||t.readonly?-1:void 0,onClick:U,value:L.value},x.linkProps),{default:()=>{var Z;return[xd(!0,"v-btn"),!t.icon&&G&&Q("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?Q(bn,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},i.prepend):Q(Ps,{key:"prepend-icon",icon:t.prependIcon},null)]),Q("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&q?Q(Ps,{key:"content-icon",icon:t.icon},null):Q(bn,{key:"content-defaults",disabled:!q,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var ie;return[((ie=i.default)==null?void 0:ie.call(i))??t.text]}})]),!t.icon&&H&&Q("span",{key:"append",class:"v-btn__append"},[i.append?Q(bn,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},i.append):Q(Ps,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&Q("span",{key:"loader",class:"v-btn__loader"},[((Z=i.loader)==null?void 0:Z.call(i))??Q(Gq,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,width:"2"},null)])]}}),[[ow,!S.value&&t.ripple,"",{center:!!t.icon}]])}),{group:v}}}),cK=nt()({name:"VCardActions",props:Nt(),setup(t,e){let{slots:n}=e;return Yc({VBtn:{slim:!0,variant:"text"}}),pt(()=>{var i;return Q("div",{class:["v-card-actions",t.class],style:t.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),uK=Le({opacity:[Number,String],...Nt(),...Fn()},"VCardSubtitle"),aw=nt()({name:"VCardSubtitle",props:uK(),setup(t,e){let{slots:n}=e;return pt(()=>Q(t.tag,{class:["v-card-subtitle",t.class],style:[{"--v-card-subtitle-opacity":t.opacity},t.style]},n)),{}}}),lw=Cd("v-card-title");function hK(t){return{aspectStyles:re(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const FO=Le({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Nt(),...Mr()},"VResponsive"),KS=nt()({name:"VResponsive",props:FO(),setup(t,e){let{slots:n}=e;const{aspectStyles:i}=hK(t),{dimensionStyles:s}=Dr(t);return pt(()=>{var r;return Q("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[s.value,t.style]},[Q("div",{class:"v-responsive__sizer",style:i.value},null),(r=n.additional)==null?void 0:r.call(n),n.default&&Q("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),wg=Le({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),pr=(t,e)=>{let{slots:n}=e;const{transition:i,disabled:s,group:r,...a}=t,{component:c=r?O0:oo,...h}=typeof i=="object"?i:{};return yo(c,lt(typeof i=="string"?{name:s?"":i}:h,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:r}).filter(d=>{let[f,m]=d;return m!==void 0})),a),n)};function dK(t,e){if(!q_)return;const n=e.modifiers||{},i=e.value,{handler:s,options:r}=typeof i=="object"?i:{handler:i,options:{}},a=new IntersectionObserver(function(){var m;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0;const d=(m=t._observe)==null?void 0:m[e.instance.$.uid];if(!d)return;const f=c.some(b=>b.isIntersecting);s&&(!n.quiet||d.init)&&(!n.once||f||d.init)&&s(f,c,h),f&&n.once?BO(t,e):d.init=!0},r);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function BO(t,e){var i;const n=(i=t._observe)==null?void 0:i[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const UO={mounted:dK,unmounted:BO},fK=Le({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...FO(),...Nt(),...Zi(),...wg()},"VImg"),Cg=nt()({name:"VImg",directives:{intersect:UO},props:fK(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Ji(Ct(t,"color")),{roundedClasses:a}=es(t),c=Wn("VImg"),h=ht(""),d=Ye(),f=ht(t.eager?"loading":"idle"),m=ht(),b=ht(),w=re(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),y=re(()=>w.value.aspect||m.value/b.value||0);dt(()=>t.src,()=>{v(f.value!=="idle")}),dt(y,(G,H)=>{!G&&H&&d.value&&N(d.value)}),nd(()=>v());function v(G){if(!(t.eager&&G)&&!(q_&&!G&&!t.eager)){if(f.value="loading",w.value.lazySrc){const H=new Image;H.src=w.value.lazySrc,N(H,null)}w.value.src&&gi(()=>{var H;n("loadstart",((H=d.value)==null?void 0:H.currentSrc)||w.value.src),setTimeout(()=>{var q;if(!c.isUnmounted)if((q=d.value)!=null&&q.complete){if(d.value.naturalWidth||k(),f.value==="error")return;y.value||N(d.value,null),f.value==="loading"&&x()}else y.value||N(d.value),I()})})}}function x(){var G;c.isUnmounted||(I(),N(d.value),f.value="loaded",n("load",((G=d.value)==null?void 0:G.currentSrc)||w.value.src))}function k(){var G;c.isUnmounted||(f.value="error",n("error",((G=d.value)==null?void 0:G.currentSrc)||w.value.src))}function I(){const G=d.value;G&&(h.value=G.currentSrc||G.src)}let D=-1;yi(()=>{clearTimeout(D)});function N(G){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const q=()=>{if(clearTimeout(D),c.isUnmounted)return;const{naturalHeight:Z,naturalWidth:ie}=G;Z||ie?(m.value=ie,b.value=Z):!G.complete&&f.value==="loading"&&H!=null?D=window.setTimeout(q,H):(G.currentSrc.endsWith(".svg")||G.currentSrc.startsWith("data:image/svg+xml"))&&(m.value=1,b.value=1)};q()}const F=re(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),O=()=>{var q;if(!w.value.src||f.value==="idle")return null;const G=Q("img",{class:["v-img__img",F.value],style:{objectPosition:t.position},src:w.value.src,srcset:w.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:d,onLoad:x,onError:k},null),H=(q=i.sources)==null?void 0:q.call(i);return Q(pr,{transition:t.transition,appear:!0},{default:()=>[Ei(H?Q("picture",{class:"v-img__picture"},[H,G]):G,[[rd,f.value==="loaded"]])]})},S=()=>Q(pr,{transition:t.transition},{default:()=>[w.value.lazySrc&&f.value!=="loaded"&&Q("img",{class:["v-img__img","v-img__img--preload",F.value],style:{objectPosition:t.position},src:w.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),A=()=>i.placeholder?Q(pr,{transition:t.transition,appear:!0},{default:()=>[(f.value==="loading"||f.value==="error"&&!i.error)&&Q("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,L=()=>i.error?Q(pr,{transition:t.transition,appear:!0},{default:()=>[f.value==="error"&&Q("div",{class:"v-img__error"},[i.error()])]}):null,U=()=>t.gradient?Q("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,z=ht(!1);{const G=dt(y,H=>{H&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{z.value=!0})}),G())})}return pt(()=>{const G=KS.filterProps(t);return Ei(Q(KS,lt({class:["v-img",{"v-img--absolute":t.absolute,"v-img--booting":!z.value},s.value,a.value,t.class],style:[{width:_t(t.width==="auto"?m.value:t.width)},r.value,t.style]},G,{aspectRatio:y.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>Q(At,null,[Q(O,null,null),Q(S,null,null),Q(U,null,null),Q(A,null,null),Q(L,null,null)]),default:i.default}),[[id("intersect"),{handler:v,options:t.options},null,{once:!0}]])}),{currentSrc:h,image:d,state:f,naturalWidth:m,naturalHeight:b}}}),pK=Le({start:Boolean,end:Boolean,icon:cn,image:String,text:String,...Ar(),...Nt(),...wo(),...Zi(),...yg(),...Fn(),...Gn(),...bl({variant:"flat"})},"VAvatar"),Cm=nt()({name:"VAvatar",props:pK(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=oi(t),{borderClasses:s}=Pr(t),{colorClasses:r,colorStyles:a,variantClasses:c}=Ed(t),{densityClasses:h}=ma(t),{roundedClasses:d}=es(t),{sizeClasses:f,sizeStyles:m}=vg(t);return pt(()=>Q(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},i.value,s.value,r.value,h.value,d.value,f.value,c.value,t.class],style:[a.value,m.value,t.style]},{default:()=>[n.default?Q(bn,{key:"content-defaults",defaults:{VImg:{cover:!0,src:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?Q(Cg,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?Q(Ps,{key:"icon",icon:t.icon},null):t.text,xd(!1,"v-avatar")]})),{}}}),mK=Le({appendAvatar:String,appendIcon:cn,prependAvatar:String,prependIcon:cn,subtitle:[String,Number],title:[String,Number],...Nt(),...wo()},"VCardItem"),gK=nt()({name:"VCardItem",props:mK(),setup(t,e){let{slots:n}=e;return pt(()=>{var d;const i=!!(t.prependAvatar||t.prependIcon),s=!!(i||n.prepend),r=!!(t.appendAvatar||t.appendIcon),a=!!(r||n.append),c=!!(t.title!=null||n.title),h=!!(t.subtitle!=null||n.subtitle);return Q("div",{class:["v-card-item",t.class],style:t.style},[s&&Q("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?Q(bn,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon}}},n.prepend):Q(At,null,[t.prependAvatar&&Q(Cm,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&Q(Ps,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),Q("div",{class:"v-card-item__content"},[c&&Q(lw,{key:"title"},{default:()=>{var f;return[((f=n.title)==null?void 0:f.call(n))??t.title]}}),h&&Q(aw,{key:"subtitle"},{default:()=>{var f;return[((f=n.subtitle)==null?void 0:f.call(n))??t.subtitle]}}),(d=n.default)==null?void 0:d.call(n)]),a&&Q("div",{key:"append",class:"v-card-item__append"},[n.append?Q(bn,{key:"append-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon}}},n.append):Q(At,null,[t.appendIcon&&Q(Ps,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&Q(Cm,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])])}),{}}}),yK=Le({opacity:[Number,String],...Nt(),...Fn()},"VCardText"),jO=nt()({name:"VCardText",props:yK(),setup(t,e){let{slots:n}=e;return pt(()=>Q(t.tag,{class:["v-card-text",t.class],style:[{"--v-card-text-opacity":t.opacity},t.style]},n)),{}}}),vK=Le({appendAvatar:String,appendIcon:cn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:cn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Ar(),...Nt(),...wo(),...Mr(),...Rr(),...nw(),...Sd(),...bg(),...Zi(),...rw(),...Fn(),...Gn(),...bl({variant:"elevated"})},"VCard"),Xh=nt()({name:"VCard",directives:{Ripple:ow},props:vK(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=oi(t),{borderClasses:r}=Pr(t),{colorClasses:a,colorStyles:c,variantClasses:h}=Ed(t),{densityClasses:d}=ma(t),{dimensionStyles:f}=Dr(t),{elevationClasses:m}=Or(t),{loaderClasses:b}=iw(t),{locationStyles:w}=kd(t),{positionClasses:y}=_g(t),{roundedClasses:v}=es(t),x=sw(t,n),k=re(()=>t.link!==!1&&x.isLink.value),I=re(()=>!t.disabled&&t.link!==!1&&(t.link||x.isClickable.value));return pt(()=>{const D=k.value?"a":t.tag,N=!!(i.title||t.title!=null),F=!!(i.subtitle||t.subtitle!=null),O=N||F,S=!!(i.append||t.appendAvatar||t.appendIcon),A=!!(i.prepend||t.prependAvatar||t.prependIcon),L=!!(i.image||t.image),U=O||A||S,z=!!(i.text||t.text!=null);return Ei(Q(D,lt({class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":I.value},s.value,r.value,a.value,d.value,m.value,b.value,y.value,v.value,h.value,t.class],style:[c.value,f.value,w.value,t.style],onClick:I.value&&x.navigate,tabindex:t.disabled?-1:void 0},x.linkProps),{default:()=>{var G;return[L&&Q("div",{key:"image",class:"v-card__image"},[i.image?Q(bn,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},i.image):Q(Cg,{key:"image-img",cover:!0,src:t.image},null)]),Q(kO,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:i.loader}),U&&Q(gK,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),z&&Q(jO,{key:"text"},{default:()=>{var H;return[((H=i.text)==null?void 0:H.call(i))??t.text]}}),(G=i.default)==null?void 0:G.call(i),i.actions&&Q(cK,null,{default:i.actions}),xd(I.value,"v-card")]}}),[[id("ripple"),I.value&&t.ripple]])}),{}}}),bK={class:"text-center px-4"},_K=mo({__name:"FreeLock",setup(t){const e=NU();return(n,i)=>(Qt(),Pn(Xh,{width:"100%",height:"100%",class:"d-flex flex-column justify-center align-center"},{default:Tt(()=>[qi("div",bK,[i[2]||(i[2]=qi("h1",{class:"mb-3"},"Monthly API Limit Reached",-1)),i[3]||(i[3]=qi("p",{class:"mb-5"}," You have reached your monthly limit of free API calls. To continue using the service, you can wait until your quota resets next month or upgrade to a paid plan. ",-1)),Q(kn,{color:"primary",class:"mb-3",onClick:i[0]||(i[0]=s=>He(K0)(He(Yp)()).then(()=>He(e).push("/")))},{default:Tt(()=>i[1]||(i[1]=[ei("Sign Out ")])),_:1})])]),_:1}))}}),xg=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},wK=xg(_K,[["__scopeId","data-v-4ef88d4c"]]),Eg={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function CK(t,e,n){const i=[];let s=[];const r=HO(t),a=$O(t),c=n??Eg[e.slice(-2).toUpperCase()]??0,h=(r.getDay()-c+7)%7,d=(a.getDay()-c+7)%7;for(let f=0;f<h;f++){const m=new Date(r);m.setDate(m.getDate()-(h-f)),s.push(m)}for(let f=1;f<=a.getDate();f++){const m=new Date(t.getFullYear(),t.getMonth(),f);s.push(m),s.length===7&&(i.push(s),s=[])}for(let f=1;f<7-d;f++){const m=new Date(a);m.setDate(m.getDate()+f),s.push(m)}return s.length>0&&i.push(s),i}function xK(t,e,n){const i=n??Eg[e.slice(-2).toUpperCase()]??0,s=new Date(t);for(;s.getDay()!==i;)s.setDate(s.getDate()-1);return s}function EK(t,e){const n=new Date(t),i=((Eg[e.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function HO(t){return new Date(t.getFullYear(),t.getMonth(),1)}function $O(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function TK(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const SK=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function zO(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(SK.test(t))return TK(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const YS=new Date(2e3,0,2);function kK(t,e){const n=e??Eg[t.slice(-2).toUpperCase()]??0;return mg(7).map(i=>{const s=new Date(YS);return s.setDate(YS.getDate()+n+i),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(s)})}function IK(t,e,n,i){const s=zO(t)??new Date,r=i==null?void 0:i[e];if(typeof r=="function")return r(s,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const c=s.getDate(),h=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${c} ${h}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=r??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(s)}function AK(t,e){const n=t.toJsDate(e),i=n.getFullYear(),s=TS(String(n.getMonth()+1),2,"0"),r=TS(String(n.getDate()),2,"0");return`${i}-${s}-${r}`}function PK(t){const[e,n,i]=t.split("-").map(Number);return new Date(e,n-1,i)}function RK(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function OK(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function MK(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function DK(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function NK(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function LK(t){return t.getFullYear()}function VK(t){return t.getMonth()}function FK(t){return t.getDate()}function BK(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function UK(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function jK(t){return t.getHours()}function HK(t){return t.getMinutes()}function $K(t){return new Date(t.getFullYear(),0,1)}function zK(t){return new Date(t.getFullYear(),11,31)}function WK(t,e){return xm(t,e[0])&&KK(t,e[1])}function GK(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function xm(t,e){return t.getTime()>e.getTime()}function qK(t,e){return xm(Xb(t),Xb(e))}function KK(t,e){return t.getTime()<e.getTime()}function XS(t,e){return t.getTime()===e.getTime()}function YK(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function XK(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function JK(t,e){return t.getFullYear()===e.getFullYear()}function QK(t,e,n){const i=new Date(t),s=new Date(e);switch(n){case"years":return i.getFullYear()-s.getFullYear();case"quarters":return Math.floor((i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12)/4);case"months":return i.getMonth()-s.getMonth()+(i.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-s.getTime())/1e3);default:return i.getTime()-s.getTime()}}function ZK(t,e){const n=new Date(t);return n.setHours(e),n}function eY(t,e){const n=new Date(t);return n.setMinutes(e),n}function tY(t,e){const n=new Date(t);return n.setMonth(e),n}function nY(t,e){const n=new Date(t);return n.setDate(e),n}function iY(t,e){const n=new Date(t);return n.setFullYear(e),n}function Xb(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function sY(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class rY{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return zO(e)}toJsDate(e){return e}toISO(e){return AK(this,e)}parseISO(e){return PK(e)}addMinutes(e,n){return RK(e,n)}addHours(e,n){return OK(e,n)}addDays(e,n){return MK(e,n)}addWeeks(e,n){return DK(e,n)}addMonths(e,n){return NK(e,n)}getWeekArray(e,n){return CK(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return xK(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return EK(e,this.locale)}startOfMonth(e){return HO(e)}endOfMonth(e){return $O(e)}format(e,n){return IK(e,n,this.locale,this.formats)}isEqual(e,n){return XS(e,n)}isValid(e){return GK(e)}isWithinRange(e,n){return WK(e,n)}isAfter(e,n){return xm(e,n)}isAfterDay(e,n){return qK(e,n)}isBefore(e,n){return!xm(e,n)&&!XS(e,n)}isSameDay(e,n){return YK(e,n)}isSameMonth(e,n){return XK(e,n)}isSameYear(e,n){return JK(e,n)}setMinutes(e,n){return eY(e,n)}setHours(e,n){return ZK(e,n)}setMonth(e,n){return tY(e,n)}setDate(e,n){return nY(e,n)}setYear(e,n){return iY(e,n)}getDiff(e,n,i){return QK(e,n,i)}getWeekdays(e){return kK(this.locale,e?Number(e):void 0)}getYear(e){return LK(e)}getMonth(e){return VK(e)}getDate(e){return FK(e)}getNextMonth(e){return BK(e)}getPreviousMonth(e){return UK(e)}getHours(e){return jK(e)}getMinutes(e){return HK(e)}startOfDay(e){return Xb(e)}endOfDay(e){return sY(e)}startOfYear(e){return $K(e)}endOfYear(e){return zK(e)}}const WO=Symbol.for("vuetify:date-options"),JS=Symbol.for("vuetify:date-adapter");function oY(t,e){const n=Vi({adapter:rY,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:GO(n,e)}}function GO(t,e){const n=ti(typeof t.adapter=="function"?new t.adapter({locale:t.locale[e.current.value]??e.current.value,formats:t.formats}):t.adapter);return dt(e.current,i=>{n.locale=t.locale[i]??i??n.locale}),n}function Qc(){const t=zt(WO);if(!t)throw new Error("[Vuetify] Could not find injected date options");const e=Jc();return GO(t,e)}function aY(t,e){const n=t.toJsDate(e);let i=n.getFullYear(),s=new Date(i,0,1);if(n<s)i=i-1,s=new Date(i,0,1);else{const c=new Date(i+1,0,1);n>=c&&(i=i+1,s=c)}const r=Math.abs(n.getTime()-s.getTime()),a=Math.ceil(r/(1e3*60*60*24));return Math.floor(a/7)+1}const hJ=["sm","md","lg","xl","xxl"],Jb=Symbol.for("vuetify:display"),QS={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},lY=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QS;return Vi(QS,t)};function ZS(t){return hn&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function e1(t){return hn&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function t1(t){const e=hn&&!t?window.navigator.userAgent:"ssr";function n(y){return!!e.match(y)}const i=n(/android/i),s=n(/iphone|ipad|ipod/i),r=n(/cordova/i),a=n(/electron/i),c=n(/chrome/i),h=n(/edge/i),d=n(/firefox/i),f=n(/opera/i),m=n(/win/i),b=n(/mac/i),w=n(/linux/i);return{android:i,ios:s,cordova:r,electron:a,chrome:c,edge:h,firefox:d,opera:f,win:m,mac:b,linux:w,touch:N5,ssr:e==="ssr"}}function cY(t,e){const{thresholds:n,mobileBreakpoint:i}=lY(t),s=ht(e1(e)),r=ht(t1(e)),a=ti({}),c=ht(ZS(e));function h(){s.value=e1(),c.value=ZS()}function d(){h(),r.value=t1()}return Qi(()=>{const f=c.value<n.sm,m=c.value<n.md&&!f,b=c.value<n.lg&&!(m||f),w=c.value<n.xl&&!(b||m||f),y=c.value<n.xxl&&!(w||b||m||f),v=c.value>=n.xxl,x=f?"xs":m?"sm":b?"md":w?"lg":y?"xl":"xxl",k=typeof i=="number"?i:n[i],I=c.value<k;a.xs=f,a.sm=m,a.md=b,a.lg=w,a.xl=y,a.xxl=v,a.smAndUp=!f,a.mdAndUp=!(f||m),a.lgAndUp=!(f||m||b),a.xlAndUp=!(f||m||b||w),a.smAndDown=!(b||w||y||v),a.mdAndDown=!(w||y||v),a.lgAndDown=!(y||v),a.xlAndDown=!v,a.name=x,a.height=s.value,a.width=c.value,a.mobile=I,a.mobileBreakpoint=i,a.platform=r.value,a.thresholds=n}),hn&&window.addEventListener("resize",h,{passive:!0}),{...Vm(a),update:d,ssr:!!e}}const uY=Le({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function cw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();const n=zt(Jb);if(!n)throw new Error("Could not find Vuetify display injection");const i=re(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const r=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<r}),s=re(()=>e?{[`${e}--mobile`]:i.value}:{});return{...n,displayClasses:s,mobile:i}}const qO=Symbol.for("vuetify:goto");function KO(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>t**2,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t**2:-1+(4-2*t)*t,easeInCubic:t=>t**3,easeOutCubic:t=>--t**3+1,easeInOutCubic:t=>t<.5?4*t**3:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t**4,easeOutQuart:t=>1- --t**4,easeInOutQuart:t=>t<.5?8*t**4:1-8*--t**4,easeInQuint:t=>t**5,easeOutQuint:t=>1+--t**5,easeInOutQuint:t=>t<.5?16*t**5:1+16*--t**5}}}function hY(t){return uw(t)??(document.scrollingElement||document.body)}function uw(t){return typeof t=="string"?document.querySelector(t):tO(t)}function Cv(t,e,n){if(typeof t=="number")return e&&n?-t:t;let i=uw(t),s=0;for(;i;)s+=e?i.offsetLeft:i.offsetTop,i=i.offsetParent;return s}function dY(t,e){return{rtl:e.isRtl,options:Vi(KO(),t)}}async function n1(t,e,n,i){const s=n?"scrollLeft":"scrollTop",r=Vi((i==null?void 0:i.options)??KO(),e),a=i==null?void 0:i.rtl.value,c=(typeof t=="number"?t:uw(t))??0,h=r.container==="parent"&&c instanceof HTMLElement?c.parentElement:hY(r.container),d=typeof r.easing=="function"?r.easing:r.patterns[r.easing];if(!d)throw new TypeError(`Easing function "${r.easing}" not found.`);let f;if(typeof c=="number")f=Cv(c,n,a);else if(f=Cv(c,n,a)-Cv(h,n,a),r.layout){const y=window.getComputedStyle(c).getPropertyValue("--v-layout-top");y&&(f-=parseInt(y,10))}f+=r.offset,f=fY(h,f,!!a,!!n);const m=h[s]??0;if(f===m)return Promise.resolve(f);const b=performance.now();return new Promise(w=>requestAnimationFrame(function y(v){const k=(v-b)/r.duration,I=Math.floor(m+(f-m)*d(uo(k,0,1)));if(h[s]=I,k>=1&&Math.abs(I-h[s])<10)return w(f);if(k>2)return w(h[s]);requestAnimationFrame(y)}))}function dJ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=zt(qO),{isRtl:n}=Nr();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const i={...e,rtl:re(()=>e.rtl.value||n.value)};async function s(r,a){return n1(r,Vi(t,a),!1,i)}return s.horizontal=async(r,a)=>n1(r,Vi(t,a),!0,i),s}function fY(t,e,n,i){const{scrollWidth:s,scrollHeight:r}=t,[a,c]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let h,d;return i?n?(h=-(s-a),d=0):(h=0,d=s-a):(h=0,d=r+-c),Math.max(Math.min(e,d),h)}const Em=Symbol.for("vuetify:layout"),YO=Symbol.for("vuetify:layout-item"),i1=1e3,pY=Le({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),hw=Le({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function mY(){const t=zt(Em);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function dw(t){const e=zt(Em);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Ir()}`,i=Wn("useLayoutItem");mi(YO,{id:n});const s=ht(!1);E0(()=>s.value=!0),bk(()=>s.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:a}=e.register(i,{...t,active:re(()=>s.value?!1:t.active.value),id:n});return yi(()=>e.unregister(n)),{layoutItemStyles:r,layoutRect:e.layoutRect,layoutItemScrimStyles:a}}const gY=(t,e,n,i)=>{let s={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...s}}];for(const a of t){const c=e.get(a),h=n.get(a),d=i.get(a);if(!c||!h||!d)continue;const f={...s,[c.value]:parseInt(s[c.value],10)+(d.value?parseInt(h.value,10):0)};r.push({id:a,layer:f}),s=f}return r};function yY(t){const e=zt(Em,null),n=re(()=>e?e.rootZIndex.value-100:i1),i=Ye([]),s=ti(new Map),r=ti(new Map),a=ti(new Map),c=ti(new Map),h=ti(new Map),{resizeRef:d,contentRect:f}=tw(),m=re(()=>{const O=new Map,S=t.overlaps??[];for(const A of S.filter(L=>L.includes(":"))){const[L,U]=A.split(":");if(!i.value.includes(L)||!i.value.includes(U))continue;const z=s.get(L),G=s.get(U),H=r.get(L),q=r.get(U);!z||!G||!H||!q||(O.set(U,{position:z.value,amount:parseInt(H.value,10)}),O.set(L,{position:G.value,amount:-parseInt(q.value,10)}))}return O}),b=re(()=>{const O=[...new Set([...a.values()].map(A=>A.value))].sort((A,L)=>A-L),S=[];for(const A of O){const L=i.value.filter(U=>{var z;return((z=a.get(U))==null?void 0:z.value)===A});S.push(...L)}return gY(S,s,r,c)}),w=re(()=>!Array.from(h.values()).some(O=>O.value)),y=re(()=>b.value[b.value.length-1].layer),v=re(()=>({"--v-layout-left":_t(y.value.left),"--v-layout-right":_t(y.value.right),"--v-layout-top":_t(y.value.top),"--v-layout-bottom":_t(y.value.bottom),...w.value?void 0:{transition:"none"}})),x=re(()=>b.value.slice(1).map((O,S)=>{let{id:A}=O;const{layer:L}=b.value[S],U=r.get(A),z=s.get(A);return{id:A,...L,size:Number(U.value),position:z.value}})),k=O=>x.value.find(S=>S.id===O),I=Wn("createLayout"),D=ht(!1);ps(()=>{D.value=!0}),mi(Em,{register:(O,S)=>{let{id:A,order:L,position:U,layoutSize:z,elementSize:G,active:H,disableTransitions:q,absolute:Z}=S;a.set(A,L),s.set(A,U),r.set(A,z),c.set(A,H),q&&h.set(A,q);const oe=Zl(YO,I==null?void 0:I.vnode).indexOf(O);oe>-1?i.value.splice(oe,0,A):i.value.push(A);const ce=re(()=>x.value.findIndex(Ce=>Ce.id===A)),ve=re(()=>n.value+b.value.length*2-ce.value*2),we=re(()=>{const Ce=U.value==="left"||U.value==="right",De=U.value==="right",We=U.value==="bottom",rt=G.value??z.value,$e=rt===0?"%":"px",ge={[U.value]:0,zIndex:ve.value,transform:`translate${Ce?"X":"Y"}(${(H.value?0:-(rt===0?100:rt))*(De||We?-1:1)}${$e})`,position:Z.value||n.value!==i1?"absolute":"fixed",...w.value?void 0:{transition:"none"}};if(!D.value)return ge;const Ae=x.value[ce.value];if(!Ae)throw new Error(`[Vuetify] Could not find layout item "${A}"`);const Ne=m.value.get(A);return Ne&&(Ae[Ne.position]+=Ne.amount),{...ge,height:Ce?`calc(100% - ${Ae.top}px - ${Ae.bottom}px)`:G.value?`${G.value}px`:void 0,left:De?void 0:`${Ae.left}px`,right:De?`${Ae.right}px`:void 0,top:U.value!=="bottom"?`${Ae.top}px`:void 0,bottom:U.value!=="top"?`${Ae.bottom}px`:void 0,width:Ce?G.value?`${G.value}px`:void 0:`calc(100% - ${Ae.left}px - ${Ae.right}px)`}}),be=re(()=>({zIndex:ve.value-1}));return{layoutItemStyles:we,layoutItemScrimStyles:be,zIndex:ve}},unregister:O=>{a.delete(O),s.delete(O),r.delete(O),c.delete(O),h.delete(O),i.value=i.value.filter(S=>S!==O)},mainRect:y,mainStyles:v,getLayoutItem:k,items:x,layoutRect:f,rootZIndex:n});const N=re(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),F=re(()=>({zIndex:e?n.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:N,layoutStyles:F,getLayoutItem:k,items:x,layoutRect:f,layoutRef:d}}function XO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,i=Vi(e,n),{aliases:s={},components:r={},directives:a={}}=i,c=_q(i.defaults),h=cY(i.display,i.ssr),d=Pq(i.theme),f=jq(i.icons),m=Xq(i.locale),b=oY(i.date,m),w=dY(i.goTo,m);return{install:v=>{for(const x in a)v.directive(x,a[x]);for(const x in r)v.component(x,r[x]);for(const x in s)v.component(x,Xc({...s[x],name:x,aliasName:s[x].name}));if(d.install(v),v.provide(Mc,c),v.provide(Jb,h),v.provide(bm,d),v.provide(qb,f),v.provide(_m,m),v.provide(WO,b.options),v.provide(JS,b.instance),v.provide(qO,w),hn&&i.ssr)if(v.$nuxt)v.$nuxt.hook("app:suspense:resolve",()=>{h.update()});else{const{mount:x}=v;v.mount=function(){const k=x(...arguments);return gi(()=>h.update()),v.mount=x,k}}Ir.reset(),v.mixin({computed:{$vuetify(){return ti({defaults:Hl.call(this,Mc),display:Hl.call(this,Jb),theme:Hl.call(this,bm),icons:Hl.call(this,qb),locale:Hl.call(this,_m),date:Hl.call(this,JS)})}}})},defaults:c,display:h,theme:d,icons:f,locale:m,date:b,goTo:w}}const vY="3.7.6";XO.version=vY;function Hl(t){var i,s;const e=this.$,n=((i=e.parent)==null?void 0:i.provides)??((s=e.vnode.appContext)==null?void 0:s.provides);if(n&&t in n)return n[t]}const bY=Le({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ar(),...Nt(),...Rr(),...hw(),...Zi(),...Fn({tag:"footer"}),...Gn()},"VFooter"),_Y=nt()({name:"VFooter",props:bY(),setup(t,e){let{slots:n}=e;const i=Ye(),{themeClasses:s}=oi(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Ji(Ct(t,"color")),{borderClasses:c}=Pr(t),{elevationClasses:h}=Or(t),{roundedClasses:d}=es(t),f=ht(32),{resizeRef:m}=tw(w=>{w.length&&(f.value=w[0].target.clientHeight)}),b=re(()=>t.height==="auto"?f.value:parseInt(t.height,10));return As(()=>t.app,()=>{const w=dw({id:t.name,order:re(()=>parseInt(t.order,10)),position:re(()=>"bottom"),layoutSize:b,elementSize:re(()=>t.height==="auto"?void 0:b.value),active:re(()=>t.app),absolute:Ct(t,"absolute")});Qi(()=>{i.value=w.layoutItemStyles.value})}),pt(()=>Q(t.tag,{ref:m,class:["v-footer",s.value,r.value,c.value,h.value,d.value,t.class],style:[a.value,t.app?i.value:{height:_t(t.height)},t.style]},n)),{}}}),wY={class:"w-75 overflow-hidden d-inline-flex"},CY=["href","title"],xY={class:"text-caption text-disabled",style:{position:"absolute",right:"16px"}},EY=mo({__name:"AppFooter",setup(t){const{mobile:e}=cw(),n=re(()=>[{title:e.value?"T.H.":"Timo Haas",icon:"mdi-github",href:"https://github.com/haasentimo"},{title:e.value?"O.B.":"Oskar Borkenhagen",icon:"mdi-github",href:"https://github.com/Ostabo"},{title:e.value?"L.B.":"Lars Brger",icon:"mdi-github",href:"https://github.com/LarsBuergerr"}]);return(i,s)=>(Qt(),Pn(_Y,{app:"",height:"40",elevation:"8"},{default:Tt(()=>[qi("span",wY,[(Qt(!0),yc(At,null,Vv(He(n),r=>(Qt(),yc("a",{key:r.title,class:"d-inline-flex mx-2 social-link flex-nowrap text-no-wrap",href:r.href,rel:"noopener noreferrer",target:"_blank",title:r.title},[ei(rl(r.title)+" ",1),Q(Ps,{icon:r.icon,class:"ms-2"},null,8,["icon"])],8,CY))),128))]),qi("div",xY,[ei("  "+rl(new Date().getFullYear())+" ",1),s[0]||(s[0]=qi("span",{class:"d-none d-sm-inline-block"},"Cloud Porsche AG",-1))])]),_:1}))}}),TY=xg(EY,[["__scopeId","data-v-77a6d32e"]]),SY=Cd("v-alert-title"),kY=["success","info","warning","error"],IY=Le({border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:cn,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>kY.includes(t)},...Nt(),...wo(),...Mr(),...Rr(),...Sd(),...bg(),...Zi(),...Fn(),...Gn(),...bl({variant:"flat"})},"VAlert"),Tm=nt()({name:"VAlert",props:IY(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=rn(t,"modelValue"),r=re(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),a=re(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:c}=oi(t),{colorClasses:h,colorStyles:d,variantClasses:f}=Ed(a),{densityClasses:m}=ma(t),{dimensionStyles:b}=Dr(t),{elevationClasses:w}=Or(t),{locationStyles:y}=kd(t),{positionClasses:v}=_g(t),{roundedClasses:x}=es(t),{textColorClasses:k,textColorStyles:I}=ho(Ct(t,"borderColor")),{t:D}=Jc(),N=re(()=>({"aria-label":D(t.closeLabel),onClick(F){s.value=!1,n("click:close",F)}}));return()=>{const F=!!(i.prepend||r.value),O=!!(i.title||t.title),S=!!(i.close||t.closable);return s.value&&Q(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},c.value,h.value,m.value,w.value,v.value,x.value,f.value,t.class],style:[d.value,b.value,y.value,t.style],role:"alert"},{default:()=>{var A,L;return[xd(!1,"v-alert"),t.border&&Q("div",{key:"border",class:["v-alert__border",k.value],style:I.value},null),F&&Q("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?Q(bn,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:t.density,icon:r.value,size:t.prominent?44:28}}},i.prepend):Q(Ps,{key:"prepend-icon",density:t.density,icon:r.value,size:t.prominent?44:28},null)]),Q("div",{class:"v-alert__content"},[O&&Q(SY,{key:"title"},{default:()=>{var U;return[((U=i.title)==null?void 0:U.call(i))??t.title]}}),((A=i.text)==null?void 0:A.call(i))??t.text,(L=i.default)==null?void 0:L.call(i)]),i.append&&Q("div",{key:"append",class:"v-alert__append"},[i.append()]),S&&Q("div",{key:"close",class:"v-alert__close"},[i.close?Q(bn,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var U;return[(U=i.close)==null?void 0:U.call(i,{props:N.value})]}}):Q(kn,lt({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},N.value),null)])]}})}}}),JO=Symbol.for("vuetify:form"),AY=Le({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function PY(t){const e=rn(t,"modelValue"),n=re(()=>t.disabled),i=re(()=>t.readonly),s=ht(!1),r=Ye([]),a=Ye([]);async function c(){const f=[];let m=!0;a.value=[],s.value=!0;for(const b of r.value){const w=await b.validate();if(w.length>0&&(m=!1,f.push({id:b.id,errorMessages:w})),!m&&t.fastFail)break}return a.value=f,s.value=!1,{valid:m,errors:a.value}}function h(){r.value.forEach(f=>f.reset())}function d(){r.value.forEach(f=>f.resetValidation())}return dt(r,()=>{let f=0,m=0;const b=[];for(const w of r.value)w.isValid===!1?(m++,b.push({id:w.id,errorMessages:w.errorMessages})):w.isValid===!0&&f++;a.value=b,e.value=m>0?!1:f===r.value.length?!0:null},{deep:!0,flush:"post"}),mi(JO,{register:f=>{let{id:m,vm:b,validate:w,reset:y,resetValidation:v}=f;r.value.some(x=>x.id===m),r.value.push({id:m,validate:w,reset:y,resetValidation:v,vm:Lm(b),isValid:null,errorMessages:[]})},unregister:f=>{r.value=r.value.filter(m=>m.id!==f)},update:(f,m,b)=>{const w=r.value.find(y=>y.id===f);w&&(w.isValid=m,w.errorMessages=b)},isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validateOn:Ct(t,"validateOn")}),{errors:a,isDisabled:n,isReadonly:i,isValidating:s,isValid:e,items:r,validate:c,reset:h,resetValidation:d}}function QO(t){const e=zt(JO,null);return{...e,isReadonly:re(()=>!!((t==null?void 0:t.readonly)??(e==null?void 0:e.isReadonly.value))),isDisabled:re(()=>!!((t==null?void 0:t.disabled)??(e==null?void 0:e.isDisabled.value)))}}const xv=Symbol("Forwarded refs");function Ev(t,e){let n=t;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Zc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t[xv]=n,new Proxy(t,{get(s,r){if(Reflect.has(s,r))return Reflect.get(s,r);if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,r)){const c=Reflect.get(a.value,r);return typeof c=="function"?c.bind(a.value):c}}},has(s,r){if(Reflect.has(s,r))return!0;if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,r))return!0;return!1},set(s,r,a){if(Reflect.has(s,r))return Reflect.set(s,r,a);if(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))return!1;for(const c of n)if(c.value&&Reflect.has(c.value,r))return Reflect.set(c.value,r,a);return!1},getOwnPropertyDescriptor(s,r){var c;const a=Reflect.getOwnPropertyDescriptor(s,r);if(a)return a;if(!(typeof r=="symbol"||r.startsWith("$")||r.startsWith("__"))){for(const h of n){if(!h.value)continue;const d=Ev(h.value,r)??("_"in h.value?Ev((c=h.value._)==null?void 0:c.setupState,r):void 0);if(d)return d}for(const h of n){const d=h.value&&h.value[xv];if(!d)continue;const f=d.slice();for(;f.length;){const m=f.shift(),b=Ev(m.value,r);if(b)return b;const w=m.value&&m.value[xv];w&&f.push(...w)}}}}})}const RY=Le({...Nt(),...AY()},"VForm"),ZO=nt()({name:"VForm",props:RY(),emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:i}=e;const s=PY(t),r=Ye();function a(h){h.preventDefault(),s.reset()}function c(h){const d=h,f=s.validate();d.then=f.then.bind(f),d.catch=f.catch.bind(f),d.finally=f.finally.bind(f),i("submit",d),d.defaultPrevented||f.then(m=>{var w;let{valid:b}=m;b&&((w=r.value)==null||w.submit())}),d.preventDefault()}return pt(()=>{var h;return Q("form",{ref:r,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:a,onSubmit:c},[(h=n.default)==null?void 0:h.call(n,s)])}),Zc(s,r)}}),OY=Le({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function ms(t,e,n){return nt()({name:t,props:OY({mode:n,origin:e}),setup(i,s){let{slots:r}=s;const a={onBeforeEnter(c){i.origin&&(c.style.transformOrigin=i.origin)},onLeave(c){if(i.leaveAbsolute){const{offsetTop:h,offsetLeft:d,offsetWidth:f,offsetHeight:m}=c;c._transitionInitialStyles={position:c.style.position,top:c.style.top,left:c.style.left,width:c.style.width,height:c.style.height},c.style.position="absolute",c.style.top=`${h}px`,c.style.left=`${d}px`,c.style.width=`${f}px`,c.style.height=`${m}px`}i.hideOnLeave&&c.style.setProperty("display","none","important")},onAfterLeave(c){if(i.leaveAbsolute&&(c!=null&&c._transitionInitialStyles)){const{position:h,top:d,left:f,width:m,height:b}=c._transitionInitialStyles;delete c._transitionInitialStyles,c.style.position=h||"",c.style.top=d||"",c.style.left=f||"",c.style.width=m||"",c.style.height=b||""}}};return()=>{const c=i.group?O0:oo;return yo(c,{name:i.disabled?"":t,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:a},r.default)}}})}function eM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return nt()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,s){let{slots:r}=s;const a=i.group?O0:oo;return()=>yo(a,{name:i.disabled?"":t,css:!i.disabled,...i.disabled?{}:e},r.default)}})}function tM(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=$i(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const c=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const h=`${a[i]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=c.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=h})},onAfterEnter:r,onEnterCancelled:r,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[i]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(a){t&&a._parent&&a._parent.classList.remove(t),r(a)}function r(a){const c=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,c!=null&&(a.style[n]=c),delete a._initialStyle}}const MY=Le({target:[Object,Array]},"v-dialog-transition"),nM=nt()({name:"VDialogTransition",props:MY(),setup(t,e){let{slots:n}=e;const i={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,r){var b;await new Promise(w=>requestAnimationFrame(w)),await new Promise(w=>requestAnimationFrame(w)),s.style.visibility="";const{x:a,y:c,sx:h,sy:d,speed:f}=r1(t.target,s),m=ec(s,[{transform:`translate(${a}px, ${c}px) scale(${h}, ${d})`,opacity:0},{}],{duration:225*f,easing:xq});(b=s1(s))==null||b.forEach(w=>{ec(w,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*f,easing:ym})}),m.finished.then(()=>r())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,r){var b;await new Promise(w=>requestAnimationFrame(w));const{x:a,y:c,sx:h,sy:d,speed:f}=r1(t.target,s);ec(s,[{},{transform:`translate(${a}px, ${c}px) scale(${h}, ${d})`,opacity:0}],{duration:125*f,easing:Eq}).finished.then(()=>r()),(b=s1(s))==null||b.forEach(w=>{ec(w,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*f,easing:ym})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>t.target?Q(oo,lt({name:"dialog-transition"},i,{css:!1}),n):Q(oo,{name:"dialog-transition"},n)}});function s1(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function r1(t,e){const n=lO(t),i=X_(e),[s,r]=getComputedStyle(e).transformOrigin.split(" ").map(k=>parseFloat(k)),[a,c]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let h=n.left+n.width/2;a==="left"||c==="left"?h-=n.width/2:(a==="right"||c==="right")&&(h+=n.width/2);let d=n.top+n.height/2;a==="top"||c==="top"?d-=n.height/2:(a==="bottom"||c==="bottom")&&(d+=n.height/2);const f=n.width/i.width,m=n.height/i.height,b=Math.max(1,f,m),w=f/b||0,y=m/b||0,v=i.width*i.height/(window.innerWidth*window.innerHeight),x=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:h-(s+i.left),y:d-(r+i.top),sx:w,sy:y,speed:x}}ms("fab-transition","center center","out-in");ms("dialog-bottom-transition");ms("dialog-top-transition");const DY=ms("fade-transition"),fJ=ms("scale-transition");ms("scroll-x-transition");ms("scroll-x-reverse-transition");ms("scroll-y-transition");ms("scroll-y-reverse-transition");ms("slide-x-transition");ms("slide-x-reverse-transition");const iM=ms("slide-y-transition");ms("slide-y-reverse-transition");const sM=eM("expand-transition",tM()),NY=eM("expand-x-transition",tM("",!0)),LY=Le({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Nt(),...wg({transition:{component:iM}})},"VCounter"),VY=nt()({name:"VCounter",functional:!0,props:LY(),setup(t,e){let{slots:n}=e;const i=re(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return pt(()=>Q(pr,{transition:t.transition},{default:()=>[Ei(Q("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:i.value,max:t.max,value:t.value}):i.value]),[[rd,t.active]])]})),{}}}),FY=Le({text:String,onClick:ds(),...Nt(),...Gn()},"VLabel"),BY=nt()({name:"VLabel",props:FY(),setup(t,e){let{slots:n}=e;return pt(()=>{var i;return Q("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),UY=Le({floating:Boolean,...Nt()},"VFieldLabel"),sp=nt()({name:"VFieldLabel",props:UY(),setup(t,e){let{slots:n}=e;return pt(()=>Q(BY,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}});function rM(t){const{t:e}=Jc();function n(i){let{name:s}=i;const r={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],a=t[`onClick:${s}`],c=a&&r?e(`$vuetify.input.${r}`,t.label??""):void 0;return Q(Ps,{icon:t[`${s}Icon`],"aria-label":c,onClick:a},null)}return{InputIcon:n}}const fw=Le({focused:Boolean,"onUpdate:focused":ds()},"focus");function pw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr();const n=rn(t,"focused"),i=re(()=>({[`${e}--focused`]:n.value}));function s(){n.value=!0}function r(){n.value=!1}return{focusClasses:i,isFocused:n,focus:s,blur:r}}const jY=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],oM=Le({appendInnerIcon:cn,bgColor:String,clearable:Boolean,clearIcon:{type:cn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:cn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>jY.includes(t)},"onClick:clear":ds(),"onClick:appendInner":ds(),"onClick:prependInner":ds(),...Nt(),...nw(),...Zi(),...Gn()},"VField"),aM=nt()({name:"VField",inheritAttrs:!1,props:{id:String,...fw(),...oM()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{themeClasses:r}=oi(t),{loaderClasses:a}=iw(t),{focusClasses:c,isFocused:h,focus:d,blur:f}=pw(t),{InputIcon:m}=rM(t),{roundedClasses:b}=es(t),{rtlClasses:w}=Nr(),y=re(()=>t.dirty||t.active),v=re(()=>!t.singleLine&&!!(t.label||s.label)),x=Ir(),k=re(()=>t.id||`input-${x}`),I=re(()=>`${k.value}-messages`),D=Ye(),N=Ye(),F=Ye(),O=re(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:S,backgroundColorStyles:A}=Ji(Ct(t,"bgColor")),{textColorClasses:L,textColorStyles:U}=ho(re(()=>t.error||t.disabled?void 0:y.value&&h.value?t.color:t.baseColor));dt(y,q=>{if(v.value){const Z=D.value.$el,ie=N.value.$el;requestAnimationFrame(()=>{const oe=X_(Z),ce=ie.getBoundingClientRect(),ve=ce.x-oe.x,we=ce.y-oe.y-(oe.height/2-ce.height/2),be=ce.width/.75,Ce=Math.abs(be-oe.width)>1?{maxWidth:_t(be)}:void 0,De=getComputedStyle(Z),We=getComputedStyle(ie),rt=parseFloat(De.transitionDuration)*1e3||150,$e=parseFloat(We.getPropertyValue("--v-field-label-scale")),ge=We.getPropertyValue("color");Z.style.visibility="visible",ie.style.visibility="hidden",ec(Z,{transform:`translate(${ve}px, ${we}px) scale(${$e})`,color:ge,...Ce},{duration:rt,easing:ym,direction:q?"normal":"reverse"}).finished.then(()=>{Z.style.removeProperty("visibility"),ie.style.removeProperty("visibility")})})}},{flush:"post"});const z=re(()=>({isActive:y,isFocused:h,controlRef:F,blur:f,focus:d}));function G(q){q.target!==document.activeElement&&q.preventDefault()}function H(q){var Z;q.key!=="Enter"&&q.key!==" "||(q.preventDefault(),q.stopPropagation(),(Z=t["onClick:clear"])==null||Z.call(t,new MouseEvent("click")))}return pt(()=>{var ve,we,be;const q=t.variant==="outlined",Z=!!(s["prepend-inner"]||t.prependInnerIcon),ie=!!(t.clearable||s.clear),oe=!!(s["append-inner"]||t.appendInnerIcon||ie),ce=()=>s.label?s.label({...z.value,label:t.label,props:{for:k.value}}):t.label;return Q("div",lt({class:["v-field",{"v-field--active":y.value,"v-field--appended":oe,"v-field--center-affix":t.centerAffix??!O.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":Z,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!ce(),[`v-field--variant-${t.variant}`]:!0},r.value,S.value,c.value,a.value,b.value,w.value,t.class],style:[A.value,t.style],onClick:G},n),[Q("div",{class:"v-field__overlay"},null),Q(kO,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:s.loader}),Z&&Q("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&Q(m,{key:"prepend-icon",name:"prependInner"},null),(ve=s["prepend-inner"])==null?void 0:ve.call(s,z.value)]),Q("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&v.value&&Q(sp,{key:"floating-label",ref:N,class:[L.value],floating:!0,for:k.value,style:U.value},{default:()=>[ce()]}),v.value&&Q(sp,{key:"label",ref:D,for:k.value},{default:()=>[ce()]}),(we=s.default)==null?void 0:we.call(s,{...z.value,props:{id:k.value,class:"v-field__input","aria-describedby":I.value},focus:d,blur:f})]),ie&&Q(NY,{key:"clear"},{default:()=>[Ei(Q("div",{class:"v-field__clearable",onMousedown:Ce=>{Ce.preventDefault(),Ce.stopPropagation()}},[Q(bn,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[s.clear?s.clear({...z.value,props:{onKeydown:H,onFocus:d,onBlur:f,onClick:t["onClick:clear"]}}):Q(m,{name:"clear",onKeydown:H,onFocus:d,onBlur:f},null)]})]),[[rd,t.dirty]])]}),oe&&Q("div",{key:"append",class:"v-field__append-inner"},[(be=s["append-inner"])==null?void 0:be.call(s,z.value),t.appendInnerIcon&&Q(m,{key:"append-icon",name:"appendInner"},null)]),Q("div",{class:["v-field__outline",L.value],style:U.value},[q&&Q(At,null,[Q("div",{class:"v-field__outline__start"},null),v.value&&Q("div",{class:"v-field__outline__notch"},[Q(sp,{ref:N,floating:!0,for:k.value},{default:()=>[ce()]})]),Q("div",{class:"v-field__outline__end"},null)]),O.value&&v.value&&Q(sp,{ref:N,floating:!0,for:k.value},{default:()=>[ce()]})])])}),{controlRef:F}}});function HY(t){const e=Object.keys(aM.props).filter(n=>!K_(n)&&n!=="class"&&n!=="style");return nO(t,e)}const $Y=Le({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Nt(),...wg({transition:{component:iM,leaveAbsolute:!0,group:!0}})},"VMessages"),zY=nt()({name:"VMessages",props:$Y(),setup(t,e){let{slots:n}=e;const i=re(()=>Is(t.messages)),{textColorClasses:s,textColorStyles:r}=ho(re(()=>t.color));return pt(()=>Q(pr,{transition:t.transition,tag:"div",class:["v-messages",s.value,t.class],style:[r.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&i.value.map((a,c)=>Q("div",{class:"v-messages__message",key:`${c}-${i.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),WY=Le({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...fw()},"validation");function GY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ir();const i=rn(t,"modelValue"),s=re(()=>t.validationValue===void 0?i.value:t.validationValue),r=QO(t),a=Ye([]),c=ht(!0),h=re(()=>!!(Is(i.value===""?null:i.value).length||Is(s.value===""?null:s.value).length)),d=re(()=>{var D;return(D=t.errorMessages)!=null&&D.length?Is(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),f=re(()=>{var F;let D=(t.validateOn??((F=r.validateOn)==null?void 0:F.value))||"input";D==="lazy"&&(D="input lazy"),D==="eager"&&(D="input eager");const N=new Set((D==null?void 0:D.split(" "))??[]);return{input:N.has("input"),blur:N.has("blur")||N.has("input")||N.has("invalid-input"),invalidInput:N.has("invalid-input"),lazy:N.has("lazy"),eager:N.has("eager")}}),m=re(()=>{var D;return t.error||(D=t.errorMessages)!=null&&D.length?!1:t.rules.length?c.value?a.value.length||f.value.lazy?null:!0:!a.value.length:!0}),b=ht(!1),w=re(()=>({[`${e}--error`]:m.value===!1,[`${e}--dirty`]:h.value,[`${e}--disabled`]:r.isDisabled.value,[`${e}--readonly`]:r.isReadonly.value})),y=Wn("validation"),v=re(()=>t.name??He(n));nd(()=>{var D;(D=r.register)==null||D.call(r,{id:v.value,vm:y,validate:I,reset:x,resetValidation:k})}),yi(()=>{var D;(D=r.unregister)==null||D.call(r,v.value)}),ps(async()=>{var D;f.value.lazy||await I(!f.value.eager),(D=r.update)==null||D.call(r,v.value,m.value,d.value)}),As(()=>f.value.input||f.value.invalidInput&&m.value===!1,()=>{dt(s,()=>{if(s.value!=null)I();else if(t.focused){const D=dt(()=>t.focused,N=>{N||I(),D()})}})}),As(()=>f.value.blur,()=>{dt(()=>t.focused,D=>{D||I()})}),dt([m,d],()=>{var D;(D=r.update)==null||D.call(r,v.value,m.value,d.value)});async function x(){i.value=null,await gi(),await k()}async function k(){c.value=!0,f.value.lazy?a.value=[]:await I(!f.value.eager)}async function I(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const N=[];b.value=!0;for(const F of t.rules){if(N.length>=+(t.maxErrors??1))break;const S=await(typeof F=="function"?F:()=>F)(s.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}N.push(S||"")}}return a.value=N,b.value=!1,c.value=D,a.value}return{errorMessages:d,isDirty:h,isDisabled:r.isDisabled,isReadonly:r.isReadonly,isPristine:c,isValid:m,isValidating:b,reset:x,resetValidation:k,validate:I,validationClasses:w}}const lM=Le({id:String,appendIcon:cn,centerAffix:{type:Boolean,default:!0},prependIcon:cn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":ds(),"onClick:append":ds(),...Nt(),...wo(),...F5(Mr(),["maxWidth","minWidth","width"]),...Gn(),...WY()},"VInput"),o1=nt()({name:"VInput",props:{...lM()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const{densityClasses:r}=ma(t),{dimensionStyles:a}=Dr(t),{themeClasses:c}=oi(t),{rtlClasses:h}=Nr(),{InputIcon:d}=rM(t),f=Ir(),m=re(()=>t.id||`input-${f}`),b=re(()=>`${m.value}-messages`),{errorMessages:w,isDirty:y,isDisabled:v,isReadonly:x,isPristine:k,isValid:I,isValidating:D,reset:N,resetValidation:F,validate:O,validationClasses:S}=GY(t,"v-input",m),A=re(()=>({id:m,messagesId:b,isDirty:y,isDisabled:v,isReadonly:x,isPristine:k,isValid:I,isValidating:D,reset:N,resetValidation:F,validate:O})),L=re(()=>{var U;return(U=t.errorMessages)!=null&&U.length||!k.value&&w.value.length?w.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return pt(()=>{var q,Z,ie,oe;const U=!!(i.prepend||t.prependIcon),z=!!(i.append||t.appendIcon),G=L.value.length>0,H=!t.hideDetails||t.hideDetails==="auto"&&(G||!!i.details);return Q("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},r.value,c.value,h.value,S.value,t.class],style:[a.value,t.style]},[U&&Q("div",{key:"prepend",class:"v-input__prepend"},[(q=i.prepend)==null?void 0:q.call(i,A.value),t.prependIcon&&Q(d,{key:"prepend-icon",name:"prepend"},null)]),i.default&&Q("div",{class:"v-input__control"},[(Z=i.default)==null?void 0:Z.call(i,A.value)]),z&&Q("div",{key:"append",class:"v-input__append"},[t.appendIcon&&Q(d,{key:"append-icon",name:"append"},null),(ie=i.append)==null?void 0:ie.call(i,A.value)]),H&&Q("div",{class:"v-input__details"},[Q(zY,{id:b.value,active:G,messages:L.value},{message:i.message}),(oe=i.details)==null?void 0:oe.call(i,A.value)])])}),{reset:N,resetValidation:F,validate:O,isValid:I,errorMessages:w}}}),qY=["color","file","time","date","datetime-local","week","month"],mw=Le({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...lM(),...oM()},"VTextField"),ua=nt()({name:"VTextField",directives:{Intersect:UO},inheritAttrs:!1,props:mw(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const r=rn(t,"modelValue"),{isFocused:a,focus:c,blur:h}=pw(t),d=re(()=>typeof t.counterValue=="function"?t.counterValue(r.value):typeof t.counterValue=="number"?t.counterValue:(r.value??"").toString().length),f=re(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),m=re(()=>["plain","underlined"].includes(t.variant));function b(O,S){var A,L;!t.autofocus||!O||(L=(A=S[0].target)==null?void 0:A.focus)==null||L.call(A)}const w=Ye(),y=Ye(),v=Ye(),x=re(()=>qY.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function k(){var O;v.value!==document.activeElement&&((O=v.value)==null||O.focus()),a.value||c()}function I(O){i("mousedown:control",O),O.target!==v.value&&(k(),O.preventDefault())}function D(O){k(),i("click:control",O)}function N(O){O.stopPropagation(),k(),gi(()=>{r.value=null,$5(t["onClick:clear"],O)})}function F(O){var A;const S=O.target;if(r.value=S.value,(A=t.modelModifiers)!=null&&A.trim&&["text","search","password","tel","url"].includes(t.type)){const L=[S.selectionStart,S.selectionEnd];gi(()=>{S.selectionStart=L[0],S.selectionEnd=L[1]})}}return pt(()=>{const O=!!(s.counter||t.counter!==!1&&t.counter!=null),S=!!(O||s.details),[A,L]=U5(n),{modelValue:U,...z}=o1.filterProps(t),G=HY(t);return Q(o1,lt({ref:w,modelValue:r.value,"onUpdate:modelValue":H=>r.value=H,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":m.value},t.class],style:t.style},A,z,{centerAffix:!m.value,focused:a.value}),{...s,default:H=>{let{id:q,isDisabled:Z,isDirty:ie,isReadonly:oe,isValid:ce}=H;return Q(aM,lt({ref:y,onMousedown:I,onClick:D,"onClick:clear":N,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},G,{id:q.value,active:x.value||ie.value,dirty:ie.value||t.dirty,disabled:Z.value,focused:a.value,error:ce.value===!1}),{...s,default:ve=>{let{props:{class:we,...be}}=ve;const Ce=Ei(Q("input",lt({ref:v,value:r.value,onInput:F,autofocus:t.autofocus,readonly:oe.value,disabled:Z.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:k,onBlur:h},be,L),null),[[id("intersect"),{handler:b},null,{once:!0}]]);return Q(At,null,[t.prefix&&Q("span",{class:"v-text-field__prefix"},[Q("span",{class:"v-text-field__prefix__text"},[t.prefix])]),s.default?Q("div",{class:we,"data-no-activator":""},[s.default(),Ce]):vr(Ce,{class:we}),t.suffix&&Q("span",{class:"v-text-field__suffix"},[Q("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}})},details:S?H=>{var q;return Q(At,null,[(q=s.details)==null?void 0:q.call(s,H),O&&Q(At,null,[Q("span",null,null),Q(VY,{active:t.persistentCounter||a.value,value:d.value,max:f.value,disabled:t.disabled},s.counter)])])}:void 0})}),Zc({},w,y,v)}});function KY(){return!0}function cM(t,e,n){if(!t||uM(t,n)===!1)return!1;const i=mO(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(e),!s.some(r=>r==null?void 0:r.contains(t.target))}function uM(t,e){return(typeof e.value=="object"&&e.value.closeConditional||KY)(t)}function YY(t,e,n){const i=typeof n.value=="function"?n.value:n.value.handler;t.shadowTarget=t.target,e._clickOutside.lastMousedownWasOutside&&cM(t,e,n)&&setTimeout(()=>{uM(t,n)&&i&&i(t)},0)}function a1(t,e){const n=mO(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const XY={mounted(t,e){const n=s=>YY(s,t,e),i=s=>{t._clickOutside.lastMousedownWasOutside=cM(s,t,e)};a1(t,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",i,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(t,e){t._clickOutside&&(a1(t,n=>{var r;if(!n||!((r=t._clickOutside)!=null&&r[e.instance.$.uid]))return;const{onClick:i,onMousedown:s}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",s,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Tv(t,e){return{x:t.x+e.x,y:t.y+e.y}}function JY(t,e){return{x:t.x-e.x,y:t.y-e.y}}function l1(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:i}=t,s=i==="left"?0:i==="center"?e.width/2:i==="right"?e.width:i,r=n==="top"?0:n==="bottom"?e.height:n;return Tv({x:s,y:r},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:i}=t,s=n==="left"?0:n==="right"?e.width:n,r=i==="top"?0:i==="center"?e.height/2:i==="bottom"?e.height:i;return Tv({x:s,y:r},e)}return Tv({x:e.width/2,y:e.height/2},e)}const hM={static:eX,connected:nX},QY=Le({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in hM},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function ZY(t,e){const n=Ye({}),i=Ye();hn&&As(()=>!!(e.isActive.value&&t.locationStrategy),r=>{var a,c;dt(()=>t.locationStrategy,r),fs(()=>{window.removeEventListener("resize",s),i.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof t.locationStrategy=="function"?i.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:i.value=(c=hM[t.locationStrategy](e,t,n))==null?void 0:c.updateLocation});function s(r){var a;(a=i.value)==null||a.call(i,r)}return{contentStyles:n,updateLocation:i}}function eX(){}function tX(t,e){const n=X_(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function nX(t,e,n){(Array.isArray(t.target.value)||kq(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:r}=Y_(()=>{const y=$b(e.location,t.isRtl.value),v=e.origin==="overlap"?y:e.origin==="auto"?vv(y):$b(e.origin,t.isRtl.value);return y.side===v.side&&y.align===bv(v).align?{preferredAnchor:kS(y),preferredOrigin:kS(v)}:{preferredAnchor:y,preferredOrigin:v}}),[a,c,h,d]=["minWidth","minHeight","maxWidth","maxHeight"].map(y=>re(()=>{const v=parseFloat(e[y]);return isNaN(v)?1/0:v})),f=re(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const y=e.offset.split(" ").map(parseFloat);return y.length<2&&y.push(0),y}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let m=!1;const b=new ResizeObserver(()=>{m&&w()});dt([t.target,t.contentEl],(y,v)=>{let[x,k]=y,[I,D]=v;I&&!Array.isArray(I)&&b.unobserve(I),x&&!Array.isArray(x)&&b.observe(x),D&&b.unobserve(D),k&&b.observe(k)},{immediate:!0}),fs(()=>{b.disconnect()});function w(){if(m=!1,requestAnimationFrame(()=>m=!0),!t.target.value||!t.contentEl.value)return;const y=lO(t.target.value),v=tX(t.contentEl.value,t.isRtl.value),x=vm(t.contentEl.value),k=12;x.length||(x.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(v.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),v.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const I=x.reduce((z,G)=>{const H=G.getBoundingClientRect(),q=new il({x:G===document.documentElement?0:H.x,y:G===document.documentElement?0:H.y,width:G.clientWidth,height:G.clientHeight});return z?new il({x:Math.max(z.left,q.left),y:Math.max(z.top,q.top),width:Math.min(z.right,q.right)-Math.max(z.left,q.left),height:Math.min(z.bottom,q.bottom)-Math.max(z.top,q.top)}):q},void 0);I.x+=k,I.y+=k,I.width-=k*2,I.height-=k*2;let D={anchor:s.value,origin:r.value};function N(z){const G=new il(v),H=l1(z.anchor,y),q=l1(z.origin,G);let{x:Z,y:ie}=JY(H,q);switch(z.anchor.side){case"top":ie-=f.value[0];break;case"bottom":ie+=f.value[0];break;case"left":Z-=f.value[0];break;case"right":Z+=f.value[0];break}switch(z.anchor.align){case"top":ie-=f.value[1];break;case"bottom":ie+=f.value[1];break;case"left":Z-=f.value[1];break;case"right":Z+=f.value[1];break}return G.x+=Z,G.y+=ie,G.width=Math.min(G.width,h.value),G.height=Math.min(G.height,d.value),{overflows:AS(G,I),x:Z,y:ie}}let F=0,O=0;const S={x:0,y:0},A={x:!1,y:!1};let L=-1;for(;!(L++>10);){const{x:z,y:G,overflows:H}=N(D);F+=z,O+=G,v.x+=z,v.y+=G;{const q=IS(D.anchor),Z=H.x.before||H.x.after,ie=H.y.before||H.y.after;let oe=!1;if(["x","y"].forEach(ce=>{if(ce==="x"&&Z&&!A.x||ce==="y"&&ie&&!A.y){const ve={anchor:{...D.anchor},origin:{...D.origin}},we=ce==="x"?q==="y"?bv:vv:q==="y"?vv:bv;ve.anchor=we(ve.anchor),ve.origin=we(ve.origin);const{overflows:be}=N(ve);(be[ce].before<=H[ce].before&&be[ce].after<=H[ce].after||be[ce].before+be[ce].after<(H[ce].before+H[ce].after)/2)&&(D=ve,oe=A[ce]=!0)}}),oe)continue}H.x.before&&(F+=H.x.before,v.x+=H.x.before),H.x.after&&(F-=H.x.after,v.x-=H.x.after),H.y.before&&(O+=H.y.before,v.y+=H.y.before),H.y.after&&(O-=H.y.after,v.y-=H.y.after);{const q=AS(v,I);S.x=I.width-q.x.before-q.x.after,S.y=I.height-q.y.before-q.y.after,F+=q.x.before,v.x+=q.x.before,O+=q.y.before,v.y+=q.y.before}break}const U=IS(D.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${D.anchor.side} ${D.anchor.align}`,transformOrigin:`${D.origin.side} ${D.origin.align}`,top:_t(Sv(O)),left:t.isRtl.value?void 0:_t(Sv(F)),right:t.isRtl.value?_t(Sv(-F)):void 0,minWidth:_t(U==="y"?Math.min(a.value,y.width):a.value),maxWidth:_t(c1(uo(S.x,a.value===1/0?0:a.value,h.value))),maxHeight:_t(c1(uo(S.y,c.value===1/0?0:c.value,d.value)))}),{available:S,contentBox:v}}return dt(()=>[s.value,r.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>w()),gi(()=>{const y=w();if(!y)return;const{available:v,contentBox:x}=y;x.height>v.y&&requestAnimationFrame(()=>{w(),requestAnimationFrame(()=>{w()})})}),{updateLocation:w}}function Sv(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function c1(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Qb=!0;const Sm=[];function iX(t){!Qb||Sm.length?(Sm.push(t),Zb()):(Qb=!1,t(),Zb())}let u1=-1;function Zb(){cancelAnimationFrame(u1),u1=requestAnimationFrame(()=>{const t=Sm.shift();t&&t(),Sm.length?Zb():Qb=!0})}const _p={none:null,close:oX,block:aX,reposition:lX},sX=Le({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in _p}},"VOverlay-scroll-strategies");function rX(t,e){if(!hn)return;let n;Qi(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Lc(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(i=_p[t.scrollStrategy])==null||i.call(_p,e,t,n)}))}),fs(()=>{n==null||n.stop()})}function oX(t){function e(n){t.isActive.value=!1}dM(t.targetEl.value??t.contentEl.value,e)}function aX(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,i=[...new Set([...vm(t.targetEl.value,e.contained?n:void 0),...vm(t.contentEl.value,e.contained?n:void 0)])].filter(c=>!c.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,r=(c=>Z_(c)&&c)(n||document.documentElement);r&&t.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((c,h)=>{c.style.setProperty("--v-body-scroll-x",_t(-c.scrollLeft)),c.style.setProperty("--v-body-scroll-y",_t(-c.scrollTop)),c!==document.documentElement&&c.style.setProperty("--v-scrollbar-offset",_t(s)),c.classList.add("v-overlay-scroll-blocked")}),fs(()=>{i.forEach((c,h)=>{const d=parseFloat(c.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(c.style.getPropertyValue("--v-body-scroll-y")),m=c.style.scrollBehavior;c.style.scrollBehavior="auto",c.style.removeProperty("--v-body-scroll-x"),c.style.removeProperty("--v-body-scroll-y"),c.style.removeProperty("--v-scrollbar-offset"),c.classList.remove("v-overlay-scroll-blocked"),c.scrollLeft=-d,c.scrollTop=-f,c.style.scrollBehavior=m}),r&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function lX(t,e,n){let i=!1,s=-1,r=-1;function a(c){iX(()=>{var f,m;const h=performance.now();(m=(f=t.updateLocation).value)==null||m.call(f,c),i=(performance.now()-h)/(1e3/60)>2})}r=(typeof requestIdleCallback>"u"?c=>c():requestIdleCallback)(()=>{n.run(()=>{dM(t.targetEl.value??t.contentEl.value,c=>{i?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{a(c)})})):a(c)})})}),fs(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(r),cancelAnimationFrame(s)})}function dM(t,e){const n=[document,...vm(t)];n.forEach(i=>{i.addEventListener("scroll",e,{passive:!0})}),fs(()=>{n.forEach(i=>{i.removeEventListener("scroll",e)})})}const e0=Symbol.for("vuetify:v-menu"),fM=Le({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function pM(t,e){let n=()=>{};function i(a){n==null||n();const c=Number(a?t.openDelay:t.closeDelay);return new Promise(h=>{n=G5(c,()=>{e==null||e(a),h(a)})})}function s(){return i(!0)}function r(){return i(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:r}}const cX=Le({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...fM()},"VOverlay-activator");function uX(t,e){let{isActive:n,isTop:i,contentEl:s}=e;const r=Wn("useActivator"),a=Ye();let c=!1,h=!1,d=!0;const f=re(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),m=re(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!f.value),{runOpenDelay:b,runCloseDelay:w}=pM(t,A=>{A===(t.openOnHover&&c||f.value&&h)&&!(t.openOnHover&&n.value&&!i.value)&&(n.value!==A&&(d=!0),n.value=A)}),y=Ye(),v={onClick:A=>{A.stopPropagation(),a.value=A.currentTarget||A.target,n.value||(y.value=[A.clientX,A.clientY]),n.value=!n.value},onMouseenter:A=>{var L;(L=A.sourceCapabilities)!=null&&L.firesTouchEvents||(c=!0,a.value=A.currentTarget||A.target,b())},onMouseleave:A=>{c=!1,w()},onFocus:A=>{z5(A.target,":focus-visible")!==!1&&(h=!0,A.stopPropagation(),a.value=A.currentTarget||A.target,b())},onBlur:A=>{h=!1,A.stopPropagation(),w()}},x=re(()=>{const A={};return m.value&&(A.onClick=v.onClick),t.openOnHover&&(A.onMouseenter=v.onMouseenter,A.onMouseleave=v.onMouseleave),f.value&&(A.onFocus=v.onFocus,A.onBlur=v.onBlur),A}),k=re(()=>{const A={};if(t.openOnHover&&(A.onMouseenter=()=>{c=!0,b()},A.onMouseleave=()=>{c=!1,w()}),f.value&&(A.onFocusin=()=>{h=!0,b()},A.onFocusout=()=>{h=!1,w()}),t.closeOnContentClick){const L=zt(e0,null);A.onClick=()=>{n.value=!1,L==null||L.closeParents()}}return A}),I=re(()=>{const A={};return t.openOnHover&&(A.onMouseenter=()=>{d&&(c=!0,d=!1,b())},A.onMouseleave=()=>{c=!1,w()}),A});dt(i,A=>{var L;A&&(t.openOnHover&&!c&&(!f.value||!h)||f.value&&!h&&(!t.openOnHover||!c))&&!((L=s.value)!=null&&L.contains(document.activeElement))&&(n.value=!1)}),dt(n,A=>{A||setTimeout(()=>{y.value=void 0})},{flush:"post"});const D=mm();Qi(()=>{D.value&&gi(()=>{a.value=D.el})});const N=mm(),F=re(()=>t.target==="cursor"&&y.value?y.value:N.value?N.el:mM(t.target,r)||a.value),O=re(()=>Array.isArray(F.value)?void 0:F.value);let S;return dt(()=>!!t.activator,A=>{A&&hn?(S=Lc(),S.run(()=>{hX(t,r,{activatorEl:a,activatorEvents:x})})):S&&S.stop()},{flush:"post",immediate:!0}),fs(()=>{S==null||S.stop()}),{activatorEl:a,activatorRef:D,target:F,targetEl:O,targetRef:N,activatorEvents:x,contentEvents:k,scrimEvents:I}}function hX(t,e,n){let{activatorEl:i,activatorEvents:s}=n;dt(()=>t.activator,(h,d)=>{if(d&&h!==d){const f=c(d);f&&a(f)}h&&gi(()=>r())},{immediate:!0}),dt(()=>t.activatorProps,()=>{r()}),fs(()=>{a()});function r(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;h&&Y5(h,lt(s.value,d))}function a(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;h&&X5(h,lt(s.value,d))}function c(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const d=mM(h,e);return i.value=(d==null?void 0:d.nodeType)===Node.ELEMENT_NODE?d:void 0,i.value}}function mM(t,e){var i,s;if(!t)return;let n;if(t==="parent"){let r=(s=(i=e==null?void 0:e.proxy)==null?void 0:i.$el)==null?void 0:s.parentNode;for(;r!=null&&r.hasAttribute("data-no-activator");)r=r.parentNode;n=r}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function dX(){if(!hn)return ht(!1);const{ssr:t}=cw();if(t){const e=ht(!1);return ps(()=>{e.value=!0}),e}else return ht(!0)}const fX=Le({eager:Boolean},"lazy");function pX(t,e){const n=ht(!1),i=re(()=>n.value||t.eager||e.value);dt(e,()=>n.value=!0);function s(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:s}}function Id(){const e=Wn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const h1=Symbol.for("vuetify:stack"),Xu=ti([]);function mX(t,e,n){const i=Wn("useStack"),s=!n,r=zt(h1,void 0),a=ti({activeChildren:new Set});mi(h1,a);const c=ht(+e.value);As(t,()=>{var m;const f=(m=Xu.at(-1))==null?void 0:m[1];c.value=f?f+10:+e.value,s&&Xu.push([i.uid,c.value]),r==null||r.activeChildren.add(i.uid),fs(()=>{if(s){const b=st(Xu).findIndex(w=>w[0]===i.uid);Xu.splice(b,1)}r==null||r.activeChildren.delete(i.uid)})});const h=ht(!0);s&&Qi(()=>{var m;const f=((m=Xu.at(-1))==null?void 0:m[0])===i.uid;setTimeout(()=>h.value=f)});const d=re(()=>!a.activeChildren.size);return{globalTop:Zh(h),localTop:d,stackStyles:re(()=>({zIndex:c.value}))}}function gX(t){return{teleportTarget:re(()=>{const n=t();if(n===!0||!hn)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let s=[...i.children].find(r=>r.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",i.appendChild(s)),s})}}function yX(t){const{modelValue:e,color:n,...i}=t;return Q(oo,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&Q("div",lt({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},i),null)]})}const Tg=Le({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...cX(),...Nt(),...Mr(),...fX(),...QY(),...sX(),...Gn(),...wg()},"VOverlay"),Dc=nt()({name:"VOverlay",directives:{ClickOutside:XY},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Tg()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:i,emit:s}=e;const r=Wn("VOverlay"),a=Ye(),c=Ye(),h=Ye(),d=rn(t,"modelValue"),f=re({get:()=>d.value,set:$e=>{$e&&t.disabled||(d.value=$e)}}),{themeClasses:m}=oi(t),{rtlClasses:b,isRtl:w}=Nr(),{hasContent:y,onAfterLeave:v}=pX(t,f),x=Ji(re(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:k,localTop:I,stackStyles:D}=mX(f,Ct(t,"zIndex"),t._disableGlobalStack),{activatorEl:N,activatorRef:F,target:O,targetEl:S,targetRef:A,activatorEvents:L,contentEvents:U,scrimEvents:z}=uX(t,{isActive:f,isTop:I,contentEl:h}),{teleportTarget:G}=gX(()=>{var Ae,Ne,Ge;const $e=t.attach||t.contained;if($e)return $e;const ge=((Ae=N==null?void 0:N.value)==null?void 0:Ae.getRootNode())||((Ge=(Ne=r.proxy)==null?void 0:Ne.$el)==null?void 0:Ge.getRootNode());return ge instanceof ShadowRoot?ge:!1}),{dimensionStyles:H}=Dr(t),q=dX(),{scopeId:Z}=Id();dt(()=>t.disabled,$e=>{$e&&(f.value=!1)});const{contentStyles:ie,updateLocation:oe}=ZY(t,{isRtl:w,contentEl:h,target:O,isActive:f});rX(t,{root:a,contentEl:h,targetEl:S,isActive:f,updateLocation:oe});function ce($e){s("click:outside",$e),t.persistent?De():f.value=!1}function ve($e){return f.value&&k.value&&(!t.scrim||$e.target===c.value||$e instanceof MouseEvent&&$e.shadowTarget===c.value)}hn&&dt(f,$e=>{$e?window.addEventListener("keydown",we):window.removeEventListener("keydown",we)},{immediate:!0}),yi(()=>{hn&&window.removeEventListener("keydown",we)});function we($e){var ge,Ae;$e.key==="Escape"&&k.value&&(t.persistent?De():(f.value=!1,(ge=h.value)!=null&&ge.contains(document.activeElement)&&((Ae=N.value)==null||Ae.focus())))}const be=IO();As(()=>t.closeOnBack,()=>{nK(be,$e=>{k.value&&f.value?($e(!1),t.persistent?De():f.value=!1):$e()})});const Ce=Ye();dt(()=>f.value&&(t.absolute||t.contained)&&G.value==null,$e=>{if($e){const ge=Tq(a.value);ge&&ge!==document.scrollingElement&&(Ce.value=ge.scrollTop)}});function De(){t.noClickAnimation||h.value&&ec(h.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:ym})}function We(){s("afterEnter")}function rt(){v(),s("afterLeave")}return pt(()=>{var $e;return Q(At,null,[($e=n.activator)==null?void 0:$e.call(n,{isActive:f.value,targetRef:A,props:lt({ref:F},L.value,t.activatorProps)}),q.value&&y.value&&Q(F2,{disabled:!G.value,to:G.value},{default:()=>[Q("div",lt({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":f.value,"v-overlay--contained":t.contained},m.value,b.value,t.class],style:[D.value,{"--v-overlay-opacity":t.opacity,top:_t(Ce.value)},t.style],ref:a},Z,i),[Q(yX,lt({color:x,modelValue:f.value&&!!t.scrim,ref:c},z.value),null),Q(pr,{appear:!0,persisted:!0,transition:t.transition,target:O.value,onAfterEnter:We,onAfterLeave:rt},{default:()=>{var ge;return[Ei(Q("div",lt({ref:h,class:["v-overlay__content",t.contentClass],style:[H.value,ie.value]},U.value,t.contentProps),[(ge=n.default)==null?void 0:ge.call(n,{isActive:f})]),[[rd,f.value],[id("click-outside"),{handler:ce,closeConditional:ve,include:()=>[N.value]}]])]}})])]})])}),{activatorEl:N,scrimEl:c,target:O,animateClick:De,contentEl:h,globalTop:k,localTop:I,updateLocation:oe}}}),vX=Le({id:String,text:String,...Ms(Tg({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),bX=nt()({name:"VTooltip",props:vX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rn(t,"modelValue"),{scopeId:s}=Id(),r=Ir(),a=re(()=>t.id||`v-tooltip-${r}`),c=Ye(),h=re(()=>t.location.split(" ").length>1?t.location:t.location+" center"),d=re(()=>t.origin==="auto"||t.origin==="overlap"||t.origin.split(" ").length>1||t.location.split(" ").length>1?t.origin:t.origin+" center"),f=re(()=>t.transition?t.transition:i.value?"scale-transition":"fade-transition"),m=re(()=>lt({"aria-describedby":a.value},t.activatorProps));return pt(()=>{const b=Dc.filterProps(t);return Q(Dc,lt({ref:c,class:["v-tooltip",t.class],style:t.style,id:a.value},b,{modelValue:i.value,"onUpdate:modelValue":w=>i.value=w,transition:f.value,absolute:!0,location:h.value,origin:d.value,persistent:!0,role:"tooltip",activatorProps:m.value,_disableGlobalStack:!0},s),{activator:n.activator,default:function(){var x;for(var w=arguments.length,y=new Array(w),v=0;v<w;v++)y[v]=arguments[v];return((x=n.default)==null?void 0:x.call(n,...y))??t.text}})}),Zc({},c)}});function _X(t,e){const n=typeof t=="string"?Ck(t):t,i=wX(n,e);return{mounted:i,updated:i,unmounted(s){iI(null,s)}}}function wX(t,e){return function(n,i,s){var m,b,w;const r=typeof e=="function"?e(i):e,a=((m=i.value)==null?void 0:m.text)??i.value??(r==null?void 0:r.text),c=eO(i.value)?i.value:{},h=()=>a??n.textContent,d=(s.ctx===i.instance.$?(b=CX(s,i.instance.$))==null?void 0:b.provides:(w=s.ctx)==null?void 0:w.provides)??i.instance.$.provides,f=yo(t,lt(r,c),h);f.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:d}),iI(f,n)}}function CX(t,e){const n=new Set,i=r=>{var a,c;for(const h of r){if(!h)continue;if(h===t||h.el&&t.el&&h.el===t.el)return!0;n.add(h);let d;if(h.suspense?d=i([h.ssContent]):Array.isArray(h.children)?d=i(h.children):(a=h.component)!=null&&a.vnode&&(d=i([(c=h.component)==null?void 0:c.subTree])),d)return d;n.delete(h)}return!1};if(!i([e.subTree]))return e;const s=Array.from(n).reverse();for(const r of s)if(r.component)return r.component;return e}const sl=_X(bX,t=>{var e;return{activator:"parent",location:(e=t.arg)==null?void 0:e.replace("-"," "),text:typeof t.value=="boolean"?void 0:t.value}}),xX=mo({__name:"Register",emits:["back","verificationSend"],setup(t,{emit:e}){const n=Yi(),i=re(()=>n.isDark),s=e,r=H_(),a=[b=>b?!0:"E-mail is required.",b=>/.+@.+\..+/.test(b)?!0:"E-mail must be valid."],c=[b=>b?!0:"Password is required.",b=>b.length>=6?!0:"Password must be at least 6 characters."],h=Ye(""),d=Ye(""),f=Ye(null);async function m(){f.value=null;try{const w=(await y$(r,h.value,d.value)).user;await lA(w),s("verificationSend"),s("back")}catch(b){f.value=b instanceof Error?b.message:"An unknown error occurred."}}return(b,w)=>(Qt(),Pn(Xh,{width:"100%",height:"100%",class:"d-flex justify-center align-center"},{default:Tt(()=>[Q(Xh,{class:"pa-4"},{default:Tt(()=>[Q(lw,null,{default:Tt(()=>w[4]||(w[4]=[ei("Registration")])),_:1}),Q(aw,{class:"pb-8"},{default:Tt(()=>w[5]||(w[5]=[ei(" Please register with a valid email and password. ")])),_:1}),Q(ZO,{"on-submit":m},{default:Tt(()=>[Q(ua,{rules:a,modelValue:He(h),"onUpdate:modelValue":w[0]||(w[0]=y=>Dt(h)?h.value=y:null),label:"Email",required:"",outlined:""},null,8,["modelValue"]),Q(ua,{rules:c,modelValue:He(d),"onUpdate:modelValue":w[1]||(w[1]=y=>Dt(d)?d.value=y:null),label:"Password",required:"",outlined:"",type:"password",onKeyup:tI(m,["enter"])},null,8,["modelValue"]),Q(kn,{onClick:m,color:"primary",width:"100%"},{default:Tt(()=>w[6]||(w[6]=[ei("Register")])),_:1})]),_:1})]),_:1}),Ei(Q(kn,{class:"position-absolute top-0 left-0 ma-5",icon:"mdi-arrow-left",slim:"",onClick:w[2]||(w[2]=y=>s("back"))},null,512),[[sl,"Back to Login"]]),Ei(Q(kn,{class:"position-absolute top-0 right-0 ma-5",icon:He(i)?"mdi-weather-night":"mdi-weather-sunny",slim:"",onClick:w[3]||(w[3]=y=>He(n).toggleTheme())},null,8,["icon"]),[[sl,"Toggle Theme"]]),He(f)?(Qt(),Pn(Tm,{key:0,closable:"",type:"error",class:"position-absolute bottom-0 ma-5 slide-y-transition"},{default:Tt(()=>[ei(rl(He(f)),1)]),_:1})):as("",!0)]),_:1}))}}),EX=xg(xX,[["__scopeId","data-v-33697208"]]),gM=Le({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Tg({origin:"center center",scrollStrategy:"block",transition:{component:nM},zIndex:2400})},"VDialog"),d1=nt()({name:"VDialog",props:gM(),emits:{"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=rn(t,"modelValue"),{scopeId:r}=Id(),a=Ye();function c(f){var w,y;const m=f.relatedTarget,b=f.target;if(m!==b&&((w=a.value)!=null&&w.contentEl)&&((y=a.value)!=null&&y.globalTop)&&![document,a.value.contentEl].includes(b)&&!a.value.contentEl.contains(b)){const v=pm(a.value.contentEl);if(!v.length)return;const x=v[0],k=v[v.length-1];m===x?k.focus():x.focus()}}yi(()=>{document.removeEventListener("focusin",c)}),hn&&dt(()=>s.value&&t.retainFocus,f=>{f?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0});function h(){var f;n("afterEnter"),(f=a.value)!=null&&f.contentEl&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function d(){n("afterLeave")}return dt(s,async f=>{var m;f||(await gi(),(m=a.value.activatorEl)==null||m.focus({preventScroll:!0}))}),pt(()=>{const f=Dc.filterProps(t),m=lt({"aria-haspopup":"dialog"},t.activatorProps),b=lt({tabindex:-1},t.contentProps);return Q(Dc,lt({ref:a,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},f,{modelValue:s.value,"onUpdate:modelValue":w=>s.value=w,"aria-modal":"true",activatorProps:m,contentProps:b,height:t.fullscreen?void 0:t.height,width:t.fullscreen?void 0:t.width,maxHeight:t.fullscreen?void 0:t.maxHeight,maxWidth:t.fullscreen?void 0:t.maxWidth,role:"dialog",onAfterEnter:h,onAfterLeave:d},r),{activator:i.activator,default:function(){for(var w=arguments.length,y=new Array(w),v=0;v<w;v++)y[v]=arguments[v];return Q(bn,{root:"VDialog"},{default:()=>{var x;return[(x=i.default)==null?void 0:x.call(i,...y)]}})}})}),Zc({},a)}}),TX=Le({inset:Boolean,...gM({transition:"bottom-sheet-transition"})},"VBottomSheet"),t0=nt()({name:"VBottomSheet",props:TX(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rn(t,"modelValue");return pt(()=>{const s=d1.filterProps(t);return Q(d1,lt(s,{contentClass:["v-bottom-sheet__content",t.contentClass],modelValue:i.value,"onUpdate:modelValue":r=>i.value=r,class:["v-bottom-sheet",{"v-bottom-sheet--inset":t.inset},t.class],style:t.style}),n)}),{}}}),SX=Le({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Nt(),...Gn()},"VDivider"),tc=nt()({name:"VDivider",props:SX(),setup(t,e){let{attrs:n,slots:i}=e;const{themeClasses:s}=oi(t),{textColorClasses:r,textColorStyles:a}=ho(Ct(t,"color")),c=re(()=>{const h={};return t.length&&(h[t.vertical?"height":"width"]=_t(t.length)),t.thickness&&(h[t.vertical?"borderRightWidth":"borderTopWidth"]=_t(t.thickness)),h});return pt(()=>{const h=Q("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},s.value,r.value,t.class],style:[c.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?Q("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[h,Q("div",{class:"v-divider__content"},[i.default()]),h]):h}),{}}}),kX={key:0},IX=mo({__name:"Login",setup(t){const n=Yi(),i=re(()=>n.isDark),s=H_(),r=_I(),a=re(()=>r.params.tenantId),c=[S=>S?!0:"E-mail is required.",S=>/.+@.+\..+/.test(S)?!0:"E-mail must be valid."],h=Ye(""),d=Ye(""),f=!0,m=new Yr,b=!0,w=new Xr,y=Ye(null),v=Ye(""),x=Ye(!1),k=Ye(void 0);function I(){y.value=null,v$(s,h.value,d.value).then(S=>{const A=S.user;A.emailVerified?v.value="Successfully logged in!":(y.value="Email not verified. Please check your inbox to verify your email before logging in.",k.value=A)}).catch(S=>{console.error("Failed sign-in",S),y.value=S})}function D(S){y.value=null,B$(s,S).catch(A=>{console.error("Failed sign",A),y.value=A})}function N(){x.value=!0}function F(){y.value=null,g$(s,h.value).then(()=>{v.value="Password reset email sent."}).catch(S=>{console.error("Failed reset",S),y.value="Please enter a valid email address."})}function O(){y.value=null,k.value&&lA(k.value).then(()=>{v.value="Verification email sent."}).catch(S=>{console.error("Failed resend",S),y.value=S}).finally(()=>{k.value=void 0})}return(S,A)=>{const L=EX;return Qt(),yc(At,null,[Q(Xh,{width:"100%",height:"100%",class:"d-flex justify-center align-center"},{default:Tt(()=>[Q(Xh,{class:"pa-4",loading:He(n).authLoading},{default:Tt(()=>[Q(lw,null,{default:Tt(()=>A[9]||(A[9]=[ei("Authentication")])),_:1}),Q(aw,{class:"pb-8"},{default:Tt(()=>A[10]||(A[10]=[ei(" You need to be authenticated to access this page. ")])),_:1}),Q(ZO,{"on-submit":I},{default:Tt(()=>[Q(ua,{rules:c,modelValue:He(h),"onUpdate:modelValue":A[0]||(A[0]=U=>Dt(h)?h.value=U:null),label:"Email",required:"",outlined:""},null,8,["modelValue"]),Q(ua,{modelValue:He(d),"onUpdate:modelValue":A[1]||(A[1]=U=>Dt(d)?d.value=U:null),label:"Password",required:"",outlined:"",type:"password",onKeyup:tI(I,["enter"])},null,8,["modelValue"]),Q(kn,{onClick:I,color:"primary",width:"100%"},{default:Tt(()=>A[11]||(A[11]=[ei("Confirm")])),_:1})]),_:1}),Q(jO,{class:"w-100 text-center text-grey"},{default:Tt(()=>[He(a)===(He(!0)?"free-tier":"free")?(Qt(),yc("span",kX,[A[12]||(A[12]=ei("No Account yet? Register ")),qi("a",{class:"register-link text-accent",onClick:N},"here")])):as("",!0),A[16]||(A[16]=qi("br",null,null,-1)),A[17]||(A[17]=qi("br",null,null,-1)),qi("small",null,[A[13]||(A[13]=ei("Forgot your Password?")),A[14]||(A[14]=qi("br",null,null,-1)),A[15]||(A[15]=ei(" Enter your email and click ")),qi("a",{class:"register-link text-accent",onClick:F},"Reset Password")])]),_:1}),He(a)===(He(!0)?"free-tier":"free")?(Qt(),Pn(tc,{key:0,class:"ma-4"})):as("",!0),He(a)===(He(!0)?"free-tier":"free")?(Qt(),Pn(Gb,{key:1,class:"d-flex justify-center align-center",rounded:"",variant:"outlined",divided:""},{default:Tt(()=>[f?Ei((Qt(),Pn(kn,{key:0,class:"pa-2",icon:"mdi-google",onClick:A[2]||(A[2]=U=>D(He(m)))},null,512)),[[sl,"Sign in with Google","bottom"]]):as("",!0),b?Ei((Qt(),Pn(kn,{key:1,class:"pa-2",icon:"mdi-github",onClick:A[3]||(A[3]=U=>D(He(w)))},null,512)),[[sl,"Sign in with GitHub","bottom"]]):as("",!0)]),_:1})):as("",!0)]),_:1},8,["loading"]),Ei(Q(kn,{class:"position-absolute top-0 right-0 ma-5",icon:He(i)?"mdi-weather-night":"mdi-weather-sunny",slim:"",onClick:A[4]||(A[4]=U=>He(n).toggleTheme())},null,8,["icon"]),[[sl,"Toggle Theme"]]),He(y)?(Qt(),Pn(Tm,{key:0,closable:"",type:"error",class:"position-absolute bottom-0 ma-5 slide-y-transition"},{append:Tt(()=>[He(k)?(Qt(),Pn(kn,{key:0,variant:"outlined",onClick:A[5]||(A[5]=U=>O())},{default:Tt(()=>A[18]||(A[18]=[ei("Resend ")])),_:1})):as("",!0)]),default:Tt(()=>[ei(rl(He(y))+" ",1)]),_:1})):as("",!0),He(v)?(Qt(),Pn(Tm,{key:1,closable:"",type:"success",class:"position-absolute bottom-0 ma-5"},{default:Tt(()=>[ei(rl(He(v)),1)]),_:1})):as("",!0)]),_:1}),Q(t0,{modelValue:He(x),"onUpdate:modelValue":A[8]||(A[8]=U=>Dt(x)?x.value=U:null),fullscreen:"","retain-focus":"",scrim:!0},{default:Tt(()=>[Q(L,{onBack:A[6]||(A[6]=U=>x.value=!1),onVerificationSend:A[7]||(A[7]=U=>v.value="Verification Email sent to your email adress.")})]),_:1},8,["modelValue"])],64)}}}),AX=xg(IX,[["__scopeId","data-v-79e08311"]]),xr=Object.create(null);xr.open="0";xr.close="1";xr.ping="2";xr.pong="3";xr.message="4";xr.upgrade="5";xr.noop="6";const wp=Object.create(null);Object.keys(xr).forEach(t=>{wp[xr[t]]=t});const n0={type:"error",data:"parser error"},yM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vM=typeof ArrayBuffer=="function",bM=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,gw=({type:t,data:e},n,i)=>yM&&e instanceof Blob?n?i(e):f1(e,i):vM&&(e instanceof ArrayBuffer||bM(e))?n?i(e):f1(new Blob([e]),i):i(xr[t]+(e||"")),f1=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function p1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let kv;function PX(t,e){if(yM&&t.data instanceof Blob)return t.data.arrayBuffer().then(p1).then(e);if(vM&&(t.data instanceof ArrayBuffer||bM(t.data)))return e(p1(t.data));gw(t,!1,n=>{kv||(kv=new TextEncoder),e(kv.encode(n))})}const m1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ah=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<m1.length;t++)ah[m1.charCodeAt(t)]=t;const RX=t=>{let e=t.length*.75,n=t.length,i,s=0,r,a,c,h;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(i=0;i<n;i+=4)r=ah[t.charCodeAt(i)],a=ah[t.charCodeAt(i+1)],c=ah[t.charCodeAt(i+2)],h=ah[t.charCodeAt(i+3)],f[s++]=r<<2|a>>4,f[s++]=(a&15)<<4|c>>2,f[s++]=(c&3)<<6|h&63;return d},OX=typeof ArrayBuffer=="function",yw=(t,e)=>{if(typeof t!="string")return{type:"message",data:_M(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:MX(t.substring(1),e)}:wp[n]?t.length>1?{type:wp[n],data:t.substring(1)}:{type:wp[n]}:n0},MX=(t,e)=>{if(OX){const n=RX(t);return _M(n,e)}else return{base64:!0,data:t}},_M=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},wM="",DX=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,a)=>{gw(r,!1,c=>{i[a]=c,++s===n&&e(i.join(wM))})})},NX=(t,e)=>{const n=t.split(wM),i=[];for(let s=0;s<n.length;s++){const r=yw(n[s],e);if(i.push(r),r.type==="error")break}return i};function LX(){return new TransformStream({transform(t,e){PX(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Iv;function rp(t){return t.reduce((e,n)=>e+n.length,0)}function op(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function VX(t,e){Iv||(Iv=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(i===0){if(rp(n)<1)break;const h=op(n,1);r=(h[0]&128)===128,s=h[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(rp(n)<2)break;const h=op(n,2);s=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(rp(n)<8)break;const h=op(n,8),d=new DataView(h.buffer,h.byteOffset,h.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){c.enqueue(n0);break}s=f*Math.pow(2,32)+d.getUint32(4),i=3}else{if(rp(n)<s)break;const h=op(n,s);c.enqueue(yw(r?h:Iv.decode(h),e)),i=0}if(s===0||s>t){c.enqueue(n0);break}}}})}const CM=4;function zn(t){if(t)return FX(t)}function FX(t){for(var e in zn.prototype)t[e]=zn.prototype[e];return t}zn.prototype.on=zn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};zn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};zn.prototype.off=zn.prototype.removeListener=zn.prototype.removeAllListeners=zn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};zn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};zn.prototype.emitReserved=zn.prototype.emit;zn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};zn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Sg=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ts=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),BX="arraybuffer";function xM(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const UX=Ts.setTimeout,jX=Ts.clearTimeout;function kg(t,e){e.useNativeTimers?(t.setTimeoutFn=UX.bind(Ts),t.clearTimeoutFn=jX.bind(Ts)):(t.setTimeoutFn=Ts.setTimeout.bind(Ts),t.clearTimeoutFn=Ts.clearTimeout.bind(Ts))}const HX=1.33;function $X(t){return typeof t=="string"?zX(t):Math.ceil((t.byteLength||t.size)*HX)}function zX(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function EM(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function WX(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function GX(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class qX extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class vw extends zn{constructor(e){super(),this.writable=!1,kg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new qX(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=yw(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=WX(e);return n.length?"?"+n:""}}class KX extends vw{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};NX(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,DX(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=EM()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let TM=!1;try{TM=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const YX=TM;function XX(){}class JX extends KX{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}let mc=class Cp extends zn{constructor(e,n,i){super(),this.createRequest=e,kg(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=xM(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Cp.requestsCount++,Cp.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=XX,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Cp.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};mc.requestsCount=0;mc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",g1);else if(typeof addEventListener=="function"){const t="onpagehide"in Ts?"pagehide":"unload";addEventListener(t,g1,!1)}}function g1(){for(let t in mc.requests)mc.requests.hasOwnProperty(t)&&mc.requests[t].abort()}const QX=function(){const t=SM({xdomain:!1});return t&&t.responseType!==null}();class ZX extends JX{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=QX&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new mc(SM,this.uri(),e)}}function SM(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||YX))return new XMLHttpRequest}catch{}if(!e)try{return new Ts[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const kM=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class e8 extends vw{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=kM?{}:xM(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;gw(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}s&&Sg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=EM()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Av=Ts.WebSocket||Ts.MozWebSocket;class t8 extends e8{createSocket(e,n,i){return kM?new Av(e,n,i):n?new Av(e,n):new Av(e)}doWrite(e,n){this.ws.send(n)}}class n8 extends vw{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=VX(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=LX();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const r=()=>{i.read().then(({done:c,value:h})=>{c||(this.onPacket(h),r())}).catch(c=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this._writer.write(i).then(()=>{s&&Sg(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const i8={websocket:t8,webtransport:n8,polling:ZX},s8=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r8=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function i0(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=s8.exec(t||""),r={},a=14;for(;a--;)r[r8[a]]=s[a]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=o8(r,r.path),r.queryKey=a8(r,r.query),r}function o8(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function a8(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}const s0=typeof addEventListener=="function"&&typeof removeEventListener=="function",xp=[];s0&&addEventListener("offline",()=>{xp.forEach(t=>t())},!1);class ia extends zn{constructor(e,n){if(super(),this.binaryType=BX,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=i0(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=i0(n.host).host);kg(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=GX(this.opts.query)),s0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=CM,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ia.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ia.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=$X(s)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Sg(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(ia.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),s0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=xp.indexOf(this._offlineEventListener);i!==-1&&xp.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}ia.protocol=CM;class l8 extends ia{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;ia.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ia.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function r(){i||(i=!0,f(),n.close(),n=null)}const a=m=>{const b=new Error("probe error: "+m);b.transport=n.name,r(),this.emitReserved("upgradeError",b)};function c(){a("transport closed")}function h(){a("socket closed")}function d(m){n&&m.name!==n.name&&r()}const f=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",c),this.off("close",h),this.off("upgrading",d)};n.once("open",s),n.once("error",a),n.once("close",c),this.once("close",h),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let c8=class extends l8{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>i8[s]).filter(s=>!!s)),super(e,i)}};function u8(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=i0(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const h8=typeof ArrayBuffer=="function",d8=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,IM=Object.prototype.toString,f8=typeof Blob=="function"||typeof Blob<"u"&&IM.call(Blob)==="[object BlobConstructor]",p8=typeof File=="function"||typeof File<"u"&&IM.call(File)==="[object FileConstructor]";function bw(t){return h8&&(t instanceof ArrayBuffer||d8(t))||f8&&t instanceof Blob||p8&&t instanceof File}function Ep(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Ep(t[n]))return!0;return!1}if(bw(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ep(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ep(t[n]))return!0;return!1}function m8(t){const e=[],n=t.data,i=t;return i.data=r0(n,e),i.attachments=e.length,{packet:i,buffers:e}}function r0(t,e){if(!t)return t;if(bw(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=r0(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=r0(t[i],e));return n}return t}function g8(t,e){return t.data=o0(t.data,e),delete t.attachments,t}function o0(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=o0(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=o0(t[n],e));return t}const y8=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],v8=5;var Vt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Vt||(Vt={}));class b8{constructor(e){this.replacer=e}encode(e){return(e.type===Vt.EVENT||e.type===Vt.ACK)&&Ep(e)?this.encodeAsBinary({type:e.type===Vt.EVENT?Vt.BINARY_EVENT:Vt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Vt.BINARY_EVENT||e.type===Vt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=m8(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function y1(t){return Object.prototype.toString.call(t)==="[object Object]"}class _w extends zn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===Vt.BINARY_EVENT;i||n.type===Vt.BINARY_ACK?(n.type=i?Vt.EVENT:Vt.ACK,this.reconstructor=new _8(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(bw(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Vt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Vt.BINARY_EVENT||i.type===Vt.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(r,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(_w.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Vt.CONNECT:return y1(n);case Vt.DISCONNECT:return n===void 0;case Vt.CONNECT_ERROR:return typeof n=="string"||y1(n);case Vt.EVENT:case Vt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&y8.indexOf(n[0])===-1);case Vt.ACK:case Vt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _8{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=g8(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const w8=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_w,Encoder:b8,get PacketType(){return Vt},protocol:v8},Symbol.toStringTag,{value:"Module"}));function $s(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const C8=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class AM extends zn{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$s(e,"open",this.onopen.bind(this)),$s(e,"packet",this.onpacket.bind(this)),$s(e,"error",this.onerror.bind(this)),$s(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,s,r;if(C8.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Vt.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,m=n.pop();this._registerAckCallback(f,m),a.id=f}const c=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,h=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!c||(h?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},s),a=(...c)=>{this.io.clearTimeoutFn(r),n.apply(this,c)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((i,s)=>{const r=(a,c)=>a?s(a):i(c);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Vt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Vt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vt.EVENT:case Vt.BINARY_EVENT:this.onevent(e);break;case Vt.ACK:case Vt.BINARY_ACK:this.onack(e);break;case Vt.DISCONNECT:this.ondisconnect();break;case Vt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:Vt.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function eu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}eu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};eu.prototype.reset=function(){this.attempts=0};eu.prototype.setMin=function(t){this.ms=t};eu.prototype.setMax=function(t){this.max=t};eu.prototype.setJitter=function(t){this.jitter=t};class a0 extends zn{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,kg(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new eu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||w8;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new c8(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=$s(n,"open",function(){i.onopen(),e&&e()}),r=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},a=$s(n,"error",r);if(this._timeout!==!1){const c=this._timeout,h=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},c);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($s(e,"ping",this.onping.bind(this)),$s(e,"data",this.ondata.bind(this)),$s(e,"error",this.onerror.bind(this)),$s(e,"close",this.onclose.bind(this)),$s(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Sg(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new AM(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ju={};function Tp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=u8(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,a=Ju[s]&&r in Ju[s].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let h;return c?h=new a0(i,e):(Ju[s]||(Ju[s]=new a0(i,e)),h=Ju[s]),n.query&&!e.query&&(e.query=n.queryKey),h.socket(n.path,e)}Object.assign(Tp,{Manager:a0,Socket:AM,io:Tp,connect:Tp});function x8(t,e){console.debug("Initializing WS");const n=Yi().api.propertyManagement,i=n.split("/").at(3);console.debug("WS Path: ",i);const s={authorization:t};e!=="free-tier"&&Object.assign(s,{"tenant-id":e});const r=Tp(n.replace(i,""),{path:(i?"/"+i:"")+"/socket.io/",extraHeaders:s,reconnectionAttempts:5,transports:["polling","websocket"]});r.on("connect",function(){console.info("WS Connected"),Yi().updateWsConnection(r)}),r.on("disconnect",function(){console.info("WS Disconnected"),Yi().updateWsConnection(r)}),r.on("pong",function(){setTimeout(()=>{r.emit("ping")},1e4)}),r.on("parking-properties",function(a){a&&a.length>0&&G_().setProperties(a)})}const E8=Le({...Nt(),...pY({fullHeight:!0}),...Gn()},"VApp"),T8=nt()({name:"VApp",props:E8(),setup(t,e){let{slots:n}=e;const i=oi(t),{layoutClasses:s,getLayoutItem:r,items:a,layoutRef:c}=yY(t),{rtlClasses:h}=Nr();return pt(()=>{var d;return Q("div",{ref:c,class:["v-application",i.themeClasses.value,s.value,h.value,t.class],style:[t.style]},[Q("div",{class:"v-application__wrap"},[(d=n.default)==null?void 0:d.call(n)])])}),{getLayoutItem:r,items:a,theme:i}}}),S8=Le({text:String,...Nt(),...Fn()},"VToolbarTitle"),k8=nt()({name:"VToolbarTitle",props:S8(),setup(t,e){let{slots:n}=e;return pt(()=>{const i=!!(n.default||n.text||t.text);return Q(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var s;return[i&&Q("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),I8=[null,"prominent","default","comfortable","compact"],PM=Le({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>I8.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ar(),...Nt(),...Rr(),...Zi(),...Fn({tag:"header"}),...Gn()},"VToolbar"),v1=nt()({name:"VToolbar",props:PM(),setup(t,e){var w;let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Ji(Ct(t,"color")),{borderClasses:r}=Pr(t),{elevationClasses:a}=Or(t),{roundedClasses:c}=es(t),{themeClasses:h}=oi(t),{rtlClasses:d}=Nr(),f=ht(!!(t.extended||(w=n.extension)!=null&&w.call(n))),m=re(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),b=re(()=>f.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return Yc({VBtn:{variant:"text"}}),pt(()=>{var k;const y=!!(t.title||n.title),v=!!(n.image||t.image),x=(k=n.extension)==null?void 0:k.call(n);return f.value=!!(t.extended||x),Q(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},i.value,r.value,a.value,c.value,h.value,d.value,t.class],style:[s.value,t.style]},{default:()=>[v&&Q("div",{key:"image",class:"v-toolbar__image"},[n.image?Q(bn,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):Q(Cg,{key:"image-img",cover:!0,src:t.image},null)]),Q(bn,{defaults:{VTabs:{height:_t(m.value)}}},{default:()=>{var I,D,N;return[Q("div",{class:"v-toolbar__content",style:{height:_t(m.value)}},[n.prepend&&Q("div",{class:"v-toolbar__prepend"},[(I=n.prepend)==null?void 0:I.call(n)]),y&&Q(k8,{key:"title",text:t.title},{text:n.title}),(D=n.default)==null?void 0:D.call(n),n.append&&Q("div",{class:"v-toolbar__append"},[(N=n.append)==null?void 0:N.call(n)])])]}}),Q(bn,{defaults:{VTabs:{height:_t(b.value)}}},{default:()=>[Q(sM,null,{default:()=>[f.value&&Q("div",{class:"v-toolbar__extension",style:{height:_t(b.value)}},[x])]})]})]})}),{contentHeight:m,extensionHeight:b}}}),A8=Le({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function P8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=e;let i=0,s=0;const r=Ye(null),a=ht(0),c=ht(0),h=ht(0),d=ht(!1),f=ht(!1),m=re(()=>Number(t.scrollThreshold)),b=re(()=>uo((m.value-a.value)/m.value||0)),w=()=>{const y=r.value;if(!y||n&&!n.value)return;i=a.value,a.value="window"in y?y.pageYOffset:y.scrollTop;const v=y instanceof Window?document.documentElement.scrollHeight:y.scrollHeight;if(s!==v){s=v;return}f.value=a.value<i,h.value=Math.abs(a.value-m.value)};return dt(f,()=>{c.value=c.value||a.value}),dt(d,()=>{c.value=0}),ps(()=>{dt(()=>t.scrollTarget,y=>{var x;const v=y?document.querySelector(y):window;v&&v!==r.value&&((x=r.value)==null||x.removeEventListener("scroll",w),r.value=v,r.value.addEventListener("scroll",w,{passive:!0}))},{immediate:!0})}),yi(()=>{var y;(y=r.value)==null||y.removeEventListener("scroll",w)}),n&&dt(n,w,{immediate:!0}),{scrollThreshold:m,currentScroll:a,currentThreshold:h,isScrollActive:d,scrollRatio:b,isScrollingUp:f,savedScroll:c}}function Ig(){const t=ht(!1);return ps(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:re(()=>t.value?void 0:{transition:"none !important"}),isBooted:Zh(t)}}const R8=Le({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...PM(),...hw(),...A8(),height:{type:[Number,String],default:64}},"VAppBar"),O8=nt()({name:"VAppBar",props:R8(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=Ye(),s=rn(t,"modelValue"),r=re(()=>{var D;const I=new Set(((D=t.scrollBehavior)==null?void 0:D.split(" "))??[]);return{hide:I.has("hide"),fullyHide:I.has("fully-hide"),inverted:I.has("inverted"),collapse:I.has("collapse"),elevate:I.has("elevate"),fadeImage:I.has("fade-image")}}),a=re(()=>{const I=r.value;return I.hide||I.fullyHide||I.inverted||I.collapse||I.elevate||I.fadeImage||!s.value}),{currentScroll:c,scrollThreshold:h,isScrollingUp:d,scrollRatio:f}=P8(t,{canScroll:a}),m=re(()=>r.value.hide||r.value.fullyHide),b=re(()=>t.collapse||r.value.collapse&&(r.value.inverted?f.value>0:f.value===0)),w=re(()=>t.flat||r.value.fullyHide&&!s.value||r.value.elevate&&(r.value.inverted?c.value>0:c.value===0)),y=re(()=>r.value.fadeImage?r.value.inverted?1-f.value:f.value:void 0),v=re(()=>{var N,F;if(r.value.hide&&r.value.inverted)return 0;const I=((N=i.value)==null?void 0:N.contentHeight)??0,D=((F=i.value)==null?void 0:F.extensionHeight)??0;return m.value?c.value<h.value||r.value.fullyHide?I+D:I:I+D});As(re(()=>!!t.scrollBehavior),()=>{Qi(()=>{m.value?r.value.inverted?s.value=c.value>h.value:s.value=d.value||c.value<h.value:s.value=!0})});const{ssrBootStyles:x}=Ig(),{layoutItemStyles:k}=dw({id:t.name,order:re(()=>parseInt(t.order,10)),position:Ct(t,"location"),layoutSize:v,elementSize:ht(void 0),active:s,absolute:Ct(t,"absolute")});return pt(()=>{const I=v1.filterProps(t);return Q(v1,lt({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...k.value,"--v-toolbar-image-opacity":y.value,height:void 0,...x.value},t.style]},I,{collapse:b.value,flat:w.value}),n)}),{}}}),M8=Le({...VO({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),D8=nt()({name:"VAppBarNavIcon",props:M8(),setup(t,e){let{slots:n}=e;return pt(()=>Q(kn,lt(t,{class:["v-app-bar-nav-icon"]}),n)),{}}}),RM=Cd("v-spacer","div","VSpacer"),l0=Symbol.for("vuetify:list");function OM(){const t=zt(l0,{hasPrepend:ht(!1),updateHasPrepend:()=>null}),e={hasPrepend:ht(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return mi(l0,e),t}function MM(){return zt(l0,null)}const ww=t=>{const e={activate:n=>{let{id:i,value:s,activated:r}=n;return i=st(i),t&&!s&&r.size===1&&r.has(i)||(s?r.add(i):r.delete(i)),r},in:(n,i,s)=>{let r=new Set;if(n!=null)for(const a of Is(n))r=e.activate({id:a,value:!0,activated:new Set(r),children:i,parents:s});return r},out:n=>Array.from(n)};return e},DM=t=>{const e=ww(t);return{activate:i=>{let{activated:s,id:r,...a}=i;r=st(r);const c=s.has(r)?new Set([r]):new Set;return e.activate({...a,id:r,activated:c})},in:(i,s,r)=>{let a=new Set;if(i!=null){const c=Is(i);c.length&&(a=e.in(c.slice(0,1),s,r))}return a},out:(i,s,r)=>e.out(i,s,r)}},N8=t=>{const e=ww(t);return{activate:i=>{let{id:s,activated:r,children:a,...c}=i;return s=st(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...c})},in:e.in,out:e.out}},L8=t=>{const e=DM(t);return{activate:i=>{let{id:s,activated:r,children:a,...c}=i;return s=st(s),a.has(s)?r:e.activate({id:s,activated:r,children:a,...c})},in:e.in,out:e.out}},V8={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){const r=new Set;r.add(e);let a=s.get(e);for(;a!=null;)r.add(a),a=s.get(a);return r}else return i.delete(e),i},select:()=>null},NM={open:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(n){let r=s.get(e);for(i.add(e);r!=null&&r!==e;)i.add(r),r=s.get(r);return i}else i.delete(e);return i},select:()=>null},F8={open:NM.open,select:t=>{let{id:e,value:n,opened:i,parents:s}=t;if(!n)return i;const r=[];let a=s.get(e);for(;a!=null;)r.push(a),a=s.get(a);return new Set(r)}},Cw=t=>{const e={select:n=>{let{id:i,value:s,selected:r}=n;if(i=st(i),t&&!s){const a=Array.from(r.entries()).reduce((c,h)=>{let[d,f]=h;return f==="on"&&c.push(d),c},[]);if(a.length===1&&a[0]===i)return r}return r.set(i,s?"on":"off"),r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:n=>{const i=[];for(const[s,r]of n.entries())r==="on"&&i.push(s);return i}};return e},LM=t=>{const e=Cw(t);return{select:i=>{let{selected:s,id:r,...a}=i;r=st(r);const c=s.has(r)?new Map([[r,s.get(r)]]):new Map;return e.select({...a,id:r,selected:c})},in:(i,s,r)=>{let a=new Map;return i!=null&&i.length&&(a=e.in(i.slice(0,1),s,r)),a},out:(i,s,r)=>e.out(i,s,r)}},B8=t=>{const e=Cw(t);return{select:i=>{let{id:s,selected:r,children:a,...c}=i;return s=st(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...c})},in:e.in,out:e.out}},U8=t=>{const e=LM(t);return{select:i=>{let{id:s,selected:r,children:a,...c}=i;return s=st(s),a.has(s)?r:e.select({id:s,selected:r,children:a,...c})},in:e.in,out:e.out}},j8=t=>{const e={select:n=>{let{id:i,value:s,selected:r,children:a,parents:c}=n;i=st(i);const h=new Map(r),d=[i];for(;d.length;){const m=d.shift();r.set(st(m),s?"on":"off"),a.has(m)&&d.push(...a.get(m))}let f=st(c.get(i));for(;f;){const m=a.get(f),b=m.every(y=>r.get(st(y))==="on"),w=m.every(y=>!r.has(st(y))||r.get(st(y))==="off");r.set(f,b?"on":w?"off":"indeterminate"),f=st(c.get(f))}return t&&!s&&Array.from(r.entries()).reduce((b,w)=>{let[y,v]=w;return v==="on"&&b.push(y),b},[]).length===0?h:r},in:(n,i,s)=>{let r=new Map;for(const a of n||[])r=e.select({id:a,value:!0,selected:new Map(r),children:i,parents:s});return r},out:(n,i)=>{const s=[];for(const[r,a]of n.entries())a==="on"&&!i.has(r)&&s.push(r);return s}};return e},Jh=Symbol.for("vuetify:nested"),VM={id:ht(),root:{register:()=>null,unregister:()=>null,parents:Ye(new Map),children:Ye(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ye(!1),selectable:Ye(!1),opened:Ye(new Set),activated:Ye(new Set),selected:Ye(new Map),selectedValues:Ye([]),getPath:()=>[]}},H8=Le({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),$8=t=>{let e=!1;const n=Ye(new Map),i=Ye(new Map),s=rn(t,"opened",t.opened,y=>new Set(y),y=>[...y.values()]),r=re(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return N8(t.mandatory);case"single-leaf":return L8(t.mandatory);case"independent":return ww(t.mandatory);case"single-independent":default:return DM(t.mandatory)}}),a=re(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return U8(t.mandatory);case"leaf":return B8(t.mandatory);case"independent":return Cw(t.mandatory);case"single-independent":return LM(t.mandatory);case"classic":default:return j8(t.mandatory)}}),c=re(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return F8;case"single":return V8;case"multiple":default:return NM}}),h=rn(t,"activated",t.activated,y=>r.value.in(y,n.value,i.value),y=>r.value.out(y,n.value,i.value)),d=rn(t,"selected",t.selected,y=>a.value.in(y,n.value,i.value),y=>a.value.out(y,n.value,i.value));yi(()=>{e=!0});function f(y){const v=[];let x=y;for(;x!=null;)v.unshift(x),x=i.value.get(x);return v}const m=Wn("nested"),b=new Set,w={id:ht(),root:{opened:s,activatable:Ct(t,"activatable"),selectable:Ct(t,"selectable"),activated:h,selected:d,selectedValues:re(()=>{const y=[];for(const[v,x]of d.value.entries())x==="on"&&y.push(v);return y}),register:(y,v,x)=>{if(b.has(y)){f(y).map(String).join(" -> "),f(v).concat(y).map(String).join(" -> ");return}else b.add(y);v&&y!==v&&i.value.set(y,v),x&&n.value.set(y,[]),v!=null&&n.value.set(v,[...n.value.get(v)||[],y])},unregister:y=>{if(e)return;b.delete(y),n.value.delete(y);const v=i.value.get(y);if(v){const x=n.value.get(v)??[];n.value.set(v,x.filter(k=>k!==y))}i.value.delete(y)},open:(y,v,x)=>{m.emit("click:open",{id:y,value:v,path:f(y),event:x});const k=c.value.open({id:y,value:v,opened:new Set(s.value),children:n.value,parents:i.value,event:x});k&&(s.value=k)},openOnSelect:(y,v,x)=>{const k=c.value.select({id:y,value:v,selected:new Map(d.value),opened:new Set(s.value),children:n.value,parents:i.value,event:x});k&&(s.value=k)},select:(y,v,x)=>{m.emit("click:select",{id:y,value:v,path:f(y),event:x});const k=a.value.select({id:y,value:v,selected:new Map(d.value),children:n.value,parents:i.value,event:x});k&&(d.value=k),w.root.openOnSelect(y,v,x)},activate:(y,v,x)=>{if(!t.activatable)return w.root.select(y,!0,x);m.emit("click:activate",{id:y,value:v,path:f(y),event:x});const k=r.value.activate({id:y,value:v,activated:new Set(h.value),children:n.value,parents:i.value,event:x});k&&(h.value=k)},children:n,parents:i,getPath:f}};return mi(Jh,w),w.root},FM=(t,e)=>{const n=zt(Jh,VM),i=Symbol(Ir()),s=re(()=>t.value!==void 0?t.value:i),r={...n,id:s,open:(a,c)=>n.root.open(s.value,a,c),openOnSelect:(a,c)=>n.root.openOnSelect(s.value,a,c),isOpen:re(()=>n.root.opened.value.has(s.value)),parent:re(()=>n.root.parents.value.get(s.value)),activate:(a,c)=>n.root.activate(s.value,a,c),isActivated:re(()=>n.root.activated.value.has(st(s.value))),select:(a,c)=>n.root.select(s.value,a,c),isSelected:re(()=>n.root.selected.value.get(st(s.value))==="on"),isIndeterminate:re(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:re(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return nd(()=>{!n.isGroupActivator&&n.root.register(s.value,n.id.value,e)}),yi(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),e&&mi(Jh,r),r},z8=()=>{const t=zt(Jh,VM);mi(Jh,{...t,isGroupActivator:!0})},W8=Xc({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return z8(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),G8=Le({activeColor:String,baseColor:String,color:String,collapseIcon:{type:cn,default:"$collapse"},expandIcon:{type:cn,default:"$expand"},prependIcon:cn,appendIcon:cn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Nt(),...Fn()},"VListGroup"),km=nt()({name:"VListGroup",props:G8(),setup(t,e){let{slots:n}=e;const{isOpen:i,open:s,id:r}=FM(Ct(t,"value"),!0),a=re(()=>`v-list-group--id-${String(r.value)}`),c=MM(),{isBooted:h}=Ig();function d(w){w.stopPropagation(),s(!i.value,w)}const f=re(()=>({onClick:d,class:"v-list-group__header",id:a.value})),m=re(()=>i.value?t.collapseIcon:t.expandIcon),b=re(()=>({VListItem:{active:i.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&m.value,appendIcon:t.appendIcon||!t.subgroup&&m.value,title:t.title,value:t.value}}));return pt(()=>Q(t.tag,{class:["v-list-group",{"v-list-group--prepend":c==null?void 0:c.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":i.value},t.class],style:t.style},{default:()=>[n.activator&&Q(bn,{defaults:b.value},{default:()=>[Q(W8,null,{default:()=>[n.activator({props:f.value,isOpen:i.value})]})]}),Q(pr,{transition:{component:sM},disabled:!h.value},{default:()=>{var w;return[Ei(Q("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(w=n.default)==null?void 0:w.call(n)]),[[rd,i.value]])]}})]})),{isOpen:i}}}),q8=Le({opacity:[Number,String],...Nt(),...Fn()},"VListItemSubtitle"),K8=nt()({name:"VListItemSubtitle",props:q8(),setup(t,e){let{slots:n}=e;return pt(()=>Q(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),Y8=Cd("v-list-item-title"),X8=Le({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:cn,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:cn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:ds(),onClickOnce:ds(),...Ar(),...Nt(),...wo(),...Mr(),...Rr(),...Zi(),...rw(),...Fn(),...Gn(),...bl({variant:"text"})},"VListItem"),cr=nt()({name:"VListItem",directives:{Ripple:ow},props:X8(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:i,emit:s}=e;const r=sw(t,n),a=re(()=>t.value===void 0?r.href.value:t.value),{activate:c,isActivated:h,select:d,isOpen:f,isSelected:m,isIndeterminate:b,isGroupActivator:w,root:y,parent:v,openOnSelect:x,id:k}=FM(a,!1),I=MM(),D=re(()=>{var We;return t.active!==!1&&(t.active||((We=r.isActive)==null?void 0:We.value)||(y.activatable.value?h.value:m.value))}),N=re(()=>t.link!==!1&&r.isLink.value),F=re(()=>!!I&&(y.selectable.value||y.activatable.value||t.value!=null)),O=re(()=>!t.disabled&&t.link!==!1&&(t.link||r.isClickable.value||F.value)),S=re(()=>t.rounded||t.nav),A=re(()=>t.color??t.activeColor),L=re(()=>({color:D.value?A.value??t.baseColor:t.baseColor,variant:t.variant}));dt(()=>{var We;return(We=r.isActive)==null?void 0:We.value},We=>{We&&U()}),nd(()=>{var We;(We=r.isActive)!=null&&We.value&&U()});function U(){v.value!=null&&y.open(v.value,!0),x(!0)}const{themeClasses:z}=oi(t),{borderClasses:G}=Pr(t),{colorClasses:H,colorStyles:q,variantClasses:Z}=Ed(L),{densityClasses:ie}=ma(t),{dimensionStyles:oe}=Dr(t),{elevationClasses:ce}=Or(t),{roundedClasses:ve}=es(S),we=re(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),be=re(()=>({isActive:D.value,select:d,isOpen:f.value,isSelected:m.value,isIndeterminate:b.value}));function Ce(We){var rt;s("click",We),O.value&&((rt=r.navigate)==null||rt.call(r,We),!w&&(y.activatable.value?c(!h.value,We):(y.selectable.value||t.value!=null)&&d(!m.value,We)))}function De(We){(We.key==="Enter"||We.key===" ")&&(We.preventDefault(),We.target.dispatchEvent(new MouseEvent("click",We)))}return pt(()=>{const We=N.value?"a":t.tag,rt=i.title||t.title!=null,$e=i.subtitle||t.subtitle!=null,ge=!!(t.appendAvatar||t.appendIcon),Ae=!!(ge||i.append),Ne=!!(t.prependAvatar||t.prependIcon),Ge=!!(Ne||i.prepend);return I==null||I.updateHasPrepend(Ge),t.activeColor&&sq("active-color",["color","base-color"]),Ei(Q(We,lt({class:["v-list-item",{"v-list-item--active":D.value,"v-list-item--disabled":t.disabled,"v-list-item--link":O.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!Ge&&(I==null?void 0:I.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&D.value},z.value,G.value,H.value,ie.value,ce.value,we.value,ve.value,Z.value,t.class],style:[q.value,oe.value,t.style],tabindex:O.value?I?-2:0:void 0,"aria-selected":F.value?y.activatable.value?h.value:y.selectable.value?m.value:D.value:void 0,onClick:Ce,onKeydown:O.value&&!N.value&&De},r.linkProps),{default:()=>{var xt;return[xd(O.value||D.value,"v-list-item"),Ge&&Q("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?Q(bn,{key:"prepend-defaults",disabled:!Ne,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Pe;return[(Pe=i.prepend)==null?void 0:Pe.call(i,be.value)]}}):Q(At,null,[t.prependAvatar&&Q(Cm,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&Q(Ps,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),Q("div",{class:"v-list-item__spacer"},null)]),Q("div",{class:"v-list-item__content","data-no-activator":""},[rt&&Q(Y8,{key:"title"},{default:()=>{var Pe;return[((Pe=i.title)==null?void 0:Pe.call(i,{title:t.title}))??t.title]}}),$e&&Q(K8,{key:"subtitle"},{default:()=>{var Pe;return[((Pe=i.subtitle)==null?void 0:Pe.call(i,{subtitle:t.subtitle}))??t.subtitle]}}),(xt=i.default)==null?void 0:xt.call(i,be.value)]),Ae&&Q("div",{key:"append",class:"v-list-item__append"},[i.append?Q(bn,{key:"append-defaults",disabled:!ge,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Pe;return[(Pe=i.append)==null?void 0:Pe.call(i,be.value)]}}):Q(At,null,[t.appendIcon&&Q(Ps,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&Q(Cm,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),Q("div",{class:"v-list-item__spacer"},null)])]}}),[[id("ripple"),O.value&&t.ripple]])}),{activate:c,isActivated:h,isGroupActivator:w,isSelected:m,list:I,select:d,root:y,id:k}}}),J8=Le({color:String,inset:Boolean,sticky:Boolean,title:String,...Nt(),...Fn()},"VListSubheader"),Q8=nt()({name:"VListSubheader",props:J8(),setup(t,e){let{slots:n}=e;const{textColorClasses:i,textColorStyles:s}=ho(Ct(t,"color"));return pt(()=>{const r=!!(n.default||t.title);return Q(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},i.value,t.class],style:[{textColorStyles:s},t.style]},{default:()=>{var a;return[r&&Q("div",{class:"v-list-subheader__text"},[((a=n.default)==null?void 0:a.call(n))??t.title])]}})}),{}}}),Z8=Le({items:Array,returnObject:Boolean},"VListChildren"),BM=nt()({name:"VListChildren",props:Z8(),setup(t,e){let{slots:n}=e;return OM(),()=>{var i,s;return((i=n.default)==null?void 0:i.call(n))??((s=t.items)==null?void 0:s.map(r=>{var b,w;let{children:a,props:c,type:h,raw:d}=r;if(h==="divider")return((b=n.divider)==null?void 0:b.call(n,{props:c}))??Q(tc,c,null);if(h==="subheader")return((w=n.subheader)==null?void 0:w.call(n,{props:c}))??Q(Q8,c,null);const f={subtitle:n.subtitle?y=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,{...y,item:d})}:void 0,prepend:n.prepend?y=>{var v;return(v=n.prepend)==null?void 0:v.call(n,{...y,item:d})}:void 0,append:n.append?y=>{var v;return(v=n.append)==null?void 0:v.call(n,{...y,item:d})}:void 0,title:n.title?y=>{var v;return(v=n.title)==null?void 0:v.call(n,{...y,item:d})}:void 0},m=km.filterProps(c);return a?Q(km,lt({value:c==null?void 0:c.value},m),{activator:y=>{let{props:v}=y;const x={...c,...v,value:t.returnObject?d:c.value};return n.header?n.header({props:x}):Q(cr,x,f)},default:()=>Q(BM,{items:a,returnObject:t.returnObject},n)}):n.item?n.item({props:c}):Q(cr,lt(c,{value:t.returnObject?d:c.value}),f)}))}}}),e7=Le({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:wd}},"list-items");function c0(t,e){const n=Jr(e,t.itemTitle,e),i=Jr(e,t.itemValue,n),s=Jr(e,t.itemChildren),r=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?Ms(e,["children"]):e:void 0:Jr(e,t.itemProps),a={title:n,value:i,...r};return{title:String(a.title??""),value:a.value,props:a,children:Array.isArray(s)?UM(t,s):void 0,raw:e}}function UM(t,e){const n=[];for(const i of e)n.push(c0(t,i));return n}function mJ(t){const e=re(()=>UM(t,t.items)),n=re(()=>e.value.some(r=>r.value===null));function i(r){return n.value||(r=r.filter(a=>a!==null)),r.map(a=>t.returnObject&&typeof a=="string"?c0(t,a):e.value.find(c=>t.valueComparator(a,c.value))||c0(t,a))}function s(r){return t.returnObject?r.map(a=>{let{raw:c}=a;return c}):r.map(a=>{let{value:c}=a;return c})}return{items:e,transformIn:i,transformOut:s}}function t7(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function n7(t,e){const n=Jr(e,t.itemType,"item"),i=t7(e)?e:Jr(e,t.itemTitle),s=Jr(e,t.itemValue,void 0),r=Jr(e,t.itemChildren),a=t.itemProps===!0?Ms(e,["children"]):Jr(e,t.itemProps),c={title:i,value:s,...a};return{type:n,title:c.title,value:c.value,props:c,children:n==="item"&&r?jM(t,r):void 0,raw:e}}function jM(t,e){const n=[];for(const i of e)n.push(n7(t,i));return n}function i7(t){return{items:re(()=>jM(t,t.items))}}const s7=Le({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:cn,collapseIcon:cn,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":ds(),"onClick:select":ds(),"onUpdate:opened":ds(),...H8({selectStrategy:"single-leaf",openStrategy:"list"}),...Ar(),...Nt(),...wo(),...Mr(),...Rr(),itemType:{type:String,default:"type"},...e7(),...Zi(),...Fn(),...Gn(),...bl({variant:"text"})},"VList"),b1=nt()({name:"VList",props:s7(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:i}=i7(t),{themeClasses:s}=oi(t),{backgroundColorClasses:r,backgroundColorStyles:a}=Ji(Ct(t,"bgColor")),{borderClasses:c}=Pr(t),{densityClasses:h}=ma(t),{dimensionStyles:d}=Dr(t),{elevationClasses:f}=Or(t),{roundedClasses:m}=es(t),{children:b,open:w,parents:y,select:v,getPath:x}=$8(t),k=re(()=>t.lines?`v-list--${t.lines}-line`:void 0),I=Ct(t,"activeColor"),D=Ct(t,"baseColor"),N=Ct(t,"color");OM(),Yc({VListGroup:{activeColor:I,baseColor:D,color:N,expandIcon:Ct(t,"expandIcon"),collapseIcon:Ct(t,"collapseIcon")},VListItem:{activeClass:Ct(t,"activeClass"),activeColor:I,baseColor:D,color:N,density:Ct(t,"density"),disabled:Ct(t,"disabled"),lines:Ct(t,"lines"),nav:Ct(t,"nav"),slim:Ct(t,"slim"),variant:Ct(t,"variant")}});const F=ht(!1),O=Ye();function S(H){F.value=!0}function A(H){F.value=!1}function L(H){var q;!F.value&&!(H.relatedTarget&&((q=O.value)!=null&&q.contains(H.relatedTarget)))&&G()}function U(H){const q=H.target;if(!(!O.value||["INPUT","TEXTAREA"].includes(q.tagName))){if(H.key==="ArrowDown")G("next");else if(H.key==="ArrowUp")G("prev");else if(H.key==="Home")G("first");else if(H.key==="End")G("last");else return;H.preventDefault()}}function z(H){F.value=!0}function G(H){if(O.value)return kh(O.value,H)}return pt(()=>Q(t.tag,{ref:O,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},s.value,r.value,c.value,h.value,f.value,k.value,m.value,t.class],style:[a.value,d.value,t.style],tabindex:t.disabled||F.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:S,onFocusout:A,onFocus:L,onKeydown:U,onMousedown:z},{default:()=>[Q(BM,{items:i.value,returnObject:t.returnObject},n)]})),{open:w,select:v,focus:G,children:b,parents:y,getPath:x}}}),r7=Le({scrollable:Boolean,...Nt(),...Mr(),...Fn({tag:"main"})},"VMain"),o7=nt()({name:"VMain",props:r7(),setup(t,e){let{slots:n}=e;const{dimensionStyles:i}=Dr(t),{mainStyles:s}=mY(),{ssrBootStyles:r}=Ig();return pt(()=>Q(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[s.value,r.value,i.value,t.style]},{default:()=>{var a,c;return[t.scrollable?Q("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(c=n.default)==null?void 0:c.call(n)]}})),{}}});function a7(t){let{rootEl:e,isSticky:n,layoutItemStyles:i}=t;const s=ht(!1),r=ht(0),a=re(()=>{const d=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[d]:_t(r.value)}:{top:i.value.top}]});ps(()=>{dt(n,d=>{d?window.addEventListener("scroll",h,{passive:!0}):window.removeEventListener("scroll",h)},{immediate:!0})}),yi(()=>{window.removeEventListener("scroll",h)});let c=0;function h(){const d=c>window.scrollY?"up":"down",f=e.value.getBoundingClientRect(),m=parseFloat(i.value.top??0),b=window.scrollY-Math.max(0,r.value-m),w=f.height+Math.max(r.value,m)-window.scrollY-window.innerHeight,y=parseFloat(getComputedStyle(e.value).getPropertyValue("--v-body-scroll-y"))||0;f.height<window.innerHeight-m?(s.value="top",r.value=m):d==="up"&&s.value==="bottom"||d==="down"&&s.value==="top"?(r.value=window.scrollY+f.top-y,s.value=!0):d==="down"&&w<=0?(r.value=0,s.value="bottom"):d==="up"&&b<=0&&(y?s.value!=="top"&&(r.value=-b+y+m,s.value="top"):(r.value=f.top+b,s.value="top")),c=window.scrollY}return{isStuck:s,stickyStyles:a}}const l7=100,c7=20;function _1(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function w1(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const i=_1(e),s=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(s-i)*Math.abs(s),n===t.length-1&&(e*=.5)}return _1(e)*1e3}function u7(){const t={};function e(s){Array.from(s.changedTouches).forEach(r=>{(t[r.identifier]??(t[r.identifier]=new H5(c7))).push([s.timeStamp,r])})}function n(s){Array.from(s.changedTouches).forEach(r=>{delete t[r.identifier]})}function i(s){var d;const r=(d=t[s])==null?void 0:d.values().reverse();if(!r)throw new Error(`No samples for touch id ${s}`);const a=r[0],c=[],h=[];for(const f of r){if(a[0]-f[0]>l7)break;c.push({t:f[0],d:f[1].clientX}),h.push({t:f[0],d:f[1].clientY})}return{x:w1(c),y:w1(h),get direction(){const{x:f,y:m}=this,[b,w]=[Math.abs(f),Math.abs(m)];return b>w&&f>=0?"right":b>w&&f<=0?"left":w>b&&m>=0?"down":w>b&&m<=0?"up":h7()}}}return{addMovement:e,endTouch:n,getVelocity:i}}function h7(){throw new Error}function d7(t){let{el:e,isActive:n,isTemporary:i,width:s,touchless:r,position:a}=t;ps(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",D,{passive:!1}),window.addEventListener("touchend",N,{passive:!0})}),yi(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",D),window.removeEventListener("touchend",N)});const c=re(()=>["left","right"].includes(a.value)),{addMovement:h,endTouch:d,getVelocity:f}=u7();let m=!1;const b=ht(!1),w=ht(0),y=ht(0);let v;function x(O,S){return(a.value==="left"?O:a.value==="right"?document.documentElement.clientWidth-O:a.value==="top"?O:a.value==="bottom"?document.documentElement.clientHeight-O:$l())-(S?s.value:0)}function k(O){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const A=a.value==="left"?(O-y.value)/s.value:a.value==="right"?(document.documentElement.clientWidth-O-y.value)/s.value:a.value==="top"?(O-y.value)/s.value:a.value==="bottom"?(document.documentElement.clientHeight-O-y.value)/s.value:$l();return S?Math.max(0,Math.min(1,A)):A}function I(O){if(r.value)return;const S=O.changedTouches[0].clientX,A=O.changedTouches[0].clientY,L=25,U=a.value==="left"?S<L:a.value==="right"?S>document.documentElement.clientWidth-L:a.value==="top"?A<L:a.value==="bottom"?A>document.documentElement.clientHeight-L:$l(),z=n.value&&(a.value==="left"?S<s.value:a.value==="right"?S>document.documentElement.clientWidth-s.value:a.value==="top"?A<s.value:a.value==="bottom"?A>document.documentElement.clientHeight-s.value:$l());(U||z||n.value&&i.value)&&(v=[S,A],y.value=x(c.value?S:A,n.value),w.value=k(c.value?S:A),m=y.value>-20&&y.value<80,d(O),h(O))}function D(O){const S=O.changedTouches[0].clientX,A=O.changedTouches[0].clientY;if(m){if(!O.cancelable){m=!1;return}const U=Math.abs(S-v[0]),z=Math.abs(A-v[1]);(c.value?U>z&&U>3:z>U&&z>3)?(b.value=!0,m=!1):(c.value?z:U)>3&&(m=!1)}if(!b.value)return;O.preventDefault(),h(O);const L=k(c.value?S:A,!1);w.value=Math.max(0,Math.min(1,L)),L>1?y.value=x(c.value?S:A,!0):L<0&&(y.value=x(c.value?S:A,!1))}function N(O){if(m=!1,!b.value)return;h(O),b.value=!1;const S=f(O.changedTouches[0].identifier),A=Math.abs(S.x),L=Math.abs(S.y);(c.value?A>L&&A>400:L>A&&L>3)?n.value=S.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||$l()):n.value=w.value>.5}const F=re(()=>b.value?{transform:a.value==="left"?`translateX(calc(-100% + ${w.value*s.value}px))`:a.value==="right"?`translateX(calc(100% - ${w.value*s.value}px))`:a.value==="top"?`translateY(calc(-100% + ${w.value*s.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${w.value*s.value}px))`:$l(),transition:"none"}:void 0);return As(b,()=>{var A,L;const O=((A=e.value)==null?void 0:A.style.transform)??null,S=((L=e.value)==null?void 0:L.style.transition)??null;Qi(()=>{var U,z,G,H;(z=e.value)==null||z.style.setProperty("transform",((U=F.value)==null?void 0:U.transform)||"none"),(H=e.value)==null||H.style.setProperty("transition",((G=F.value)==null?void 0:G.transition)||null)}),fs(()=>{var U,z;(U=e.value)==null||U.style.setProperty("transform",O),(z=e.value)==null||z.style.setProperty("transition",S)})}),{isDragging:b,dragProgress:w,dragStyles:F}}function $l(){throw new Error}const f7=["start","end","left","right","top","bottom"],p7=Le({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>f7.includes(t)},sticky:Boolean,...Ar(),...Nt(),...fM(),...uY({mobile:null}),...Rr(),...hw(),...Zi(),...Fn({tag:"nav"}),...Gn()},"VNavigationDrawer"),m7=nt()({name:"VNavigationDrawer",props:p7(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:i,slots:s}=e;const{isRtl:r}=Nr(),{themeClasses:a}=oi(t),{borderClasses:c}=Pr(t),{backgroundColorClasses:h,backgroundColorStyles:d}=Ji(Ct(t,"color")),{elevationClasses:f}=Or(t),{displayClasses:m,mobile:b}=cw(t),{roundedClasses:w}=es(t),y=IO(),v=rn(t,"modelValue",null,be=>!!be),{ssrBootStyles:x}=Ig(),{scopeId:k}=Id(),I=Ye(),D=ht(!1),{runOpenDelay:N,runCloseDelay:F}=pM(t,be=>{D.value=be}),O=re(()=>t.rail&&t.expandOnHover&&D.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),S=re(()=>zb(t.location,r.value)),A=re(()=>t.persistent),L=re(()=>!t.permanent&&(b.value||t.temporary)),U=re(()=>t.sticky&&!L.value&&S.value!=="bottom");As(()=>t.expandOnHover&&t.rail!=null,()=>{dt(D,be=>i("update:rail",!be))}),As(()=>!t.disableResizeWatcher,()=>{dt(L,be=>!t.permanent&&gi(()=>v.value=!be))}),As(()=>!t.disableRouteWatcher&&!!y,()=>{dt(y.currentRoute,()=>L.value&&(v.value=!1))}),dt(()=>t.permanent,be=>{be&&(v.value=!0)}),t.modelValue==null&&!L.value&&(v.value=t.permanent||!b.value);const{isDragging:z,dragProgress:G}=d7({el:I,isActive:v,isTemporary:L,width:O,touchless:Ct(t,"touchless"),position:S}),H=re(()=>{const be=L.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):O.value;return z.value?be*G.value:be}),q=re(()=>["top","bottom"].includes(t.location)?0:O.value),{layoutItemStyles:Z,layoutItemScrimStyles:ie}=dw({id:t.name,order:re(()=>parseInt(t.order,10)),position:S,layoutSize:H,elementSize:q,active:re(()=>v.value||z.value),disableTransitions:re(()=>z.value),absolute:re(()=>t.absolute||U.value&&typeof oe.value!="string")}),{isStuck:oe,stickyStyles:ce}=a7({rootEl:I,isSticky:U,layoutItemStyles:Z}),ve=Ji(re(()=>typeof t.scrim=="string"?t.scrim:null)),we=re(()=>({...z.value?{opacity:G.value*.2,transition:"none"}:void 0,...ie.value}));return Yc({VList:{bgColor:"transparent"}}),pt(()=>{const be=s.image||t.image;return Q(At,null,[Q(t.tag,lt({ref:I,onMouseenter:N,onMouseleave:F,class:["v-navigation-drawer",`v-navigation-drawer--${S.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":D.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":L.value,"v-navigation-drawer--persistent":A.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":U.value},a.value,h.value,c.value,m.value,f.value,w.value,t.class],style:[d.value,Z.value,x.value,ce.value,t.style,["top","bottom"].includes(S.value)?{height:"auto"}:{}]},k,n),{default:()=>{var Ce,De,We;return[be&&Q("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?Q(bn,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},s.image):Q(Cg,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),s.prepend&&Q("div",{class:"v-navigation-drawer__prepend"},[(Ce=s.prepend)==null?void 0:Ce.call(s)]),Q("div",{class:"v-navigation-drawer__content"},[(De=s.default)==null?void 0:De.call(s)]),s.append&&Q("div",{class:"v-navigation-drawer__append"},[(We=s.append)==null?void 0:We.call(s)])]}}),Q(oo,{name:"fade-transition"},{default:()=>[L.value&&(z.value||v.value)&&!!t.scrim&&Q("div",lt({class:["v-navigation-drawer__scrim",ve.backgroundColorClasses.value],style:[we.value,ve.backgroundColorStyles.value],onClick:()=>{A.value||(v.value=!1)}},k),null)]})])}),{isStuck:oe}}});const g7=mo({__name:"App",setup(t){const n=()=>{window.open("https://app.cloud-porsche.com/prod/#/","_blank")},i=Ye(!0),s=Ye([]),r=Yi(),a=W_(),c=JR(),h=re(()=>r.isDark),d=db(),f=H_(),m=_I(),b=()=>{const I=m.params.tenantId;return!I||!f?null:(f.tenantId=I==="free-tier"?null:I,I)},w=re(()=>b());f==null||f.onAuthStateChanged(async I=>{var D;if(r.setAuthLoading(!0),r.$reset(),a.$reset(),c.$reset(),await Es.isReady(),await b(),I){const N=await((D=db().value)==null?void 0:D.getIdToken(!0)),F=await I.getIdTokenResult();try{await f.updateCurrentUser(I)}catch(O){console.error(O),await K0(f);return}r.setCurrUid(I.uid),await k(w.value),F.claims.role?r.setCurrUserRole(F.claims.role):r.setCurrUserRole("user"),x8(N,w.value),await v.fetchProperties(),await a.fetchAllData(),await c.fetchUsers(w.value,I.uid)}r.setAuthLoading(!1)});const y="cloud-porsche.firebaseapp.com";f&&y.includes("localhost")&&nA(f,y);const v=G_(),x=Ye(void 0),k=async I=>{const D=x9(),N=C9(D,"Tenants",I),F=(await D9(N)).data();if(!F){x.value="Tenant not found or offline";return}r.setTenantInfo(F)};return(I,D)=>{const N=Ck("RouterView"),F=TY,O=wK;return Qt(),Pn(T8,{theme:He(h)?"dark":"light"},{default:Tt(()=>{var S,A;return[Q(O8,{title:(S=He(r).tenant.info)==null?void 0:S.tenantName,density:"comfortable"},{prepend:Tt(()=>[Q(D8,{onClick:D[0]||(D[0]=L=>i.value=!He(i))})]),default:Tt(()=>[Q(RM),Ei(Q(Ps,{class:"pl-6 pr-6",color:He(r).wsStatus?"success":"error",icon:He(r).wsStatus?"mdi-wifi":"mdi-wifi-off"},null,8,["color","icon"]),[[sl,He(r).wsStatus?"WS Connected":"WS Disconnected"]]),Ei(Q(kn,{icon:He(h)?"mdi-weather-night":"mdi-weather-sunny",slim:"",onClick:D[1]||(D[1]=L=>He(r).toggleTheme())},null,8,["icon"]),[[sl,"Toggle Theme"]])]),_:1},8,["title"]),Q(m7,{modelValue:He(i),"onUpdate:modelValue":D[3]||(D[3]=L=>Dt(i)?i.value=L:null),elevation:"4"},{append:Tt(()=>[Q(b1,{nav:""},{default:Tt(()=>[He(d)?(Qt(),Pn(cr,{key:0,to:`/${He(w)}/profile`,title:"Profile",value:"profile","prepend-icon":"mdi-account-circle",active:He(Es).currentRoute.value.path===`/${He(w)}/profile`},null,8,["to","active"])):as("",!0),Q(cr,{"prepend-icon":"mdi-cog",to:`/${He(w)}/settings`,title:"Settings",value:"settings",active:He(Es).currentRoute.value.path===`${He(w)}/settings`},null,8,["to","active"])]),_:1})]),default:Tt(()=>[Q(b1,{nav:"",opened:He(s),"onUpdate:opened":D[2]||(D[2]=L=>Dt(s)?s.value=L:null)},{default:Tt(()=>[Q(cr,{"prepend-icon":"mdi-monitor-dashboard",to:`/${He(w)}/`,title:"Dashboard",value:"dashboard",active:He(Es).currentRoute.value.path===`/${He(w)}/`},null,8,["to","active"]),Q(km,null,{activator:Tt(({props:L})=>[Q(cr,lt(L,{"prepend-icon":"mdi-garage-variant",title:"Properties"}),null,16)]),default:Tt(()=>[Q(cr,{to:`/${He(w)}/property`,"prepend-icon":"mdi-view-list",title:"Management",value:"properties",active:He(Es).currentRoute.value.path===`/${He(w)}/property`},null,8,["to","active"]),(Qt(!0),yc(At,null,Vv(He(v).properties,L=>(Qt(),Pn(cr,{to:`/${He(w)}/property/${L.id}`,title:L.name??L.id,value:L.id,active:He(Es).currentRoute.value.path===`/${He(w)}/property/${L.id}`},null,8,["to","title","value","active"]))),256))]),_:1}),Q(km,null,{activator:Tt(({props:L})=>[Q(cr,lt(L,{"prepend-icon":"mdi-hammer-wrench",title:"Defects"}),null,16)]),default:Tt(()=>[(Qt(!0),yc(At,null,Vv(He(v).properties,L=>(Qt(),Pn(cr,{to:`/${He(w)}/defects/${L.id}`,title:L.name??L.id,value:L.id,active:He(Es).currentRoute.value.path===`/${He(w)}/defects/${L.id}`},null,8,["to","title","value","active"]))),256))]),_:1})]),_:1},8,["opened"])]),_:1},8,["modelValue"]),Q(o7,null,{default:Tt(()=>[Q(N,null,{default:Tt(({Component:L})=>[L?(Qt(),Pn(oo,{key:0,mode:"out-in"},{default:Tt(()=>[(Qt(),Pn($2,null,[(Qt(),Pn(SF,null,{fallback:Tt(()=>[Q(SO,{indeterminate:"",color:"primary"})]),default:Tt(()=>[(Qt(),Pn(Ek(L)))]),_:2},1024))],1024))]),_:2},1024)):as("",!0)]),_:1}),He(x)?(Qt(),Pn(Tm,{key:0,class:"position-absolute bottom-0 ma-16",type:"error",closable:"",onInput:D[4]||(D[4]=L=>x.value=void 0)},{default:Tt(()=>[ei(rl(He(x)),1)]),_:1})):as("",!0)]),_:1}),as("",!0),Q(F),Q(t0,{"model-value":!He(r).authLoading&&(!He(d)||He($R)(He(d))),fullscreen:"","close-on-content-click":!1,"close-on-back":!1,persistent:"","retain-focus":"",scrim:!0},{default:Tt(()=>[Q(AX)]),_:1},8,["model-value"]),Q(t0,{"model-value":He(a).free_data.left_free_api_calls===0&&!((A=He(d))!=null&&A.tenantId),fullscreen:"","close-on-content-click":!1,"close-on-back":!1,persistent:"","retain-focus":"",scrim:!0},{default:Tt(()=>[Q(O)]),_:1},8,["model-value"])]}),_:1},8,["theme"])}}}),HM=Le({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),C1=nt()({name:"VConfirmEdit",props:HM(),emits:{cancel:()=>!0,save:t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=rn(t,"modelValue"),r=Ye();Qi(()=>{r.value=structuredClone(st(s.value))});const{t:a}=Jc(),c=re(()=>wd(s.value,r.value));function h(){s.value=r.value,n("save",r.value)}function d(){r.value=structuredClone(st(s.value)),n("cancel")}function f(b){return Q(At,null,[Q(kn,lt({disabled:c.value,variant:"text",color:t.color,onClick:d,text:a(t.cancelText)},b),null),Q(kn,lt({disabled:c.value,variant:"text",color:t.color,onClick:h,text:a(t.okText)},b),null)])}let m=!1;return pt(()=>{var b;return Q(At,null,[(b=i.default)==null?void 0:b.call(i,{model:r,save:h,cancel:d,isPristine:c.value,get actions(){return m=!0,f}}),!m&&f()])}),{save:h,cancel:d,isPristine:c}}}),$M=Le({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:cn,default:"$next"},prevIcon:{type:cn,default:"$prev"},modeIcon:{type:cn,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),x1=nt()({name:"VDatePickerControls",props:$M(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(t,e){let{emit:n}=e;const i=re(()=>Array.isArray(t.disabled)?t.disabled.includes("text"):!!t.disabled),s=re(()=>Array.isArray(t.disabled)?t.disabled.includes("mode"):!!t.disabled),r=re(()=>Array.isArray(t.disabled)?t.disabled.includes("prev"):!!t.disabled),a=re(()=>Array.isArray(t.disabled)?t.disabled.includes("next"):!!t.disabled);function c(){n("click:prev")}function h(){n("click:next")}function d(){n("click:year")}function f(){n("click:month")}return pt(()=>Q("div",{class:["v-date-picker-controls"]},[Q(kn,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:t.text,variant:"text",rounded:!0,onClick:f},null),Q(kn,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:t.modeIcon,variant:"text",onClick:d},null),Q(RM,{key:"mode-spacer"},null),Q("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[Q(kn,{disabled:r.value,icon:t.prevIcon,variant:"text",onClick:c},null),Q(kn,{disabled:a.value,icon:t.nextIcon,variant:"text",onClick:h},null)])])),{}}}),y7=Le({appendIcon:cn,color:String,header:String,transition:String,onClick:ds()},"VDatePickerHeader"),E1=nt()({name:"VDatePickerHeader",props:y7(),emits:{click:()=>!0,"click:append":()=>!0},setup(t,e){let{emit:n,slots:i}=e;const{backgroundColorClasses:s,backgroundColorStyles:r}=Ji(t,"color");function a(){n("click")}function c(){n("click:append")}return pt(()=>{const h=!!(i.default||t.header),d=!!(i.append||t.appendIcon);return Q("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!t.onClick},s.value],style:r.value,onClick:a},[i.prepend&&Q("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),h&&Q(pr,{key:"content",name:t.transition},{default:()=>{var f;return[Q("div",{key:t.header,class:"v-date-picker-header__content"},[((f=i.default)==null?void 0:f.call(i))??t.header])]}}),d&&Q("div",{class:"v-date-picker-header__append"},[i.append?Q(bn,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VBtn:{icon:t.appendIcon,variant:"text"}}},{default:()=>{var f;return[(f=i.append)==null?void 0:f.call(i)]}}):Q(kn,{key:"append-btn",icon:t.appendIcon,variant:"text",onClick:c},null)])])}),{}}}),v7=Le({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function b7(t){const e=Qc(),n=rn(t,"modelValue",[],w=>Is(w)),i=re(()=>t.displayValue?e.date(t.displayValue):n.value.length>0?e.date(n.value[0]):t.min?e.date(t.min):Array.isArray(t.allowedDates)?e.date(t.allowedDates[0]):e.date()),s=rn(t,"year",void 0,w=>{const y=w!=null?Number(w):e.getYear(i.value);return e.startOfYear(e.setYear(e.date(),y))},w=>e.getYear(w)),r=rn(t,"month",void 0,w=>{const y=w!=null?Number(w):e.getMonth(i.value),v=e.setYear(e.startOfMonth(e.date()),e.getYear(s.value));return e.setMonth(v,y)},w=>e.getMonth(w)),a=re(()=>{const w=Number(t.firstDayOfWeek??0);return t.weekdays.map(y=>(y+w)%7)}),c=re(()=>{const w=e.getWeekArray(r.value,t.firstDayOfWeek),y=w.flat(),v=6*7;if(t.weeksInMonth==="static"&&y.length<v){const x=y[y.length-1];let k=[];for(let I=1;I<=v-y.length;I++)k.push(e.addDays(x,I)),I%7===0&&(w.push(k),k=[])}return w});function h(w,y){return w.filter(v=>a.value.includes(e.toJsDate(v).getDay())).map((v,x)=>{const k=e.toISO(v),I=!e.isSameMonth(v,r.value),D=e.isSameDay(v,e.startOfMonth(r.value)),N=e.isSameDay(v,e.endOfMonth(r.value)),F=e.isSameDay(v,r.value);return{date:v,isoDate:k,formatted:e.format(v,"keyboardDate"),year:e.getYear(v),month:e.getMonth(v),isDisabled:b(v),isWeekStart:x%7===0,isWeekEnd:x%7===6,isToday:e.isSameDay(v,y),isAdjacent:I,isHidden:I&&!t.showAdjacentMonths,isStart:D,isSelected:n.value.some(O=>e.isSameDay(v,O)),isEnd:N,isSame:F,localized:e.format(v,"dayOfMonth")}})}const d=re(()=>{const w=e.startOfWeek(i.value,t.firstDayOfWeek),y=[];for(let x=0;x<=6;x++)y.push(e.addDays(w,x));const v=e.date();return h(y,v)}),f=re(()=>{const w=c.value.flat(),y=e.date();return h(w,y)}),m=re(()=>c.value.map(w=>w.length?aY(e,w[0]):null));function b(w){if(t.disabled)return!0;const y=e.date(w);return t.min&&e.isAfter(e.date(t.min),y)||t.max&&e.isAfter(y,e.date(t.max))?!0:Array.isArray(t.allowedDates)&&t.allowedDates.length>0?!t.allowedDates.some(v=>e.isSameDay(e.date(v),y)):typeof t.allowedDates=="function"?!t.allowedDates(y):!1}return{displayValue:i,daysInMonth:f,daysInWeek:d,genDays:h,model:n,weeksInMonth:c,weekDays:a,weekNumbers:m}}const zM=Le({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...v7()},"VDatePickerMonth"),T1=nt()({name:"VDatePickerMonth",props:zM(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Ye(),{daysInMonth:r,model:a,weekNumbers:c}=b7(t),h=Qc(),d=ht(),f=ht(),m=ht(!1),b=re(()=>m.value?t.reverseTransition:t.transition);t.multiple==="range"&&a.value.length>0&&(d.value=a.value[0],a.value.length>1&&(f.value=a.value[a.value.length-1]));const w=re(()=>{const k=["number","string"].includes(typeof t.multiple)?Number(t.multiple):1/0;return a.value.length>=k});dt(r,(k,I)=>{I&&(m.value=h.isBefore(k[0].date,I[0].date))});function y(k){const I=h.startOfDay(k);if(a.value.length===0?d.value=void 0:a.value.length===1&&(d.value=a.value[0],f.value=void 0),!d.value)d.value=I,a.value=[d.value];else if(f.value)d.value=k,f.value=void 0,a.value=[d.value];else{if(h.isSameDay(I,d.value)){d.value=void 0,a.value=[];return}else h.isBefore(I,d.value)?(f.value=h.endOfDay(d.value),d.value=I):f.value=h.endOfDay(I);const D=h.getDiff(f.value,d.value,"days"),N=[d.value];for(let F=1;F<D;F++){const O=h.addDays(d.value,F);N.push(O)}N.push(f.value),a.value=N}}function v(k){const I=a.value.findIndex(D=>h.isSameDay(D,k));if(I===-1)a.value=[...a.value,k];else{const D=[...a.value];D.splice(I,1),a.value=D}}function x(k){t.multiple==="range"?y(k):t.multiple?v(k):a.value=[k]}return()=>Q("div",{class:"v-date-picker-month"},[t.showWeek&&Q("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!t.hideWeekdays&&Q("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[ei("")]),c.value.map(k=>Q("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[k]))]),Q(pr,{name:b.value},{default:()=>{var k;return[Q("div",{ref:s,key:(k=r.value[0].date)==null?void 0:k.toString(),class:"v-date-picker-month__days"},[!t.hideWeekdays&&h.getWeekdays(t.firstDayOfWeek).map(I=>Q("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[I])),r.value.map((I,D)=>{const N={props:{onClick:()=>x(I.date)},item:I,i:D};return w.value&&!I.isSelected&&(I.isDisabled=!0),Q("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":I.isAdjacent,"v-date-picker-month__day--hide-adjacent":I.isHidden,"v-date-picker-month__day--selected":I.isSelected,"v-date-picker-month__day--week-end":I.isWeekEnd,"v-date-picker-month__day--week-start":I.isWeekStart}],"data-v-date":I.isDisabled?void 0:I.isoDate},[(t.showAdjacentMonths||!I.isAdjacent)&&Q(bn,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(I.isSelected||I.isToday)&&!I.isDisabled?t.color:void 0,disabled:I.isDisabled,icon:!0,ripple:!1,text:I.localized,variant:I.isDisabled?I.isToday?"outlined":"text":I.isToday&&!I.isSelected?"outlined":"flat",onClick:()=>x(I.date)}}},{default:()=>{var F;return[((F=i.day)==null?void 0:F.call(i,N))??Q(kn,N.props,null)]}})])})])]}})])}}),WM=Le({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),S1=nt()({name:"VDatePickerMonths",props:WM(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Qc(),r=rn(t,"modelValue"),a=re(()=>{let c=s.startOfYear(s.date());return t.year&&(c=s.setYear(c,t.year)),mg(12).map(h=>{const d=s.format(c,"monthShort"),f=!!(t.min&&s.isAfter(s.startOfMonth(s.date(t.min)),c)||t.max&&s.isAfter(c,s.startOfMonth(s.date(t.max))));return c=s.getNextMonth(c),{isDisabled:f,text:d,value:h}})});return Qi(()=>{r.value=r.value??s.getMonth(s.date())}),pt(()=>Q("div",{class:"v-date-picker-months",style:{height:_t(t.height)}},[Q("div",{class:"v-date-picker-months__content"},[a.value.map((c,h)=>{var m;const d={active:r.value===h,color:r.value===h?t.color:void 0,disabled:c.isDisabled,rounded:!0,text:c.text,variant:r.value===c.value?"flat":"text",onClick:()=>f(h)};function f(b){if(r.value===b){n("update:modelValue",r.value);return}r.value=b}return((m=i.month)==null?void 0:m.call(i,{month:c,i:h,props:d}))??Q(kn,lt({key:"month"},d),null)})])])),{}}}),GM=Le({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),k1=nt()({name:"VDatePickerYears",props:GM(),emits:{"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Qc(),r=rn(t,"modelValue"),a=re(()=>{const h=s.getYear(s.date());let d=h-100,f=h+52;t.min&&(d=s.getYear(s.date(t.min))),t.max&&(f=s.getYear(s.date(t.max)));let m=s.startOfYear(s.date());return m=s.setYear(m,d),mg(f-d+1,d).map(b=>{const w=s.format(m,"year");return m=s.setYear(m,s.getYear(m)+1),{text:w,value:b}})});Qi(()=>{r.value=r.value??s.getYear(s.date())});const c=mm();return ps(async()=>{var h;await gi(),(h=c.el)==null||h.scrollIntoView({block:"center"})}),pt(()=>Q("div",{class:"v-date-picker-years",style:{height:_t(t.height)}},[Q("div",{class:"v-date-picker-years__content"},[a.value.map((h,d)=>{var m;const f={ref:r.value===h.value?c:void 0,active:r.value===h.value,color:r.value===h.value?t.color:void 0,rounded:!0,text:h.text,variant:r.value===h.value?"flat":"text",onClick:()=>{if(r.value===h.value){n("update:modelValue",r.value);return}r.value=h.value}};return((m=i.year)==null?void 0:m.call(i,{year:h,i:d,props:f}))??Q(kn,lt({key:"month"},f),null)})])])),{}}}),_7=Cd("v-picker-title"),qM=Le({color:String,...Ar(),...Nt(),...Mr(),...Rr(),...Sd(),...bg(),...Zi(),...Fn(),...Gn()},"VSheet"),I1=nt()({name:"VSheet",props:qM(),setup(t,e){let{slots:n}=e;const{themeClasses:i}=oi(t),{backgroundColorClasses:s,backgroundColorStyles:r}=Ji(Ct(t,"color")),{borderClasses:a}=Pr(t),{dimensionStyles:c}=Dr(t),{elevationClasses:h}=Or(t),{locationStyles:d}=kd(t),{positionClasses:f}=_g(t),{roundedClasses:m}=es(t);return pt(()=>Q(t.tag,{class:["v-sheet",i.value,s.value,a.value,h.value,f.value,m.value,t.class],style:[r.value,c.value,d.value,t.style]},n)),{}}}),KM=Le({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...qM()},"VPicker"),A1=nt()({name:"VPicker",props:KM(),setup(t,e){let{slots:n}=e;const{backgroundColorClasses:i,backgroundColorStyles:s}=Ji(Ct(t,"color"));return pt(()=>{const r=I1.filterProps(t),a=!!(t.title||n.title);return Q(I1,lt(r,{color:t.bgColor,class:["v-picker",{"v-picker--landscape":t.landscape,"v-picker--with-actions":!!n.actions},t.class],style:t.style}),{default:()=>{var c;return[!t.hideHeader&&Q("div",{key:"header",class:[i.value],style:[s.value]},[a&&Q(_7,{key:"picker-title"},{default:()=>{var h;return[((h=n.title)==null?void 0:h.call(n))??t.title]}}),n.header&&Q("div",{class:"v-picker__header"},[n.header()])]),Q("div",{class:"v-picker__body"},[(c=n.default)==null?void 0:c.call(n)]),n.actions&&Q(bn,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[Q("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),YM=Le({header:{type:String,default:"$vuetify.datePicker.header"},...$M(),...zM({weeksInMonth:"static"}),...Ms(WM(),["modelValue"]),...Ms(GM(),["modelValue"]),...KM({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),P1=nt()({name:"VDatePicker",props:YM(),emits:{"update:modelValue":t=>!0,"update:month":t=>!0,"update:year":t=>!0,"update:viewMode":t=>!0},setup(t,e){let{emit:n,slots:i}=e;const s=Qc(),{t:r}=Jc(),a=rn(t,"modelValue",void 0,L=>Is(L),L=>t.multiple?L:L[0]),c=rn(t,"viewMode"),h=re(()=>{var U;const L=s.date((U=a.value)==null?void 0:U[0]);return L&&s.isValid(L)?L:s.date()}),d=Ye(Number(t.month??s.getMonth(s.startOfMonth(h.value)))),f=Ye(Number(t.year??s.getYear(s.startOfYear(s.setMonth(h.value,d.value))))),m=ht(!1),b=re(()=>t.multiple&&a.value.length>1?r("$vuetify.datePicker.itemsSelected",a.value.length):a.value[0]&&s.isValid(a.value[0])?s.format(s.date(a.value[0]),"normalDateWithWeekday"):r(t.header)),w=re(()=>{let L=s.date();return L=s.setDate(L,1),L=s.setMonth(L,d.value),L=s.setYear(L,f.value),s.format(L,"monthAndYear")}),y=re(()=>`date-picker-header${m.value?"-reverse":""}-transition`),v=re(()=>{const L=s.date(t.min);return t.min&&s.isValid(L)?L:null}),x=re(()=>{const L=s.date(t.max);return t.max&&s.isValid(L)?L:null}),k=re(()=>{if(t.disabled)return!0;const L=[];if(c.value!=="month")L.push("prev","next");else{let U=s.date();if(U=s.setYear(U,f.value),U=s.setMonth(U,d.value),v.value){const z=s.addDays(s.startOfMonth(U),-1);s.isAfter(v.value,z)&&L.push("prev")}if(x.value){const z=s.addDays(s.endOfMonth(U),1);s.isAfter(z,x.value)&&L.push("next")}}return L});function I(){d.value<11?d.value++:(f.value++,d.value=0,A(f.value)),S(d.value)}function D(){d.value>0?d.value--:(f.value--,d.value=11,A(f.value)),S(d.value)}function N(){c.value="month"}function F(){c.value=c.value==="months"?"month":"months"}function O(){c.value=c.value==="year"?"month":"year"}function S(L){c.value==="months"&&F(),n("update:month",L)}function A(L){c.value==="year"&&O(),n("update:year",L)}return dt(a,(L,U)=>{const z=Is(U),G=Is(L);if(!G.length)return;const H=s.date(z[z.length-1]),q=s.date(G[G.length-1]),Z=s.getMonth(q),ie=s.getYear(q);Z!==d.value&&(d.value=Z,S(d.value)),ie!==f.value&&(f.value=ie,A(f.value)),m.value=s.isBefore(H,q)}),pt(()=>{const L=A1.filterProps(t),U=x1.filterProps(t),z=E1.filterProps(t),G=T1.filterProps(t),H=Ms(S1.filterProps(t),["modelValue"]),q=Ms(k1.filterProps(t),["modelValue"]),Z={header:b.value,transition:y.value};return Q(A1,lt(L,{class:["v-date-picker",`v-date-picker--${c.value}`,{"v-date-picker--show-week":t.showWeek},t.class],style:t.style}),{title:()=>{var ie;return((ie=i.title)==null?void 0:ie.call(i))??Q("div",{class:"v-date-picker__title"},[r(t.title)])},header:()=>i.header?Q(bn,{defaults:{VDatePickerHeader:{...Z}}},{default:()=>{var ie;return[(ie=i.header)==null?void 0:ie.call(i,Z)]}}):Q(E1,lt({key:"header"},z,Z,{onClick:c.value!=="month"?N:void 0}),{...i,default:void 0}),default:()=>Q(At,null,[Q(x1,lt(U,{disabled:k.value,text:w.value,"onClick:next":I,"onClick:prev":D,"onClick:month":F,"onClick:year":O}),null),Q(DY,{hideOnLeave:!0},{default:()=>[c.value==="months"?Q(S1,lt({key:"date-picker-months"},H,{modelValue:d.value,"onUpdate:modelValue":[ie=>d.value=ie,S],min:v.value,max:x.value,year:f.value}),null):c.value==="year"?Q(k1,lt({key:"date-picker-years"},q,{modelValue:f.value,"onUpdate:modelValue":[ie=>f.value=ie,A],min:v.value,max:x.value}),null):Q(T1,lt({key:"date-picker-month"},G,{modelValue:a.value,"onUpdate:modelValue":ie=>a.value=ie,month:d.value,"onUpdate:month":[ie=>d.value=ie,S],year:f.value,"onUpdate:year":[ie=>f.value=ie,A],min:v.value,max:x.value}),null)]})]),actions:i.actions})}),{}}}),w7=Le({id:String,submenu:Boolean,...Ms(Tg({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:nM}}),["absolute"])},"VMenu"),C7=nt()({name:"VMenu",props:w7(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rn(t,"modelValue"),{scopeId:s}=Id(),{isRtl:r}=Nr(),a=Ir(),c=re(()=>t.id||`v-menu-${a}`),h=Ye(),d=zt(e0,null),f=ht(new Set);mi(e0,{register(){f.value.add(a)},unregister(){f.value.delete(a)},closeParents(x){setTimeout(()=>{var k;!f.value.size&&!t.persistent&&(x==null||(k=h.value)!=null&&k.contentEl&&!q5(x,h.value.contentEl))&&(i.value=!1,d==null||d.closeParents())},40)}}),yi(()=>{d==null||d.unregister(),document.removeEventListener("focusin",m)}),E0(()=>i.value=!1);async function m(x){var D,N,F;const k=x.relatedTarget,I=x.target;await gi(),i.value&&k!==I&&((D=h.value)!=null&&D.contentEl)&&((N=h.value)!=null&&N.globalTop)&&![document,h.value.contentEl].includes(I)&&!h.value.contentEl.contains(I)&&((F=pm(h.value.contentEl)[0])==null||F.focus())}dt(i,x=>{x?(d==null||d.register(),hn&&document.addEventListener("focusin",m,{once:!0})):(d==null||d.unregister(),hn&&document.removeEventListener("focusin",m))},{immediate:!0});function b(x){d==null||d.closeParents(x)}function w(x){var k,I,D,N,F;if(!t.disabled)if(x.key==="Tab"||x.key==="Enter"&&!t.closeOnContentClick){if(x.key==="Enter"&&(x.target instanceof HTMLTextAreaElement||x.target instanceof HTMLInputElement&&x.target.closest("form")))return;x.key==="Enter"&&x.preventDefault(),oO(pm((k=h.value)==null?void 0:k.contentEl,!1),x.shiftKey?"prev":"next",S=>S.tabIndex>=0)||(i.value=!1,(D=(I=h.value)==null?void 0:I.activatorEl)==null||D.focus())}else t.submenu&&x.key===(r.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(F=(N=h.value)==null?void 0:N.activatorEl)==null||F.focus())}function y(x){var I;if(t.disabled)return;const k=(I=h.value)==null?void 0:I.contentEl;k&&i.value?x.key==="ArrowDown"?(x.preventDefault(),x.stopImmediatePropagation(),kh(k,"next")):x.key==="ArrowUp"?(x.preventDefault(),x.stopImmediatePropagation(),kh(k,"prev")):t.submenu&&(x.key===(r.value?"ArrowRight":"ArrowLeft")?i.value=!1:x.key===(r.value?"ArrowLeft":"ArrowRight")&&(x.preventDefault(),kh(k,"first"))):(t.submenu?x.key===(r.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(x.key))&&(i.value=!0,x.preventDefault(),setTimeout(()=>setTimeout(()=>y(x))))}const v=re(()=>lt({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":c.value,onKeydown:y},t.activatorProps));return pt(()=>{const x=Dc.filterProps(t);return Q(Dc,lt({ref:h,id:c.value,class:["v-menu",t.class],style:t.style},x,{modelValue:i.value,"onUpdate:modelValue":k=>i.value=k,absolute:!0,activatorProps:v.value,location:t.location??(t.submenu?"end":"bottom"),"onClick:outside":b,onKeydown:w},s),{activator:n.activator,default:function(){for(var k=arguments.length,I=new Array(k),D=0;D<k;D++)I[D]=arguments[D];return Q(bn,{root:"VMenu"},{default:()=>{var N;return[(N=n.default)==null?void 0:N.call(n,...I)]}})}})}),Zc({id:c,openChildren:f},h)}}),x7=Le({hideActions:Boolean,...fw(),...HM(),...mw({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...Ms(YM({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),E7=nt()({name:"VDateInput",props:x7(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{t:i}=Jc(),s=Qc(),{isFocused:r,focus:a,blur:c}=pw(t),h=rn(t,"modelValue",t.multiple?[]:null),d=ht(!1),f=re(()=>{const v=Is(h.value);if(!v.length)return null;if(t.multiple===!0)return i("$vuetify.datePicker.itemsSelected",v.length);if(t.multiple==="range"){const x=v[0],k=v[v.length-1];return s.isValid(x)&&s.isValid(k)?`${s.format(x,"keyboardDate")} - ${s.format(k,"keyboardDate")}`:""}return s.isValid(h.value)?s.format(h.value,"keyboardDate"):""}),m=re(()=>!t.disabled&&!t.readonly);function b(v){if(v.key!=="Enter")return;if(!d.value||!r.value){d.value=!0;return}const x=v.target;h.value=s.date(x.value)}function w(v){v.preventDefault(),v.stopPropagation(),d.value=!0}function y(){d.value=!1}pt(()=>{const v=C1.filterProps(t),x=P1.filterProps(Ms(t,["active"])),k=ua.filterProps(t);return Q(ua,lt(k,{class:t.class,style:t.style,modelValue:f.value,onKeydown:m.value?b:void 0,focused:d.value||r.value,onFocus:a,onBlur:c,"onClick:control":m.value?w:void 0,"onClick:prepend":m.value?w:void 0}),{default:()=>{var I;return[Q(C7,{modelValue:d.value,"onUpdate:modelValue":D=>d.value=D,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[Q(C1,lt(v,{modelValue:h.value,"onUpdate:modelValue":D=>h.value=D,onSave:y}),{default:D=>{let{actions:N,model:F}=D;return Q(P1,lt(x,{modelValue:t.hideActions?h.value:F.value,"onUpdate:modelValue":O=>{t.hideActions?(h.value=O,t.multiple||(d.value=!1)):F.value=O},onMousedown:O=>O.preventDefault()}),{actions:t.hideActions?void 0:N})}})]}),(I=n.default)==null?void 0:I.call(n)]}})})}}),T7={defaults:{global:{rounded:"sm"},VAvatar:{rounded:"circle"},VAutocomplete:{variant:"underlined"},VBanner:{color:"primary"},VBtn:{color:"primary",rounded:0},VCheckbox:{color:"secondary"},VCombobox:{variant:"underlined"},VSelect:{variant:"underlined"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"underlined"},VTextField:{variant:"underlined"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:Td}},theme:{themes:{light:{colors:{primary:"#3F51B5","primary-darken-1":"#303F9F","primary-lighten-1":"#C5CAE9",secondary:"#FF4081","secondary-darken-1":"#F50057","secondary-lighten-1":"#FF80AB",accent:"#009688"}}}}},S7={defaults:{global:{rounded:"md"},VAvatar:{rounded:"circle"},VAutocomplete:{variant:"filled"},VBanner:{color:"primary"},VBtn:{color:"primary"},VCheckbox:{color:"secondary"},VCombobox:{variant:"filled"},VSelect:{variant:"filled"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"filled"},VTextField:{variant:"filled"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:Td}},theme:{themes:{light:{colors:{primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020"}}}}},k7={defaults:{VAppBar:{flat:!0},VAutocomplete:{variant:"filled"},VBanner:{color:"primary"},VBottomSheet:{contentClass:"rounded-t-xl overflow-hidden"},VBtn:{color:"primary",rounded:"xl"},VBtnGroup:{rounded:"xl",VBtn:{rounded:null}},VCard:{rounded:"lg"},VCheckbox:{color:"secondary",inset:!0},VChip:{rounded:"sm"},VCombobox:{variant:"filled"},VNavigationDrawer:{},VSelect:{variant:"filled"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"filled"},VTextField:{variant:"filled"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:Td}},theme:{themes:{light:{colors:{primary:"#6750a4",secondary:"#b4b0bb",tertiary:"#7d5260",error:"#b3261e",surface:"#fffbfe"}}}}},I7=Le({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...Ms(mw({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),A7=nt()({name:"VNumberInput",props:{...I7()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const i=rn(t,"modelValue"),s=re({get:()=>i.value,set(U){if(U===null||U===""){i.value=null;return}const z=Number(U);!isNaN(z)&&z<=t.max&&z>=t.min&&(i.value=z)}}),r=Ye(),a=re(()=>xS(t.step)),c=re(()=>typeof s.value=="number"?xS(s.value):0),h=QO(t),d=re(()=>h.isDisabled.value||h.isReadonly.value),f=re(()=>d.value?!1:(s.value??0)+t.step<=t.max),m=re(()=>d.value?!1:(s.value??0)-t.step>=t.min),b=re(()=>t.hideInput?"stacked":t.controlVariant),w=re(()=>b.value==="split"?"$plus":"$collapse"),y=re(()=>b.value==="split"?"$minus":"$expand"),v=re(()=>b.value==="split"?"default":"small"),x=re(()=>b.value==="stacked"?"auto":"100%"),k=re(()=>({click:N})),I=re(()=>({click:F}));ps(()=>{d.value||L()});function D(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(d.value)return;if(s.value==null){s.value=uo(0,t.min,t.max);return}const z=Math.max(c.value,a.value);U?f.value&&(s.value=+(s.value+t.step).toFixed(z)):m.value&&(s.value=+(s.value-t.step).toFixed(z))}function N(U){U.stopPropagation(),D()}function F(U){U.stopPropagation(),D(!1)}function O(U){var Z,ie,oe;if(!U.data)return;const z=(Z=U.target)==null?void 0:Z.value,G=(ie=U.target)==null?void 0:ie.selectionStart,H=(oe=U.target)==null?void 0:oe.selectionEnd,q=z?z.slice(0,G)+U.data+z.slice(H):U.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(q)||U.preventDefault()}async function S(U){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(U.key)||U.ctrlKey||["ArrowDown","ArrowUp"].includes(U.key)&&(U.preventDefault(),L(),await gi(),U.key==="ArrowDown"?D(!1):D())}function A(U){U.stopPropagation()}function L(){if(!r.value)return;const U=r.value.value;U&&!isNaN(+U)?s.value=uo(+U,t.min,t.max):s.value=null}return pt(()=>{const{modelValue:U,...z}=ua.filterProps(t);function G(){return n.increment?Q(bn,{key:"increment-defaults",defaults:{VBtn:{disabled:!f.value,flat:!0,height:x.value,size:v.value,icon:w.value}}},{default:()=>[n.increment(k.value)]}):Q(kn,{disabled:!f.value,flat:!0,key:"increment-btn",height:x.value,"data-testid":"increment","aria-hidden":"true",icon:w.value,onClick:N,onMousedown:A,size:v.value,tabindex:"-1"},null)}function H(){return n.decrement?Q(bn,{key:"decrement-defaults",defaults:{VBtn:{disabled:!m.value,flat:!0,height:x.value,size:v.value,icon:y.value}}},{default:()=>[n.decrement(I.value)]}):Q(kn,{disabled:!m.value,flat:!0,key:"decrement-btn",height:x.value,"data-testid":"decrement","aria-hidden":"true",icon:y.value,size:v.value,tabindex:"-1",onClick:F,onMousedown:A},null)}function q(){return Q("div",{class:"v-number-input__control"},[H(),Q(tc,{vertical:b.value!=="stacked"},null),G()])}function Z(){return!t.hideInput&&!t.inset?Q(tc,{vertical:!0},null):void 0}const ie=b.value==="split"?Q("div",{class:"v-number-input__control"},[Q(tc,{vertical:!0},null),G()]):t.reverse?void 0:Q(At,null,[Z(),q()]),oe=n["append-inner"]||ie,ce=b.value==="split"?Q("div",{class:"v-number-input__control"},[H(),Q(tc,{vertical:!0},null)]):t.reverse?Q(At,null,[q(),Z()]):void 0,ve=n["prepend-inner"]||ce;return Q(ua,lt({ref:r,modelValue:s.value,"onUpdate:modelValue":we=>s.value=we,onBeforeinput:O,onChange:L,onKeydown:S,class:["v-number-input",{"v-number-input--default":b.value==="default","v-number-input--hide-input":t.hideInput,"v-number-input--inset":t.inset,"v-number-input--reverse":t.reverse,"v-number-input--split":b.value==="split","v-number-input--stacked":b.value==="stacked"},t.class]},z,{style:t.style,inputmode:"decimal"}),{...n,"append-inner":oe?function(){var De;for(var we=arguments.length,be=new Array(we),Ce=0;Ce<we;Ce++)be[Ce]=arguments[Ce];return Q(At,null,[(De=n["append-inner"])==null?void 0:De.call(n,...be),ie])}:void 0,"prepend-inner":ve?function(){var De;for(var we=arguments.length,be=new Array(we),Ce=0;Ce<we;Ce++)be[Ce]=arguments[Ce];return Q(At,null,[ce,(De=n["prepend-inner"])==null?void 0:De.call(n,...be)])}:void 0})}),Zc({},r)}});var P7=(t=>(t.NONE="Default Vuetify",t.MD1="Material Design 1",t.MD2="Material Design 2",t.MD3="Material Design 3",t))(P7||{});function R7(t){switch(t){case"Material Design 1":return T7;case"Material Design 2":return S7;case"Material Design 3":return k7;default:return}}const O7=XO({blueprint:R7(localStorage.getItem("material")),theme:{themes:{light:{colors:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},dark:{colors:{primary:"#BB86FC",secondary:"#03DAC6",accent:"#82B1FF",error:"#CF6679",info:"#2196F3",success:"#03DAC6",warning:"#FBC02D"}}}},icons:{defaultSet:"mdi",aliases:bO,sets:{mdi:Td}},components:{VDateInput:E7,VNumberInput:A7}});var XM={exports:{}};(function(t){(function(e,n){t.exports?(n.default=n,t.exports=e&&e.document?n(e):n):(e.Dashboards&&e.Dashboards.error(16,!0),e.Dashboards=n(e))})(typeof window<"u"?window:Ql,function(e){var n={};function i(s,r,a,c){!s.hasOwnProperty(r)&&(s[r]=c.apply(null,a),e&&typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:r,module:s[r]}})))}return i(n,"Core/Globals.js",[],function(){var s,r;return(r=s||(s={})).SVG_NS="http://www.w3.org/2000/svg",r.product="Highcharts",r.version="3.1.0",r.win=e!==void 0?e:{},r.doc=r.win.document,r.svg=r.doc&&r.doc.createElementNS&&!!r.doc.createElementNS(r.SVG_NS,"svg").createSVGRect,r.userAgent=r.win.navigator&&r.win.navigator.userAgent||"",r.isChrome=r.win.chrome,r.isFirefox=r.userAgent.indexOf("Firefox")!==-1,r.isMS=/(edge|msie|trident)/i.test(r.userAgent)&&!r.win.opera,r.isSafari=!r.isChrome&&r.userAgent.indexOf("Safari")!==-1,r.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(r.userAgent),r.isWebKit=r.userAgent.indexOf("AppleWebKit")!==-1,r.deg2rad=2*Math.PI/360,r.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],r.noop=function(){},r.supportsPassiveEvents=function(){let a=!1;if(!r.isMS){let c=Object.defineProperty({},"passive",{get:function(){a=!0}});r.win.addEventListener&&r.win.removeEventListener&&(r.win.addEventListener("testPassive",r.noop,c),r.win.removeEventListener("testPassive",r.noop,c))}return a}(),r.charts=[],r.composed=[],r.dateFormats={},r.seriesTypes={},r.symbolSizes={},r.chartCount=0,s}),i(n,"Core/Utilities.js",[n["Core/Globals.js"]],function(s){let r,{charts:a,doc:c,win:h}=s;function d(q,Z,ie,oe){let ce=Z?"Highcharts error":"Highcharts warning";q===32&&(q=`${ce}: Deprecated member`);let ve=x(q),we=ve?`${ce} #${q}: www.highcharts.com/errors/${q}/`:q.toString();if(oe!==void 0){let be="";ve&&(we+="?"),U(oe,function(Ce,De){be+=`
 - ${De}: ${Ce}`,ve&&(we+=encodeURI(De)+"="+encodeURI(Ce))}),we+=be}G(s,"displayError",{chart:ie,code:q,message:we,params:oe},function(){if(Z)throw Error(we);h.console&&d.messages.indexOf(we)===-1&&console.warn(we)}),d.messages.push(we)}function f(q,Z){return parseInt(q,Z||10)}function m(q){return typeof q=="string"}function b(q){let Z=Object.prototype.toString.call(q);return Z==="[object Array]"||Z==="[object Array Iterator]"}function w(q,Z){return!!q&&typeof q=="object"&&(!Z||!b(q))}function y(q){return w(q)&&typeof q.nodeType=="number"}function v(q){let Z=q&&q.constructor;return!!(w(q,!0)&&!y(q)&&Z&&Z.name&&Z.name!=="Object")}function x(q){return typeof q=="number"&&!isNaN(q)&&q<1/0&&q>-1/0}function k(q){return q!=null}function I(q,Z,ie){let oe,ce=m(Z)&&!k(ie),ve=(we,be)=>{k(we)?q.setAttribute(be,we):ce?(oe=q.getAttribute(be))||be!=="class"||(oe=q.getAttribute(be+"Name")):q.removeAttribute(be)};return m(Z)?ve(ie,Z):U(Z,ve),oe}function D(q){return b(q)?q:[q]}function N(q,Z){let ie;for(ie in q||(q={}),Z)q[ie]=Z[ie];return q}function F(){let q=arguments,Z=q.length;for(let ie=0;ie<Z;ie++){let oe=q[ie];if(oe!=null)return oe}}function O(q,Z){N(q.style,Z)}function S(q){return Math.pow(10,Math.floor(Math.log(q)/Math.LN10))}function A(q,Z){return q>1e14?q:parseFloat(q.toPrecision(Z||14))}(d||(d={})).messages=[],Math.easeInOutSine=function(q){return-.5*(Math.cos(Math.PI*q)-1)};let L=Array.prototype.find?function(q,Z){return q.find(Z)}:function(q,Z){let ie,oe=q.length;for(ie=0;ie<oe;ie++)if(Z(q[ie],ie))return q[ie]};function U(q,Z,ie){for(let oe in q)Object.hasOwnProperty.call(q,oe)&&Z.call(ie||q[oe],q[oe],oe,q)}function z(q,Z,ie){function oe(we,be){let Ce=q.removeEventListener;Ce&&Ce.call(q,we,be,!1)}function ce(we){let be,Ce;q.nodeName&&(Z?(be={})[Z]=!0:be=we,U(be,function(De,We){if(we[We])for(Ce=we[We].length;Ce--;)oe(We,we[We][Ce].fn)}))}let ve=typeof q=="function"&&q.prototype||q;if(Object.hasOwnProperty.call(ve,"hcEvents")){let we=ve.hcEvents;if(Z){let be=we[Z]||[];ie?(we[Z]=be.filter(function(Ce){return ie!==Ce.fn}),oe(Z,ie)):(ce(we),we[Z]=[])}else ce(we),delete ve.hcEvents}}function G(q,Z,ie,oe){if(ie=ie||{},c.createEvent&&(q.dispatchEvent||q.fireEvent&&q!==s)){let ce=c.createEvent("Events");ce.initEvent(Z,!0,!0),ie=N(ce,ie),q.dispatchEvent?q.dispatchEvent(ie):q.fireEvent(Z,ie)}else if(q.hcEvents){ie.target||N(ie,{preventDefault:function(){ie.defaultPrevented=!0},target:q,type:Z});let ce=[],ve=q,we=!1;for(;ve.hcEvents;)Object.hasOwnProperty.call(ve,"hcEvents")&&ve.hcEvents[Z]&&(ce.length&&(we=!0),ce.unshift.apply(ce,ve.hcEvents[Z])),ve=Object.getPrototypeOf(ve);we&&ce.sort((be,Ce)=>be.order-Ce.order),ce.forEach(be=>{be.fn.call(q,ie)===!1&&ie.preventDefault()})}oe&&!ie.defaultPrevented&&oe.call(q,ie)}let H=function(){let q=Math.random().toString(36).substring(2,9)+"-",Z=0;return function(){return"highcharts-"+(r?"":q)+Z++}}();return h.jQuery&&(h.jQuery.fn.highcharts=function(){let q=[].slice.call(arguments);if(this[0])return q[0]?(new s[m(q[0])?q.shift():"Chart"](this[0],q[0],q[1]),this):a[I(this[0],"data-highcharts-chart")]}),{addEvent:function(q,Z,ie,oe={}){let ce=typeof q=="function"&&q.prototype||q;Object.hasOwnProperty.call(ce,"hcEvents")||(ce.hcEvents={});let ve=ce.hcEvents;s.Point&&q instanceof s.Point&&q.series&&q.series.chart&&(q.series.chart.runTrackerClick=!0);let we=q.addEventListener;we&&we.call(q,Z,ie,!!s.supportsPassiveEvents&&{passive:oe.passive===void 0?Z.indexOf("touch")!==-1:oe.passive,capture:!1}),ve[Z]||(ve[Z]=[]);let be={fn:ie,order:typeof oe.order=="number"?oe.order:1/0};return ve[Z].push(be),ve[Z].sort((Ce,De)=>Ce.order-De.order),function(){z(q,Z,ie)}},arrayMax:function(q){let Z=q.length,ie=q[0];for(;Z--;)q[Z]>ie&&(ie=q[Z]);return ie},arrayMin:function(q){let Z=q.length,ie=q[0];for(;Z--;)q[Z]<ie&&(ie=q[Z]);return ie},attr:I,clamp:function(q,Z,ie){return q>Z?q<ie?q:ie:Z},clearTimeout:function(q){k(q)&&clearTimeout(q)},correctFloat:A,createElement:function(q,Z,ie,oe,ce){let ve=c.createElement(q);return Z&&N(ve,Z),ce&&O(ve,{padding:"0",border:"none",margin:"0"}),ie&&O(ve,ie),oe&&oe.appendChild(ve),ve},crisp:function(q,Z=0,ie){let oe=Z%2/2,ce=ie?-1:1;return(Math.round(q*ce-oe)+oe)*ce},css:O,defined:k,destroyObjectProperties:function(q,Z,ie){U(q,function(oe,ce){oe!==Z&&(oe!=null&&oe.destroy)&&oe.destroy(),(oe!=null&&oe.destroy||!ie)&&delete q[ce]})},diffObjects:function(q,Z,ie,oe){let ce={};return function ve(we,be,Ce,De){let We=ie?be:we;U(we,function(rt,$e){if(!De&&oe&&oe.indexOf($e)>-1&&be[$e]){rt=D(rt),Ce[$e]=[];for(let ge=0;ge<Math.max(rt.length,be[$e].length);ge++)be[$e][ge]&&(rt[ge]===void 0?Ce[$e][ge]=be[$e][ge]:(Ce[$e][ge]={},ve(rt[ge],be[$e][ge],Ce[$e][ge],De+1)))}else w(rt,!0)&&!rt.nodeType?(Ce[$e]=b(rt)?[]:{},ve(rt,be[$e]||{},Ce[$e],De+1),Object.keys(Ce[$e]).length!==0||$e==="colorAxis"&&De===0||delete Ce[$e]):(we[$e]!==be[$e]||$e in we&&!($e in be))&&$e!=="__proto__"&&$e!=="constructor"&&(Ce[$e]=We[$e])})}(q,Z,ce,0),ce},discardElement:function(q){q&&q.parentElement&&q.parentElement.removeChild(q)},erase:function(q,Z){let ie=q.length;for(;ie--;)if(q[ie]===Z){q.splice(ie,1);break}},error:d,extend:N,extendClass:function(q,Z){let ie=function(){};return ie.prototype=new q,N(ie.prototype,Z),ie},find:L,fireEvent:G,getAlignFactor:(q="")=>({center:.5,right:1,middle:.5,bottom:1})[q]||0,getClosestDistance:function(q,Z){let ie,oe,ce,ve=!Z;return q.forEach(we=>{if(we.length>1)for(ce=we.length-1;ce>0;ce--)(oe=we[ce]-we[ce-1])<0&&!ve?(Z==null||Z(),Z=void 0):oe&&(ie===void 0||oe<ie)&&(ie=oe)}),ie},getMagnitude:S,getNestedProperty:function(q,Z){let ie=q.split(".");for(;ie.length&&k(Z);){let oe=ie.shift();if(oe===void 0||oe==="__proto__")return;if(oe==="this"){let ve;return w(Z)&&(ve=Z["@this"]),ve??Z}let ce=Z[oe];if(!k(ce)||typeof ce=="function"||typeof ce.nodeType=="number"||ce===h)return;Z=ce}return Z},getStyle:function q(Z,ie,oe){let ce;if(ie==="width"){let we=Math.min(Z.offsetWidth,Z.scrollWidth),be=Z.getBoundingClientRect&&Z.getBoundingClientRect().width;return be<we&&be>=we-1&&(we=Math.floor(be)),Math.max(0,we-(q(Z,"padding-left",!0)||0)-(q(Z,"padding-right",!0)||0))}if(ie==="height")return Math.max(0,Math.min(Z.offsetHeight,Z.scrollHeight)-(q(Z,"padding-top",!0)||0)-(q(Z,"padding-bottom",!0)||0));let ve=h.getComputedStyle(Z,void 0);return ve&&(ce=ve.getPropertyValue(ie),F(oe,ie!=="opacity")&&(ce=f(ce))),ce},insertItem:function(q,Z){let ie,oe=q.options.index,ce=Z.length;for(ie=q.options.isInternal?ce:0;ie<ce+1;ie++)if(!Z[ie]||x(oe)&&oe<F(Z[ie].options.index,Z[ie]._i)||Z[ie].options.isInternal){Z.splice(ie,0,q);break}return ie},isArray:b,isClass:v,isDOMElement:y,isFunction:function(q){return typeof q=="function"},isNumber:x,isObject:w,isString:m,merge:function(q,...Z){let ie,oe=[q,...Z],ce={},ve=function(be,Ce){return typeof be!="object"&&(be={}),U(Ce,function(De,We){We!=="__proto__"&&We!=="constructor"&&(!w(De,!0)||v(De)||y(De)?be[We]=Ce[We]:be[We]=ve(be[We]||{},De))}),be};q===!0&&(ce=oe[1],oe=Array.prototype.slice.call(oe,2));let we=oe.length;for(ie=0;ie<we;ie++)ce=ve(ce,oe[ie]);return ce},normalizeTickInterval:function(q,Z,ie,oe,ce){let ve,we=q;ie=F(ie,S(q));let be=q/ie;for(!Z&&(Z=ce?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],oe===!1&&(ie===1?Z=Z.filter(function(Ce){return Ce%1==0}):ie<=.1&&(Z=[1/ie]))),ve=0;ve<Z.length&&(we=Z[ve],(!ce||!(we*ie>=q))&&(ce||!(be<=(Z[ve]+(Z[ve+1]||Z[ve]))/2)));ve++);return A(we*ie,-Math.round(Math.log(.001)/Math.LN10))},objectEach:U,offset:function(q){let Z=c.documentElement,ie=q.parentElement||q.parentNode?q.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:ie.top+(h.pageYOffset||Z.scrollTop)-(Z.clientTop||0),left:ie.left+(h.pageXOffset||Z.scrollLeft)-(Z.clientLeft||0),width:ie.width,height:ie.height}},pad:function(q,Z,ie){return Array((Z||2)+1-String(q).replace("-","").length).join(ie||"0")+q},pick:F,pInt:f,pushUnique:function(q,Z){return 0>q.indexOf(Z)&&!!q.push(Z)},relativeLength:function(q,Z,ie){return/%$/.test(q)?Z*parseFloat(q)/100+(ie||0):parseFloat(q)},removeEvent:z,replaceNested:function(q,...Z){let ie,oe;do for(oe of(ie=q,Z))q=q.replace(oe[0],oe[1]);while(q!==ie);return q},splat:D,stableSort:function(q,Z){let ie,oe,ce=q.length;for(oe=0;oe<ce;oe++)q[oe].safeI=oe;for(q.sort(function(ve,we){return(ie=Z(ve,we))===0?ve.safeI-we.safeI:ie}),oe=0;oe<ce;oe++)delete q[oe].safeI},syncTimeout:function(q,Z,ie){return Z>0?setTimeout(q,Z,ie):(q.call(0,ie),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(q){return m(q)?q.substring(0,1).toUpperCase()+q.substring(1):String(q)},uniqueKey:H,useSerialIds:function(q){return r=F(q,r)},wrap:function(q,Z,ie){let oe=q[Z];q[Z]=function(){let ce=arguments,ve=this;return ie.apply(this,[function(){return oe.apply(ve,arguments.length?arguments:ce)}].concat([].slice.call(arguments)))}}}}),i(n,"Core/Renderer/HTML/AST.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{SVG_NS:a,win:c}=s,{attr:h,createElement:d,css:f,error:m,isFunction:b,isString:w,objectEach:y,splat:v}=r,{trustedTypes:x}=c,k=x&&b(x.createPolicy)&&x.createPolicy("highcharts",{createHTML:N=>N}),I=k?k.createHTML(""):"";class D{static filterUserAttributes(F){return y(F,(O,S)=>{let A=!0;D.allowedAttributes.indexOf(S)===-1&&(A=!1),["background","dynsrc","href","lowsrc","src"].indexOf(S)!==-1&&(A=w(O)&&D.allowedReferences.some(L=>O.indexOf(L)===0)),A||(m(33,!1,void 0,{"Invalid attribute in config":`${S}`}),delete F[S]),w(O)&&F[S]&&(F[S]=O.replace(/</g,"&lt;"))}),F}static parseStyle(F){return F.split(";").reduce((O,S)=>{let A=S.split(":").map(U=>U.trim()),L=A.shift();return L&&A.length&&(O[L.replace(/-([a-z])/g,U=>U[1].toUpperCase())]=A.join(":")),O},{})}static setElementHTML(F,O){F.innerHTML=D.emptyHTML,O&&new D(O).addToDOM(F)}constructor(F){this.nodes=typeof F=="string"?this.parseMarkup(F):F}addToDOM(F){return function O(S,A){let L;return v(S).forEach(function(U){let z,G=U.tagName,H=U.textContent?s.doc.createTextNode(U.textContent):void 0,q=D.bypassHTMLFiltering;if(G)if(G==="#text")z=H;else if(D.allowedTags.indexOf(G)!==-1||q){let Z=G==="svg"?a:A.namespaceURI||a,ie=s.doc.createElementNS(Z,G),oe=U.attributes||{};y(U,function(ce,ve){ve!=="tagName"&&ve!=="attributes"&&ve!=="children"&&ve!=="style"&&ve!=="textContent"&&(oe[ve]=ce)}),h(ie,q?oe:D.filterUserAttributes(oe)),U.style&&f(ie,U.style),H&&ie.appendChild(H),O(U.children||[],ie),z=ie}else m(33,!1,void 0,{"Invalid tagName in config":G});z&&A.appendChild(z),L=z}),L}(this.nodes,F)}parseMarkup(F){let O,S=[];F=F.trim().replace(/ style=(["'])/g," data-style=$1");try{O=new DOMParser().parseFromString(k?k.createHTML(F):F,"text/html")}catch{}if(!O){let L=d("div");L.innerHTML=F,O={body:L}}let A=(L,U)=>{let z=L.nodeName.toLowerCase(),G={tagName:z};z==="#text"&&(G.textContent=L.textContent||"");let H=L.attributes;if(H){let q={};[].forEach.call(H,Z=>{Z.name==="data-style"?G.style=D.parseStyle(Z.value):q[Z.name]=Z.value}),G.attributes=q}if(L.childNodes.length){let q=[];[].forEach.call(L.childNodes,Z=>{A(Z,q)}),q.length&&(G.children=q)}U.push(G)};return[].forEach.call(O.body.childNodes,L=>A(L,S)),S}}return D.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],D.allowedReferences=["https://","http://","mailto:","/","../","./","#"],D.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],D.emptyHTML=I,D.bypassHTMLFiltering=!1,D}),i(n,"Dashboards/Components/ComponentRegistry.js",[],function(){var s,r;return(r=s||(s={})).types={},r.registerComponent=function(a,c){return!!a&&!r.types[a]&&!!(r.types[a]=c)},s}),i(n,"Dashboards/Globals.js",[],function(){var s,r;return(r=s||(s={})).classNamePrefix="highcharts-dashboards-",r.classNames={layout:r.classNamePrefix+"layout",cell:r.classNamePrefix+"cell",cellHover:r.classNamePrefix+"cell-state-hover",cellActive:r.classNamePrefix+"cell-state-active",cellLoading:r.classNamePrefix+"cell-state-loading",row:r.classNamePrefix+"row",layoutsWrapper:r.classNamePrefix+"layouts-wrapper",boardContainer:r.classNamePrefix+"wrapper"},r.guiElementType={row:"row",cell:"cell",layout:"layout"},r.boards=[],r.win=e,r.doc=document,r.noop=function(){},r.isMS=/(edge|msie|trident)/i.test(r.win.navigator&&r.win.navigator.userAgent||"")&&!r.win.opera,r.supportsPassiveEvents=function(){let a=!1;if(!r.isMS){let c=Object.defineProperty({},"passive",{get:function(){a=!0}});r.win.addEventListener&&r.win.removeEventListener&&(r.win.addEventListener("testPassive",r.noop,c),r.win.removeEventListener("testPassive",r.noop,c))}return a}(),s}),i(n,"Dashboards/EditMode/EditGlobals.js",[n["Dashboards/Globals.js"]],function(s){let r=s.classNamePrefix+"edit-";return{classNames:{resizeSnap:r+"resize-snap",resizeSnapX:r+"resize-snap-x",resizeSnapY:r+"resize-snap-y",separator:r+"separator",contextMenuBtn:r+"context-menu-btn",contextMenuBtnText:r+"context-menu-btn-text",contextMenu:r+"context-menu",contextMenuItem:r+"context-menu-item",editModeEnabled:r+"enabled",editToolbar:r+"toolbar",editToolbarCellOutline:r+"toolbar-cell-outline",editToolbarRowOutline:r+"toolbar-row-outline",editToolbarItem:r+"toolbar-item",editToolbarRow:r+"toolbar-row",editToolbarCell:r+"toolbar-cell",editSidebar:r+"sidebar",editSidebarShow:r+"sidebar-show",editSidebarHide:r+"sidebar-hide",editSidebarHeader:r+"sidebar-header",editSidebarTitle:r+"sidebar-title",editSidebarMenuItem:r+"sidebar-item",rowContextHighlight:r+"row-context-highlight",cellEditHighlight:r+"cell-highlight",dashboardCellEditHighlightActive:r+"cell-highlight-active",dragMock:r+"drag-mock",dropPointer:r+"drop-pointer",contextDetectionPointer:r+"ctx-detection-pointer",resizePointer:r+"resize-pointer",currentEditedElement:r+"unmask",maskElement:r+"mask",menuItem:r+"menu-item",menu:r+"menu",menuVerticalSeparator:r+"menu-vertical-separator",menuHorizontalSeparator:r+"menu-horizontal-separator",menuDestroy:r+"menu-destroy",editSidebarWrapper:r+"sidebar-wrapper",customSelect:r+"custom-select",customSelectButton:r+"custom-option-button",toggleContainer:r+"toggle-container",toggleWrapper:r+"toggle-wrapper",toggleSlider:r+"toggle-slider",toggleWrapperColored:r+"toggle-wrapper-colored",toggleLabels:r+"toggle-labels",button:r+"button",sidebarNavButton:r+"sidebar-button-nav",labelText:r+"label-text",editSidebarTabBtn:r+"sidebar-tab-btn",editToolsBtn:r+"tools-btn",editTools:r+"tools",editGridItems:r+"grid-items",confirmationPopup:r+"confirmation-popup",popupButtonContainer:r+"confirmation-popup-button-container",popupContentContainer:r+"confirmation-popup-content",popupCancelBtn:r+"confirmation-popup-cancel-btn",popupConfirmBtn:r+"confirmation-popup-confirm-btn",popupCloseButton:r+"popup-close",editOverlay:r+"overlay",editOverlayActive:r+"overlay-active",resizerMenuBtnActive:r+"resizer-menu-btn-active",sidebarCloseButton:r+"close-btn",editSidebarTabBtnWrapper:r+"tabs-buttons-wrapper",editSidebarRight:r+"sidebar-right",editSidebarRightShow:r+"sidebar-right-show",viewFullscreen:r+"view-fullscreen",accordionMenu:r+"accordion-menu",accordionContainer:r+"accordion",accordionHeader:r+"accordion-header",accordionHeaderBtn:r+"accordion-header-btn",accordionHeaderWrapper:r+"accordion-header-wrapper",accordionHeaderIcon:r+"accordion-header-icon",accordionContent:r+"accordion-content",accordionNestedWrapper:r+"accordion-nested",accordionMenuButtonsContainer:r+"accordion-menu-buttons-container",accordionMenuButton:r+"accordion-menu-button",accordionStandaloneWrapper:r+"accordion-standalone-wrapper",hiddenElement:r+"hidden-element",collapsableContentHeader:r+"collapsable-content-header",standaloneElement:r+"standalone-element",collapsedElement:r+"collapsed-element",dropdown:r+"dropdown",dropdownContent:r+"dropdown-content",dropdownButton:r+"dropdown-button",dropdownButtonContent:r+"dropdown-button-content",dropdownIcon:r+"pointer",icon:r+"icon"},lang:{accessibility:{contextMenu:{button:"Context menu"},editMode:{editMode:"Edit mode toggle button"}},addComponent:"Add component",cancelButton:"Cancel",caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you really want to destroy the cell?",confirmDestroyRow:"Do you really want to destroy the row?",confirmDiscardChanges:"Do you really want to discard the changes?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",htmlInput:"HTML",id:"Id",off:"off",on:"on",pointFormat:"Point format",settings:"Settings",style:"Styles",title:"Title",viewFullscreen:"View in full screen",sidebar:{HTML:"HTML",row:"Row",Highcharts:"Highcharts",DataGrid:"DataGrid",KPI:"KPI"}}}}),i(n,"Dashboards/Layout/GUIElement.js",[n["Dashboards/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,createElement:c,uniqueKey:h,objectEach:d,error:f}=r;return class{static getOffsets(m,b){let w={left:0,top:0,right:0,bottom:0};if(!m.container)return w;let y=m.container.getBoundingClientRect(),v=b?b.getBoundingClientRect():{left:0,top:0};return w.left=y.left-v.left,w.top=y.top-v.top,w.right=y.right-v.left,w.bottom=y.bottom-v.top,w}static getDimFromOffsets(m){return{width:m.right-m.left,height:m.bottom-m.top}}static getElementId(m){return s.classNamePrefix+m+"-"+h().slice(11)}static getPercentageWidth(m){let b,w=/^(\d{1})[\-\/\.](\d{1,2})$/;if(w.test(m)){let y=m.match(w)||[];b=((b=100*+y[1]/+y[2])<=100?b:100)+"%"}else if(m.indexOf("%")!==-1){let y=parseFloat(m);b=(y<=100?y>=0?y:0:100)+"%"}return b}getElementContainer(m){let b,w=this;if(m.render)m.attribs&&!m.attribs.id&&delete m.attribs.id;else if(typeof m.elementId=="string"){let y=document.getElementById(m.elementId);y?w.container=y:f("Element "+m.elementId+" does not exist")}return m.element instanceof HTMLElement?b=m.element:b=c("div",m.attribs||{},m.style||{},m.parentContainer),w.removeBindedEventFn=a(b,"bindedGUIElement",function(y){y.guiElement=w,y.stopImmediatePropagation()}),b}destroy(){let m=this;m.removeBindedEventFn&&m.removeBindedEventFn(),m.container&&m.container.parentNode&&m.container.parentNode.removeChild(m.container),d(m,function(b,w){delete m[w]})}getType(){return this.type}changeVisibility(m=!0,b){let w=this.isVisible&&!m||!this.isVisible&&m;this.container&&w&&(this.container.style.display=m?b||"block":"none",this.isVisible=m)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}}),i(n,"Dashboards/Layout/CellHTML.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/GUIElement.js"]],function(s,r,a){return class extends a{constructor(c){super(),this.type="cell-html",this.options=c,this.id=c.id,this.container=c.container,this.mountedComponent=c.mountedComponent}destroy(){var c;(c=this.mountedComponent)==null||c.destroy(),super.destroy()}setHighlight(){var c;this.container.classList.toggle(s.classNames.cellEditHighlight),(c=this.mountedComponent)==null||c.board.container.classList.toggle(s.classNames.dashboardCellEditHighlightActive)}setActiveState(){this.container&&this.container.classList.add(r.classNames.cellActive)}}}),i(n,"Dashboards/Actions/Bindings.js",[n["Dashboards/Components/ComponentRegistry.js"],n["Dashboards/Layout/CellHTML.js"],n["Dashboards/Globals.js"],n["Core/Utilities.js"]],function(s,r,a,c){var h;let{addEvent:d,fireEvent:f}=c;return function(m){function b(y,v){let x;typeof y=="string"&&document.querySelectorAll("#"+y).length>1&&console.warn(`Multiple cells have identical ID %c${y}%c, potentially leading to unexpected behavior. 
Ensure that each cell has a unique ID on the page.`,"font-weight: bold","");let k=v?v.querySelector("#"+y):document.getElementById(y);return k!==null&&f(k,"bindedGUIElement",{},function(I){x=I.guiElement}),x}async function w(y,v,x){var A,L,U,z;let k=y.states,I=y.events,D=y.renderTo||y.cell;if(!D){console.error("The%c renderTo%c option is required to render the component.","font-weight: bold","");return}if(v.mountedComponents.filter(G=>(G.options.renderTo||G.options.cell)===D).length>0){console.error(`A component has already been declared in the cell %c${D}%c use a different cell.`,"font-weight: bold","");return}x=x||m.getCell(D,v.container);let N=(x==null?void 0:x.container)||document.querySelector("#"+D);if(!N||!y.type){console.error(`The component is unable to find the HTML cell element %c${D}%c to render the content.`,"font-weight: bold","");return}let F=s.types[y.type];!F&&(console.error(`The component's type %c${y.type}%c does not exist.`,"font-weight: bold",""),x&&(F=s.types.HTML,y.title={text:((A=v.editMode)==null?void 0:A.lang.errorMessage)||"Something went wrong",className:a.classNamePrefix+"component-title-error "+a.classNamePrefix+"component-title"}));let O=new F(x,y,v),S=O.load().catch(G=>{var H;console.error(G),O.update({connector:{id:""},title:{text:((H=v.editMode)==null?void 0:H.lang.errorMessage)||"Something went wrong",className:a.classNamePrefix+"component-title-error "+a.classNamePrefix+"component-title"}})});return x&&(O.setCell(x),x.mountedComponent=O),v.mountedComponents.push({options:y,component:O,cell:x||new r({id:D,container:N,mountedComponent:O})}),x&&((L=k==null?void 0:k.active)!=null&&L.enabled)&&((U=k==null?void 0:k.active)!=null&&U.isActive)&&(x.setActiveState(),O.isActive=!0),f(O,"mount"),d(N,"click",()=>{var G;I&&I.click&&I.click.call(O),x&&O&&N&&((G=k==null?void 0:k.active)!=null&&G.enabled)&&(x.setActiveState(),O.isActive=!0)}),(z=k==null?void 0:k.hover)!=null&&z.enabled&&N.classList.add(a.classNames.cellHover),f(O,"afterLoad"),S}m.addComponent=w,m.componentFromJSON=function(y){let v=s.types[y.$class];if(!v)return;let x=m.getCell(y.options.renderTo||"");if(!x)return;let k=v.fromJSON(y,x);return k&&k.render(),k},m.getCell=function(y,v){let x=b(y,v);if(x&&x.getType()==="cell")return x},m.getRow=function(y,v){let x=b(y,v);if(x&&x.getType()==="row")return x},m.getLayout=function(y,v){let x=b(y,v);if(x&&x.getType()==="layout")return x}}(h||(h={})),h}),i(n,"Dashboards/Layout/Cell.js",[n["Dashboards/Actions/Bindings.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r,a,c,h){let{componentFromJSON:d}=s,{merge:f,fireEvent:m}=h;class b extends c{static fromJSON(y,v){if(v){let x=y.options,k=x.containerId;return v.layout.copyId&&(k=k+"_"+v.layout.copyId),new b(v,{id:k,parentContainerId:v.container&&v.container.id||x.parentContainerId,mountedComponentJSON:x.mountedComponentJSON,style:x.style,layoutJSON:x.layoutJSON,width:x.width,height:x.height})}}constructor(y,v,x){let k;super(),this.type=a.guiElementType.cell,this.id=v.id,this.options=v,this.row=y,this.isVisible=!0;let I=document.getElementById(v.parentContainerId||"")||y.container,D=y.layout.options||{},N=y.options||{},F=D.cellClassName||"";if(v.height&&(k=typeof v.height=="number"?v.height+"px":v.height),this.container=this.getElementContainer({render:y.layout.board.guiEnabled,parentContainer:I,attribs:{id:v.id,className:a.classNames.cell+" "+F},element:x,elementId:v.id,style:f(D.style,N.style,v.style,{height:k})}),this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON),this.options.layout&&this.setNestedLayout(),this.options.layoutJSON){let O=this.row.layout,S=O.board,A=O.constructor.fromJSON;this.nestedLayout=A(f(this.options.layoutJSON,{parentContainerId:this.options.id}),S,this)}}setNestedLayout(){let y=this.row.layout.board,v=this.row.layout.constructor,x=y.options.gui;this.nestedLayout=new v(y,f({},x&&x.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(y){this.id!==y.options.parentElement&&(y.options.parentElement=this.id);let v=d(y);return!!v&&(this.mountedComponent=v,!0)}destroy(){var x,k,I;let{row:y}=this;(x=this.mountedComponent)==null||x.destroy(),(k=this.nestedLayout)==null||k.destroy(),y.unmountCell(this);let v=((I=y.cells)==null?void 0:I.length)===0;super.destroy(),v&&y.destroy()}toJSON(){let y=(this.row.container||{}).id||"";return{$class:"Dashboards.Layout.Cell",options:{containerId:this.container.id,parentContainerId:y,width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(y=!0){super.changeVisibility(y);let v=this,x=v.row;v.row.getVisibleCells().length?v.isVisible&&!x.isVisible&&v.row.show():v.row.hide(),setTimeout(()=>{m(x,"cellChange",{row:x,cell:v})},0)}getParentCell(y){let v;if(y<=this.row.layout.level){if(this.row.layout.level===y)return this;if(this.row.layout.level-1>=0&&(v=this.row.layout.parentCell))return v.getParentCell(y)}}getOverlappingLevels(y,v,x){let k=this.row.layout.parentCell,I=[this.row.layout.level];if(k){let D=x||c.getOffsets(this)[y],N=c.getOffsets(k)[y];Math.abs(D-N)<v&&(I=[...I,...k.getOverlappingLevels(y,v,N)])}return I}setSize(y,v){let x=this.row.layout.board.editMode;if(this.container){if(y)if(y==="auto"&&this.container.style.flex!=="1 1 0%")this.container.style.flex="1 1 0%";else{let k=this.convertWidthToValue(y);k&&this.container.style.flex!=="0 0 "+k&&(this.container.style.flex="0 0 "+k),this.options.width=k}v&&(this.options.height=this.container.style.height=v+"px"),x&&(x.hideContextPointer(),x.cellToolbar&&x.cellToolbar.isVisible&&(x.cellToolbar.cell===this?x.cellToolbar.showToolbar(this):x.cellToolbar.hide())),m(this.row.layout.board,"cellResize",{cell:this}),m(this.row,"cellChange",{cell:this,row:this.row})}}setHighlight(y){let v=this.row.layout.board.editMode;if(this.container&&v){let x=this.container,k=x.classList.contains(r.classNames.cellEditHighlight);y||k?y&&k&&(x.classList.remove(r.classNames.cellEditHighlight),this.row.layout.board.container.classList.remove(r.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(x.classList.add(r.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(r.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(y=>{y.cell.container&&y.cell.container.classList.remove(a.classNames.cellActive),y.component.isActive=!1}),this.container&&this.container.classList.add(a.classNames.cellActive)}setLoadingState(y=!0){var v,x;(x=(v=this.container)==null?void 0:v.classList)==null||x.toggle(a.classNames.cellLoading,y)}convertWidthToValue(y){return typeof y=="number"?y+"px":/px/.test(y)?y:c.getPercentageWidth(y)||""}}return b}),i(n,"Dashboards/CallbackRegistry.js",[],function(){return class{constructor(){this.registry={}}addCallback(s,r){this.registry[s]=r}getCallback(s){return this.registry[s]}toJSON(){let s={};return Object.keys(this.registry).forEach(r=>{let{func:a,type:c}=this.getCallback(r);s[r]={func:a.toString(),type:c}}),s}}}),i(n,"Dashboards/Components/ConnectorHandler.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/Globals.js"]],function(s,r){return class{constructor(a,c){this.tableEvents=[],this.component=a,this.options=c}async initConnector(){let a=this.component,c=this.options.id,h=this.component.board.dataPool;if(c&&(this.connectorId!==c||h.isNewConnector(c))){a.cell instanceof s&&a.cell.setLoadingState();let d=await h.getConnector(c);this.setConnector(d)}return a}setConnector(a){for(;this.tableEvents.length;){let c=this.tableEvents.pop();typeof c=="function"&&c()}return this.connector=a,a&&(this.clearTableListeners(),this.setupTableListeners(a.table),a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",c=>{c.type==="afterSetModifier"&&c.modified&&(this.setupTableListeners(c.modified),this.component.emit({type:"tableChanged",connector:a}))}),a.table&&(this.presentationModifier?this.presentationTable=this.presentationModifier.modifyTable(a.table.modified.clone()).modified:this.presentationTable=a.table)),this.component}setupTableListeners(a){let c=this.connector;c&&a&&["afterDeleteRows","afterSetCell","afterSetColumns","afterSetRows"].forEach(h=>{this.tableEvents.push(a.on(h,d=>{clearTimeout(this.tableEventTimeout),this.tableEventTimeout=r.win.setTimeout(()=>{this.component.emit({...d,type:"tableChanged",targetConnector:c}),this.tableEventTimeout=void 0})}))})}clearTableListeners(){let a=this.connector,c=this.tableEvents;this.destroy(),a&&c.push(a.table.on("afterSetModifier",h=>{h.type==="afterSetModifier"&&(clearTimeout(this.tableEventTimeout),this.tableEventTimeout=r.win.setTimeout(()=>{a.emit({...h,type:"tableChanged",targetConnector:a}),this.tableEventTimeout=void 0}))}))}updateOptions(a){this.options=a}destroy(){this.tableEvents.forEach(a=>a()),this.tableEvents.length=0}}}),i(n,"Dashboards/Components/EditableOptions.js",[],function(){class s{constructor(a,c=s.defaultBindings){this.component=a,this.bindings=c}getOptions(){let a=this.component.options.editableOptions;if(!a)return[];for(let c=0,h=a.length;c<h;c++){let d=a[c];if(d.name==="connectorName"){let f=this.component.board,m=f?f.dataPool.getConnectorIds().map(b=>({name:b})):[];d.selectOptions=m}}return a}}return s.defaultBindings={keyMap:{color:"colorPicker",title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input",boolean:"toggle"},skipRedraw:[]},s.defaultTypeMap={string:"text",number:"input",boolean:"toggle"},s}),i(n,"Dashboards/Components/Sync/Emitter.js",[],function(){class s{static register(a){let{id:c}=a;this.registry[c]=a}static get(a){return this.registry[a]}constructor(a,c){this.id=a,this.func=c,s.register(this)}create(a){this.callback=this.func.call(a)}remove(){this.callback&&this.callback()}}return s.registry={},s}),i(n,"Dashboards/Components/Sync/Handler.js",[],function(){class s{static register(a){let{id:c}=a;this.registry[c]=a}static get(a){return this.registry[a]}constructor(a,c){this.id=a,this.func=c,s.register(this)}register(a){let{func:c}=this;this.callback=c.call(a)}remove(){this.callback&&this.callback()}}return s.registry={},s}),i(n,"Dashboards/Components/Sync/Sync.js",[n["Dashboards/Components/Sync/Emitter.js"],n["Dashboards/Components/Sync/Handler.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:c,isObject:h}=a;class d{constructor(m,b){this.component=m,this.predefinedSyncConfig=b,this.syncConfig=d.prepareSyncConfig(b,m.options.sync),this.registeredSyncHandlers={},this.registeredSyncEmitters={},this.isSyncing=!1,this.listeners=[]}static prepareSyncConfig(m,b={}){let{defaultSyncPairs:w,defaultSyncOptions:y}=m;return Object.keys(b).reduce((v,x)=>{if(x){let k=w[x],I=y[x],D=b[x],N=c(I||{},{enabled:h(D)?D.enabled:D},h(D)?D:{});if(k&&N.enabled)for(let F of["emitter","handler"])(N[F]===!0||N[F]===void 0)&&(N[F]=k[F]);v[x]=N}return v},{})}registerSyncEmitter(m){let{id:b}=m;this.registeredSyncEmitters[b]=m}isRegisteredEmitter(m){return!!this.registeredSyncEmitters[m]}registerSyncHandler(m){let{id:b}=m;this.registeredSyncHandlers[b]=m}isRegisteredHandler(m){return!!this.registeredSyncHandlers[m]}start(){let{component:m}=this;for(let b of(this.syncConfig=d.prepareSyncConfig(this.predefinedSyncConfig,m.options.sync),Object.keys(this.syncConfig))){let w=this.syncConfig[b];if(!w)continue;let{emitter:y,handler:v}=w;if(v){v===!0&&(v=d.defaultHandlers[b].handler);let x=new r(b,v);this.isRegisteredHandler(x.id)||(this.registerSyncHandler(x),x.register(m))}if(y){y===!0&&(y=d.defaultHandlers[b].emitter);let x=new s(b,y);this.isRegisteredEmitter(x.id)||(this.registerSyncEmitter(x),x.create(m))}}this.isSyncing=!0,this.listeners.push(m.on("update",()=>this.stop()))}stop(){let{component:m,listeners:b,registeredSyncHandlers:w,registeredSyncEmitters:y}=this;Object.keys(w).forEach(v=>{w[v].remove(),delete w[v]}),Object.keys(y).forEach(v=>{y[v].remove(),delete y[v]}),this.isSyncing=!1;for(let v=0,x=b.length;v<x;++v)b[v]();this.listeners.length=0,this.listeners.push(m.on("afterUpdate",()=>{this.start()}))}}return d.defaultHandlers={},d}),i(n,"Dashboards/Components/ComponentUtilities.js",[],function(){var s;return function(r){function a(h,d){let f=e.getComputedStyle(h);return d.map(m=>f[m])}function c(h,d){return d&&(h+=typeof d=="number"?d:parseFloat(d)),h}r.getMargins=function(h,d=!0){let f={x:["borderLeft","borderRight"],y:["borderTop","borderBottom"]};return{y:a(h,["marginTop","marginBottom",...d?f.y:[]]).reduce(c,0),x:a(h,["marginLeft","marginTop",...d?f.x:[]]).reduce(c,0)}},r.getPaddings=function(h){return{x:a(h,["paddingLeft","paddingRight"]).reduce(c,0),y:a(h,["paddingTop","paddingBottom"]).reduce(c,0)}},r.getStyles=a,r.sumPixels=c}(s||(s={})),s}),i(n,"Dashboards/Utilities.js",[n["Dashboards/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{doc:a,supportsPassiveEvents:c}=s,{error:h,isClass:d,isDOMElement:f,isObject:m,objectEach:b,uniqueKey:w}=r;function y(x,k){let I;for(I in x||(x={}),k)x[I]=k[I];return x}function v(x,k,I){function D(O,S){let A=x.removeEventListener;A&&A.call(x,O,S,!1)}function N(O){let S,A;x.nodeName&&(k?(S={})[k]=!0:S=O,b(S,function(L,U){if(O[U])for(A=O[U].length;A--;)D(U,O[U][A].fn)}))}let F=typeof x=="function"&&x.prototype||x;if(Object.hasOwnProperty.call(F,"hcEvents")){let O=F.hcEvents;if(k){let S=O[k]||[];I?(O[k]=S.filter(function(A){return I!==A.fn}),D(k,I)):(N(O),O[k]=[])}else N(O),delete F.hcEvents}}return{addEvent:function(x,k,I,D={}){let N=typeof x=="function"&&x.prototype||x;Object.hasOwnProperty.call(N,"hcEvents")||(N.hcEvents={});let F=N.hcEvents,O=x.addEventListener;O&&O.call(x,k,I,!!c&&{passive:D.passive===void 0?k.indexOf("touch")!==-1:D.passive,capture:!1}),F[k]||(F[k]=[]);let S={fn:I,order:typeof D.order=="number"?D.order:1/0};return F[k].push(S),F[k].sort((A,L)=>A.order-L.order),function(){v(x,k,I)}},deepClone:function x(k,I){if(Array.isArray(k))return k.map(D=>x(D,I));if(k&&typeof k=="object"){let D={};for(let N of Object.keys(k))I&&I.includes(N)?D[N]=k[N]:D[N]=x(k[N],I);return D}return k},error:function(x,k){if(x===16){console.warn("Dashboard error: Dashboards library loaded more than once.This may cause undefined behavior.");return}h(x,k)},fireEvent:function(x,k,I,D){if(I=I||{},a.createEvent&&(x.dispatchEvent||x.fireEvent&&x!==s)){let N=a.createEvent("Events");N.initEvent(k,!0,!0),I=y(N,I),x.dispatchEvent?x.dispatchEvent(I):x.fireEvent(k,I)}else if(x.hcEvents){I.target||y(I,{preventDefault:function(){I.defaultPrevented=!0},target:x,type:k});let N=[],F=x,O=!1;for(;F.hcEvents;)Object.hasOwnProperty.call(F,"hcEvents")&&F.hcEvents[k]&&(N.length&&(O=!0),N.unshift.apply(N,F.hcEvents[k])),F=Object.getPrototypeOf(F);O&&N.sort((S,A)=>S.order-A.order),N.forEach(S=>{S.fn.call(x,I)===!1&&I.preventDefault()})}D&&!I.defaultPrevented&&D.call(x,I)},merge:function(x,...k){let I=0,D={},N=Error("Recursive copy depth > 100"),F=(O,S)=>{if(typeof O!="object"&&(O={}),++I>100)throw N;return b(S,(A,L)=>{L!=="__proto__"&&L!=="constructor"&&(!m(A,!0)||d(A)||f(A)?O[L]=S[L]:O[L]=F(O[L]||{},A))}),--I,O};x===!0?D=k.shift():k.unshift(x);for(let O=0,S=k.length;O<S;++O)D=F(D,k[O]);return D},removeEvent:v,uniqueKey:function(){return`dashboard-${w().replace("highcharts-","")}`}}}),i(n,"Dashboards/Components/Component.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/CallbackRegistry.js"],n["Dashboards/Components/ConnectorHandler.js"],n["Dashboards/Components/EditableOptions.js"],n["Dashboards/Components/Sync/Sync.js"],n["Dashboards/Globals.js"],n["Core/Utilities.js"],n["Dashboards/Components/ComponentUtilities.js"],n["Dashboards/Utilities.js"]],function(s,r,a,c,h,d,f,m,b){let{classNamePrefix:w}=d,{createElement:y,isArray:v,merge:x,fireEvent:k,addEvent:I,objectEach:D,isFunction:N,getStyle:F,diffObjects:O}=f,{getMargins:S,getPaddings:A}=m,{deepClone:L,uniqueKey:U}=b;class z{static createTextElement(H,q,Z){if(typeof Z=="object"){let{className:ie,text:oe,style:ce}=Z;return y(H,{className:ie||`${w}component-${q}`,textContent:oe},ce)}if(typeof Z=="string")return y(H,{className:`${w}component-${q}`,textContent:Z},{})}constructor(H,q,Z){var oe,ce;this.connectorHandlers=[],this.callbackRegistry=new r,this.cellListeners=[],this.resizeTimeouts=[],this.innerResizeTimeouts=[];let ie=q.renderTo||q.cell;if(this.board=Z||((ce=(oe=H==null?void 0:H.row)==null?void 0:oe.layout)==null?void 0:ce.board)||{},this.parentElement=(H==null?void 0:H.container)||document.querySelector("#"+ie),this.cell=H,this.options=x(z.defaultOptions,q),this.id=this.options.id&&this.options.id.length?this.options.id:U(),this.options.connector)for(let ve of v(this.options.connector)?this.options.connector:[this.options.connector])this.connectorHandlers.push(new a(this,ve));this.editableOptions=new c(this,q.editableOptionsBindings),this.dimensions={width:null,height:null},this.element=y("div",{className:this.options.className},{},this.parentElement),Number(F(this.element,"padding"))||(this.element.style.padding="0.1px"),this.contentElement=y("div",{className:`${this.options.className}-content`},{},this.element,!0),this.sync=new h(this,this.constructor.predefinedSyncConfig),this.setupEventListeners(),H&&(this.attachCellListeners(),this.on("update",()=>{this.cell instanceof s&&this.cell.setLoadingState()}),this.on("afterRender",()=>{this.cell instanceof s&&this.cell.setLoadingState(!1)})),this.on("tableChanged",()=>{this.onTableChanged()})}getOptionsOnDrop(H){return{}}getFirstConnector(){var H;return(H=this.connectorHandlers[0])==null?void 0:H.connector}attachCellListeners(){for(;this.cellListeners.length;){let H=this.cellListeners.pop();H&&H()}if(this.cell&&this.cell instanceof s&&Object.keys(this.cell).length){let H=this.cell.row.layout.board;this.cellListeners.push(I(H,"cellResize",()=>{this.resizeTo(this.parentElement)}),I(this.cell.row,"cellChange",q=>{let{row:Z}=q;Z&&this.cell&&Z.getCellIndex(this.cell)===void 0&&this.cell&&this.setCell(this.cell)}))}}setCell(H,q=!1){this.cell=H,H.container&&(this.parentElement=H.container),this.attachCellListeners(),q&&this.resizeTo(this.parentElement)}async initConnectors(){for(let H of(k(this,"setConnectors",{connectorHandlers:this.connectorHandlers}),this.connectorHandlers))await H.initConnector();return k(this,"afterSetConnectors",{connectorHandlers:this.connectorHandlers}),this}getContentHeight(){return(this.titleElement?this.titleElement.clientHeight+S(this.titleElement).y:0)+(this.captionElement?this.captionElement.clientHeight+S(this.captionElement).y:0)}resize(H,q){if(q){let Z=A(this.element).y+S(this.element).y;this.element.style.height="calc(100% - "+Z+"px)",this.contentElement.style.height="calc(100% - "+this.getContentHeight()+"px)"}else q===null&&(this.dimensions.height=null,this.element.style.removeProperty("height"));k(this,"resize",{width:H,height:q})}resizeDynamicContent(H,q){let{element:Z}=this;if(q){let ie=S(Z).y,oe=A(Z).y;typeof q=="string"&&(q=parseFloat(q)),q=Math.round(q),Z.style.height=`${q-ie-oe}px`,this.contentElement.style.height=`${Z.clientHeight-this.getContentHeight()-oe}px`}else q===null&&(this.dimensions.height=null,Z.style.removeProperty("height"));k(this,"resize",{width:H,height:q})}resizeTo(H){for(;this.resizeTimeouts.length;){let Z=this.resizeTimeouts.pop();Z&&cancelAnimationFrame(Z)}let q=requestAnimationFrame(()=>{let{width:Z,height:ie}=H.getBoundingClientRect(),oe=A(H),ce=S(H);this.resize(Z-oe.x-ce.x,ie-oe.y-ce.y)});this.resizeTimeouts.push(q)}async update(H,q=!0){var ce,ve;let Z={options:H,shouldForceRerender:!1};k(this,"update",Z),H.connector&&Array.isArray(this.options.connector)&&(this.options.connector=void 0),this.options=x(this.options,H);let ie=this.options.connector?v(this.options.connector)?this.options.connector:[this.options.connector]:[],oe=ie.length!==this.connectorHandlers.length;if(!oe)for(let we=0,be=ie.length;we<be;we++){if(((ce=this.connectorHandlers[we])==null?void 0:ce.options.id)!==((ve=ie[we])==null?void 0:ve.id)){oe=!0;break}this.connectorHandlers[we].updateOptions(ie[we])}if(oe){for(let we of this.connectorHandlers)we.destroy();for(let we of(this.connectorHandlers.length=0,ie))this.connectorHandlers.push(new a(this,we));await this.initConnectors()}(q||Z.shouldForceRerender)&&this.render()}setupEventListeners(){let H=this.options.events;H&&(Object.keys(H).forEach(Z=>{let ie=H[Z];ie&&this.callbackRegistry.addCallback(Z,{type:"component",func:ie})}),D(H,(Z,ie)=>{N(Z)&&this.on(ie,Z)}));let q=()=>{this.resizeTo(this.parentElement)};if(typeof ResizeObserver=="function")this.resizeObserver=new ResizeObserver(q),this.resizeObserver.observe(this.element);else{let Z=I(e,"resize",q);I(this,"destroy",Z)}}setTitle(H){let q=this.titleElement;if(H&&(typeof H=="string"||H.text)){let Z=z.createTextElement("h2","title",H);Z&&(q?q.replaceWith(Z):this.element.insertBefore(Z,this.element.firstChild),this.titleElement=Z)}else if(q){q.remove(),delete this.titleElement;return}}setCaption(H){let q=this.captionElement;if(H&&(typeof H=="string"||H.text)){let Z=z.createTextElement("div","caption",H);Z&&(q?q.replaceWith(Z):this.element.appendChild(Z),this.captionElement=Z)}else if(q){q.remove(),delete this.captionElement;return}}async load(){return await this.initConnectors(),this.render(),this}render(){return this.emit({type:"render"}),this.setTitle(this.options.title),this.setCaption(this.options.caption),this.resizeTo(this.parentElement),this}destroy(){for(this.sync.isSyncing&&this.sync.stop();this.element.firstChild;)this.element.firstChild.remove();for(let H of(k(this,"unmount"),this.connectorHandlers))H.destroy();this.element.remove()}on(H,q){return I(this,H,q)}emit(H){H.target||(H.target=this),k(this,H.type,H)}toJSON(){let H={width:0,height:0};return D(this.dimensions,function(q,Z){q!==null&&(H[Z]=q)}),{$class:this.options.type,options:{renderTo:this.options.renderTo,parentElement:this.parentElement.id,dimensions:H,id:this.id,type:this.type}}}getOptions(){return O(this.options,z.defaultOptions)}getEditableOptions(){return L(this.options,["dataTable","points","series","data","editableOptions"])}getEditableOptionValue(H){if(!H)return;let q=this.getEditableOptions();for(let Z=0,ie=H.length;Z<ie;Z++){if(v(q)&&H[0]==="connector"&&q.length>1)return"multiple connectors";if(!q)return;(q=q[H[Z]])===!1&&(H.indexOf("title")>=0||H.indexOf("subtitle")>=0||H.indexOf("caption")>=0)&&(q="")}return q}}return z.Sync=h,z.predefinedSyncConfig={defaultSyncOptions:{},defaultSyncPairs:{}},z.defaultOptions={className:`${w}component`,id:"",title:!1,caption:!1,sync:h.defaultHandlers,editableOptions:[{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]},z}),i(n,"Dashboards/Components/HTMLComponent/HTMLComponentDefaults.js",[n["Dashboards/Components/Component.js"]],function(s){return{type:"HTML",className:[s.defaultOptions.className,`${s.defaultOptions.className}-html`].join(" "),elements:[],editableOptions:[...s.defaultOptions.editableOptions||[],{name:"htmlInput",propertyPath:["html"],type:"textarea"}]}}),i(n,"Dashboards/Components/HTMLComponent/HTMLSyncs/HTMLSyncs.js",[],function(){return{defaultSyncPairs:{},defaultSyncOptions:{}}}),i(n,"Dashboards/Components/HTMLComponent/HTMLComponent.js",[n["Core/Renderer/HTML/AST.js"],n["Dashboards/Components/Component.js"],n["Dashboards/Components/HTMLComponent/HTMLComponentDefaults.js"],n["Dashboards/Components/HTMLComponent/HTMLSyncs/HTMLSyncs.js"],n["Dashboards/Utilities.js"],n["Core/Utilities.js"]],function(s,r,a,c,h,d){let{merge:f,diffObjects:m}=d,{deepClone:b}=h;s.allowedTags=[...s.allowedTags,"option","select","label","input","textarea"],s.allowedAttributes=[...s.allowedAttributes,"for","value","checked","src","name","selected"],s.allowedReferences=[...s.allowedReferences,"data:image/"];class w extends r{static fromJSON(v,x){let k=new w(x,f(v.options,{elements:v.elements?v.elements.map(I=>JSON.parse(I)):[]}));return k.emit({type:"fromJSON",json:v}),k}constructor(v,x){x.className&&(x.className=`${w.defaultOptions.className} ${x.className}`),super(v,x=f(w.defaultOptions,x)),this.options=x,this.type="HTML",this.elements=[]}async load(){var k;this.emit({type:"load"}),await super.load();let v=this.options,x=!1;if((k=v.elements)!=null&&k.length?this.elements=v.elements.map(function(I){return typeof I=="string"?new s(I).nodes[0]:(I.textContent||I.tagName||!I.attributes||(x=!0),I)}):v.html&&(this.elements=this.getElementsFromString(v.html),this.options.elements=this.elements),this.constructTree(),this.emit({type:"afterLoad"}),x)throw Error(`Missing tagName param in component: ${v.renderTo}`);return this}render(){return super.render(),this.constructTree(),this.sync.start(),this.emit({type:"afterRender"}),this}resize(v,x){return super.resize(v,x),this}async update(v,x=!0){v.html?(this.elements=this.getElementsFromString(v.html),this.options.elements=this.elements,this.constructTree()):v.elements&&(this.elements=v.elements),await super.update(v,x),this.emit({type:"afterUpdate"})}getOptionsOnDrop(){return{cell:"",type:"HTML",elements:[{tagName:"span",textContent:"[Your custom HTML here- edit the component]"}]}}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();new s(this.options.elements||[]).addToDOM(this.contentElement)}getElementsFromString(v){return new s(v).nodes}toJSON(){let v=(this.options.elements||[]).map(k=>JSON.stringify(k)),x=f(super.toJSON(),{elements:v,options:this.options});return this.emit({type:"toJSON",json:x}),x}getOptions(){return{...m(this.options,w.defaultOptions),type:"HTML"}}getEditableOptions(){return b(this.options,["editableOptions"])}getEditableOptionValue(v){if(v){if(v[0]==="html"){let x=this.getEditableOptions();return!x.html&&x.elements?this.getStringFromElements(x.elements):x[v[0]]}return super.getEditableOptionValue(v)}}getStringFromElements(v){let x="";for(let k of v)x+=this.serializeNode(k);return x}serializeNode(v){if(!v.tagName||v.tagName==="#text")return v.textContent||"";let x=v.attributes,k=`<${v.tagName}`;if(x){for(let I in x)if(Object.prototype.hasOwnProperty.call(x,I)){let D=x[I];D!==void 0&&(k+=` ${I}="${D}"`)}}return k+=">",k+=v.textContent||"",(v.children||[]).forEach(I=>{k+=this.serializeNode(I)}),k+=`</${v.tagName}>`}onTableChanged(v){var x;((x=v.detail)==null?void 0:x.sender)!==this.id&&this.render()}}return w.defaultOptions=f(r.defaultOptions,a),w.predefinedSyncConfig=c,w}),i(n,"Data/DataTableCore.js",[n["Core/Utilities.js"]],function(s){let{fireEvent:r,isArray:a,objectEach:c,uniqueKey:h}=s;return class{constructor(d={}){this.autoId=!d.id,this.columns={},this.id=d.id||h(),this.modified=this,this.rowCount=0,this.versionTag=h();let f=0;c(d.columns||{},(m,b)=>{this.columns[b]=m.slice(),f=Math.max(f,m.length)}),this.applyRowCount(f)}applyRowCount(d){this.rowCount=d,c(this.columns,f=>{a(f)&&(f.length=d)})}getColumn(d,f){return this.columns[d]}getColumns(d,f){return(d||Object.keys(this.columns)).reduce((m,b)=>(m[b]=this.columns[b],m),{})}getRow(d,f){return(f||Object.keys(this.columns)).map(m=>{var b;return(b=this.columns[m])==null?void 0:b[d]})}setColumn(d,f=[],m=0,b){this.setColumns({[d]:f},m,b)}setColumns(d,f,m){let b=this.rowCount;c(d,(w,y)=>{this.columns[y]=w.slice(),b=w.length}),this.applyRowCount(b),m!=null&&m.silent||(r(this,"afterSetColumns"),this.versionTag=h())}setRow(d,f=this.rowCount,m,b){let{columns:w}=this,y=m?this.rowCount+1:f+1;c(d,(v,x)=>{let k=w[x]||(b==null?void 0:b.addColumns)!==!1&&Array(y);k&&(m?k.splice(f,0,v):k[f]=v,w[x]=k)}),y>this.rowCount&&this.applyRowCount(y),b!=null&&b.silent||(r(this,"afterSetRows"),this.versionTag=h())}}}),i(n,"Data/DataTable.js",[n["Data/DataTableCore.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,defined:c,fireEvent:h,extend:d,uniqueKey:f}=r;class m extends s{static isNull(w){if(w===m.NULL)return!0;if(w instanceof Array){if(!w.length)return!1;for(let y=0,v=w.length;y<v;++y)if(w[y]!==null)return!1}else{let y=Object.keys(w);if(!y.length)return!1;for(let v=0,x=y.length;v<x;++v)if(w[y[v]]!==null)return!1}return!0}constructor(w={}){super(w),this.modified=this}clone(w,y){let v={};this.emit({type:"cloneTable",detail:y}),w||(v.columns=this.columns),this.autoId||(v.id=this.id);let x=new m(v);return w||(x.versionTag=this.versionTag,x.originalRowIndexes=this.originalRowIndexes,x.localRowIndexes=this.localRowIndexes),this.emit({type:"afterCloneTable",detail:y,tableClone:x}),x}deleteColumns(w,y){let v=this.columns,x={},k={},I=this.modifier,D=this.rowCount;if((w=w||Object.keys(v)).length){this.emit({type:"deleteColumns",columnNames:w,detail:y});for(let N=0,F=w.length,O,S;N<F;++N)(O=v[S=w[N]])&&(x[S]=O,k[S]=Array(D)),delete v[S];return Object.keys(v).length||(this.rowCount=0,this.deleteRowIndexReferences()),I&&I.modifyColumns(this,k,0,y),this.emit({type:"afterDeleteColumns",columns:x,columnNames:w,detail:y}),x}}deleteRowIndexReferences(){delete this.originalRowIndexes,delete this.localRowIndexes}deleteRows(w,y=1,v){let x=[],k=[],I=this.modifier;if(this.emit({type:"deleteRows",detail:v,rowCount:y,rowIndex:w||0}),w===void 0&&(w=0,y=this.rowCount),y>0&&w<this.rowCount){let D=this.columns,N=Object.keys(D);for(let F=0,O=N.length,S,A;F<O;++F){A=(S=D[N[F]]).splice(w,y),F||(this.rowCount=S.length);for(let L=0,U=A.length;L<U;++L)x[L]=x[L]||[],x[L][F]=A[L];k.push(Array(O))}}return I&&I.modifyRows(this,k,w||0,v),this.emit({type:"afterDeleteRows",detail:v,rowCount:y,rowIndex:w||0,rows:x}),x}emit(w){["afterDeleteColumns","afterDeleteRows","afterSetCell","afterSetColumns","afterSetRows"].includes(w.type)&&(this.versionTag=f()),h(this,w.type,w)}getCell(w,y){let v=this.columns[w];if(v)return v[y]}getCellAsBoolean(w,y){let v=this.columns[w];return!!(v&&v[y])}getCellAsNumber(w,y,v){let x=this.columns[w],k=x&&x[y];switch(typeof k){case"boolean":return k?1:0;case"number":return isNaN(k)&&!v?null:k}return isNaN(k=parseFloat(`${k??""}`))&&!v?null:k}getCellAsString(w,y){let v=this.columns[w];return`${v&&v[y]}`}getColumn(w,y){return this.getColumns([w],y)[w]}getColumnAsNumbers(w,y){let v=this.columns[w],x=[];if(v){let k=v.length;if(y)for(let I=0;I<k;++I)x.push(this.getCellAsNumber(w,I,!0));else{for(let I=0,D;I<k;++I){if(typeof(D=v[I])=="number")return v.slice();if(D!=null)break}for(let I=0;I<k;++I)x.push(this.getCellAsNumber(w,I))}}return x}getColumnNames(){return Object.keys(this.columns)}getColumns(w,y){let v=this.columns,x={};w=w||Object.keys(v);for(let k=0,I=w.length,D,N;k<I;++k)(D=v[N=w[k]])&&(x[N]=y?D:D.slice());return x}getLocalRowIndex(w){let{localRowIndexes:y}=this;return y?y[w]:w}getModifier(){return this.modifier}getOriginalRowIndex(w){let{originalRowIndexes:y}=this;return y?y[w]:w}getRow(w,y){return this.getRows(w,1,y)[0]}getRowCount(){return this.rowCount}getRowIndexBy(w,y,v){let x=this.columns[w];if(x){let k=x.indexOf(y,v);if(k!==-1)return k}}getRowObject(w,y){return this.getRowObjects(w,1,y)[0]}getRowObjects(w=0,y=this.rowCount-w,v){let x=this.columns,k=Array(y);v=v||Object.keys(x);for(let I=w,D=0,N=Math.min(this.rowCount,w+y),F,O;I<N;++I,++D)for(let S of(O=k[D]={},v))F=x[S],O[S]=F?F[I]:void 0;return k}getRows(w=0,y=this.rowCount-w,v){let x=this.columns,k=Array(y);v=v||Object.keys(x);for(let I=w,D=0,N=Math.min(this.rowCount,w+y),F,O;I<N;++I,++D)for(let S of(O=k[D]=[],v))F=x[S],O.push(F?F[I]:void 0);return k}getVersionTag(){return this.versionTag}hasColumns(w){let y=this.columns;for(let v=0,x=w.length;v<x;++v)if(!y[w[v]])return!1;return!0}hasRowWith(w,y){let v=this.columns[w];return!!v&&v.indexOf(y)!==-1}on(w,y){return a(this,w,y)}renameColumn(w,y){let v=this.columns;return!!v[w]&&(w!==y&&(v[y]=v[w],delete v[w]),!0)}setCell(w,y,v,x){let k=this.columns,I=this.modifier,D=k[w];D&&D[y]===v||(this.emit({type:"setCell",cellValue:v,columnName:w,detail:x,rowIndex:y}),D||(D=k[w]=Array(this.rowCount)),y>=this.rowCount&&(this.rowCount=y+1),D[y]=v,I&&I.modifyCell(this,w,y,v),this.emit({type:"afterSetCell",cellValue:v,columnName:w,detail:x,rowIndex:y}))}setColumns(w,y,v){let x=this.columns,k=this.modifier,I=Object.keys(w),D=this.rowCount;if(this.emit({type:"setColumns",columns:w,columnNames:I,detail:v,rowIndex:y}),y===void 0)super.setColumns(w,y,d(v,{silent:!0}));else{for(let N=0,F=I.length,O,S;N<F;++N){O=w[S=I[N]];let A=x[S]?x[S]:x[S]=Array(this.rowCount);for(let L=y||0,U=O.length;L<U;++L)A[L]=O[L];D=Math.max(D,A.length)}this.applyRowCount(D)}k&&k.modifyColumns(this,w,y||0),this.emit({type:"afterSetColumns",columns:w,columnNames:I,detail:v,rowIndex:y})}setModifier(w,y){let v=this;return v.emit({type:"setModifier",detail:y,modifier:w,modified:v.modified}),v.modified=v,v.modifier=w,(w?w.modify(v):Promise.resolve(v)).then(x=>(x.emit({type:"afterSetModifier",detail:y,modifier:w,modified:x.modified}),x)).catch(x=>{throw v.emit({type:"setModifierError",error:x,modifier:w,modified:v.modified}),x})}setOriginalRowIndexes(w,y=!1){if(this.originalRowIndexes=w,y)return;let v=this.localRowIndexes=[];for(let x=0,k=w.length,I;x<k;++x)c(I=w[x])&&(v[I]=x)}setRow(w,y,v,x){this.setRows([w],y,v,x)}setRows(w,y=this.rowCount,v,x){let k=this.columns,I=Object.keys(k),D=this.modifier,N=w.length;this.emit({type:"setRows",detail:x,rowCount:N,rowIndex:y,rows:w});for(let O=0,S=y,A;O<N;++O,++S)if((A=w[O])===m.NULL)for(let L=0,U=I.length;L<U;++L)v?k[I[L]].splice(S,0,null):k[I[L]][S]=null;else if(A instanceof Array)for(let L=0,U=I.length;L<U;++L)k[I[L]][S]=A[L];else super.setRow(A,S,void 0,{silent:!0});let F=v?N+w.length:y+N;if(F>this.rowCount){this.rowCount=F;for(let O=0,S=I.length;O<S;++O)k[I[O]].length=F}D&&D.modifyRows(this,w,y),this.emit({type:"afterSetRows",detail:x,rowCount:N,rowIndex:y,rows:w})}}return m.NULL={},m.version="1.0.0",m}),i(n,"Data/Converters/DataConverter.js",[n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,fireEvent:c,isNumber:h,merge:d}=r;class f{constructor(b){this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})([\-\.\/])(\d{1,2})\2(\d{1,2})$/,parser:function(v){return v?Date.UTC(+v[1],v[3]-1,+v[4]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(v){return v?Date.UTC(+v[4],v[3]-1,+v[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(v){return v?Date.UTC(+v[4],v[1]-1,+v[3]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(v){let x=new Date;if(!v)return NaN;let k=+v[4];return k>x.getFullYear()-2e3?k+=1900:k+=2e3,Date.UTC(k,v[3]-1,+v[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(v){return v?Date.UTC(+v[4]+2e3,v[1]-1,+v[3]):NaN}}};let w=d(f.defaultOptions,b),y=w.decimalPoint;(y==="."||y===",")&&(y=y==="."?"\\.":",",this.decimalRegExp=RegExp("^(-?[0-9]+)"+y+"([0-9]+)$")),this.options=w}asBoolean(b){return typeof b=="boolean"?b:typeof b=="string"?b!==""&&b!=="0"&&b!=="false":!!this.asNumber(b)}asDate(b){let w;if(typeof b=="string")w=this.parseDate(b);else if(typeof b=="number")w=b;else{if(b instanceof Date)return b;w=this.parseDate(this.asString(b))}return new Date(w)}asGuessedType(b){return{number:this.asNumber,Date:this.asDate,string:this.asString}[this.guessType(b)].call(this,b)}asNumber(b){if(typeof b=="number")return b;if(typeof b=="boolean")return b?1:0;if(typeof b=="string"){let w=this.decimalRegExp;if(b.indexOf(" ")>-1&&(b=b.replace(/\s+/g,"")),w){if(!w.test(b))return NaN;b=b.replace(w,"$1.$2")}return parseFloat(b)}return b instanceof Date?b.getDate():b?b.getRowCount():NaN}asString(b){return""+b}deduceDateFormat(b,w,y){let v=[],x=[],k="YYYY/mm/dd",I,D=[],N=0,F=!1,O,S;for((!w||w>b.length)&&(w=b.length);N<w;N++)if(b[N]!==void 0&&b[N]&&b[N].length)for(S=0,I=b[N].trim().replace(/[\-\.\/]/g," ").split(" "),D=["","",""];S<I.length;S++)S<D.length&&(O=parseInt(I[S],10))&&(x[S]=!x[S]||x[S]<O?O:x[S],v[S]!==void 0?v[S]!==O&&(v[S]=!1):v[S]=O,O>31?O<100?D[S]="YY":D[S]="YYYY":O>12&&O<=31?(D[S]="dd",F=!0):D[S].length||(D[S]="mm"));if(F){for(S=0;S<v.length;S++)v[S]!==!1?x[S]>12&&D[S]!=="YY"&&D[S]!=="YYYY"&&(D[S]="YY"):x[S]>12&&D[S]==="mm"&&(D[S]="dd");D.length===3&&D[1]==="dd"&&D[2]==="dd"&&(D[2]="YY"),k=D.join("/")}return y&&(this.options.dateFormat=k),k}emit(b){c(this,b.type,b)}export(b,w){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")}getTable(){throw Error("Not implemented")}guessType(b){let w="string";if(typeof b=="string"){let y=this.trim(`${b}`),v=this.decimalRegExp,x=this.trim(y,!0);v&&(x=v.test(x)?x.replace(v,"$1.$2"):"");let k=parseFloat(x);+x===k?b=k:w=h(this.parseDate(b))?"Date":"string"}return typeof b=="number"&&(w=b>31536e6?"Date":"number"),w}on(b,w){return a(this,b,w)}parse(b){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")}parseDate(b,w){let y=this.options,v=w||y.dateFormat,x=NaN,k,I,D;if(y.parseDate)x=y.parseDate(b);else{if(v)(I=this.dateFormats[v])||(I=this.dateFormats["YYYY/mm/dd"]),(D=b.match(I.regex))&&(x=I.parser(D));else for(k in this.dateFormats)if(I=this.dateFormats[k],D=b.match(I.regex)){v=k,x=I.parser(D);break}!D&&(typeof(D=Date.parse(b))=="object"&&D!==null&&D.getTime?x=D.getTime()-6e4*D.getTimezoneOffset():h(D)&&(x=D-6e4*new Date(D).getTimezoneOffset(),b.indexOf("2001")===-1&&new Date(x).getFullYear()===2001&&(x=NaN)))}return x}trim(b,w){return typeof b=="string"&&(b=b.replace(/^\s+|\s+$/g,""),w&&/^[\d\s]+$/.test(b)&&(b=b.replace(/\s/g,""))),b}}return f.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},(f||(f={})).getTableFromColumns=function(m=[],b=[]){let w=new s;for(let y=0,v=Math.max(b.length,m.length);y<v;++y)w.setColumn(b[y]||`${y}`,m[y]);return w},f}),i(n,"Data/Converters/CSVConverter.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class c extends s{constructor(d){let f=a(c.defaultOptions,d);super(f),this.columns=[],this.headers=[],this.dataTypes=[],this.options=f}export(d,f=this.options){let{useLocalDecimalPoint:m,lineDelimiter:b}=f,w=this.options.firstRowAsNames!==!1,{decimalPoint:y,itemDelimiter:v}=f;y||(y=v!==","&&m?1.1.toLocaleString()[1]:"."),v||(v=y===","?";":",");let x=d.getSortedColumns(f.usePresentationOrder),k=Object.keys(x),I=[],D=k.length,N=[];w&&I.push(k.map(F=>`"${F}"`).join(v));for(let F=0;F<D;F++){let O,S=k[F],A=x[S],L=A.length,U=d.whatIs(S);U&&(O=U.dataType);for(let z=0;z<L;z++){let G=A[z];if(N[z]||(N[z]=[]),O==="string"?G='"'+G+'"':typeof G=="number"?G=String(G).replace(".",y):typeof G=="string"&&(G=`"${G}"`),N[z][F]=G,F===D-1){let H=F;for(;N[z].length>2&&N[z][H]===void 0;)N[z].pop(),H--;I.push(N[z].join(v))}}}return I.join(b)}parse(d,f){let m=this.dataTypes,b=a(this.options,d),{beforeParse:w,lineDelimiter:y,firstRowAsNames:v,itemDelimiter:x}=b,k,I=0,{csv:D,startRow:N,endRow:F}=b,O;if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:f,headers:this.headers}),D&&w&&(D=w(D)),D){if(k=D.replace(/\r\n|\r/g,`
`).split(y||`
`),(!N||N<0)&&(N=0),(!F||F>=k.length)&&(F=k.length-1),x||(this.guessedItemDelimiter=this.guessDelimiter(k)),v){let A=k[0].split(x||this.guessedItemDelimiter||",");for(let L=0;L<A.length;L++)A[L]=A[L].trim().replace(/^["']|["']$/g,"");this.headers=A,N++}let S=0;for(I=N;I<=F;I++)k[I][0]==="#"?S++:this.parseCSVRow(k[I],I-N-S);m.length&&m[0].length&&m[0][1]==="date"&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let A=0,L=this.columns.length;A<L;++A){O=this.columns[A];for(let U=0,z=O.length;U<z;++U)if(O[U]&&typeof O[U]=="string"){let G=this.asGuessedType(O[U]);G instanceof Date&&(G=G.getTime()),this.columns[A][U]=G}}}this.emit({type:"afterParse",columns:this.columns,detail:f,headers:this.headers})}parseCSVRow(d,f){let m=this,b=m.columns||[],w=m.dataTypes,{startColumn:y,endColumn:v}=m.options,x=m.options.itemDelimiter||m.guessedItemDelimiter,{decimalPoint:k}=m.options;k&&k!==x||(k=m.guessedDecimalPoint||".");let I=0,D="",N="",F=0,O=0,S=U=>{D=d[U]},A=U=>{w.length<O+1&&w.push([U]),w[O][w[O].length-1]!==U&&w[O].push(U)},L=()=>{if(y>F||F>v){++F,N="";return}if(typeof N=="string"?!isNaN(parseFloat(N))&&isFinite(N)?(N=parseFloat(N),A("number")):isNaN(Date.parse(N))?A("string"):(N=N.replace(/\//g,"-"),A("date")):A("number"),b.length<O+1&&b.push([]),typeof N!="number"&&m.guessType(N)!=="number"&&k){let U=N;N=N.replace(k,"."),m.guessType(N)!=="number"&&(N=U)}b[O][f]=N,N="",++O,++F};if(d.trim().length&&d.trim()[0]!=="#"){for(;I<d.length;I++){if(S(I),D==="#"&&!/^#[A-F\d]{3,3}|[A-F\d]{6,6}/i.test(d.substring(I))){L();return}if(D==='"')for(S(++I);I<d.length&&D!=='"';)N+=D,S(++I);else D===x?L():N+=D}L()}}guessDelimiter(d){let f=0,m=0,b,w={",":0,";":0,"	":0},y=d.length;for(let v=0;v<y;v++){let x=!1,k,I,D,N="";if(v>13)break;let F=d[v];for(let O=0;O<F.length&&(k=F[O],I=F[O+1],D=F[O-1],k!=="#");O++){if(k==='"')if(x){if(D!=='"'&&I!=='"'){for(;I===" "&&O<F.length;)I=F[++O];w[I]!==void 0&&w[I]++,x=!1}}else x=!0;else w[k]!==void 0?(isNaN(Date.parse(N=N.trim()))?(isNaN(Number(N))||!isFinite(Number(N)))&&w[k]++:w[k]++,N=""):N+=k;k===","&&m++,k==="."&&f++}}return w[";"]>w[","]?b=";":(w[","],w[";"],b=","),f>m?this.guessedDecimalPoint=".":this.guessedDecimalPoint=",",b}getTable(){return s.getTableFromColumns(this.columns,this.headers)}}return c.defaultOptions={...s.defaultOptions,lineDelimiter:`
`},c}),i(n,"Data/Modifiers/DataModifier.js",[n["Core/Utilities.js"]],function(s){var r;let{addEvent:a,fireEvent:c,merge:h}=s;class d{benchmark(m,b){let w=[],y=this,v=()=>{y.modifyTable(m),y.emit({type:"afterBenchmarkIteration"})},{iterations:x}=h({iterations:1},b);y.on("afterBenchmarkIteration",()=>{if(w.length===x){y.emit({type:"afterBenchmark",results:w});return}v()});let k={startTime:0,endTime:0};return y.on("modify",()=>{k.startTime=e.performance.now()}),y.on("afterModify",()=>{k.endTime=e.performance.now(),w.push(k.endTime-k.startTime)}),v(),w}emit(m){c(this,m.type,m)}modify(m,b){let w=this;return new Promise((y,v)=>{m.modified===m&&(m.modified=m.clone(!1,b));try{y(w.modifyTable(m,b))}catch(x){w.emit({type:"error",detail:b,table:m}),v(x)}})}modifyCell(m,b,w,y,v){return this.modifyTable(m)}modifyColumns(m,b,w,y){return this.modifyTable(m)}modifyRows(m,b,w,y){return this.modifyTable(m)}on(m,b){return a(this,m,b)}}return(r=d||(d={})).types={},r.registerType=function(f,m){return!!f&&!r.types[f]&&!!(r.types[f]=m)},d}),i(n,"Data/Connectors/DataConnector.js",[n["Data/Modifiers/DataModifier.js"],n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r,a){var c;let{addEvent:h,fireEvent:d,merge:f,pick:m}=a;class b{constructor(y={}){this.table=new r(y.dataTable),this.metadata=y.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(y,v){let x=this.metadata.columns;x[y]=f(x[y]||{},v)}describeColumns(y){let v,x=Object.keys(y);for(;typeof(v=x.pop())=="string";)this.describeColumn(v,y[v])}emit(y){d(this,y.type,y)}getColumnOrder(y){let v=this.metadata.columns,x=Object.keys(v||{});if(x.length)return x.sort((k,I)=>m(v[k].index,0)-m(v[I].index,0))}getSortedColumns(y){return this.table.getColumns(this.getColumnOrder(y))}load(){return d(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(y,v){return h(this,y,v)}save(){return d(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))}setColumnOrder(y){for(let v=0,x=y.length;v<x;++v)this.describeColumn(y[v],{index:v})}setModifierOptions(y){let v=y&&s.types[y.type];return this.table.setModifier(v?new v(y):void 0).then(()=>this)}startPolling(y=1e3){let v=this;e.clearTimeout(v._polling),v._polling=e.setTimeout(()=>v.load().catch(x=>v.emit({type:"loadError",error:x,table:v.table})).then(()=>{v._polling&&v.startPolling(y)}),y)}stopPolling(){e.clearTimeout(this._polling),delete this._polling}whatIs(y){return this.metadata.columns[y]}}return(c=b||(b={})).types={},c.registerType=function(w,y){return!!w&&!c.types[w]&&!!(c.types[w]=y)},b}),i(n,"Data/Connectors/CSVConnector.js",[n["Data/Converters/CSVConverter.js"],n["Data/Connectors/DataConnector.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:c}=a;class h extends r{constructor(f){let m=c(h.defaultOptions,f);super(m),this.converter=new s(m),this.options=m,m.enablePolling&&this.startPolling(1e3*Math.max(m.dataRefreshRate||0,1))}load(f){let m=this,b=m.converter,w=m.table,{csv:y,csvURL:v,dataModifier:x}=m.options;return m.emit({type:"load",csv:y,detail:f,table:w}),Promise.resolve(v?fetch(v).then(k=>k.text()):y||"").then(k=>(k&&(w.deleteColumns(),b.parse({csv:k}),w.setColumns(b.getTable().getColumns())),m.setModifierOptions(x).then(()=>k))).then(k=>(m.emit({type:"afterLoad",csv:k,detail:f,table:w}),m)).catch(k=>{throw m.emit({type:"loadError",detail:f,error:k,table:w}),k})}}return h.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0},r.registerType("CSV",h),h}),i(n,"Data/Converters/GoogleSheetsConverter.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a,uniqueKey:c}=r;class h extends s{constructor(f){let m=a(h.defaultOptions,f);super(m),this.columns=[],this.header=[],this.options=m}parse(f,m){var k;let b,w=a(this.options,f),y=(((k=w.json)==null?void 0:k.values)||[]).map(I=>I.slice());if(y.length===0)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:m,headers:this.header});let{beforeParse:v,json:x}=w;v&&x&&(y=v(x.values)),this.columns=y;for(let I=0,D=y.length;I<D;I++){b=y[I],this.header[I]=w.firstRowAsNames?`${b.shift()}`:c();for(let N=0,F=b.length;N<F;++N)if(b[N]&&typeof b[N]=="string"){let O=this.asGuessedType(b[N]);O instanceof Date&&(O=O.getTime()),this.columns[I][N]=O}}this.emit({type:"afterParse",columns:this.columns,detail:m,headers:this.header})}getTable(){return s.getTableFromColumns(this.columns,this.header)}}return h.defaultOptions={...s.defaultOptions},h}),i(n,"Data/Connectors/GoogleSheetsConnector.js",[n["Data/Connectors/DataConnector.js"],n["Data/Converters/GoogleSheetsConverter.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:c,pick:h}=a;class d extends s{constructor(m){let b=c(d.defaultOptions,m);super(b),this.converter=new r(b),this.options=b}load(m){let b=this,w=b.converter,y=b.table,{dataModifier:v,dataRefreshRate:x,enablePolling:k,firstRowAsNames:I,googleAPIKey:D,googleSpreadsheetKey:N}=b.options,F=d.buildFetchURL(D,N,b.options);if(b.emit({type:"load",detail:m,table:y,url:F}),!URL.canParse(F))throw Error("Invalid URL: "+F);return fetch(F).then(O=>O.json()).then(O=>{if(typeof O=="object"&&O&&typeof O.error=="object"&&O.error&&typeof O.error.code=="number"&&typeof O.error.message=="string"&&typeof O.error.status=="string")throw Error(O.error.message);return w.parse({firstRowAsNames:I,json:O}),y.deleteColumns(),y.setColumns(w.getTable().getColumns()),b.setModifierOptions(v)}).then(()=>(b.emit({type:"afterLoad",detail:m,table:y,url:F}),k&&setTimeout(()=>b.load(),1e3*Math.max(x||0,1)),b)).catch(O=>{throw b.emit({type:"loadError",detail:m,error:O,table:y}),O})}}return d.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},function(f){let m="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function b(w={}){let{endColumn:y,endRow:v,googleSpreadsheetRange:x,startColumn:k,startRow:I}=w;return x||(m[k||0]||"A")+(Math.max(I||0,0)+1)+":"+(m[h(y,25)]||"Z")+(v?Math.max(v,0):"Z")}f.buildFetchURL=function(w,y,v={}){let x=new URL(`https://sheets.googleapis.com/v4/spreadsheets/${y}/values/`),k=v.onlyColumnNames?"A1:Z1":b(v);x.pathname+=k;let I=x.searchParams;return I.set("alt","json"),v.onlyColumnNames||(I.set("dateTimeRenderOption","FORMATTED_STRING"),I.set("majorDimension","COLUMNS"),I.set("valueRenderOption","UNFORMATTED_VALUE")),I.set("prettyPrint","false"),I.set("key",w),x.href},f.buildQueryRange=b}(d||(d={})),s.registerType("GoogleSheets",d),d}),i(n,"Data/Converters/HTMLTableConverter.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class c extends s{constructor(d){let f=a(c.defaultOptions,d);super(f),this.columns=[],this.headers=[],this.options=f,f.tableElement&&(this.tableElement=f.tableElement,this.tableElementID=f.tableElement.id)}export(d,f=this.options){let m=f.firstRowAsNames!==!1,b=f.useMultiLevelHeaders,w=d.getSortedColumns(f.usePresentationOrder),y=Object.keys(w),v=[],x=y.length,k=[],I="";if(m){let N=[];if(b){for(let F of y){let O=(w[F].shift()||"").toString();N.push(O)}I=this.getTableHeaderHTML(y,N,f)}else I=this.getTableHeaderHTML(void 0,y,f)}for(let N=0;N<x;N++){let F=w[y[N]],O=F.length;for(let S=0;S<O;S++){let A=F[S];k[S]||(k[S]=[]),typeof A=="string"||typeof A=="number"||A===void 0||(A=(A||"").toString()),k[S][N]=this.getCellHTMLFromValue(N?"td":"th",null,N?"":'scope="row"',A),N===x-1&&v.push("<tr>"+k[S].join("")+"</tr>")}}let D="";return f.tableCaption&&(D='<caption class="highcharts-table-caption">'+f.tableCaption+"</caption>"),"<table>"+D+I+"<tbody>"+v.join("")+"</tbody></table>"}getCellHTMLFromValue(d,f,m,b,w){let y=b,v="text"+(f?" "+f:"");return typeof y=="number"?(y=y.toString(),w===","&&(y=y.replace(".",w)),v="number"):b||(y="",v="empty"),"<"+d+(m?" "+m:"")+' class="'+v+'">'+y+"</"+d+">"}getTableHeaderHTML(d=[],f=[],m=this.options){let{useMultiLevelHeaders:b,useRowspanHeaders:w}=m,y="<thead>",v=0,x=f&&f.length,k,I=0,D;if(b&&d&&f&&!function(N,F){let O=N.length;if(F.length!==O)return!1;for(;--O;)if(N[O]!==F[O])return!1;return!0}(d,f)){for(y+="<tr>";v<x;++v)(k=d[v])===d[v+1]?++I:I?(y+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(I+1)+'"',k),I=0):(k===f[v]?w?(D=2,delete f[v]):(D=1,f[v]=""):D=1,y+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(D>1?' valign="top" rowspan="'+D+'"':""),k));y+="</tr>"}if(f){for(y+="<tr>",v=0,x=f.length;v<x;++v)f[v]!==void 0&&(y+=this.getCellHTMLFromValue("th",null,'scope="col"',f[v]));y+="</tr>"}return y+"</thead>"}parse(d,f){let m=[],b=[],w=a(this.options,d),{endRow:y,startColumn:v,endColumn:x,firstRowAsNames:k}=w,I=w.tableElement||this.tableElement;if(!(I instanceof HTMLElement)){this.emit({type:"parseError",columns:m,detail:f,headers:b,error:"Not a valid HTML Table"});return}this.tableElement=I,this.tableElementID=I.id,this.emit({type:"parse",columns:this.columns,detail:f,headers:this.headers});let D=I.getElementsByTagName("tr"),N=D.length,F=0,O,{startRow:S}=w;if(k&&N){let A=D[0].children,L=A.length;for(let U=v;U<L&&!(U>x);U++)((O=A[U]).tagName==="TD"||O.tagName==="TH")&&b.push(O.innerHTML);S++}for(;F<N;){if(F>=S&&F<=y){let A=D[F].children,L=A.length,U=0;for(;U<L;){let z=U-v,G=m[z];if(((O=A[U]).tagName==="TD"||O.tagName==="TH")&&U>=v&&U<=x){m[z]||(m[z]=[]);let H=this.asGuessedType(O.innerHTML);H instanceof Date&&(H=H.getTime()),m[z][F-S]=H;let q=1;for(;F-S>=q&&G[F-S-q]===void 0;)G[F-S-q]=null,q++}U++}}F++}this.columns=m,this.headers=b,this.emit({type:"afterParse",columns:m,detail:f,headers:b})}getTable(){return s.getTableFromColumns(this.columns,this.headers)}}return c.defaultOptions={...s.defaultOptions,useRowspanHeaders:!0,useMultiLevelHeaders:!0},c}),i(n,"Data/Connectors/HTMLTableConnector.js",[n["Data/Connectors/DataConnector.js"],n["Core/Globals.js"],n["Data/Converters/HTMLTableConverter.js"],n["Core/Utilities.js"]],function(s,r,a,c){let{win:h}=r,{merge:d}=c;class f extends s{constructor(b){let w=d(f.defaultOptions,b);super(w),this.converter=new a(w),this.options=w}load(b){let w,y=this,v=y.converter,x=y.table,{dataModifier:k,table:I}=y.options;if(y.emit({type:"load",detail:b,table:x,tableElement:y.tableElement}),typeof I=="string"?(y.tableID=I,w=h.document.getElementById(I)):(w=I,y.tableID=w.id),y.tableElement=w||void 0,!y.tableElement){let D="HTML table not provided, or element with ID not found";return y.emit({type:"loadError",detail:b,error:D,table:x}),Promise.reject(Error(D))}return v.parse(d({tableElement:y.tableElement},y.options),b),x.deleteColumns(),x.setColumns(v.getTable().getColumns()),y.setModifierOptions(k).then(()=>(y.emit({type:"afterLoad",detail:b,table:x,tableElement:y.tableElement}),y))}}return f.defaultOptions={table:""},s.registerType("HTMLTable",f),f}),i(n,"Data/Converters/JSONConverter.js",[n["Data/Converters/DataConverter.js"],n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r,a){let{error:c,isArray:h,merge:d,objectEach:f}=a;class m extends s{constructor(w){let y=d(m.defaultOptions,w);super(y),this.columns=[],this.headers=[],this.options=y,this.table=new r}parse(w,y){let{beforeParse:v,orientation:x,firstRowAsNames:k,columnNames:I}=w=d(this.options,w),D=w.data;if(D){if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:y,headers:this.headers}),v&&(D=v(D)),D=D.slice(),x==="columns")for(let N=0,F=D.length;N<F;N++){let O=D[N];if(!(O instanceof Array))return;this.headers instanceof Array?(k?this.headers.push(`${O.shift()}`):I&&I instanceof Array&&this.headers.push(I[N]),this.table.setColumn(this.headers[N]||N.toString(),O)):c("JSONConverter: Invalid `columnNames` option.",!1)}else if(x==="rows"){k?this.headers=D.shift():I&&(this.headers=I);for(let N=0,F=D.length;N<F;N++){let O=D[N];if(h(O))for(let S=0,A=O.length;S<A;S++)this.columns.length<S+1&&this.columns.push([]),this.columns[S].push(O[S]),this.headers instanceof Array?this.table.setColumn(this.headers[S]||S.toString(),this.columns[S]):c("JSONConverter: Invalid `columnNames` option.",!1);else{let S=this.headers;if(S&&!(S instanceof Array)){let A={};f(S,(L,U)=>{A[U]=L.reduce((z,G)=>z[G],O)}),O=A}this.table.setRows([O],N)}}}this.emit({type:"afterParse",columns:this.columns,detail:y,headers:this.headers})}}getTable(){return this.table}}return m.defaultOptions={...s.defaultOptions,data:[],orientation:"rows"},m}),i(n,"Data/Connectors/JSONConnector.js",[n["Data/Connectors/DataConnector.js"],n["Core/Utilities.js"],n["Data/Converters/JSONConverter.js"]],function(s,r,a){let{merge:c}=r;class h extends s{constructor(f){let m=c(h.defaultOptions,f);super(m),this.converter=new a(m),this.options=m,m.enablePolling&&this.startPolling(1e3*Math.max(m.dataRefreshRate||0,1))}load(f){let m=this,b=m.converter,w=m.table,{data:y,dataUrl:v,dataModifier:x}=m.options;return m.emit({type:"load",data:y,detail:f,table:w}),Promise.resolve(v?fetch(v).then(k=>k.json()):y||[]).then(k=>(k&&(w.deleteColumns(),b.parse({data:k}),w.setColumns(b.getTable().getColumns())),m.setModifierOptions(x).then(()=>k))).then(k=>(m.emit({type:"afterLoad",data:k,detail:f,table:w}),m)).catch(k=>{throw m.emit({type:"loadError",detail:f,error:k,table:w}),k})}}return h.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"},s.registerType("JSON",h),h}),i(n,"Data/Modifiers/ChainModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class c extends s{constructor(d,...f){super(),this.chain=f,this.options=a(c.defaultOptions,d);let m=this.options.chain||[];for(let b=0,w=m.length,y,v;b<w;++b)(y=m[b]).type&&(v=s.types[y.type])&&f.push(new v(y))}add(d,f){this.emit({type:"addModifier",detail:f,modifier:d}),this.chain.push(d),this.emit({type:"addModifier",detail:f,modifier:d})}clear(d){this.emit({type:"clearChain",detail:d}),this.chain.length=0,this.emit({type:"afterClearChain",detail:d})}async modify(d,f){let m=this.options.reverse?this.chain.slice().reverse():this.chain.slice();d.modified===d&&(d.modified=d.clone(!1,f));let b=d;for(let w=0,y=m.length;w<y;++w){try{await m[w].modify(b,f)}catch(v){throw this.emit({type:"error",detail:f,table:d}),v}b=b.modified}return d.modified=b,d}modifyCell(d,f,m,b,w){let y=this.options.reverse?this.chain.reverse():this.chain;if(y.length){let v=d.clone();for(let x=0,k=y.length;x<k;++x)y[x].modifyCell(v,f,m,b,w),v=v.modified;d.modified=v}return d}modifyColumns(d,f,m,b){let w=this.options.reverse?this.chain.reverse():this.chain.slice();if(w.length){let y=d.clone();for(let v=0,x=w.length;v<x;++v)w[v].modifyColumns(y,f,m,b),y=y.modified;d.modified=y}return d}modifyRows(d,f,m,b){let w=this.options.reverse?this.chain.reverse():this.chain.slice();if(w.length){let y=d.clone();for(let v=0,x=w.length;v<x;++v)w[v].modifyRows(y,f,m,b),y=y.modified;d.modified=y}return d}modifyTable(d,f){this.emit({type:"modify",detail:f,table:d});let m=this.options.reverse?this.chain.reverse():this.chain.slice(),b=d.modified;for(let w=0,y=m.length;w<y;++w)b=m[w].modifyTable(b,f).modified;return d.modified=b,this.emit({type:"afterModify",detail:f,table:d}),d}remove(d,f){let m=this.chain;this.emit({type:"removeModifier",detail:f,modifier:d}),m.splice(m.indexOf(d),1),this.emit({type:"afterRemoveModifier",detail:f,modifier:d})}}return c.defaultOptions={type:"Chain"},s.registerType("Chain",c),c}),i(n,"Data/Modifiers/InvertModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class c extends s{constructor(d){super(),this.options=a(c.defaultOptions,d)}modifyCell(d,f,m,b,w){let y=d.modified,v=y.getRowIndexBy("columnNames",f);return v===void 0?y.setColumns(this.modifyTable(d.clone()).getColumns(),void 0,w):y.setCell(`${m}`,v,b,w),d}modifyColumns(d,f,m,b){let w=d.modified,y=w.getColumn("columnNames")||[],v=d.getColumnNames(),x=d.getRowCount()!==y.length;if(!x){for(let k=0,I=v.length;k<I;++k)if(v[k]!==y[k]){x=!0;break}}if(x)return this.modifyTable(d,b);v=Object.keys(f);for(let k=0,I=v.length,D,N,F;k<I;++k){D=f[N=v[k]],F=w.getRowIndexBy("columnNames",N)||w.getRowCount();for(let O=0,S=m,A=D.length;O<A;++O,++S)w.setCell(`${S}`,F,D[O],b)}return d}modifyRows(d,f,m,b){let w=d.getColumnNames(),y=d.modified,v=y.getColumn("columnNames")||[],x=d.getRowCount()!==v.length;if(!x){for(let k=0,I=w.length;k<I;++k)if(w[k]!==v[k]){x=!0;break}}if(x)return this.modifyTable(d,b);for(let k=0,I=m,D=f.length,N;k<D;++k,++I)if((N=f[k])instanceof Array)y.setColumn(`${I}`,N);else for(let F=0,O=w.length;F<O;++F)y.setCell(`${I}`,F,N[w[F]],b);return d}modifyTable(d,f){this.emit({type:"modify",detail:f,table:d});let m=d.modified;if(d.hasColumns(["columnNames"])){let b=((d.deleteColumns(["columnNames"])||{}).columnNames||[]).map(y=>`${y}`),w={};for(let y=0,v=d.getRowCount(),x;y<v;++y)(x=d.getRow(y))&&(w[b[y]]=x);m.deleteColumns(),m.setColumns(w)}else{let b={};for(let w=0,y=d.getRowCount(),v;w<y;++w)(v=d.getRow(w))&&(b[`${w}`]=v);b.columnNames=d.getColumnNames(),m.deleteColumns(),m.setColumns(b)}return this.emit({type:"afterModify",detail:f,table:d}),d}}return c.defaultOptions={type:"Invert"},s.registerType("Invert",c),c}),i(n,"Data/Modifiers/RangeModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a}=r;class c extends s{constructor(d){super(),this.options=a(c.defaultOptions,d)}modifyTable(d,f){this.emit({type:"modify",detail:f,table:d});let m=[],{additive:b,ranges:w,strict:y}=this.options;if(w.length){let v=d.modified,x=d.getColumns(),k=[];for(let I=0,D=w.length,N,F;I<D;++I)if(N=w[I],!y||typeof N.minValue==typeof N.maxValue){I>0&&!b&&(v.deleteRows(),v.setRows(k),v.setOriginalRowIndexes(m,!0),x=v.getColumns(),k=[],m=[]),F=x[N.column]||[];for(let O=0,S=F.length,A,L,U;O<S;++O){switch(typeof(A=F[O])){default:continue;case"boolean":case"number":case"string":}(!y||typeof A==typeof N.minValue)&&A>=N.minValue&&A<=N.maxValue&&(b?(L=d.getRow(O),U=d.getOriginalRowIndex(O)):(L=v.getRow(O),U=v.getOriginalRowIndex(O)),L&&(k.push(L),m.push(U)))}}v.deleteRows(),v.setRows(k),v.setOriginalRowIndexes(m)}return this.emit({type:"afterModify",detail:f,table:d}),d}}return c.defaultOptions={type:"Range",ranges:[]},s.registerType("Range",c),c}),i(n,"Data/Modifiers/SortModifier.js",[n["Data/Modifiers/DataModifier.js"],n["Data/DataTable.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:c}=a;class h extends s{static ascending(f,m){return(f||0)<(m||0)?-1:(f||0)>(m||0)?1:0}static descending(f,m){return(m||0)<(f||0)?-1:(m||0)>(f||0)?1:0}constructor(f){super(),this.options=c(h.defaultOptions,f)}getRowReferences(f){let m=f.getRows(),b=[];for(let w=0,y=m.length;w<y;++w)b.push({index:w,row:m[w]});return b}modifyCell(f,m,b,w,y){let{orderByColumn:v,orderInColumn:x}=this.options;return m===v&&(x?(f.modified.setCell(m,b,w),f.modified.setColumn(x,this.modifyTable(new r({columns:f.getColumns([v,x])})).modified.getColumn(x))):this.modifyTable(f,y)),f}modifyColumns(f,m,b,w){let{orderByColumn:y,orderInColumn:v}=this.options,x=Object.keys(m);return x.indexOf(y)>-1&&(v&&m[x[0]].length?(f.modified.setColumns(m,b),f.modified.setColumn(v,this.modifyTable(new r({columns:f.getColumns([y,v])})).modified.getColumn(v))):this.modifyTable(f,w)),f}modifyRows(f,m,b,w){let{orderByColumn:y,orderInColumn:v}=this.options;return v&&m.length?(f.modified.setRows(m,b),f.modified.setColumn(v,this.modifyTable(new r({columns:f.getColumns([y,v])})).modified.getColumn(v))):this.modifyTable(f,w),f}modifyTable(f,m){this.emit({type:"modify",detail:m,table:f});let b=f.getColumnNames(),w=f.getRowCount(),y=this.getRowReferences(f),{direction:v,orderByColumn:x,orderInColumn:k}=this.options,I=v==="asc"?h.ascending:h.descending,D=b.indexOf(x),N=f.modified;if(D!==-1&&y.sort((F,O)=>I(F.row[D],O.row[D])),k){let F=[];for(let O=0;O<w;++O)F[y[O].index]=O;N.setColumns({[k]:F})}else{let F,O=[],S=[];for(let A=0;A<w;++A)F=y[A],O.push(N.getOriginalRowIndex(F.index)),S.push(F.row);N.setRows(S,0),N.setOriginalRowIndexes(O)}return this.emit({type:"afterModify",detail:m,table:f}),f}}return h.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"},s.registerType("Sort",h),h}),i(n,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){return class{constructor(s){this.board=s,this.addTabIndexToCells()}addTabIndexToCells(){let s,r=this.board.mountedComponents;for(let a=0,c=r.length;a<c;++a)(s=r[a].cell)&&s.container&&s.container.setAttribute("tabindex",-1)}}}),i(n,"Data/DataCursor.js",[],function(){class s{constructor(a={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=a}addListener(a,c,h){let d=this.listenerMap[a]=this.listenerMap[a]||{};return(d[c]=d[c]||[]).push(h),this}buildEmittingTag(a){return(a.cursor.type==="position"?[a.table.id,a.cursor.column,a.cursor.row,a.cursor.state,a.cursor.type]:[a.table.id,a.cursor.columns,a.cursor.firstRow,a.cursor.lastRow,a.cursor.state,a.cursor.type]).join("\0")}emitCursor(a,c,h,d){let f=a.id,m=c.state,b=this.listenerMap[f]&&this.listenerMap[f][m];if(b){let w=this.stateMap[f]=this.stateMap[f]??{},y=w[c.state]||[];d&&(y.length||(w[c.state]=y),s.getIndex(c,y)===-1&&y.push(c));let v={cursor:c,cursors:y,table:a};h&&(v.event=h);let x=this.emittingRegister,k=this.buildEmittingTag(v);if(x.indexOf(k)>=0)return this;try{this.emittingRegister.push(k);for(let I=0,D=b.length;I<D;++I)b[I].call(this,v)}finally{let I=this.emittingRegister.indexOf(k);I>=0&&this.emittingRegister.splice(I,1)}}return this}remitCursor(a,c){let h=this.stateMap[a]&&this.stateMap[a][c.state];if(h){let d=s.getIndex(c,h);d>=0&&h.splice(d,1)}return this}removeListener(a,c,h){let d=this.listenerMap[a]&&this.listenerMap[a][c];if(d){let f=d.indexOf(h);f>=0&&d.splice(f,1)}return this}}return s.version="1.0.0",function(r){function a(c,h){if(c.type==="range")return c;let d={type:"range",firstRow:c.row??(h&&h.firstRow)??0,lastRow:c.row??(h&&h.lastRow)??Number.MAX_VALUE,state:c.state};return c.column!==void 0&&(d.columns=[c.column]),d}r.getIndex=function(c,h){if(c.type==="position"){for(let d,f=0,m=h.length;f<m;++f)if((d=h[f]).type==="position"&&d.state===c.state&&d.column===c.column&&d.row===c.row)return f}else{let d=JSON.stringify(c.columns);for(let f,m=0,b=h.length;m<b;++m)if((f=h[m]).type==="range"&&f.state===c.state&&f.firstRow===c.firstRow&&f.lastRow===c.lastRow&&JSON.stringify(f.columns)===d)return m}return-1},r.isEqual=function(c,h){return c.type==="position"&&h.type==="position"?c.column===h.column&&c.row===h.row&&c.state===h.state:c.type==="range"&&h.type==="range"&&c.firstRow===h.firstRow&&c.lastRow===h.lastRow&&JSON.stringify(c.columns)===JSON.stringify(h.columns)},r.isInRange=function(c,h){h.type==="position"&&(h=a(h)),c.type==="position"&&(c=a(c,h));let d=c.columns,f=h.columns;return c.firstRow>=h.firstRow&&c.lastRow<=h.lastRow&&(!d||!f||d.every(m=>f.indexOf(m)>=0))},r.toPositions=function(c){if(c.type==="position")return[c];let h=c.columns||[],d=[],f=c.state;for(let m=c.firstRow,b=c.lastRow;m<b;++m){if(!h.length){d.push({type:"position",row:m,state:f});continue}for(let w=0,y=h.length;w<y;++w)d.push({type:"position",column:h[w],row:m,state:f})}return d},r.toRange=a}(s||(s={})),s}),i(n,"Dashboards/Serializable.js",[],function(){var s;return function(r){let a={},c={};r.fromJSON=function(h){let d=h.$class;if(typeof d!="string")throw Error("JSON has no $class property.");let f=a[d];if(f)return f.fromJSON(h);let m=c[d];if(m)return m.fromJSON(h);throw Error(`'${d}' unknown.`)},r.registerClassPrototype=function(h,d){if(a[h])throw Error("A serializer for '"+h+"' is already registered.");a[h]=d},r.registerHelper=function(h){if(c[h.$class])throw Error("A serializer for '"+h.$class+"' is already registered.");c[h.$class]=h},r.toJSON=function(h){let d;if(typeof h.fromJSON=="function"&&typeof h.toJSON=="function")return h.toJSON();let f=Object.keys(c),m=f.length;for(let b=0;b<m;++b)if((d=c[f[b]]).jsonSupportFor(h))return d.toJSON(h);throw Error("Object is not supported.")}}(s||(s={})),s}),i(n,"Dashboards/SerializeHelper/DataCursorHelper.js",[n["Data/DataCursor.js"],n["Dashboards/Serializable.js"]],function(s,r){let a={$class:"Data.DataCursor",fromJSON:function(c){return new s(c.stateMap)},jsonSupportFor:function(c){return c instanceof s},toJSON:function(c){let h,d,f,m,b,w=c.stateMap,y={},v=Object.keys(c.stateMap);for(let x=0,k=v.length;x<k;++x){b=Object.keys(w[f=v[x]]),y[f]={};for(let I=0,D=b.length;I<D;++I){m=b[I],h=w[f][m],y[f][m]=d=[];for(let N=0,F=h.length;N<F;++N)d.push({...h[N]})}}return{$class:"Data.DataCursor",stateMap:y}}};return r.registerHelper(a),a}),i(n,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),i(n,"Data/DataPool.js",[n["Data/Connectors/DataConnector.js"],n["Data/DataPoolDefaults.js"],n["Core/Utilities.js"]],function(s,r,a){class c{constructor(d=r){d.connectors=d.connectors||[],this.connectors={},this.options=d,this.waiting={}}emit(d){a.fireEvent(this,d.type,d)}getConnector(d){let f=this.connectors[d];if(f)return Promise.resolve(f);let m=this.waiting[d];if(!m){m=this.waiting[d]=[];let b=this.getConnectorOptions(d);if(!b)throw Error(`Connector '${d}' not found.`);this.loadConnector(b).then(w=>{delete this.waiting[d];for(let y=0,v=m.length;y<v;++y)m[y][0](w)}).catch(w=>{delete this.waiting[d];for(let y=0,v=m.length;y<v;++y)m[y][1](w)})}return new Promise((b,w)=>{m.push([b,w])})}getConnectorIds(){let d=this.options.connectors,f=[];for(let m=0,b=d.length;m<b;++m)f.push(d[m].id);return f}getConnectorOptions(d){let f=this.options.connectors;for(let m=0,b=f.length;m<b;++m)if(f[m].id===d)return f[m]}getConnectorTable(d){return this.getConnector(d).then(f=>f.table)}isNewConnector(d){return!this.connectors[d]}loadConnector(d){return new Promise((f,m)=>{this.emit({type:"load",options:d});let b=s.types[d.type];if(!b)throw Error(`Connector type not found. (${d.type})`);new b(d.options).load().then(w=>{this.connectors[d.id]=w,this.emit({type:"afterLoad",options:d}),f(w)}).catch(m)})}on(d,f){return a.addEvent(this,d,f)}setConnectorOptions(d){let f=this.options.connectors,m=this.connectors;this.emit({type:"setConnectorOptions",options:d});for(let b=0,w=f.length;b<w;++b)if(f[b].id===d.id){f.splice(b,1);break}m[d.id]&&(m[d.id].stopPolling(),delete m[d.id]),f.push(d),this.emit({type:"afterSetConnectorOptions",options:d})}}return c.version="1.0.0",c}),i(n,"Dashboards/Layout/Row.js",[n["Dashboards/Globals.js"],n["Dashboards/Layout/Cell.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/EditGlobals.js"]],function(s,r,a,c,h){let{pick:d,defined:f,merge:m,objectEach:b,fireEvent:w}=c;class y extends a{static fromJSON(x,k){if(k){let I=x.options,D=I.containerId||"";return D&&k.copyId&&(D=D+"_"+k.copyId),new y(k,{id:D,parentContainerId:k.container&&k.container.id||I.parentContainerId,cellsJSON:I.cells,style:I.style})}}static setContainerHeight(x,k){k&&(x.style.height=k+"px")}constructor(x,k,I){super(),this.type=s.guiElementType.row,this.layout=x,this.cells=[],this.options=k,this.isVisible=!0;let D=document.getElementById(k.parentContainerId||"")||x.container,N=x.options||{},F=N.rowClassName||"";this.container=this.getElementContainer({render:x.board.guiEnabled,parentContainer:D,attribs:{id:k.id,className:s.classNames.row+" "+F},element:I,elementId:k.id,style:m(N.style,k.style)}),this.options.cells&&this.setCells(),k.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(k.cellsJSON)}setCells(){let x,k,I,D=(this.layout.options||{}).cellClassName||"",N=d(this.options.cells,this.container&&this.container.getElementsByClassName(D))||[];for(k=0,I=N.length;k<I;++k)x=N[k],this.addCell(this.layout.board.guiEnabled?x:{id:""},x instanceof HTMLElement?x:void 0)}setCellsFromJSON(x){let k,I,D=[];for(let N=0,F=x.length;N<F;++N)I=x[N],(k=r.fromJSON({$class:I.$class,options:{containerId:I.options.containerId,parentContainerId:I.options.parentContainerId,width:I.options.width,height:I.options.height,style:I.options.style,layoutJSON:I.options.layoutJSON,mountedComponentJSON:void 0}},this))&&(this.cells.push(k),I.options.mountedComponentJSON&&D.push({cell:k,mountedComponentJSON:I.options.mountedComponentJSON}));for(let N=0,F=D.length;N<F;++N)D[N].cell.mountComponentFromJSON(D[N].mountedComponentJSON)}addCell(x,k,I){let D=new r(this,x,k);return f(I)?this.mountCell(D,I):this.cells.push(D),this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(D),D}destroy(){var I;let{layout:x}=this,k=[...this.cells];for(let D=0,N=k==null?void 0:k.length;D<N;++D)k[D]&&k[D].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),((I=x.rows)==null?void 0:I.length)===0&&x.destroy())}toJSON(){let x=(this.layout.container||{}).id||"",k=[];for(let I=0,D=this.cells.length;I<D;++I)k.push(this.cells[I].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,parentContainerId:x,cells:k,style:this.options.style}}}getOptions(){let x=[];for(let k=0,I=this.cells.length;k<I;++k)x.push(this.cells[k].getOptions());return{id:this.options.id,style:this.options.style,cells:x}}setSize(x){y.setContainerHeight(this.container,x)}getCellIndex(x){var k;for(let I=0,D=(k=this.cells)==null?void 0:k.length;I<D;++I)if(this.cells[I].id===x.id)return I}mountCell(x,k=0){let I=this,D=I.cells[k],N=I.cells[k-1];x.container&&(D&&D.container?D.container.parentNode.insertBefore(x.container,D.container):N&&N.container?N.container.parentNode.insertBefore(x.container,N.container.nextSibling):N||D||!I.container||I.container.appendChild(x.container),I.cells.splice(k,0,x),x.row=I,setTimeout(()=>{w(I,"cellChange",{row:I,cell:x})},0))}unmountCell(x){let k=this.getCellIndex(x);f(k)&&this.cells.splice(k,1),setTimeout(()=>{w(this,"cellChange",{row:this,cell:x})},0)}getVisibleCells(){let x=[];for(let k=0,I=this.cells.length;k<I;++k)this.cells[k].isVisible&&x.push(this.cells[k]);return x}changeVisibility(x=!0,k){super.changeVisibility(x,k),this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(){this.container.classList.toggle(h.classNames.rowContextHighlight)}getRowLevels(){let x,k,I={},D=[];for(let N=0,F=this.cells.length;N<F;++N)(x=this.cells[N]).isVisible&&(I[(k=a.getOffsets(x)).top]||(I[k.top]={top:k.top,bottom:k.bottom,cells:[]}),I[k.top].bottom<k.bottom&&(I[k.top].bottom=k.bottom),I[k.top].cells.push(x));return b(I,N=>{D.push(N)}),D}getRowLevelInfo(x){let k,I=this.getRowLevels();for(let D=0,N=I.length;D<N;++D)I[D].top<=x&&I[D].bottom>x&&(k={index:D,rowLevels:I,rowLevel:I[D]});return k}}return y}),i(n,"Dashboards/Layout/Layout.js",[n["Dashboards/Utilities.js"],n["Core/Utilities.js"],n["Dashboards/Layout/Row.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Globals.js"]],function(s,r,a,c,h){let{uniqueKey:d}=s,{pick:f,defined:m}=r;class b extends c{static fromJSON(y,v,x){let k=y.options,I=document.getElementById(y.options.containerId),D=new b(v,{id:k.containerId,copyId:I?d():"",parentContainerId:k.parentContainerId||v.container.id,rowsJSON:k.rows,style:k.style},x);return D&&!x&&v.layouts.push(D),D}static importLocal(y,v){let x,k=localStorage.getItem(h.classNamePrefix+y);return k&&(x=b.fromJSON(JSON.parse(k),v)),x}constructor(y,v,x){super(),this.type=h.guiElementType.layout,this.board=y,this.rows=[],this.options=v,this.isVisible=!0;let k=x?x.container:document.getElementById(v.parentContainerId||"")||y.layoutsWrapper;x?(this.parentCell=x,this.level=x.row.layout.level+1):this.level=0,v.copyId&&(this.copyId=v.copyId);let I=(this.options||{}).rowClassName||"";this.container=this.getElementContainer({render:y.guiEnabled,parentContainer:k,attribs:{id:(v.id||"")+(this.copyId?"_"+this.copyId:""),className:h.classNames.layout+" "+I},elementId:v.id,style:this.options.style}),this.options.rows&&this.setRows(),v.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(v.rowsJSON)}setRows(){let y,v,x,k=f(this.options.rows,this.container&&this.container.getElementsByClassName(this.options.rowClassName||""))||[];for(v=0,x=k.length;v<x;++v)y=k[v],this.addRow(this.board.guiEnabled?y:{},y instanceof HTMLElement?y:void 0)}setRowsFromJSON(y){let v;for(let x=0,k=y.length;x<k;++x)(v=a.fromJSON(y[x],this))&&this.rows.push(v)}addRow(y,v,x){let k=new a(this,y,v);return m(x)?this.mountRow(k,x):this.rows.push(k),this.board.editMode&&this.board.editMode.setRowEvents(k),k}destroy(){for(let y=this.board.layouts.length-1;y>=0;y--)this.board.layouts[y]===this&&this.board.layouts.splice(y,1);this.parentCell&&delete this.parentCell.nestedLayout;for(let y=this.rows.length-1;y>=0;y--)this.rows[y].destroy();this.parentCell&&this.parentCell.destroy(),super.destroy()}exportLocal(){localStorage.setItem(h.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(y){for(let v=0,x=this.rows.length;v<x;++v)if(this.rows[v]===y)return v}mountRow(y,v){let x=this.rows[v],k=this.rows[v-1];y.container&&(x&&x.container?x.container.parentNode.insertBefore(y.container,x.container):k&&k.container&&k.container.parentNode.insertBefore(y.container,k.container.nextSibling),this.rows.splice(v,0,y),y.layout=this)}unmountRow(y){let v=this.getRowIndex(y);m(v)&&this.rows.splice(v,1)}getVisibleRows(){let y=[];for(let v=0,x=this.rows.length;v<x;++v)this.rows[v].isVisible&&y.push(this.rows[v]);return y}changeVisibility(y=!0){super.changeVisibility(y),this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){let y=(this.board.container||{}).id||"",v=[];for(let x=0,k=this.rows.length;x<k;++x)v.push(this.rows[x].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:y,rows:v,style:this.options.style}}}getOptions(){let y=[];for(let v=0,x=this.rows.length;v<x;++v)y.push(this.rows[v].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:y}}}return b}),i(n,"Dashboards/Board.js",[n["Dashboards/Actions/Bindings.js"],n["Dashboards/Components/ComponentRegistry.js"],n["Dashboards/Accessibility/DashboardsAccessibility.js"],n["Data/DataCursor.js"],n["Dashboards/SerializeHelper/DataCursorHelper.js"],n["Data/DataPool.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/Layout.js"],n["Dashboards/Serializable.js"],n["Dashboards/Components/HTMLComponent/HTMLComponent.js"],n["Core/Utilities.js"]],function(s,r,a,c,h,d,f,m,b,w,y){var v;let{merge:x,addEvent:k,error:I,objectEach:D,uniqueKey:N}=y;class F{static board(S,A,L){return new F(S,A).init(L)}constructor(S,A){var L,U,z,G;this.componentTypes=r.types,this.options=x(F.defaultOptions,A),this.dataPool=new d(A.dataPool),this.id=N(),this.guiEnabled=!!A.gui&&((U=(L=this.options)==null?void 0:L.gui)==null?void 0:U.enabled),this.editModeEnabled=!!A.editMode&&((G=(z=this.options)==null?void 0:z.editMode)==null?void 0:G.enabled),this.layouts=[],this.mountedComponents=[],this.initContainer(S),this.initEditMode(),this.dataCursor=new c,this.index=f.boards.length,f.boards.push(this),this.a11y=new a(this)}init(S){let A=this.options,L=A.components?this.setComponents(A.components):[];return this.initEvents(),S?Promise.all(L).then(()=>this):this}initEvents(){let S=this,A=()=>{S.reflow()};if(typeof ResizeObserver=="function")this.resizeObserver=new ResizeObserver(A),this.resizeObserver.observe(S.container);else{let L=k(e,"resize",A);k(this,"destroy",L)}}initContainer(S){typeof S=="string"&&(S=e.document.getElementById(S)),S||I(13,!0),this.container=S}initEditMode(){if(Dashboards.EditMode)this.editMode=new Dashboards.EditMode(this,this.options.editMode);else if(this.editModeEnabled)throw Error("Missing layout.js module")}setComponents(S){let A=[];for(let L=0,U=S.length;L<U;++L)A.push(s.addComponent(S[L],this));return A}destroy(){var A,L,U;let S=this;for(let z=0,G=(A=S.layouts)==null?void 0:A.length;z<G;++z)S.layouts[z].destroy();(L=this.resizeObserver)==null||L.unobserve(S.container),(U=S.container)==null||U.remove(),D(S,function(z,G){delete S[G]}),f.boards[this.index]=void 0}exportLocal(){localStorage.setItem(f.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(S){return m.importLocal(S,this)}reflow(){if(this.editMode){let S=this.editMode.tools;this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer(),S.contextMenu&&S.contextMenu.updatePosition(S.contextButtonElement)}}fromJSON(S){let A=S.options,L=new F(A.containerId,{componentOptions:A.componentOptions,dataPool:A.dataPool,layoutsJSON:A.layouts});return L.dataCursor=h.fromJSON(S.dataCursor),L}toJSON(){let S=[];for(let A=0,L=this.layouts.length;A<L;++A)S.push(this.layouts[A].toJSON());return{$class:"Board",dataCursor:h.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:S,componentOptions:this.options.componentOptions}}}getOptions(){var A,L;let S={...this.options,components:[]};for(let U=0,z=this.mountedComponents.length;U<z;++U)this.mountedComponents[U].cell&&this.mountedComponents[U].cell.mountedComponent&&((A=S.components)==null||A.push(this.mountedComponents[U].component.getOptions()));if(this.guiEnabled){S.gui={layouts:[]};for(let U=0,z=this.layouts.length;U<z;++U)(L=S.gui.layouts)==null||L.push(this.layouts[U].getOptions())}else delete S.gui;return S}getComponentById(S){var A;return(A=this.mountedComponents.find(L=>L.component.id===S))==null?void 0:A.component}getComponentByCellId(S){var A;return(A=this.mountedComponents.find(L=>L.cell.id===S))==null?void 0:A.component}}return(v=F||(F={})).defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},layouts:[]},components:[]},v.importLocal=function(){let O=localStorage.getItem(f.classNamePrefix+"1");if(O)try{return b.fromJSON(JSON.parse(O))}catch(S){throw Error(""+S)}},b.registerClassPrototype("Board",F.prototype),r.registerComponent("HTML",w),F}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridExtremesSync.js",[],function(){return{defaultOptions:{},syncPair:{emitter:void 0,handler:function(){if(this.type!=="DataGrid")return;let s=this,r=this.sync.syncConfig.extremes,a=r.group?":"+r.group:"",{board:c}=s,h=d=>{var m,b;let f=d.cursor;if(f.type==="position"&&s.dataGrid&&typeof(f==null?void 0:f.row)=="number"){let{row:w}=f,{viewport:y}=s.dataGrid,v=(m=y==null?void 0:y.dataTable)==null?void 0:m.getLocalRowIndex(w);v!==void 0&&((b=s.dataGrid.viewport)==null||b.scrollToRow(v))}};if(c)return(()=>{var m,b,w;let{dataCursor:d}=c;if(!d)return;let f=(w=(b=(m=s.connectorHandlers)==null?void 0:m[0])==null?void 0:b.connector)==null?void 0:w.table;f&&d.addListener(f.id,"xAxis.extremes.min"+a,h)})(),()=>{var m,b,w;let d=(w=(b=(m=s.connectorHandlers)==null?void 0:m[0])==null?void 0:b.connector)==null?void 0:w.table,{dataCursor:f}=c;d&&f.removeListener(d.id,"xAxis.extremes.min"+a,h)}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridHighlightSync.js",[n["Core/Utilities.js"]],function(s){let{addEvent:r,removeEvent:a}=s;return{defaultOptions:{autoScroll:!1},syncPair:{emitter:function(){if(this.type!=="DataGrid")return;let{dataGrid:c,board:h}=this,d=this.sync.syncConfig.highlight,f=d.group?":"+d.group:"";if(!h||!c||!(d!=null&&d.enabled))return;let{dataCursor:m}=h,b=y=>{var x;let v=(x=this.getFirstConnector())==null?void 0:x.table;if(v){let k=y.target;m.emitCursor(v,{type:"position",row:k.row.id,column:k.column.id,state:"dataGrid.hoverRow"+f})}},w=()=>{var v;let y=(v=this.getFirstConnector())==null?void 0:v.table;y&&m.emitCursor(y,{type:"position",state:"dataGrid.hoverOut"+f})};return r(c,"cellMouseOver",b),r(c,"cellMouseOut",w),function(){a(c.container,"cellMouseOver",b),a(c.container,"cellMouseOut",w)}},handler:function(){if(this.type!=="DataGrid")return;let c=this,{board:h}=c,d=c.sync.syncConfig.highlight,f=d.group?":"+d.group:"";if(!(d!=null&&d.enabled))return;let m=w=>{let y=w.cursor;if(y.type!=="position")return;let{row:v,column:x}=y,{dataGrid:k}=c,I=k==null?void 0:k.viewport;if(v===void 0||!I)return;let D=I.dataTable.getLocalRowIndex(v);D!==void 0&&(d.autoScroll&&I.scrollToRow(D),k.hoverRow(D),k.hoverColumn(x))},b=()=>{let{dataGrid:w}=c;w&&(w.hoverColumn(),w.hoverRow())};if(h)return(()=>{var v,x,k;let{dataCursor:w}=h;if(!w)return;let y=(k=(x=(v=c.connectorHandlers)==null?void 0:v[0])==null?void 0:x.connector)==null?void 0:k.table;y&&(w.addListener(y.id,"point.mouseOver"+f,m),w.addListener(y.id,"point.mouseOut"+f,b))})(),()=>{var v,x,k;let w=h.dataCursor,y=(k=(x=(v=c.connectorHandlers)==null?void 0:v[0])==null?void 0:x.connector)==null?void 0:k.table;y&&(w.removeListener(y.id,"point.mouseOver"+f,m),w.removeListener(y.id,"point.mouseOut"+f,b))}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridVisibilitySync.js",[],function(){return{defaultOptions:{},syncPair:{emitter:void 0,handler:function(){if(this.type!=="DataGrid")return;let s=this,r=this.sync.syncConfig.visibility,a=r.group?":"+r.group:"",{board:c}=s,h=d=>{let f=d.cursor,m=s.dataGrid;m&&f.type==="position"&&f.column&&m.updateColumn(f.column,{enabled:f.state!=="series.hide"+a})};if(c)return(()=>{var m,b,w;let{dataCursor:d}=c;if(!d)return;let f=(w=(b=(m=s.connectorHandlers)==null?void 0:m[0])==null?void 0:b.connector)==null?void 0:w.table;f&&(d.addListener(f.id,"series.show"+a,h),d.addListener(f.id,"series.hide"+a,h))})(),()=>{var m,b,w;let d=(w=(b=(m=s.connectorHandlers)==null?void 0:m[0])==null?void 0:b.connector)==null?void 0:w.table,{dataCursor:f}=c;d&&(f.removeListener(d.id,"series.show"+a,h),f.removeListener(d.id,"series.hide"+a,h))}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridSyncs.js",[n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridExtremesSync.js"],n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridHighlightSync.js"],n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridVisibilitySync.js"]],function(s,r,a){return{defaultSyncPairs:{extremes:s.syncPair,highlight:r.syncPair,visibility:a.syncPair},defaultSyncOptions:{extremes:s.defaultOptions,highlight:r.defaultOptions,visibility:a.defaultOptions}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridComponentDefaults.js",[n["Data/Converters/DataConverter.js"],n["Core/Utilities.js"]],function(s,r){let{uniqueKey:a}=r;return{dataGridClassName:"dataGrid-container",dataGridID:"dataGrid-"+a(),dataGridOptions:{},editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"},{name:"DataGrid options",type:"nested",nestedOptions:[{name:"General",options:[{name:"Caption/title",propertyPath:["dataGridOptions","caption","text"],type:"input"},{name:"Columns distribution",propertyPath:["dataGridOptions","rendering","columns","distribution"],type:"select",selectOptions:[{name:"full"},{name:"fixed"}]},{name:"Editable DataGrid",propertyPath:["dataGridOptions","columnDefaults","cells","editable"],type:"toggle"},{name:"Resizable columns",propertyPath:["dataGridOptions","columnDefaults","resizing"],type:"toggle"},{name:"Sortable columns",propertyPath:["dataGridOptions","columnDefaults","sorting","sortable"],type:"toggle"},{name:"Cell text truncation",propertyPath:["dataGridOptions","rendering","rows","strictHeights"],type:"toggle"}]}]},{name:"DataGrid class name",propertyPath:["dataGridClassName"],type:"input"},{name:"DataGrid ID",propertyPath:["dataGridID"],type:"input"}],onUpdate:(c,h)=>{let d=c.target;if(d){let f=d.closest(".highcharts-datagrid-row"),m=d.closest(".highcharts-datagrid-cell");if(f&&f instanceof HTMLElement&&m&&m instanceof HTMLElement){let b=f.dataset.rowIndex,{columnName:w}=m.dataset;if(b!==void 0&&w!==void 0){let y=h.table;if(y){let v=new s().asGuessedType(d.value);v instanceof Date&&(v=v.toString()),y.setCell(w,Number(b),v)}}}}}}}),i(n,"Dashboards/Components/DataGridComponent/DataGridComponent.js",[n["Dashboards/Components/Component.js"],n["Dashboards/Components/DataGridComponent/DataGridSyncs/DataGridSyncs.js"],n["Dashboards/Components/DataGridComponent/DataGridComponentDefaults.js"],n["Core/Utilities.js"],n["Dashboards/Utilities.js"]],function(s,r,a,c,h){let{merge:d,diffObjects:f}=c,{deepClone:m}=h;class b extends s{static fromJSON(y,v){let x=new b(v,d(y.options,{dataGridOptions:JSON.parse(y.options.dataGridOptions||"")}));return x.emit({type:"fromJSON",json:y}),x}constructor(y,v,x){super(y,v=d(b.defaultOptions,v),x),this.options=v,this.type="DataGrid",this.setOptions()}async update(y){var v,x,k,I,D,N,F;await super.update(y),this.setOptions(),this.dataGrid&&(this.dataGrid.update(this.options.dataGridOptions??{},!1),((k=(x=(v=this.dataGrid)==null?void 0:v.viewport)==null?void 0:x.dataTable)==null?void 0:k.id)!==((D=(I=this.getFirstConnector())==null?void 0:I.table)==null?void 0:D.id)&&this.dataGrid.update({dataTable:(F=(N=this.getFirstConnector())==null?void 0:N.table)==null?void 0:F.modified},!1),this.dataGrid.renderViewport()),this.emit({type:"afterUpdate"})}render(){return super.render(),this.dataGrid?this.dataGrid.renderViewport():this.dataGrid=this.constructDataGrid(),this.sync.start(),this.emit({type:"afterRender"}),this}resize(y,v){var x,k;v?this.contentElement.style.minHeight="0":v===null&&this.contentElement.style.removeProperty("min-height"),this.resizeDynamicContent(y,v),(k=(x=this.dataGrid)==null?void 0:x.viewport)==null||k.reflow()}onTableChanged(){var y,v,x;(x=this.dataGrid)==null||x.update({dataTable:(v=(y=this.getFirstConnector())==null?void 0:y.table)==null?void 0:v.modified})}getEditableOptions(){var v;let y=this.options;return m(d({dataGridOptions:(v=this.dataGrid)==null?void 0:v.options},y),["editableOptions","dataTable"])}getOptionsOnDrop(y){let v=y.editMode.board.dataPool.getConnectorIds(),x={cell:"",type:"DataGrid"};return v.length&&(x={...x,connector:{id:v[0]}}),x}getOptions(){var v,x,k,I;let y=d(this.options);return(v=y.connector)!=null&&v.id?(x=y.dataGridOptions)==null||delete x.dataTable:(I=(k=y.dataGridOptions)==null?void 0:k.dataTable)!=null&&I.id&&(y.dataGridOptions.dataTable={columns:y.dataGridOptions.dataTable.columns}),{...f(y,b.defaultOptions),type:"DataGrid"}}destroy(){var y;this.sync.stop(),(y=this.dataGrid)==null||y.destroy(),super.destroy()}setOptions(){this.options.dataGridClassName&&(this.contentElement.classList.value=a.className+" "+this.options.dataGridClassName),this.options.dataGridID&&(this.contentElement.id=this.options.dataGridID)}constructDataGrid(){var I;let y=b.DataGridNamespace;if(!y)throw Error("DataGrid not connected.");let v=(I=this.getFirstConnector())==null?void 0:I.table,x=this.options.dataGridOptions??{};v&&(x.dataTable=v.modified);let k=new y.DataGrid(this.contentElement,x);return this.options.dataGridOptions=k.options,k}}return b.predefinedSyncConfig=r,b.defaultOptions=d(s.defaultOptions,a),b}),i(n,"Dashboards/Plugins/DataGridPlugin.js",[n["Dashboards/Components/DataGridComponent/DataGridComponent.js"]],function(s){return{custom:{connectDataGrid:function(r){s.DataGridNamespace=r}},name:"DataGrid.DashboardsPlugin",onRegister:function(r){let{ComponentRegistry:a}=r;a.registerComponent("DataGrid",s)},onUnregister:function(r){}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsExtremesSync.js",[n["Core/Utilities.js"]],function(s){let{addEvent:r,isString:a}=s;return{defaultOptions:{},syncPair:{emitter:function(){var x,k;if(this.type!=="Highcharts")return;let c=this,h=[],{chart:d,board:f}=c,m=(k=(x=c.connectorHandlers)==null?void 0:x[0])==null?void 0:k.connector,b=m&&m.table,w=this.sync.syncConfig.extremes,y=w.group?":"+w.group:"",{dataCursor:v}=f;if(b&&d){let I=O=>{var A;let S=!!O.resetSelection;if((!O.trigger||O.trigger&&O.trigger!=="dashboards-sync")&&!S){let L=O.target,U=Object.keys(c.seriesFromConnector),z=U.length>0?d.get(U[0]):L.series[0];if(z){let G=z.points.filter(Z=>Z.isInside||!1),H={type:"position",state:`${L.coll}.extremes.min${y}`},q={type:"position",state:`${L.coll}.extremes.max${y}`};if(U.length>0&&L.coll==="xAxis"&&G.length){let Z,ie=((A=c.connectorHandlers[0])==null?void 0:A.options).columnAssignment;if(ie){let oe=ie.find(ce=>ce.seriesId===z.options.id);if(oe){let ce=oe.data;Z=a(ce)?ce:Array.isArray(ce)?ce[ce.length-1]:ce.y}}Z||(Z=L.dateTime&&(b.hasColumns(["x"])?"x":z.options.id??z.name)),H.row=G[0].index,H.column=Z,q.row=G[G.length-1].index,q.column=Z}v.emitCursor(b,H,O,!0).emitCursor(b,q,O,!0)}}},D=()=>d.axes.map(O=>r(O,"afterSetExtremes",I)),N=D(),F=()=>{N.forEach(O=>{O()}),N=[]};h.push(r(d,"selection",O=>{O.resetSelection&&(F(),v.emitCursor(b,{type:"position",state:"chart.zoomOut"+y},O),N.push(...D()))})),h.push(()=>{v.remitCursor(b.id,{type:"position",state:"xAxis.extremes.min"+y}),v.remitCursor(b.id,{type:"position",state:"xAxis.extremes.max"+y}),F()})}return function(){h.forEach(I=>{I()})}},handler:function(){var b;if(this.type!=="Highcharts")return;let c=this,h=this.sync.syncConfig.extremes,d=h.group?":"+h.group:"",{chart:f,board:m}=c;if(f&&m&&((b=f.zooming)!=null&&b.type)){let w=f.zooming.type.split("").map(v=>v+"Axis"),y=[];return w.forEach(v=>{let x=k=>{let{cursor:I,event:D}=k;if(I.type==="position"){let N=D==null?void 0:D.target;if(N&&f){let F=f[v],O=!1;F.forEach(S=>{N.coll===S.coll&&N!==S&&N.min!==null&&N.max!==null&&(S.max!==N.max||S.min!==N.min)&&(S.setExtremes(N.min,N.max,!1,void 0,{trigger:"dashboards-sync"}),O=!0)}),O&&!f.resetZoomButton&&f.showResetZoom(),f.redraw()}}};m&&(()=>{var D,N;let{dataCursor:k}=m,I=(N=(D=c.connectorHandlers)==null?void 0:D[0])==null?void 0:N.connector;if(I){let{table:F}=I;k.addListener(F.id,`${v}.extremes.min${d}`,x),k.addListener(F.id,`${v}.extremes.max${d}`,x);let O=()=>{f.zoomOut(),setTimeout(()=>{c.element.querySelectorAll(".highcharts-reset-zoom").forEach(S=>{S.remove()})})};k.addListener(F.id,"chart.zoomOut",O),y.push(()=>{k.removeListener(F.id,`${v}.extremes.min${d}`,x),k.removeListener(F.id,`${v}.extremes.max${d}`,x),k.removeListener(F.id,"chart.zoomOut"+d,O)})}})()}),function(){y.forEach(v=>{v()})}}}}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsHighlightSync.js",[n["Dashboards/Utilities.js"]],function(s){let{error:r}=s;return{defaultOptions:{affectedSeriesId:null,highlightPoint:!0,showTooltip:!0,showCrosshair:!0},syncPair:{emitter:function(){var m,b,w;if(this.type!=="Highcharts")return;let{chart:a,board:c}=this,h=this.sync.syncConfig.highlight,d=h.group?":"+h.group:"";if(!h.enabled||!a)return;let{dataCursor:f}=c;for(let y=0,v=((m=a.series)==null?void 0:m.length)??0;y<v;++y){let x,k=a.series[y],I=k.options.id??"",D=this.seriesFromConnector[I],N=(b=D==null?void 0:D.connector)==null?void 0:b.table;if(!N)continue;let F=N==null?void 0:N.modified,O=(w=D.columnAssignment)==null?void 0:w.find(S=>S.seriesId===I);if(O){let{data:S}=O;x=typeof S=="string"?S:Array.isArray(S)?S[1]:S.y??S.value}x||(x=k.name),k.update({point:{events:{mouseOver:function(){f.emitCursor(N,{type:"position",row:F.getOriginalRowIndex(this.index),column:x,state:"point.mouseOver"+d})},mouseOut:function(){f.emitCursor(N,{type:"position",row:F.getOriginalRowIndex(this.index),column:x,state:"point.mouseOut"+d})}}}},!1)}return a.redraw(),function(){a&&a.series&&(a.series.forEach(y=>{y.update({point:{events:{mouseOver:void 0,mouseOut:void 0}}},!1)}),a.redraw())}},handler:function(){if(this.type!=="Highcharts")return;let a=this,c=this.sync.syncConfig.highlight.group?":"+this.sync.syncConfig.highlight.group:"",{chart:h,board:d}=a,f=w=>{var k,I;let{table:y,cursor:v}=w,x=this.sync.syncConfig.highlight;if(h&&((k=h.series)!=null&&k.length)&&v.type==="position"){let D,N=x.affectedSeriesId;if(x.affectedSeriesId){let O=h.get(x.affectedSeriesId);O!=null&&O.points?D=O:r("No series with ID '"+N+"' found in the chart. Affected series will be selected according to the column assignment.")}if(!D){let O=Object.keys(a.seriesFromConnector);for(let S=0,A=O.length;S<A;++S){let L=O[S],U=a.seriesFromConnector[L];if(((I=U==null?void 0:U.connector)==null?void 0:I.table)!==y)continue;let z=U.columnAssignment;if(D=h.get(L),!z)break;let{data:G}=z.find(H=>H.seriesId===L)??{};if(!G||!v.column)break;if(typeof G=="string"){if(G===v.column)break}else if(Array.isArray(G)){if(G.includes(v.column))break}else if(Object.keys(G).map(H=>G[H]).includes(v.column))break}}let F=v.row;if(D!=null&&D.visible&&F!==void 0){let O=y.modified.getLocalRowIndex(F);if(O===void 0)return;let S=D.data[O];if(S!=null&&S.visible)return S}}},m=w=>{var k,I,D;let y=this.sync.syncConfig.highlight;if(!y.enabled)return;let v=f(w);if(!v||!h||!v.isInside&&v.series.isCartesian||v===h.hoverPoint)return;let x=h.tooltip;if(x&&y.showTooltip){let N=x.shared,F=h.hoverPoint,O=(F==null?void 0:F.series)||h.hoverSeries,S=(k=h.pointer)==null?void 0:k.getHoverData(v,O,h.series,!0,!0);h.tooltip&&(S!=null&&S.hoverPoints.length)&&x.refresh(N?S.hoverPoints:v)}y.highlightPoint&&(!(x!=null&&x.shared)&&y.showTooltip||!y.showTooltip)&&v.setState("hover"),y.showCrosshair&&((I=v.series.xAxis)==null||I.drawCrosshair(void 0,v),(D=v.series.yAxis)==null||D.drawCrosshair(void 0,v))},b=w=>{var D,N;let y=this.sync.syncConfig.highlight;if(!h||!h.series.length||!y.enabled)return;let v=f(w);if(v&&(!v.isInside&&v.series.isCartesian||v===h.hoverPoint))return;let x=!1,k=()=>{let F=h.series.length;for(let O=0;O<F;O++){let S=h.series[O].points,A=S.length;for(let L=0;L<A;L++)S[L].setState()}},I=h.tooltip;if(I&&y.showTooltip&&(I.hide(),I.shared&&(k(),x=!0)),y.highlightPoint&&!x&&(v?v.setState():k()),y.showCrosshair)if(v)(D=v.series.xAxis)==null||D.drawCrosshair(),(N=v.series.yAxis)==null||N.drawCrosshair();else{let F=h.xAxis,O=h.yAxis;for(let S=0,A=F.length;S<A;S++)F[S].drawCrosshair();for(let S=0,A=O.length;S<A;S++)O[S].drawCrosshair()}};if(d)return(()=>{var v,x;let{dataCursor:w}=d,{connectorHandlers:y}=this;if(w)for(let k=0,I=y.length;k<I;++k){let D=(x=(v=y[k])==null?void 0:v.connector)==null?void 0:x.table;D&&(w.addListener(D.id,"point.mouseOver"+c,m),w.addListener(D.id,"dataGrid.hoverRow"+c,m),w.addListener(D.id,"point.mouseOut"+c,b),w.addListener(D.id,"dataGrid.hoverOut"+c,b))}})(),()=>{var v,x;let{dataCursor:w}=d,{connectorHandlers:y}=this;if(w)for(let k=0,I=y.length;k<I;++k){let D=(x=(v=y[k])==null?void 0:v.connector)==null?void 0:x.table;D&&(w.removeListener(D.id,"point.mouseOver"+c,m),w.removeListener(D.id,"dataGrid.hoverRow"+c,m),w.removeListener(D.id,"point.mouseOut"+c,b),w.removeListener(D.id,"dataGrid.hoverOut"+c,b))}}}}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsVisibilitySync.js",[],function(){return{defaultOptions:{},syncPair:{emitter:function(){if(this.type!=="Highcharts")return;let s=this.sync.syncConfig.visibility,r=s.group?":"+s.group:"",{chart:a,board:c}=this,h=this.getFirstConnector();if(!c||!a)return;let d=h==null?void 0:h.table;if(d){let{dataCursor:f}=c,{series:m}=a;m.forEach(b=>{b.update({events:{show:function(){f.emitCursor(d,{type:"position",state:"series.show"+r,column:this.name})},hide:function(){f.emitCursor(d,{type:"position",state:"series.hide"+r,column:this.name})}}},!1)}),a.redraw()}return function(){var f;a&&((f=a.series)!=null&&f.length)&&(a.series.forEach(m=>{m.update({events:{show:void 0,hide:void 0}},!1)}),a.redraw())}},handler:function(){if(this.type!=="Highcharts")return;let s=this,r=this.sync.syncConfig.visibility,a=r.group?":"+r.group:"",{board:c}=s,h=(m,b)=>{for(let w of m)if(w.name===b)return w},d=m=>{var w;let b=s.chart;if(b&&((w=b.series)!=null&&w.length)&&m.cursor.type==="position"&&m.cursor.column!==void 0){let y=h(b.series,m.cursor.column);y&&y.setVisible(!0,!0)}},f=m=>{var w;let b=s.chart;if(b&&((w=b.series)!=null&&w.length)&&m.cursor.type==="position"&&m.cursor.column!==void 0){let y=h(b.series,m.cursor.column);y&&y.setVisible(!1,!0)}};if(c)return(()=>{var w,y,v;let{dataCursor:m}=c;if(!m)return;let b=(v=(y=(w=s.connectorHandlers)==null?void 0:w[0])==null?void 0:y.connector)==null?void 0:v.table;b&&(m.addListener(b.id,"series.show"+a,d),m.addListener(b.id,"series.hide"+a,f))})(),()=>{var b,w,y;let m=(y=(w=(b=s.connectorHandlers)==null?void 0:b[0])==null?void 0:w.connector)==null?void 0:y.table;m&&(c.dataCursor.removeListener(m.id,"series.show"+a,d),c.dataCursor.removeListener(m.id,"series.hide"+a,f))}}}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsSyncs.js",[n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsExtremesSync.js"],n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsHighlightSync.js"],n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsVisibilitySync.js"]],function(s,r,a){return{defaultSyncPairs:{extremes:s.syncPair,highlight:r.syncPair,visibility:a.syncPair},defaultSyncOptions:{extremes:s.defaultOptions,highlight:r.defaultOptions,visibility:a.defaultOptions}}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsComponentDefaults.js",[n["Dashboards/Components/Component.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a,uniqueKey:c}=r;return{allowConnectorUpdate:!0,className:[s.defaultOptions.className,`${s.defaultOptions.className}-highcharts`].join(" "),chartClassName:"chart-container",chartID:"chart-"+c(),chartOptions:{series:[]},chartConstructor:"chart",editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},...s.defaultOptions.editableOptions||[],{name:"chartOptions",type:"nested",nestedOptions:[{name:"chart",options:[{name:"title",propertyPath:["chartOptions","title","text"],type:"input"},{name:"subtitle",propertyPath:["chartOptions","subtitle","text"],type:"input"},{name:"type",propertyPath:["chartOptions","chart","type"],type:"select",selectOptions:[{name:"column",iconURL:"series-types/icon-column.svg"},{name:"line",iconURL:"series-types/icon-line.svg"},{name:"scatter",iconURL:"series-types/icon-scatter.svg"},{name:"pie",iconURL:"series-types/icon-pie.svg"}]}]},{name:"xAxis",options:[{name:"title",propertyPath:["chartOptions","xAxis","title","text"],type:"input"},{name:"type",propertyPath:["chartOptions","xAxis","type"],type:"select",selectOptions:[{name:"linear"},{name:"datetime"},{name:"logarithmic"}]}]},{name:"yAxis",options:[{name:"title",propertyPath:["chartOptions","yAxis","title","text"],type:"input"},{name:"type",propertyPath:["chartOptions","yAxis","type"],type:"select",selectOptions:[{name:"linear"},{name:"datetime"},{name:"logarithmic"}]}]},{name:"legend",showToggle:!0,propertyPath:["chartOptions","legend","enabled"],options:[{name:"align",propertyPath:["chartOptions","legend","align"],type:"select",selectOptions:[{name:"left"},{name:"center"},{name:"right"}]}]},{name:"tooltip",showToggle:!0,propertyPath:["chartOptions","tooltip","enabled"],options:[{name:"split",propertyPath:["chartOptions","tooltip","split"],type:"toggle"}]},{name:"dataLabels",propertyPath:["chartOptions","plotOptions","series","dataLabels","enabled"],showToggle:!0,options:[{name:"align",propertyPath:["chartOptions","plotOptions","series","dataLabels","align"],type:"select",selectOptions:[{name:"left"},{name:"center"},{name:"right"}]}]},{name:"credits",showToggle:!0,propertyPath:["chartOptions","credits","enabled"],options:[{name:"name",propertyPath:["chartOptions","credits","text"],type:"input"},{name:"url",propertyPath:["chartOptions","credits","href"],type:"input"}]}]},{name:"chartConfig",propertyPath:["chartOptions"],type:"textarea"},{name:"chartClassName",propertyPath:["chartClassName"],type:"input"},{name:"chartID",propertyPath:["chartID"],type:"input"}],editableOptionsBindings:a(s.defaultOptions.editableOptionsBindings,{skipRedraw:["chartOptions","chartConfig"]})}}),i(n,"Dashboards/Components/HighchartsComponent/HighchartsComponent.js",[n["Dashboards/Components/Component.js"],n["Data/Converters/DataConverter.js"],n["Data/DataTable.js"],n["Dashboards/Globals.js"],n["Dashboards/Components/HighchartsComponent/HighchartsSyncs/HighchartsSyncs.js"],n["Dashboards/Components/HighchartsComponent/HighchartsComponentDefaults.js"],n["Dashboards/Utilities.js"],n["Core/Utilities.js"]],function(s,r,a,c,h,d,f,m){let{createElement:b,diffObjects:w,isString:y,merge:v,splat:x}=m,{deepClone:k}=f;class I extends s{static fromJSON(N,F){let O=new I(F,v(N.options,{chartOptions:JSON.parse(N.options.chartOptions||"{}")}));return O.emit({type:"fromJSON",json:N}),O}constructor(N,F,O){for(let S of(super(N,F=v(I.defaultOptions,F),O),this.seriesFromConnector={},this.options=F,this.chartConstructor=this.options.chartConstructor||"chart",this.type="Highcharts",this.chartContainer=b("figure",void 0,void 0,this.contentElement,!0),this.setOptions(),this.chartOptions=v(this.options.chartOptions||{chart:{}},{tooltip:{}}),this.connectorHandlers)){let A=S.connector;A&&A.on("afterLoad",L=>{L.table&&A.table.setColumns(L.table.getColumns())})}this.innerResizeTimeouts=[]}onTableChanged(){this.updateSeries()}async load(){return this.emit({type:"load"}),await super.load(),this.emit({type:"afterLoad"}),this}render(){return super.render(),this.chart=this.getChart(),this.updateSeries(),this.emit({type:"afterRender"}),this.setupConnectorUpdate(),this.sync.start(),this}resize(N,F){for(this.resizeDynamicContent(N,F);this.innerResizeTimeouts.length;){let O=this.innerResizeTimeouts.pop();O&&clearTimeout(O)}return this.innerResizeTimeouts.push(setTimeout(()=>{var O;if(this.chart&&this.chart.container){let S=this.contentElement.offsetHeight-((O=this.chart)==null?void 0:O.container.offsetHeight);this.chart.setSize(null,Math.abs(S)>1?this.contentElement.offsetHeight:null,!1)}},33)),this}setupConnectorUpdate(){let{connectorHandlers:N,chart:F}=this;if(!F||!this.options.allowConnectorUpdate)return;let O=F.series.length;for(let S=0,A=N.length;S<A;S++){let L=N[S];for(let U=0;U<O;U++)F.series[U].update({point:{events:{update:z=>{this.onChartUpdate(z.target,L)}}}},!1)}}onChartUpdate(N,F){var z,G;let O,S=(z=F.connector)==null?void 0:z.table,A=F.columnAssignment,L=N.series.options.id,U=new r().asNumber(N.y);if(S){if(A&&L){let H=(G=A.find(q=>q.seriesId===L))==null?void 0:G.data;y(H)?O=H:Array.isArray(H)?O=H[1]:H&&(O=H.y??H.value)}O||(O=L??N.series.name),S.setCell(O,N.index,U)}}setOptions(){this.options.chartClassName&&(this.chartContainer.classList.value=d.className+" "+this.options.chartClassName),this.options.chartID&&(this.chartContainer.id=this.options.chartID)}async update(N,F=!0){await super.update(N,!1),this.setOptions(),this.chart&&this.chart.update(v(this.options.chartOptions)||{}),this.emit({type:"afterUpdate"}),F&&this.render()}updateSeries(){let{chart:N}=this,F=this.connectorHandlers;if(!N)return;let O=[];for(let A of F){let L=A.options.columnAssignment;if(!L&&A.presentationTable&&(L=this.getDefaultColumnAssignment(A.presentationTable.getColumnNames(),A.presentationTable)),L)for(let{seriesId:U}of(A.columnAssignment=L,L))U&&O.push(U)}let S=Object.keys(this.seriesFromConnector);for(let A=0,L=S.length;A<L;++A){let U=S[A];if(O.some(G=>G===U))continue;let z=N.get(U);z&&z.destroy()}for(let A of(this.seriesFromConnector={},F))this.updateSeriesFromConnector(A);N.redraw()}updateSeriesFromConnector(N){var L;let F=this.chart;if(!N.connector||!F||!N.presentationTable)return;let O=N.presentationTable.modified,S=(L=N.presentationTable.getModifier())==null?void 0:L.options,A=N.columnAssignment??[];for(let U=0,z=A.length;U<z;++U){let G=A[U],H=G.data,q=F.get(G.seriesId),Z={},ie=oe=>{var ce;(S==null?void 0:S.type)==="Math"&&((ce=S.columnFormulas)!=null&&ce.some(ve=>oe(ve.column)))&&(Z.dragDrop={draggableY:!1})};if(y(H)){let oe=O.getColumn(H);oe&&(Z.data=oe.slice()),ie(ce=>ce===H)}else if(Array.isArray(H)){let oe=new a({columns:O.getColumns(H)});Z.data=oe.getRows(),ie(ce=>H.some(ve=>ve===ce))}else{let oe=Object.keys(H),ce=[];for(let we=0,be=oe.length;we<be;++we)ce.push(H[oe[we]]);let ve=new a({columns:O.getColumns(ce)});Z.keys=oe,Z.data=ve.getRows(),ie(we=>ce.some(be=>be===we))}q?q.update(Z,!1):F.addSeries({name:G.seriesId,id:G.seriesId,...Z},!1),this.seriesFromConnector[G.seriesId]=N}}getChart(){return this.chart||this.createChart()}destroy(){var N;(N=this.chart)==null||N.destroy(),super.destroy()}getDefaultColumnAssignment(N=[],F){let O=[],S=F.getColumn(N[0]);if(S&&y(S[0])){for(let A=1,L=N.length;A<L;++A)O.push({seriesId:N[A],data:[N[0],N[A]]});return O}for(let A=0,L=N.length;A<L;++A)O.push({seriesId:N[A],data:N[A]});return O}createChart(){let N=I.charter||c.win.Highcharts;this.chartConstructor||(this.chartConstructor="chart");let F=N[this.chartConstructor];if(F)try{return this.chartConstructor==="chart"?N.Chart.chart(this.chartContainer,this.chartOptions):new F(this.chartContainer,this.chartOptions)}catch(O){throw Error(`The Highcharts component in cell '${this.cell.id}' is misconfigured. 
____________
${O}`)}if(typeof N.chart!="function")throw Error("Chart constructor not found");return this.chart}registerChartEvents(){if(this.chart&&this.chart.options){let N=this.chart.options;["chart","series","yAxis","xAxis","colorAxis","annotations","navigation"].map(F=>{let O=N[F]||{};return!Array.isArray(O)&&O.events&&(O=[O]),O&&typeof O=="object"&&Array.isArray(O)&&O.reduce((S,A,L)=>(A&&A.events&&(S[A.id||`${F}-${L}`]=A.events),S),{})||{}}).forEach(F=>{Object.keys(F).forEach(O=>{let S=F[O];Object.keys(S).forEach(A=>{this.callbackRegistry.addCallback(`${O}-${A}`,{type:"seriesEvent",func:S[A]})})})})}}getOptionsOnDrop(N){let F=N.editMode.board.dataPool.getConnectorIds(),O={cell:"",type:"Highcharts",chartOptions:{chart:{animation:!1,type:"column",zooming:{}}}};return F.length&&(O={...O,connector:{id:F[0]}}),O}toJSON(){let N=JSON.stringify(this.options.chartOptions),F=this.options.chartConstructor||"chart";this.registerChartEvents();let O=super.toJSON(),S={...O,type:"Highcharts",options:{...O.options,chartOptions:N,chartConstructor:F,type:"Highcharts",sync:{}}};return this.emit({type:"toJSON",json:S}),S}getOptions(){return{...w(this.options,I.defaultOptions),type:"Highcharts"}}getEditableOptions(){var A;let N=this.options,F=this.chart,O=F&&F.options,S=((A=O==null?void 0:O.chart)==null?void 0:A.type)||"line";return k(v({chartOptions:O},{chartOptions:{yAxis:x(F&&F.yAxis[0].options),xAxis:x(F&&F.xAxis[0].options),plotOptions:{series:(O&&O.plotOptions||{})[S]}}},N),["dataTable","points","series","data","editableOptions"])}getEditableOptionValue(N){return N?N.length===1&&N[0]==="chartOptions"?JSON.stringify(this.options.chartOptions,null,2):super.getEditableOptionValue.call(this,N):void 0}}return I.predefinedSyncConfig=h,I.defaultOptions=v(s.defaultOptions,d),I}),i(n,"Dashboards/Components/KPIComponent/KPISyncs/KPIExtremesSync.js",[n["Core/Utilities.js"]],function(s){let{defined:r}=s;return{defaultOptions:{},syncPair:{emitter:void 0,handler:function(){if(this.type!=="KPI")return;let a=this,c=this.sync.syncConfig.extremes,h=c.group?":"+c.group:"",{board:d}=this,f=m=>{var w,y;let b=m.cursor;if(b.type==="position"&&typeof(b==null?void 0:b.row)=="number"&&r(b.column)&&((y=(w=a.connectorHandlers)==null?void 0:w[0])!=null&&y.connector)&&!r(a.options.value)){let v=a.connectorHandlers[0].connector.table.modified.getCellAsString(b.column,b.row);a.setValue(v)}};if(d)return(()=>{var w;let{dataCursor:m}=d;if(!m)return;let b=(w=this.getFirstConnector())==null?void 0:w.table;b&&m.addListener(b.id,"xAxis.extremes.max"+h,f)})(),()=>{var w;let m=(w=this.getFirstConnector())==null?void 0:w.table,{dataCursor:b}=d;m&&b.removeListener(m.id,"xAxis.extremes.max"+h,f)}}}}}),i(n,"Dashboards/Components/KPIComponent/KPISyncs/KPISyncs.js",[n["Dashboards/Components/KPIComponent/KPISyncs/KPIExtremesSync.js"]],function(s){return{defaultSyncPairs:{extremes:s.syncPair},defaultSyncOptions:{extremes:s.defaultOptions}}}),i(n,"Dashboards/Components/KPIComponent/KPIComponentDefaults.js",[n["Dashboards/Components/Component.js"]],function(s){return{type:"KPI",className:[s.defaultOptions.className,`${s.defaultOptions.className}-kpi`].join(" "),minFontSize:20,thresholdColors:["#f45b5b","#90ed7d"],editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},...s.defaultOptions.editableOptions||[],{name:"Value",type:"input",propertyPath:["value"]},{name:"Column name",type:"input",propertyPath:["columnName"]},{name:"Value format",type:"input",propertyPath:["valueFormat"]}],linkedValueTo:{enabled:!0,seriesIndex:0,pointIndex:0}}}),i(n,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(n,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),i(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],function(s,r){let{win:a}=s,{defined:c,error:h,extend:d,isNumber:f,isObject:m,isString:b,merge:w,objectEach:y,pad:v,splat:x,timeUnits:k,ucfirst:I}=r,D=s.isSafari&&a.Intl&&!a.Intl.DateTimeFormat.prototype.formatRange,N=O=>O.main===void 0,F=O=>["D","L","M","X","J","V","S"].indexOf(O);return class{constructor(O){this.options={},this.variableTimezone=!1,this.Date=a.Date,this.update(O)}update(O={}){let S=O.timezone??"UTC";this.dTLCache={},this.options=O=w(!0,this.options,O);let{timezoneOffset:A,useUTC:L}=O;this.Date=O.Date||a.Date||Date,c(L)&&(S=L?"UTC":void 0),A&&A%60==0&&(S="Etc/GMT"+(A>0?"+":"")+A/60),this.variableTimezone=S!=="UTC"&&(S==null?void 0:S.indexOf("Etc/GMT"))!==0,this.timezone=S,["months","shortMonths","weekdays","shortWeekdays"].forEach(U=>{let z=/months/i.test(U),G=/short/.test(U),H={timeZone:"UTC"};H[z?"month":"weekday"]=G?"short":"long",this[U]=(z?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(q=>this.dateFormat(H,(z?31:1)*24*36e5*q))})}toParts(O){let[S,A,L,U,z,G,H]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},O,"es").split(/(?:, |\/|:)/g);return[U,+L-1,A,z,G,H,Math.floor(Number(O)||0)%1e3,F(S)].map(Number)}dateTimeFormat(O,S,A=this.options.locale){let L=JSON.stringify(O)+A;b(O)&&(O=this.str2dtf(O));let U=this.dTLCache[L];if(!U){O.timeZone??(O.timeZone=this.timezone);try{U=new Intl.DateTimeFormat(A,O)}catch(z){/Invalid time zone/i.test(z.message)?(h(34),O.timeZone="UTC",U=new Intl.DateTimeFormat(A,O)):h(z.message,!1)}}return this.dTLCache[L]=U,(U==null?void 0:U.format(S))||""}str2dtf(O,S={}){let A={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(A).forEach(L=>{O.indexOf(L)!==-1&&d(S,A[L])}),S}makeTime(O,S,A=1,L=0,U,z,G){let H=this.Date.UTC(O,S,A,L,U||0,z||0,G||0);if(this.timezone!=="UTC"){let q=this.getTimezoneOffset(H);if(H+=q,[2,3,8,9,10,11].indexOf(S)!==-1&&(L<5||L>20)){let Z=this.getTimezoneOffset(H);q!==Z?H+=Z-q:q-36e5!==this.getTimezoneOffset(H-36e5)||D||(H-=36e5)}}return H}parse(O){if(!b(O))return O??void 0;let S=(O=O.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(O),A=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(O);S||A||(O+="Z");let L=Date.parse(O);if(f(L))return L+(!S||A?this.getTimezoneOffset(L):0)}getTimezoneOffset(O){if(this.timezone!=="UTC"){let[S,A,L,U,z=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},O,"en").split(/(GMT|:)/).map(Number),G=-(36e5*(L+z/60));if(f(G))return G}return 0}dateFormat(O,S,A){var U;let L=(U=s.defaultOptions)==null?void 0:U.lang;if(!c(S)||isNaN(S))return(L==null?void 0:L.invalidDate)||"";if(b(O=O??"%Y-%m-%d %H:%M:%S")){let z,G=/%\[([a-zA-Z]+)\]/g;for(;z=G.exec(O);)O=O.replace(z[0],this.dateTimeFormat(z[1],S))}if(b(O)&&O.indexOf("%")!==-1){let z=this,[G,H,q,Z,ie,oe,ce,ve]=this.toParts(S),we=(L==null?void 0:L.weekdays)||this.weekdays,be=(L==null?void 0:L.shortWeekdays)||this.shortWeekdays,Ce=(L==null?void 0:L.months)||this.months,De=(L==null?void 0:L.shortMonths)||this.shortMonths;y(d({a:be?be[ve]:we[ve].substr(0,3),A:we[ve],d:v(q),e:v(q,2," "),w:ve,b:De[H],B:Ce[H],m:v(H+1),o:H+1,y:G.toString().substr(2,2),Y:G,H:v(Z),k:Z,I:v(Z%12||12),l:Z%12||12,M:v(ie),p:Z<12?"AM":"PM",P:Z<12?"am":"pm",S:v(oe),L:v(ce,3)},s.dateFormats),function(We,rt){if(b(O))for(;O.indexOf("%"+rt)!==-1;)O=O.replace("%"+rt,typeof We=="function"?We.call(z,S):We)})}else if(m(O)){let z=(this.getTimezoneOffset(S)||0)/36e5,G=this.options.timezone||"Etc/GMT"+(z>=0?"+":"")+z,{prefix:H="",suffix:q=""}=O;O=H+this.dateTimeFormat(d({timeZone:G},O),S)+q}return A?I(O):O}resolveDTLFormat(O){return m(O,!0)?m(O,!0)&&N(O)?{main:O}:O:{main:(O=x(O))[0],from:O[1],to:O[2]}}getTimeTicks(O,S,A,L){let U=this,z=[],G={},{count:H=1,unitRange:q}=O,[Z,ie,oe,ce,ve,we]=U.toParts(S),be=(S||0)%1e3,Ce;if(L??(L=1),c(S)){if(be=q>=k.second?0:H*Math.floor(be/H),q>=k.second&&(we=q>=k.minute?0:H*Math.floor(we/H)),q>=k.minute&&(ve=q>=k.hour?0:H*Math.floor(ve/H)),q>=k.hour&&(ce=q>=k.day?0:H*Math.floor(ce/H)),q>=k.day&&(oe=q>=k.month?1:Math.max(1,H*Math.floor(oe/H))),q>=k.month&&(ie=q>=k.year?0:H*Math.floor(ie/H)),q>=k.year&&(Z-=Z%H),q===k.week){H&&(S=U.makeTime(Z,ie,oe,ce,ve,we,be));let rt=F(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},S,"es"));oe+=-rt+L+(rt<L?-7:0)}S=U.makeTime(Z,ie,oe,ce,ve,we,be),U.variableTimezone&&c(A)&&(Ce=A-S>4*k.month||U.getTimezoneOffset(S)!==U.getTimezoneOffset(A));let De=S,We=1;for(;De<A;)z.push(De),q===k.year?De=U.makeTime(Z+We*H,0):q===k.month?De=U.makeTime(Z,ie+We*H):Ce&&(q===k.day||q===k.week)?De=U.makeTime(Z,ie,oe+We*H*(q===k.day?1:7)):Ce&&q===k.hour&&H>1?De=U.makeTime(Z,ie,oe,ce+We*H):De+=q*H,We++;z.push(De),q<=k.hour&&z.length<1e4&&z.forEach(rt=>{rt%18e5==0&&U.dateFormat("%H%M%S%L",rt)==="000000000"&&(G[rt]="day")})}return z.info=d(O,{higherRanks:G,totalRange:q*H}),z}getDateFormat(O,S,A,L){let U=this.dateFormat("%m-%d %H:%M:%S.%L",S),z="01-01 00:00:00.000",G={millisecond:15,second:12,minute:9,hour:6,day:3},H="millisecond",q=H;for(H in k){if(O===k.week&&+this.dateFormat("%w",S)===A&&U.substr(6)===z.substr(6)){H="week";break}if(k[H]>O){H=q;break}if(G[H]&&U.substr(G[H])!==z.substr(G[H]))break;H!=="week"&&(q=H)}return this.resolveDTLFormat(L[H]).main}}}),i(n,"Core/Defaults.js",[n["Core/Chart/ChartDefaults.js"],n["Core/Globals.js"],n["Core/Color/Palettes.js"],n["Core/Time.js"],n["Core/Utilities.js"]],function(s,r,a,c,h){let{isTouchDevice:d}=r,{fireEvent:f,merge:m}=h,b={colors:a.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:s,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:y=>Math.sqrt(1-Math.pow(y-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:d?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};b.chart.styledMode=!1;let w=new c(b.time);return{defaultOptions:b,defaultTime:w,getOptions:function(){return b},setOptions:function(y){return f(r,"setOptions",{options:y}),m(!0,b,y),y.time&&w.update(b.time),y.lang&&"locale"in y.lang&&w.update({locale:y.lang.locale}),b}}}),i(n,"Core/Templating.js",[n["Core/Defaults.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],function(s,r,a){let{defaultOptions:c,defaultTime:h}=s,{doc:d}=r,{extend:f,getNestedProperty:m,isArray:b,isNumber:w,isObject:y,pick:v,ucfirst:x}=a,k={add:(F,O)=>F+O,divide:(F,O)=>O!==0?F/O:"",eq:(F,O)=>F==O,each:function(F){let O=arguments[arguments.length-1];return!!b(F)&&F.map((S,A)=>D(O.body,f(y(S)?S:{"@this":S},{"@index":A,"@first":A===0,"@last":A===F.length-1}))).join("")},ge:(F,O)=>F>=O,gt:(F,O)=>F>O,if:F=>!!F,le:(F,O)=>F<=O,lt:(F,O)=>F<O,multiply:(F,O)=>F*O,ne:(F,O)=>F!=O,subtract:(F,O)=>F-O,ucfirst:x,unless:F=>!F},I={};function D(F="",O,S){let A=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@"'= #\(\)]+)\}/gu,L=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@"'= ]+)\)/gu,U=[],z=/f$/,G=/\.(\d)/,H=(S==null?void 0:S.options.lang)||c.lang,q=S&&S.time||h,Z=S&&S.numberFormatter||N,ie=(be="")=>{let Ce;return be==="true"||be!=="false"&&((Ce=Number(be)).toString()===be?Ce:/^["'].+["']$/.test(be)?be.slice(1,-1):m(be,O))},oe,ce,ve=0,we;for(;(oe=A.exec(F))!==null;){let be=oe,Ce=L.exec(oe[1]);Ce&&(oe=Ce,we=!0),ce&&ce.isBlock||(ce={ctx:O,expression:oe[1],find:oe[0],isBlock:oe[1].charAt(0)==="#",start:oe.index,startInner:oe.index+oe[0].length,length:oe[0].length});let De=(ce.isBlock?be:oe)[1].split(" ")[0].replace("#","");k[De]&&(ce.isBlock&&De===ce.fn&&ve++,ce.fn||(ce.fn=De));let We=oe[1]==="else";if(ce.isBlock&&ce.fn&&(oe[1]===`/${ce.fn}`||We))if(ve)!We&&ve--;else{let rt=ce.startInner,$e=F.substr(rt,oe.index-rt);ce.body===void 0?(ce.body=$e,ce.startInner=oe.index+oe[0].length):ce.elseBody=$e,ce.find+=$e+oe[0],We||(U.push(ce),ce=void 0)}else ce.isBlock||U.push(ce);if(Ce&&!(ce!=null&&ce.isBlock))break}return U.forEach(be=>{let Ce,De,{body:We,elseBody:rt,expression:$e,fn:ge}=be;if(ge){let Ae=[be],Ne=[],Ge=$e.length,xt=0,Pe;for(De=0;De<=Ge;De++){let se=$e.charAt(De);Pe||se!=='"'&&se!=="'"?Pe===se&&(Pe=""):Pe=se,Pe||se!==" "&&De!==Ge||(Ne.push($e.substr(xt,De-xt)),xt=De+1)}for(De=k[ge].length;De--;)Ae.unshift(ie(Ne[De+1]));Ce=k[ge].apply(O,Ae),be.isBlock&&typeof Ce=="boolean"&&(Ce=D(Ce?We:rt,O,S))}else{let Ae=$e.split(":");if(Ce=ie(Ae.shift()||""),Ae.length&&typeof Ce=="number"){let Ne=Ae.join(":");if(z.test(Ne)){let Ge=parseInt((Ne.match(G)||["","-1"])[1],10);Ce!==null&&(Ce=Z(Ce,Ge,H.decimalPoint,Ne.indexOf(",")>-1?H.thousandsSep:""))}else Ce=q.dateFormat(Ne,Ce),we&&(Ce=`"${Ce}"`)}}F=F.replace(be.find,v(Ce,""))}),we?D(F,O,S):F}function N(F,O,S,A){var we,be;O=+O;let L,U,[z,G]=(F=+F||0).toString().split("e").map(Number),H=((we=this==null?void 0:this.options)==null?void 0:we.lang)||c.lang,q=(F.toString().split(".")[1]||"").split("e")[0].length,Z=O,ie={};S??(S=H.decimalPoint),A??(A=H.thousandsSep),O===-1?O=Math.min(q,20):w(O)?O&&G<0&&((U=O+G)>=0?(z=+z.toExponential(U).split("e")[0],O=U):(z=Math.floor(z),F=O<20?+(z*Math.pow(10,G)).toFixed(O):0,G=0)):O=2,G&&(O??(O=2),F=z),w(O)&&O>=0&&(ie.minimumFractionDigits=O,ie.maximumFractionDigits=O),A===""&&(ie.useGrouping=!1);let oe=A||S,ce=oe?"en":(this==null?void 0:this.locale)||H.locale||((be=d.body.closest("[lang]"))==null?void 0:be.lang),ve=JSON.stringify(ie)+ce;return L=(I[ve]??(I[ve]=new Intl.NumberFormat(ce,ie))).format(F),oe&&(L=L.replace(/\,/g,A??",").replace(".",S??".")),(O||+L!=0)&&(!(G<0)||Z)||(L="0"),G&&+L!=0&&(L+="e"+(G<0?"":"+")+G),L}return{dateFormat:function(F,O,S){return h.dateFormat(F,O,S)},format:D,helpers:k,numberFormat:N}}),i(n,"Dashboards/Components/KPIComponent/KPIComponent.js",[n["Core/Renderer/HTML/AST.js"],n["Dashboards/Components/Component.js"],n["Dashboards/Components/KPIComponent/KPISyncs/KPISyncs.js"],n["Dashboards/Components/KPIComponent/KPIComponentDefaults.js"],n["Core/Templating.js"],n["Core/Utilities.js"]],function(s,r,a,c,h,d){let{format:f}=h,{createElement:m,css:b,defined:w,diffObjects:y,isArray:v,isNumber:x,merge:k}=d;class I extends r{static fromJSON(N,F){let O=N.options,S=O.chartOptions&&JSON.parse(O.chartOptions),A=JSON.parse(O.subtitle||"{}"),L=O.title&&JSON.parse(O.title);return new I(F,k(O,{chartOptions:S,title:L,subtitle:A}))}constructor(N,F,O){super(N,F=k(I.defaultOptions,F),O),this.options=F,this.type="KPI",this.value=m("span",{className:`${F.className}-value`},{},this.contentElement),this.subtitle=m("span",{className:this.getSubtitleClassName()},{},this.contentElement)}async load(){return await super.load(),this.linkValueToChart(),this}resize(N,F){return super.resize(N,F),this.chart&&this.chart.container&&this.chart.reflow(),this}render(){var F;super.render(),this.updateElements();let N=(F=I.charter)==null?void 0:F.Chart;return N&&this.options.chartOptions&&!this.chart?(this.chartContainer||(this.chartContainer=m("div",{className:`${this.options.className}-chart-container`},{padding:"0.1px"},this.contentElement)),this.chart=N.chart(this.chartContainer,k(I.defaultChartOptions,this.options.chartOptions))):this.chart&&!this.options.chartOptions&&"chartOptions"in this.options&&(this.chart.destroy(),this.chart=void 0),this.sync.start(),this.emit({type:"afterRender"}),this}async update(N,F=!0){await super.update(N),N.chartOptions&&this.chart&&this.chart.update(N.chartOptions),F&&this.render()}onTableChanged(){this.setValue()}destroy(){var N;(N=this.chart)==null||N.destroy(),super.destroy()}getValue(){if(w(this.options.value))return this.options.value;let N=this.getFirstConnector();if(N&&this.options.columnName){let F=N.table.modified,O=F.getColumn(this.options.columnName),S=(O==null?void 0:O.length)||0;return F.getCellAsString(this.options.columnName,S-1)}}setValue(N=this.getValue()){let{valueFormat:F,valueFormatter:O}=this.options;if(w(N)){let S;x(+N)&&(S=+N),O?N=O.call(this,N):F?N=f(F,{value:N}):x(N)&&(N=N.toLocaleString()),s.setElementHTML(this.value,""+N),this.linkValueToChart(S),this.prevValue=S}}linkValueToChart(N=this.getValue()){let F=this.chart,O=this.options.linkedValueTo;if(!F||!O.enabled||!w(N)||!x(+N))return;N=+N;let S=F.series[O.seriesIndex??0],A=S==null?void 0:S.points[O.pointIndex??0];if(S){if(A){A.update({y:N});return}S.addPoint({y:N});return}F.addSeries({data:[{y:N}]})}updateElements(){let{style:N,subtitle:F}=this.options;this.setValue(),s.setElementHTML(this.subtitle,this.getSubtitle()),N&&b(this.element,N),typeof F=="object"&&(F.style&&b(this.subtitle,F.style),this.subtitle.className=this.getSubtitleClassName()),this.chartContainer&&(this.chartContainer.style.flex=this.options.chartOptions?"1":"0"),this.chart&&this.chart.reflow(),this.value.style.color=this.getValueColor()}getSubtitle(){let{subtitle:N,value:F}=this.options;if(typeof N=="string")return N;if(N){if(x(this.prevValue)&&x(F)){let O=F-this.prevValue,S="";if(O>0)S='<span style="color:green">&#9650;</span> +';else{if(!(O<0))return this.subtitle.innerHTML;S='<span style="color:red">&#9660;</span> '}if(N.type==="diff")return S+O.toLocaleString();if(N.type==="diffpercent")return S+f("{v:,.2f}%",{v:O/this.prevValue*100})}return N.text||""}return""}getSubtitleClassName(){let{subtitle:N}=this.options;return`${r.defaultOptions.className}-subtitle`+(typeof N=="object"&&N.className||"")}getValueColor(){let{threshold:N,thresholdColors:F,value:O}=this.options;if(F&&N&&x(O)){if(v(N)){for(let S=N.length-1;S>=0;S--)if(O>=N[S])return S+1<F.length?F[S+1]:F[F.length-1]}else if(O>=N)return F[1];return F[0]}return""}getOptionsOnDrop(N){let F=N.editMode.board.dataPool.getConnectorIds(),O={cell:"",type:"KPI"};return F.length&&(O={...O,connector:{id:F[0]}}),O}toJSON(){let N=super.toJSON(),F={...N,type:"KPI",options:{...N.options,type:"KPI",value:this.options.value,subtitle:JSON.stringify(this.options.subtitle),title:JSON.stringify(this.options.title),threshold:this.options.threshold,thresholdColors:this.options.thresholdColors,chartOptions:JSON.stringify(this.options.chartOptions),valueFormat:this.options.valueFormat}};return this.emit({type:"toJSON",json:N}),F}getOptions(){return{...y(this.options,I.defaultOptions),type:"KPI"}}}return I.defaultOptions=k(r.defaultOptions,c),I.predefinedSyncConfig=a,I.defaultChartOptions={chart:{type:"spline",zooming:{mouseWheel:{enabled:!1}}},title:{text:void 0},xAxis:{visible:!1},yAxis:{visible:!1,title:{text:null}},legend:{enabled:!1},credits:{enabled:!1},tooltip:{outside:!0},plotOptions:{series:{marker:{enabled:!1}}}},I}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorComponentDefaults.js",[n["Dashboards/Components/Component.js"]],function(s){return{type:"Navigator",className:[s.defaultOptions.className,`${s.defaultOptions.className}-navigator`].join(" "),chartOptions:{chart:{animation:!1,height:200,type:"column",zooming:{mouseWheel:{enabled:!1}}},credits:{enabled:!1},legend:{enabled:!1},navigator:{enabled:!0,outlineWidth:0,series:{animation:!1,lineWidth:0,colorIndex:0},xAxis:{endOnTick:!0,gridZIndex:4,labels:{x:1,y:22},opposite:!0,showFirstLabel:!0,showLastLabel:!0,startOnTick:!0,tickPosition:"inside"},yAxis:{maxPadding:.5}},plotOptions:{series:{borderRadius:0,marker:{enabled:!1},states:{hover:{enabled:!1}}}},scrollbar:{enabled:!0},title:{text:""},tooltip:{enabled:!1},xAxis:{visible:!1,minRange:Number.MIN_VALUE},yAxis:{visible:!1}},editableOptions:(s.defaultOptions.editableOptions||[]).concat()}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncUtils.js",[],function(){var s,r;return(r=s||(s={})).setRangeOptions=function(a,c,h,d){let f=!1;for(let m=0,b=a.length;m<b;++m)if(a[m].column===c){a[m].maxValue=d,a[m].minValue=h,f=!0;break}f||a.push({column:c,maxValue:d,minValue:h})},r.unsetRangeOptions=function(a,c){for(let h=0,d=a.length;h<d;++h)if(a[h].column===c)return a.splice(h,1)[0]},s}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorCrossfilterSync.js",[n["Data/Modifiers/DataModifier.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncUtils.js"],n["Core/Utilities.js"]],function(s,r,a){let{Range:c}=s.types,{addEvent:h}=a;return{defaultOptions:{affectNavigator:!1},syncPair:{emitter:function(){let d;if(this.type!=="Navigator")return;let f=this,m=this.sync.syncConfig.crossfilter,b=m.group?":"+m.group:"",w=async y=>{var v,x;if((x=(v=f.connectorHandlers)==null?void 0:v[0])!=null&&x.connector){let k=f.connectorHandlers[0].connector.table,I=f.board.dataCursor,D=f.getColumnAssignment()[0],[N,F]=f.getAxisExtremes(),O=k.getModifier();O instanceof c?r.setRangeOptions(O.options.ranges,D,N,F):O=new c({ranges:[{column:D,maxValue:F,minValue:N}]}),await k.setModifier(O),I.emitCursor(k,{type:"position",column:D,row:k.getRowIndexBy(D,N),state:"crossfilter"+b},y),I.emitCursor(k,{type:"position",column:D,row:k.getRowIndexBy(D,F),state:"crossfilter"+b},y)}};return h(f.chart.xAxis[0],"afterSetExtremes",function(y){clearTimeout(d),d=setTimeout(w,50,this,y)})},handler:void 0}}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorExtremesSync.js",[n["Data/Modifiers/DataModifier.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncUtils.js"],n["Core/Utilities.js"]],function(s,r,a){let{Range:c}=s.types,{addEvent:h,pick:d}=a;return{defaultOptions:{},syncPair:{emitter:function(){let f;if(this.type!=="Navigator")return;let m=this,b=this.sync.syncConfig.extremes,w=b.group?":"+b.group:"",y=v=>{var x,k;if((k=(x=m.connectorHandlers)==null?void 0:x[0])!=null&&k.connector){let I=m.connectorHandlers[0].connector.table,D=m.board.dataCursor,N=m.getColumnAssignment()[0],[F,O]=m.getAxisExtremes();D.emitCursor(I,{type:"position",column:N,row:I.getRowIndexBy(N,F),state:"xAxis.extremes.min"+w},v),D.emitCursor(I,{type:"position",column:N,row:I.getRowIndexBy(N,O),state:"xAxis.extremes.max"+w},v)}};return h(m.chart.xAxis[0],"afterSetExtremes",function(v){clearTimeout(f),f=setTimeout(y,50,this,v)})},handler:function(){if(this.type!=="Navigator")return;let f=this,m=this.sync.syncConfig.extremes,b=m.group?":"+m.group:"",w=f.board.dataCursor,y=v=>{var O,S;let x=v.cursor;if(!((S=(O=f.connectorHandlers)==null?void 0:O[0])!=null&&S.connector))return;let k=f.connectorHandlers[0].connector.table,I=k.getColumnNames()[0],D=k.getRowCount(),N=0;x.type==="range"?(D=x.lastRow,N=x.firstRow,x.columns&&(I=d(x.columns[0],I))):x.state==="xAxis.extremes.max"+b?(I=d(x.column,I),D=d(x.row,D)):(I=d(x.column,I),N=d(x.row,N));let F=k.getModifier();if(typeof I=="string"&&F instanceof c){let A=F.options.ranges,L=k.getCell(I,N),U=k.getCell(I,D);U!=null&&L!=null&&(r.unsetRangeOptions(A,I),A.unshift({column:I,maxValue:U,minValue:L}),k.setModifier(F))}};return(()=>{var x,k,I;let v=(I=(k=(x=f.connectorHandlers)==null?void 0:x[0])==null?void 0:k.connector)==null?void 0:I.table;v&&(w.addListener(v.id,"xAxis.extremes"+b,y),w.addListener(v.id,"xAxis.extremes.max"+b,y),w.addListener(v.id,"xAxis.extremes.min"+b,y))})(),()=>{var x,k,I;let v=(I=(k=(x=f.connectorHandlers)==null?void 0:x[0])==null?void 0:k.connector)==null?void 0:I.table;v&&(w.removeListener(v.id,"xAxis.extremes"+b,y),w.removeListener(v.id,"xAxis.extremes.max"+b,y),w.removeListener(v.id,"xAxis.extremes.min"+b,y))}}}}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncs.js",[n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorCrossfilterSync.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorExtremesSync.js"]],function(s,r){return{defaultSyncPairs:{crossfilter:s.syncPair,extremes:r.syncPair},defaultSyncOptions:{crossfilter:s.defaultOptions,extremes:r.defaultOptions}}}),i(n,"Dashboards/Components/NavigatorComponent/NavigatorComponent.js",[n["Dashboards/Components/Component.js"],n["Dashboards/Globals.js"],n["Dashboards/Components/NavigatorComponent/NavigatorComponentDefaults.js"],n["Dashboards/Components/NavigatorComponent/NavigatorSyncs/NavigatorSyncs.js"],n["Core/Utilities.js"]],function(s,r,a,c,h){let{diffObjects:d,isNumber:f,isString:m,merge:b,pick:w}=h;class y extends s{static fromJSON(x,k){let I=new y(k,x.options);return I.emit({type:"fromJSON",json:x}),I}constructor(x,k){var D;super(x,k),this.type="Navigator",this.options=b(y.defaultOptions,k);let I=y.charter.Chart||r.win.Highcharts;this.chartContainer=r.win.document.createElement("div"),this.chart=I.chart(this.chartContainer,this.options.chartOptions||{}),this.chartContainer.classList.add(r.classNamePrefix+"navigator"),(D=this.sync.syncConfig.crossfilter)!=null&&D.enabled&&this.chart.update(b({navigator:{xAxis:{labels:{format:"{value}"}}}},this.options.chartOptions||{}),!1)}adjustNavigator(){let x=this.chart,k=w(x.chartHeight,this.contentElement.clientHeight),I=this.contentElement.clientWidth,D={};if((x.chartHeight!==k||x.chartWidth!==I)&&(D.chart={height:k,width:I}),x.navigator){let N=x.navigator,F=N.top-x.plotTop+N.height;N.height!==F&&(D.navigator={handles:{height:Math.round(k/4)},height:F}),Object.keys(D).length&&x.update(D,!1),N.series&&N.series[0]&&N.series[0].update({type:x.series[0].type},!1)}else Object.keys(D).length&&x.update(D,!1)}getColumnAssignment(){let x,k=this.options.columnAssignment??this.options.columnAssignments??{};for(let D of Object.keys(k))if((x=k[D])!==null)return[D,x];let I=this.getFirstConnector();if(I){let D=I.table.getColumnNames();if(D.length)return[D[0],"y"]}return["","y"]}getOptions(){return{...d(this.options,a),type:"Navigator"}}getAxisExtremes(){let x=this.chart.xAxis[0],k=x.getExtremes(),I=f(k.min)?k.min:k.dataMin,D=f(k.max)?k.max:k.dataMax;return this.categories?[this.categories[Math.max(0,Math.ceil(I))],this.categories[Math.min(this.categories.length-1,Math.floor(D))]]:x.hasNames?[x.names[Math.ceil(I)],x.names[Math.floor(D)]]:[I,D]}async load(){return await super.load(),this.contentElement.appendChild(this.chartContainer),this.parentElement.appendChild(this.element),this.adjustNavigator(),this.emit({type:"afterLoad"}),this}onTableChanged(){this.renderNavigator()}redrawNavigator(){let x=this.resizeTimeouts;for(let k=0,I=x.length;k<I;++k)clearTimeout(x[k]);x.length=0,x.push(setTimeout(()=>{this.adjustNavigator(),this.chart.redraw()},33))}render(){return super.render(),this.renderNavigator(),this.sync.start(),this.emit({type:"afterRender"}),this}renderNavigator(){var I;let x=this.chart,k=this.getFirstConnector();if(k){let D,N=k.table,F=this.getColumnAssignment(),O=N.getColumn(F[0],!0)||[];D=(I=this.sync.syncConfig.crossfilter)!=null&&I.enabled?this.generateCrossfilterData():O.slice(),x.series[0]?x.series[0].setData(D,!1):x.addSeries({id:N.id,data:D},!1)}this.redrawNavigator()}generateCrossfilterData(){var A,L;let x,k=this.sync.syncConfig.crossfilter,I=(A=this.getFirstConnector())==null?void 0:A.table,D=(I==null?void 0:I.getColumn(this.getColumnAssignment()[0],!0))||[];if(!I||D.length<1||!k)return[];let N=[],F=[];for(let U=0,z=D.length;U<z;U++){let G=D[U];if(G!==null){if(f(G)||(G=`${G}`),this.stringData===void 0)this.stringData=m(G);else if(this.stringData!==m(G))throw Error("Mixed data types in crossfilter navigator are not supported.");N.push(G),F.indexOf(G)===-1&&F.push(G)}}F.sort((U,z)=>w(U,NaN)<w(z,NaN)?-1:U===z?0:1);let O=(L=I.getModifier())==null?void 0:L.options;if(k.affectNavigator&&O){let U=[],z=[],{ranges:G}=O;for(let q=0,Z=G.length;q<Z;q++)G[q].column!==this.getColumnAssignment()[0]&&(U.push(G[q]),z.push(I.getColumn(G[q].column,!0)||[]));x=[];let H=U.length;for(let q=0,Z=N.length;q<Z;q++){let ie=N[q],oe=!0;for(let ce=0;ce<H;ce++){let ve=U[ce];if(!(z[ce][q]>=(ve.minValue??-1/0)&&z[ce][q]<=(ve.maxValue??1/0))){oe=!1;break}}oe&&x.push(ie)}}else x=N;let S=[];if(this.stringData){this.categories=F;for(let U=0,z=F.length;U<z;U++)S.push([U,null])}else for(let U=0,z=F.length;U<z;U++)S.push([F[U],null]);for(let U=0,z=x.length;U<z;U++){let G=F.indexOf(x[U]);S[G][1]=(S[G][1]||0)+1}return S}resize(x,k){return super.resize(x,k),this.redrawNavigator(),this}async update(x,k=!0){var D;let I=this.chart;await super.update(x,!1),x.chartOptions&&I.update(b((D=this.sync.syncConfig.crossfilter)!=null&&D.enabled?{navigator:{xAxis:{labels:{format:"{value}"}}}}:{},x.chartOptions),!1),this.emit({type:"afterUpdate"}),k&&this.render()}getOptionsOnDrop(){return{}}}return y.defaultOptions=b(s.defaultOptions,a),y.predefinedSyncConfig=c,y}),i(n,"Dashboards/Plugins/HighchartsPlugin.js",[n["Dashboards/Components/HighchartsComponent/HighchartsComponent.js"],n["Dashboards/Components/KPIComponent/KPIComponent.js"],n["Dashboards/Components/NavigatorComponent/NavigatorComponent.js"]],function(s,r,a){return{custom:{connectHighcharts:function(c){s.charter=c,r.charter=c,a.charter=c}},name:"Highcharts.DashboardsPlugin",onRegister:function(c){let{ComponentRegistry:h}=c;h.registerComponent("Highcharts",s),h.registerComponent("KPI",r),h.registerComponent("Navigator",a)},onUnregister:function(c){}}}),i(n,"Dashboards/PluginHandler.js",[n["Dashboards/Board.js"],n["Dashboards/Components/Sync/Sync.js"],n["Dashboards/Components/ComponentRegistry.js"]],function(s,r,a){var c,h;return(h=c||(c={})).registry={},h.revision=0,h.addPlugin=function(d,f=d.name){let{maxRevision:m,minRevision:b,onRegister:w}=d;if(h.registry[f]){if(f!==d.name)throw Error(`Plugin '${f}' already registered.`);return}if(typeof b=="number"&&b>h.revision||typeof m=="number"&&m<h.revision)throw Error(`Plugin '${f}' does not support revision ${h.revision}.`);w({Board:s,ComponentRegistry:a,Sync:r,revision:h.revision}),h.registry[f]=d},h.removePlugin=function(d){h.registry[d]&&(h.registry[d].onUnregister({ComponentRegistry:a,Board:s,Sync:r,revision:h.revision}),delete h.registry[d])},c}),i(n,"masters/dashboards.src.js",[n["Core/Renderer/HTML/AST.js"],n["Data/Connectors/DataConnector.js"],n["Dashboards/Board.js"],n["Dashboards/Components/Component.js"],n["Dashboards/Components/ComponentRegistry.js"],n["Data/DataPool.js"],n["Data/DataCursor.js"],n["Data/Converters/DataConverter.js"],n["Data/Modifiers/DataModifier.js"],n["Data/DataTable.js"],n["Dashboards/Globals.js"],n["Dashboards/Plugins/DataGridPlugin.js"],n["Dashboards/Plugins/HighchartsPlugin.js"],n["Dashboards/PluginHandler.js"],n["Dashboards/Components/Sync/Sync.js"],n["Dashboards/Utilities.js"]],function(s,r,a,c,h,d,f,m,b,w,y,v,x,k,I,D){return y.board=a.board,y.addEvent=D.addEvent,y.error=D.error,y.merge=D.merge,y.removeEvent=D.removeEvent,y.uniqueKey=D.uniqueKey,y.AST=s,y.Board=a,y.Component=c,y.ComponentRegistry=h,y.DataConnector=r,y.DataConverter=m,y.DataCursor=f,y.DataModifier=b,y.DataPool=d,y.DataTable=w,y.DataGridPlugin=v,y.HighchartsPlugin=x,y.PluginHandler=k,y.Sync=I,y.win.Dashboards||(y.win.Dashboards=y),y.win.DataGrid&&(v.custom.connectDataGrid(y.win.DataGrid),y.PluginHandler.addPlugin(v)),y.win.Highcharts&&(x.custom.connectHighcharts(y.win.Highcharts),y.PluginHandler.addPlugin(x)),y}),n["masters/dashboards.src.js"]._modules=n,n["masters/dashboards.src.js"]})})(XM);var M7=XM.exports;const Im=$_(M7);var JM={exports:{}};(function(t,e){(function(n,i){n._Highcharts=i(),t.exports=n._Highcharts})(typeof window>"u"?Ql:window,()=>(()=>{let n,i;var s,r,a,c,h,d,f,m,b,w,y,v,x,k,I,D,N,F={};F.d=(P,o)=>{for(var l in o)F.o(o,l)&&!F.o(P,l)&&Object.defineProperty(P,l,{enumerable:!0,get:o[l]})},F.o=(P,o)=>Object.prototype.hasOwnProperty.call(P,o);var O={};F.d(O,{default:()=>WV}),function(P){P.SVG_NS="http://www.w3.org/2000/svg",P.product="Highcharts",P.version="12.1.0",P.win=typeof window<"u"?window:{},P.doc=P.win.document,P.svg=P.doc&&P.doc.createElementNS&&!!P.doc.createElementNS(P.SVG_NS,"svg").createSVGRect,P.userAgent=P.win.navigator&&P.win.navigator.userAgent||"",P.isChrome=P.win.chrome,P.isFirefox=P.userAgent.indexOf("Firefox")!==-1,P.isMS=/(edge|msie|trident)/i.test(P.userAgent)&&!P.win.opera,P.isSafari=!P.isChrome&&P.userAgent.indexOf("Safari")!==-1,P.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(P.userAgent),P.isWebKit=P.userAgent.indexOf("AppleWebKit")!==-1,P.deg2rad=2*Math.PI/360,P.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],P.noop=function(){},P.supportsPassiveEvents=function(){let o=!1;if(!P.isMS){let l=Object.defineProperty({},"passive",{get:function(){o=!0}});P.win.addEventListener&&P.win.removeEventListener&&(P.win.addEventListener("testPassive",P.noop,l),P.win.removeEventListener("testPassive",P.noop,l))}return o}(),P.charts=[],P.composed=[],P.dateFormats={},P.seriesTypes={},P.symbolSizes={},P.chartCount=0}(s||(s={}));let S=s,{charts:A,doc:L,win:U}=S;function z(P,o,l,u){let p=o?"Highcharts error":"Highcharts warning";P===32&&(P=`${p}: Deprecated member`);let g=ce(P),_=g?`${p} #${P}: www.highcharts.com/errors/${P}/`:P.toString();if(u!==void 0){let C="";g&&(_+="?"),Ae(u,function(T,R){C+=`
 - ${R}: ${T}`,g&&(_+=encodeURI(R)+"="+encodeURI(T))}),_+=C}Ge(S,"displayError",{chart:l,code:P,message:_,params:u},function(){if(o)throw Error(_);U.console&&z.messages.indexOf(_)===-1&&console.warn(_)}),z.messages.push(_)}function G(P,o){return parseInt(P,o||10)}function H(P){return typeof P=="string"}function q(P){let o=Object.prototype.toString.call(P);return o==="[object Array]"||o==="[object Array Iterator]"}function Z(P,o){return!!P&&typeof P=="object"&&(!o||!q(P))}function ie(P){return Z(P)&&typeof P.nodeType=="number"}function oe(P){let o=P&&P.constructor;return!!(Z(P,!0)&&!ie(P)&&o&&o.name&&o.name!=="Object")}function ce(P){return typeof P=="number"&&!isNaN(P)&&P<1/0&&P>-1/0}function ve(P){return P!=null}function we(P,o,l){let u,p=H(o)&&!ve(l),g=(_,C)=>{ve(_)?P.setAttribute(C,_):p?(u=P.getAttribute(C))||C!=="class"||(u=P.getAttribute(C+"Name")):P.removeAttribute(C)};return H(o)?g(l,o):Ae(o,g),u}function be(P){return q(P)?P:[P]}function Ce(P,o){let l;for(l in P||(P={}),o)P[l]=o[l];return P}function De(){let P=arguments,o=P.length;for(let l=0;l<o;l++){let u=P[l];if(u!=null)return u}}function We(P,o){Ce(P.style,o)}function rt(P){return Math.pow(10,Math.floor(Math.log(P)/Math.LN10))}function $e(P,o){return P>1e14?P:parseFloat(P.toPrecision(o||14))}(z||(z={})).messages=[],Math.easeInOutSine=function(P){return-.5*(Math.cos(Math.PI*P)-1)};let ge=Array.prototype.find?function(P,o){return P.find(o)}:function(P,o){let l,u=P.length;for(l=0;l<u;l++)if(o(P[l],l))return P[l]};function Ae(P,o,l){for(let u in P)Object.hasOwnProperty.call(P,u)&&o.call(l||P[u],P[u],u,P)}function Ne(P,o,l){function u(_,C){let T=P.removeEventListener;T&&T.call(P,_,C,!1)}function p(_){let C,T;P.nodeName&&(o?(C={})[o]=!0:C=_,Ae(C,function(R,V){if(_[V])for(T=_[V].length;T--;)u(V,_[V][T].fn)}))}let g=typeof P=="function"&&P.prototype||P;if(Object.hasOwnProperty.call(g,"hcEvents")){let _=g.hcEvents;if(o){let C=_[o]||[];l?(_[o]=C.filter(function(T){return l!==T.fn}),u(o,l)):(p(_),_[o]=[])}else p(_),delete g.hcEvents}}function Ge(P,o,l,u){if(l=l||{},L.createEvent&&(P.dispatchEvent||P.fireEvent&&P!==S)){let p=L.createEvent("Events");p.initEvent(o,!0,!0),l=Ce(p,l),P.dispatchEvent?P.dispatchEvent(l):P.fireEvent(o,l)}else if(P.hcEvents){l.target||Ce(l,{preventDefault:function(){l.defaultPrevented=!0},target:P,type:o});let p=[],g=P,_=!1;for(;g.hcEvents;)Object.hasOwnProperty.call(g,"hcEvents")&&g.hcEvents[o]&&(p.length&&(_=!0),p.unshift.apply(p,g.hcEvents[o])),g=Object.getPrototypeOf(g);_&&p.sort((C,T)=>C.order-T.order),p.forEach(C=>{C.fn.call(P,l)===!1&&l.preventDefault()})}u&&!l.defaultPrevented&&u.call(P,l)}let xt=function(){let P=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(n?"":P)+o++}}();U.jQuery&&(U.jQuery.fn.highcharts=function(){let P=[].slice.call(arguments);if(this[0])return P[0]?(new S[H(P[0])?P.shift():"Chart"](this[0],P[0],P[1]),this):A[we(this[0],"data-highcharts-chart")]});let Pe={addEvent:function(P,o,l,u={}){let p=typeof P=="function"&&P.prototype||P;Object.hasOwnProperty.call(p,"hcEvents")||(p.hcEvents={});let g=p.hcEvents;S.Point&&P instanceof S.Point&&P.series&&P.series.chart&&(P.series.chart.runTrackerClick=!0);let _=P.addEventListener;_&&_.call(P,o,l,!!S.supportsPassiveEvents&&{passive:u.passive===void 0?o.indexOf("touch")!==-1:u.passive,capture:!1}),g[o]||(g[o]=[]);let C={fn:l,order:typeof u.order=="number"?u.order:1/0};return g[o].push(C),g[o].sort((T,R)=>T.order-R.order),function(){Ne(P,o,l)}},arrayMax:function(P){let o=P.length,l=P[0];for(;o--;)P[o]>l&&(l=P[o]);return l},arrayMin:function(P){let o=P.length,l=P[0];for(;o--;)P[o]<l&&(l=P[o]);return l},attr:we,clamp:function(P,o,l){return P>o?P<l?P:l:o},clearTimeout:function(P){ve(P)&&clearTimeout(P)},correctFloat:$e,createElement:function(P,o,l,u,p){let g=L.createElement(P);return o&&Ce(g,o),p&&We(g,{padding:"0",border:"none",margin:"0"}),l&&We(g,l),u&&u.appendChild(g),g},crisp:function(P,o=0,l){let u=o%2/2,p=l?-1:1;return(Math.round(P*p-u)+u)*p},css:We,defined:ve,destroyObjectProperties:function(P,o,l){Ae(P,function(u,p){u!==o&&(u!=null&&u.destroy)&&u.destroy(),(u!=null&&u.destroy||!l)&&delete P[p]})},diffObjects:function(P,o,l,u){let p={};return function g(_,C,T,R){let V=l?C:_;Ae(_,function(M,B){if(!R&&u&&u.indexOf(B)>-1&&C[B]){M=be(M),T[B]=[];for(let $=0;$<Math.max(M.length,C[B].length);$++)C[B][$]&&(M[$]===void 0?T[B][$]=C[B][$]:(T[B][$]={},g(M[$],C[B][$],T[B][$],R+1)))}else Z(M,!0)&&!M.nodeType?(T[B]=q(M)?[]:{},g(M,C[B]||{},T[B],R+1),Object.keys(T[B]).length!==0||B==="colorAxis"&&R===0||delete T[B]):(_[B]!==C[B]||B in _&&!(B in C))&&B!=="__proto__"&&B!=="constructor"&&(T[B]=V[B])})}(P,o,p,0),p},discardElement:function(P){P&&P.parentElement&&P.parentElement.removeChild(P)},erase:function(P,o){let l=P.length;for(;l--;)if(P[l]===o){P.splice(l,1);break}},error:z,extend:Ce,extendClass:function(P,o){let l=function(){};return l.prototype=new P,Ce(l.prototype,o),l},find:ge,fireEvent:Ge,getAlignFactor:(P="")=>({center:.5,right:1,middle:.5,bottom:1})[P]||0,getClosestDistance:function(P,o){let l,u,p,g=!o;return P.forEach(_=>{if(_.length>1)for(p=_.length-1;p>0;p--)(u=_[p]-_[p-1])<0&&!g?(o==null||o(),o=void 0):u&&(l===void 0||u<l)&&(l=u)}),l},getMagnitude:rt,getNestedProperty:function(P,o){let l=P.split(".");for(;l.length&&ve(o);){let u=l.shift();if(u===void 0||u==="__proto__")return;if(u==="this"){let g;return Z(o)&&(g=o["@this"]),g??o}let p=o[u.replace(/[\\'"]/g,"")];if(!ve(p)||typeof p=="function"||typeof p.nodeType=="number"||p===U)return;o=p}return o},getStyle:function P(o,l,u){let p;if(l==="width"){let _=Math.min(o.offsetWidth,o.scrollWidth),C=o.getBoundingClientRect&&o.getBoundingClientRect().width;return C<_&&C>=_-1&&(_=Math.floor(C)),Math.max(0,_-(P(o,"padding-left",!0)||0)-(P(o,"padding-right",!0)||0))}if(l==="height")return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(P(o,"padding-top",!0)||0)-(P(o,"padding-bottom",!0)||0));let g=U.getComputedStyle(o,void 0);return g&&(p=g.getPropertyValue(l),De(u,l!=="opacity")&&(p=G(p))),p},insertItem:function(P,o){let l,u=P.options.index,p=o.length;for(l=P.options.isInternal?p:0;l<p+1;l++)if(!o[l]||ce(u)&&u<De(o[l].options.index,o[l]._i)||o[l].options.isInternal){o.splice(l,0,P);break}return l},isArray:q,isClass:oe,isDOMElement:ie,isFunction:function(P){return typeof P=="function"},isNumber:ce,isObject:Z,isString:H,merge:function(P,...o){let l,u=[P,...o],p={},g=function(C,T){return typeof C!="object"&&(C={}),Ae(T,function(R,V){V!=="__proto__"&&V!=="constructor"&&(!Z(R,!0)||oe(R)||ie(R)?C[V]=T[V]:C[V]=g(C[V]||{},R))}),C};P===!0&&(p=u[1],u=Array.prototype.slice.call(u,2));let _=u.length;for(l=0;l<_;l++)p=g(p,u[l]);return p},normalizeTickInterval:function(P,o,l,u,p){let g,_=P;l=De(l,rt(P));let C=P/l;for(!o&&(o=p?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],u===!1&&(l===1?o=o.filter(function(T){return T%1==0}):l<=.1&&(o=[1/l]))),g=0;g<o.length&&(_=o[g],(!p||!(_*l>=P))&&(p||!(C<=(o[g]+(o[g+1]||o[g]))/2)));g++);return $e(_*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:Ae,offset:function(P){let o=L.documentElement,l=P.parentElement||P.parentNode?P.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:l.top+(U.pageYOffset||o.scrollTop)-(o.clientTop||0),left:l.left+(U.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:l.width,height:l.height}},pad:function(P,o,l){return Array((o||2)+1-String(P).replace("-","").length).join(l||"0")+P},pick:De,pInt:G,pushUnique:function(P,o){return 0>P.indexOf(o)&&!!P.push(o)},relativeLength:function(P,o,l){return/%$/.test(P)?o*parseFloat(P)/100+(l||0):parseFloat(P)},removeEvent:Ne,replaceNested:function(P,...o){let l,u;do for(u of(l=P,o))P=P.replace(u[0],u[1]);while(P!==l);return P},splat:be,stableSort:function(P,o){let l,u,p=P.length;for(u=0;u<p;u++)P[u].safeI=u;for(P.sort(function(g,_){return(l=o(g,_))===0?g.safeI-_.safeI:l}),u=0;u<p;u++)delete P[u].safeI},syncTimeout:function(P,o,l){return o>0?setTimeout(P,o,l):(P.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(P){return H(P)?P.substring(0,1).toUpperCase()+P.substring(1):String(P)},uniqueKey:xt,useSerialIds:function(P){return n=De(P,n)},wrap:function(P,o,l){let u=P[o];P[o]=function(){let p=arguments,g=this;return l.apply(this,[function(){return u.apply(g,arguments.length?arguments:p)}].concat([].slice.call(arguments)))}}},{win:se}=S,{defined:ae,error:ye,extend:Se,isNumber:xe,isObject:Re,isString:ze,merge:Ue,objectEach:Fe,pad:Ie,splat:ot,timeUnits:Oe,ucfirst:et}=Pe,Je=S.isSafari&&se.Intl&&!se.Intl.DateTimeFormat.prototype.formatRange,ut=P=>P.main===void 0,Bt=P=>["D","L","M","X","J","V","S"].indexOf(P),Rt=class{constructor(P){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=se.Date,this.update(P)}update(P={}){this.dTLCache={},this.options=P=Ue(!0,this.options,P);let{timezoneOffset:o,useUTC:l}=P;this.Date=P.Date||se.Date||Date;let u=P.timezone;ae(l)&&(u=l?"UTC":void 0),o&&o%60==0&&(u="Etc/GMT"+(o>0?"+":"")+o/60),this.variableTimezone=u!=="UTC"&&(u==null?void 0:u.indexOf("Etc/GMT"))!==0,this.timezone=u,["months","shortMonths","weekdays","shortWeekdays"].forEach(p=>{let g=/months/i.test(p),_=/short/.test(p),C={timeZone:"UTC"};C[g?"month":"weekday"]=_?"short":"long",this[p]=(g?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(T=>this.dateFormat(C,(g?31:1)*24*36e5*T))})}toParts(P){let[o,l,u,p,g,_,C]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},P,"es").split(/(?:, |\/|:)/g);return[p,+u-1,l,g,_,C,Math.floor(Number(P)||0)%1e3,Bt(o)].map(Number)}dateTimeFormat(P,o,l=this.options.locale){let u=JSON.stringify(P)+l;ze(P)&&(P=this.str2dtf(P));let p=this.dTLCache[u];if(!p){P.timeZone??(P.timeZone=this.timezone);try{p=new Intl.DateTimeFormat(l,P)}catch(g){/Invalid time zone/i.test(g.message)?(ye(34),P.timeZone="UTC",p=new Intl.DateTimeFormat(l,P)):ye(g.message,!1)}}return this.dTLCache[u]=p,(p==null?void 0:p.format(o))||""}str2dtf(P,o={}){let l={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(l).forEach(u=>{P.indexOf(u)!==-1&&Se(o,l[u])}),o}makeTime(P,o,l=1,u=0,p,g,_){let C=this.Date.UTC(P,o,l,u,p||0,g||0,_||0);if(this.timezone!=="UTC"){let T=this.getTimezoneOffset(C);if(C+=T,[2,3,8,9,10,11].indexOf(o)!==-1&&(u<5||u>20)){let R=this.getTimezoneOffset(C);T!==R?C+=R-T:T-36e5!==this.getTimezoneOffset(C-36e5)||Je||(C-=36e5)}}return C}parse(P){if(!ze(P))return P??void 0;let o=(P=P.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(P),l=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(P);o||l||(P+="Z");let u=Date.parse(P);if(xe(u))return u+(!o||l?this.getTimezoneOffset(u):0)}getTimezoneOffset(P){if(this.timezone!=="UTC"){let[o,l,u,p,g=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},P,"en").split(/(GMT|:)/).map(Number),_=-(36e5*(u+g/60));if(xe(_))return _}return 0}dateFormat(P,o,l){var p;let u=(p=S.defaultOptions)==null?void 0:p.lang;if(!ae(o)||isNaN(o))return(u==null?void 0:u.invalidDate)||"";if(ze(P=P??"%Y-%m-%d %H:%M:%S")){let g,_=/%\[([a-zA-Z]+)\]/g;for(;g=_.exec(P);)P=P.replace(g[0],this.dateTimeFormat(g[1],o))}if(ze(P)&&P.indexOf("%")!==-1){let g=this,[_,C,T,R,V,M,B,$]=this.toParts(o),W=(u==null?void 0:u.weekdays)||this.weekdays,X=(u==null?void 0:u.shortWeekdays)||this.shortWeekdays,J=(u==null?void 0:u.months)||this.months,K=(u==null?void 0:u.shortMonths)||this.shortMonths;Fe(Se({a:X?X[$]:W[$].substr(0,3),A:W[$],d:Ie(T),e:Ie(T,2," "),w:$,b:K[C],B:J[C],m:Ie(C+1),o:C+1,y:_.toString().substr(2,2),Y:_,H:Ie(R),k:R,I:Ie(R%12||12),l:R%12||12,M:Ie(V),p:R<12?"AM":"PM",P:R<12?"am":"pm",S:Ie(M),L:Ie(B,3)},S.dateFormats),function(ee,te){if(ze(P))for(;P.indexOf("%"+te)!==-1;)P=P.replace("%"+te,typeof ee=="function"?ee.call(g,o):ee)})}else if(Re(P)){let g=(this.getTimezoneOffset(o)||0)/36e5,_=this.timezone||"Etc/GMT"+(g>=0?"+":"")+g,{prefix:C="",suffix:T=""}=P;P=C+this.dateTimeFormat(Se({timeZone:_},P),o)+T}return l?et(P):P}resolveDTLFormat(P){return Re(P,!0)?Re(P,!0)&&ut(P)?{main:P}:P:{main:(P=ot(P))[0],from:P[1],to:P[2]}}getTimeTicks(P,o,l,u){let p=this,g=[],_={},{count:C=1,unitRange:T}=P,[R,V,M,B,$,W]=p.toParts(o),X=(o||0)%1e3,J;if(u??(u=1),ae(o)){if(X=T>=Oe.second?0:C*Math.floor(X/C),T>=Oe.second&&(W=T>=Oe.minute?0:C*Math.floor(W/C)),T>=Oe.minute&&($=T>=Oe.hour?0:C*Math.floor($/C)),T>=Oe.hour&&(B=T>=Oe.day?0:C*Math.floor(B/C)),T>=Oe.day&&(M=T>=Oe.month?1:Math.max(1,C*Math.floor(M/C))),T>=Oe.month&&(V=T>=Oe.year?0:C*Math.floor(V/C)),T>=Oe.year&&(R-=R%C),T===Oe.week){C&&(o=p.makeTime(R,V,M,B,$,W,X));let te=Bt(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},o,"es"));M+=-te+u+(te<u?-7:0)}o=p.makeTime(R,V,M,B,$,W,X),p.variableTimezone&&ae(l)&&(J=l-o>4*Oe.month||p.getTimezoneOffset(o)!==p.getTimezoneOffset(l));let K=o,ee=1;for(;K<l;)g.push(K),T===Oe.year?K=p.makeTime(R+ee*C,0):T===Oe.month?K=p.makeTime(R,V+ee*C):J&&(T===Oe.day||T===Oe.week)?K=p.makeTime(R,V,M+ee*C*(T===Oe.day?1:7)):J&&T===Oe.hour&&C>1?K=p.makeTime(R,V,M,B+ee*C):K+=T*C,ee++;g.push(K),T<=Oe.hour&&g.length<1e4&&g.forEach(te=>{te%18e5==0&&p.dateFormat("%H%M%S%L",te)==="000000000"&&(_[te]="day")})}return g.info=Se(P,{higherRanks:_,totalRange:T*C}),g}getDateFormat(P,o,l,u){let p=this.dateFormat("%m-%d %H:%M:%S.%L",o),g="01-01 00:00:00.000",_={millisecond:15,second:12,minute:9,hour:6,day:3},C="millisecond",T=C;for(C in Oe){if(P===Oe.week&&+this.dateFormat("%w",o)===l&&p.substr(6)===g.substr(6)){C="week";break}if(Oe[C]>P){C=T;break}if(_[C]&&p.substr(_[C])!==g.substr(_[C]))break;C!=="week"&&(T=C)}return this.resolveDTLFormat(u[C]).main}},{isTouchDevice:ai}=S,{fireEvent:Bn,merge:qn}=Pe,fn={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:P=>Math.sqrt(1-Math.pow(P-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:ai?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};fn.chart.styledMode=!0,fn.chart.styledMode=!1;let gs=new Rt(fn.time),Kn={defaultOptions:fn,defaultTime:gs,getOptions:function(){return fn},setOptions:function(P){return Bn(S,"setOptions",{options:P}),qn(!0,fn,P),P.time&&gs.update(fn.time),P.lang&&"locale"in P.lang&&gs.update({locale:P.lang.locale}),fn}},{isNumber:Un,merge:zi,pInt:Rn,defined:tu}=Pe;class In{static parse(o){return o?new In(o):In.None}constructor(o){let l,u,p,g;this.rgba=[NaN,NaN,NaN,NaN],this.input=o;let _=S.Color;if(_&&_!==In)return new _(o);if(typeof o=="object"&&o.stops!==void 0)this.stops=o.stops.map(C=>new In(C[1]));else if(typeof o=="string")for(this.input=o=In.names[o.toLowerCase()]||o,p=In.parsers.length;p--&&!u;)(l=(g=In.parsers[p]).regex.exec(o))&&(u=g.parse(l));u&&(this.rgba=u)}get(o){let l=this.input,u=this.rgba;if(typeof l=="object"&&this.stops!==void 0){let p=zi(l);return p.stops=[].slice.call(p.stops),this.stops.forEach((g,_)=>{p.stops[_]=[p.stops[_][0],g.get(o)]}),p}return u&&Un(u[0])?o!=="rgb"&&(o||u[3]!==1)?o==="a"?`${u[3]}`:"rgba("+u.join(",")+")":"rgb("+u[0]+","+u[1]+","+u[2]+")":l}brighten(o){let l=this.rgba;if(this.stops)this.stops.forEach(function(u){u.brighten(o)});else if(Un(o)&&o!==0)for(let u=0;u<3;u++)l[u]+=Rn(255*o),l[u]<0&&(l[u]=0),l[u]>255&&(l[u]=255);return this}setOpacity(o){return this.rgba[3]=o,this}tweenTo(o,l){let u=this.rgba,p=o.rgba;if(!Un(u[0])||!Un(p[0]))return o.input||"none";let g=p[3]!==1||u[3]!==1,_=(T,R)=>T+(u[R]-T)*(1-l),C=p.slice(0,3).map(_).map(Math.round);return g&&C.push(_(p[3],3)),(g?"rgba(":"rgb(")+C.join(",")+")"}}In.names={white:"#ffffff",black:"#000000"},In.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(P){return[Rn(P[1]),Rn(P[2]),Rn(P[3]),parseFloat(P[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(P){return[Rn(P[1]),Rn(P[2]),Rn(P[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(P){return[Rn(P[1]+P[1],16),Rn(P[2]+P[2],16),Rn(P[3]+P[3],16),tu(P[4])?Rn(P[4]+P[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(P){return[Rn(P[1],16),Rn(P[2],16),Rn(P[3],16),tu(P[4])?Rn(P[4],16)/255:1]}}],In.None=new In("");let{parse:Co}=In,{win:nu}=S,{isNumber:ga,objectEach:Lr}=Pe;class li{constructor(o,l,u){this.pos=NaN,this.options=l,this.elem=o,this.prop=u}dSetter(){let o=this.paths,l=o&&o[0],u=o&&o[1],p=this.now||0,g=[];if(p!==1&&l&&u)if(l.length===u.length&&p<1)for(let _=0;_<u.length;_++){let C=l[_],T=u[_],R=[];for(let V=0;V<T.length;V++){let M=C[V],B=T[V];ga(M)&&ga(B)&&!(T[0]==="A"&&(V===4||V===5))?R[V]=M+p*(B-M):R[V]=B}g.push(R)}else g=u;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)}update(){let o=this.elem,l=this.prop,u=this.now,p=this.options.step;this[l+"Setter"]?this[l+"Setter"]():o.attr?o.element&&o.attr(l,u,null,!0):o.style[l]=u+this.unit,p&&p.call(o,u,this)}run(o,l,u){let p=this,g=p.options,_=function(R){return!_.stopped&&p.step(R)},C=nu.requestAnimationFrame||function(R){setTimeout(R,13)},T=function(){for(let R=0;R<li.timers.length;R++)li.timers[R]()||li.timers.splice(R--,1);li.timers.length&&C(T)};o!==l||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=o,this.end=l,this.unit=u,this.now=this.start,this.pos=0,_.elem=this.elem,_.prop=this.prop,_()&&li.timers.push(_)===1&&C(T)):(delete g.curAnim[this.prop],g.complete&&Object.keys(g.curAnim).length===0&&g.complete.call(this.elem))}step(o){let l,u,p=+new Date,g=this.options,_=this.elem,C=g.complete,T=g.duration,R=g.curAnim;return _.attr&&!_.element?l=!1:o||p>=T+this.startTime?(this.now=this.end,this.pos=1,this.update(),R[this.prop]=!0,u=!0,Lr(R,function(V){V!==!0&&(u=!1)}),u&&C&&C.call(_),l=!1):(this.pos=g.easing((p-this.startTime)/T),this.now=this.start+(this.end-this.start)*this.pos,this.update(),l=!0),l}initPath(o,l,u){let p=o.startX,g=o.endX,_=u.slice(),C=o.isArea,T=C?2:1,R=l&&u.length>l.length&&u.hasStackedCliffs,V,M,B,$,W=l&&l.slice();if(!W||R)return[_,_];function X(K,ee){for(;K.length<M;){let te=K[0],le=ee[M-K.length];if(le&&te[0]==="M"&&(le[0]==="C"?K[0]=["C",te[1],te[2],te[1],te[2],te[1],te[2]]:K[0]=["L",te[1],te[2]]),K.unshift(te),C){let he=K.pop();K.push(K[K.length-1],he)}}}function J(K){for(;K.length<M;){let ee=K[Math.floor(K.length/T)-1].slice();if(ee[0]==="C"&&(ee[1]=ee[5],ee[2]=ee[6]),C){let te=K[Math.floor(K.length/T)].slice();K.splice(K.length/2,0,ee,te)}else K.push(ee)}}if(p&&g&&g.length){for(B=0;B<p.length;B++){if(p[B]===g[0]){V=B;break}if(p[0]===g[g.length-p.length+B]){V=B,$=!0;break}if(p[p.length-1]===g[g.length-p.length+B]){V=p.length-B;break}}V===void 0&&(W=[])}return W.length&&ga(V)&&(M=_.length+V*T,$?(X(W,_),J(_)):(X(_,W),J(W))),[W,_]}fillSetter(){li.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,Co(this.start).tweenTo(Co(this.end),this.pos),void 0,!0)}}li.timers=[];let{defined:_l,getStyle:Ad,isArray:ya,isNumber:Pd,isObject:Yn,merge:iu,objectEach:va,pick:ba}=Pe;function su(P){return Yn(P)?iu({duration:500,defer:0},P):{duration:P?500:0,defer:0}}function Rd(P,o){let l=li.timers.length;for(;l--;)li.timers[l].elem!==P||o&&o!==li.timers[l].prop||(li.timers[l].stopped=!0)}let Cn={animate:function(P,o,l){let u,p="",g,_,C;Yn(l)||(C=arguments,l={duration:C[2],easing:C[3],complete:C[4]}),Pd(l.duration)||(l.duration=400),l.easing=typeof l.easing=="function"?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=iu(o),va(o,function(T,R){Rd(P,R),_=new li(P,l,R),g=void 0,R==="d"&&ya(o.d)?(_.paths=_.initPath(P,P.pathArray,o.d),_.toD=o.d,u=0,g=1):P.attr?u=P.attr(R):(u=parseFloat(Ad(P,R))||0,R!=="opacity"&&(p="px")),g||(g=T),typeof g=="string"&&g.match("px")&&(g=g.replace(/px/g,"")),_.run(u,g,p)})},animObject:su,getDeferredAnimation:function(P,o,l){let u=su(o),p=l?[l]:P.series,g=0,_=0;return p.forEach(C=>{let T=su(C.options.animation);g=Yn(o)&&_l(o.defer)?u.defer:Math.max(g,T.duration+T.defer),_=Math.min(u.duration,T.duration)}),P.renderer.forExport&&(g=0),{defer:Math.max(0,g-_),duration:Math.min(g,_)}},setAnimation:function(P,o){o.renderer.globalAnimation=ba(P,o.options.chart.animation,!0)},stop:Rd},{SVG_NS:Od,win:Pg}=S,{attr:wl,createElement:Md,css:ru,error:_a,isFunction:ir,isString:ou,objectEach:au,splat:lu}=Pe,{trustedTypes:wa}=Pg,Ca=wa&&ir(wa.createPolicy)&&wa.createPolicy("highcharts",{createHTML:P=>P}),Dd=Ca?Ca.createHTML(""):"";class on{static filterUserAttributes(o){return au(o,(l,u)=>{let p=!0;on.allowedAttributes.indexOf(u)===-1&&(p=!1),["background","dynsrc","href","lowsrc","src"].indexOf(u)!==-1&&(p=ou(l)&&on.allowedReferences.some(g=>l.indexOf(g)===0)),p||(_a(33,!1,void 0,{"Invalid attribute in config":`${u}`}),delete o[u]),ou(l)&&o[u]&&(o[u]=l.replace(/</g,"&lt;"))}),o}static parseStyle(o){return o.split(";").reduce((l,u)=>{let p=u.split(":").map(_=>_.trim()),g=p.shift();return g&&p.length&&(l[g.replace(/-([a-z])/g,_=>_[1].toUpperCase())]=p.join(":")),l},{})}static setElementHTML(o,l){o.innerHTML=on.emptyHTML,l&&new on(l).addToDOM(o)}constructor(o){this.nodes=typeof o=="string"?this.parseMarkup(o):o}addToDOM(o){return function l(u,p){let g;return lu(u).forEach(function(_){let C,T=_.tagName,R=_.textContent?S.doc.createTextNode(_.textContent):void 0,V=on.bypassHTMLFiltering;if(T)if(T==="#text")C=R;else if(on.allowedTags.indexOf(T)!==-1||V){let M=T==="svg"?Od:p.namespaceURI||Od,B=S.doc.createElementNS(M,T),$=_.attributes||{};au(_,function(W,X){X!=="tagName"&&X!=="attributes"&&X!=="children"&&X!=="style"&&X!=="textContent"&&($[X]=W)}),wl(B,V?$:on.filterUserAttributes($)),_.style&&ru(B,_.style),R&&B.appendChild(R),l(_.children||[],B),C=B}else _a(33,!1,void 0,{"Invalid tagName in config":T});C&&p.appendChild(C),g=C}),g}(this.nodes,o)}parseMarkup(o){let l,u=[];o=o.trim().replace(/ style=(["'])/g," data-style=$1");try{l=new DOMParser().parseFromString(Ca?Ca.createHTML(o):o,"text/html")}catch{}if(!l){let g=Md("div");g.innerHTML=o,l={body:g}}let p=(g,_)=>{let C=g.nodeName.toLowerCase(),T={tagName:C};C==="#text"&&(T.textContent=g.textContent||"");let R=g.attributes;if(R){let V={};[].forEach.call(R,M=>{M.name==="data-style"?T.style=on.parseStyle(M.value):V[M.name]=M.value}),T.attributes=V}if(g.childNodes.length){let V=[];[].forEach.call(g.childNodes,M=>{p(M,V)}),V.length&&(T.children=V)}_.push(T)};return[].forEach.call(l.body.childNodes,g=>p(g,u)),u}}on.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],on.allowedReferences=["https://","http://","mailto:","/","../","./","#"],on.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],on.emptyHTML=Dd,on.bypassHTMLFiltering=!1;let{defaultOptions:xa,defaultTime:cu}=Kn,{doc:uu}=S,{extend:Ea,getNestedProperty:Vr,isArray:hu,isNumber:Nd,isObject:Ld,isString:Vd,pick:Fd,ucfirst:du}=Pe,xo={add:(P,o)=>P+o,divide:(P,o)=>o!==0?P/o:"",eq:(P,o)=>P==o,each:function(P){let o=arguments[arguments.length-1];return!!hu(P)&&P.map((l,u)=>Cl(o.body,Ea(Ld(l)?l:{"@this":l},{"@index":u,"@first":u===0,"@last":u===P.length-1}))).join("")},ge:(P,o)=>P>=o,gt:(P,o)=>P>o,if:P=>!!P,le:(P,o)=>P<=o,lt:(P,o)=>P<o,multiply:(P,o)=>P*o,ne:(P,o)=>P!=o,subtract:(P,o)=>P-o,ucfirst:du,unless:P=>!P},fu={},pu=P=>/^["'].+["']$/.test(P);function Cl(P="",o,l){let u=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= #\(\)]+)\}/gu,p=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/gu,g=[],_=/f$/,C=/\.(\d)/,T=(l==null?void 0:l.options.lang)||xa.lang,R=l&&l.time||cu,V=l&&l.numberFormatter||Bd,M=(J="")=>{let K;return J==="true"||J!=="false"&&((K=Number(J)).toString()===J?K:pu(J)?J.slice(1,-1):Vr(J,o))},B,$,W=0,X;for(;(B=u.exec(P))!==null;){let J=B,K=p.exec(B[1]);K&&(B=K,X=!0),$&&$.isBlock||($={ctx:o,expression:B[1],find:B[0],isBlock:B[1].charAt(0)==="#",start:B.index,startInner:B.index+B[0].length,length:B[0].length});let ee=($.isBlock?J:B)[1].split(" ")[0].replace("#","");xo[ee]&&($.isBlock&&ee===$.fn&&W++,$.fn||($.fn=ee));let te=B[1]==="else";if($.isBlock&&$.fn&&(B[1]===`/${$.fn}`||te))if(W)!te&&W--;else{let le=$.startInner,he=P.substr(le,B.index-le);$.body===void 0?($.body=he,$.startInner=B.index+B[0].length):$.elseBody=he,$.find+=he+B[0],te||(g.push($),$=void 0)}else $.isBlock||g.push($);if(K&&!($!=null&&$.isBlock))break}return g.forEach(J=>{let K,ee,{body:te,elseBody:le,expression:he,fn:ue}=J;if(ue){let fe=[J],de=[],me=he.length,Te=0,ke;for(ee=0;ee<=me;ee++){let Be=he.charAt(ee);ke||Be!=='"'&&Be!=="'"?ke===Be&&(ke=""):ke=Be,ke||Be!==" "&&ee!==me||(de.push(he.substr(Te,ee-Te)),Te=ee+1)}for(ee=xo[ue].length;ee--;)fe.unshift(M(de[ee+1]));K=xo[ue].apply(o,fe),J.isBlock&&typeof K=="boolean"&&(K=Cl(K?te:le,o,l))}else{let fe=pu(he)?[he]:he.split(":");if(K=M(fe.shift()||""),fe.length&&typeof K=="number"){let de=fe.join(":");if(_.test(de)){let me=parseInt((de.match(C)||["","-1"])[1],10);K!==null&&(K=V(K,me,T.decimalPoint,de.indexOf(",")>-1?T.thousandsSep:""))}else K=R.dateFormat(de,K)}p.lastIndex=0,p.test(J.find)&&Vd(K)&&(K=`"${K}"`)}P=P.replace(J.find,Fd(K,""))}),X?Cl(P,o,l):P}function Bd(P,o,l,u){var X,J;o=+o;let p,g,[_,C]=(P=+P||0).toString().split("e").map(Number),T=((X=this==null?void 0:this.options)==null?void 0:X.lang)||xa.lang,R=(P.toString().split(".")[1]||"").split("e")[0].length,V=o,M={};l??(l=T.decimalPoint),u??(u=T.thousandsSep),o===-1?o=Math.min(R,20):Nd(o)?o&&C<0&&((g=o+C)>=0?(_=+_.toExponential(g).split("e")[0],o=g):(_=Math.floor(_),P=o<20?+(_*Math.pow(10,C)).toFixed(o):0,C=0)):o=2,C&&(o??(o=2),P=_),Nd(o)&&o>=0&&(M.minimumFractionDigits=o,M.maximumFractionDigits=o),u===""&&(M.useGrouping=!1);let B=u||l,$=B?"en":(this==null?void 0:this.locale)||T.locale||((J=uu.body.closest("[lang]"))==null?void 0:J.lang),W=JSON.stringify(M)+$;return p=(fu[W]??(fu[W]=new Intl.NumberFormat($,M))).format(P),B&&(p=p.replace(/\,/g,u??",").replace(".",l??".")),(o||+p!=0)&&(!(C<0)||V)||(p="0"),C&&+p!=0&&(p+="e"+(C<0?"":"+")+C),p}let Wi={dateFormat:function(P,o,l){return cu.dateFormat(P,o,l)},format:Cl,helpers:xo,numberFormat:Bd};(function(P){let o;P.rendererTypes={},P.getRendererType=function(l=o){return P.rendererTypes[l]||P.rendererTypes[o]},P.registerRendererType=function(l,u,p){P.rendererTypes[l]=u,(!o||p)&&(o=l,S.Renderer=u)}})(r||(r={}));let Eo=r,{clamp:Rg,pick:Fr,pushUnique:Ns,stableSort:To}=Pe;(a||(a={})).distribute=function P(o,l,u){let p=o,g=p.reducedLen||l,_=(te,le)=>te.target-le.target,C=[],T=o.length,R=[],V=C.push,M,B,$,W=!0,X,J,K=0,ee;for(M=T;M--;)K+=o[M].size;if(K>g){for(To(o,(te,le)=>(le.rank||0)-(te.rank||0)),$=(ee=o[0].rank===o[o.length-1].rank)?T/2:-1,B=ee?$:T-1;$&&K>g;)X=o[M=Math.floor(B)],Ns(R,M)&&(K-=X.size),B+=$,ee&&B>=o.length&&($/=2,B=$);R.sort((te,le)=>le-te).forEach(te=>V.apply(C,o.splice(te,1)))}for(To(o,_),o=o.map(te=>({size:te.size,targets:[te.target],align:Fr(te.align,.5)}));W;){for(M=o.length;M--;)X=o[M],J=(Math.min.apply(0,X.targets)+Math.max.apply(0,X.targets))/2,X.pos=Rg(J-X.size*X.align,0,l-X.size);for(M=o.length,W=!1;M--;)M>0&&o[M-1].pos+o[M-1].size>o[M].pos&&(o[M-1].size+=o[M].size,o[M-1].targets=o[M-1].targets.concat(o[M].targets),o[M-1].align=.5,o[M-1].pos+o[M-1].size>l&&(o[M-1].pos=l-o[M-1].size),o.splice(M,1),W=!0)}return V.apply(p,C),M=0,o.some(te=>{let le=0;return(te.targets||[]).some(()=>(p[M].pos=te.pos+le,u!==void 0&&Math.abs(p[M].pos-p[M].target)>u?(p.slice(0,M+1).forEach(he=>delete he.pos),p.reducedLen=(p.reducedLen||l)-.1*l,p.reducedLen>.1*l&&P(p,l,u),!0):(le+=p[M].size,M++,!1)))}),To(p,_),p};let Br=a,{animate:Ud,animObject:an,stop:Ta}=Cn,{deg2rad:So,doc:ys,svg:Og,SVG_NS:Sa,win:Mg,isFirefox:Dg}=S,{addEvent:Ng,attr:mu,createElement:ka,crisp:ts,css:gu,defined:ns,erase:jd,extend:vs,fireEvent:yu,getAlignFactor:vu,isArray:Hd,isFunction:Ls,isNumber:Lg,isObject:Vg,isString:Ia,merge:ko,objectEach:Ur,pick:vi,pInt:sr,pushUnique:$d,replaceNested:bu,syncTimeout:xn,uniqueKey:zd}=Pe;class Nn{_defaultGetter(o){let l=vi(this[o+"Value"],this[o],this.element?this.element.getAttribute(o):null,0);return/^-?[\d\.]+$/.test(l)&&(l=parseFloat(l)),l}_defaultSetter(o,l,u){u.setAttribute(l,o)}add(o){let l,u=this.renderer,p=this.element;return o&&(this.parentGroup=o),this.textStr!==void 0&&this.element.nodeName==="text"&&u.buildText(this),this.added=!0,(!o||o.handleZ||this.zIndex)&&(l=this.zIndexSetter()),l||(o?o.element:u.box).appendChild(p),this.onAdd&&this.onAdd(),this}addClass(o,l){let u=l?"":this.attr("class")||"";return(o=(o||"").split(/ /g).reduce(function(p,g){return u.indexOf(g)===-1&&p.push(g),p},u?[u]:[]).join(" "))!==u&&this.attr("class",o),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(o,l,u,p=!0){let g={"text-align":o==null?void 0:o.align},_=this.renderer,C=_.alignedObjects,T=!!o;o?(this.alignOptions=o,this.alignByTranslate=l,this.alignTo=u):(o=this.alignOptions||{},l=this.alignByTranslate,u=this.alignTo);let R=!u||Ia(u)?u||"renderer":void 0;R&&(T&&$d(C,this),u=void 0);let V=vi(u,_[R],_),M=(V.x||0)+(o.x||0)+((V.width||0)-(o.width||0))*vu(o.align),B=(V.y||0)+(o.y||0)+((V.height||0)-(o.height||0))*vu(o.verticalAlign);return g[l?"translateX":"x"]=Math.round(M),g[l?"translateY":"y"]=Math.round(B),p&&(this[this.placed?"animate":"attr"](g),this.placed=!0),this.alignAttr=g,this}alignSetter(o){let l={left:"start",center:"middle",right:"end"};l[o]&&(this.alignValue=o,this.element.setAttribute("text-anchor",l[o]))}animate(o,l,u){let p=an(vi(l,this.renderer.globalAnimation,!0)),g=p.defer;return ys.hidden&&(p.duration=0),p.duration!==0?(u&&(p.complete=u),xn(()=>{this.element&&Ud(this,o,p)},g)):(this.attr(o,void 0,u||p.complete),Ur(o,function(_,C){p.step&&p.step.call(this,_,{prop:C,pos:1,elem:this})},this)),this}applyTextOutline(o){let l=this.element;o.indexOf("contrast")!==-1&&(o=o.replace(/contrast/g,this.renderer.getContrast(l.style.fill)));let u=o.split(" "),p=u[u.length-1],g=u[0];if(g&&g!=="none"&&S.svg){this.fakeTS=!0,g=g.replace(/(^[\d\.]+)(.*?)$/g,function(V,M,B){return 2*Number(M)+B}),this.removeTextOutline();let _=ys.createElementNS(Sa,"tspan");mu(_,{class:"highcharts-text-outline",fill:p,stroke:p,"stroke-width":g,"stroke-linejoin":"round"});let C=l.querySelector("textPath")||l;[].forEach.call(C.childNodes,V=>{let M=V.cloneNode(!0);M.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(B=>M.removeAttribute(B)),_.appendChild(M)});let T=0;[].forEach.call(C.querySelectorAll("text tspan"),V=>{T+=Number(V.getAttribute("dy"))});let R=ys.createElementNS(Sa,"tspan");R.textContent="",mu(R,{x:Number(l.getAttribute("x")),dy:-T}),_.appendChild(R),C.insertBefore(_,C.firstChild)}}attr(o,l,u,p){let{element:g}=this,_=Nn.symbolCustomAttribs,C,T,R=this,V;return typeof o=="string"&&l!==void 0&&(C=o,(o={})[C]=l),typeof o=="string"?R=(this[o+"Getter"]||this._defaultGetter).call(this,o,g):(Ur(o,function(M,B){V=!1,p||Ta(this,B),this.symbolName&&_.indexOf(B)!==-1&&(T||(this.symbolAttr(o),T=!0),V=!0),this.rotation&&(B==="x"||B==="y")&&(this.doTransform=!0),V||(this[B+"Setter"]||this._defaultSetter).call(this,M,B,g)},this),this.afterSetters()),u&&u.call(this),R}clip(o){if(o&&!o.clipPath){let l=zd()+"-",u=this.renderer.createElement("clipPath").attr({id:l}).add(this.renderer.defs);vs(o,{clipPath:u,id:l,count:0}),o.add(u)}return this.attr("clip-path",o?`url(${this.renderer.url}#${o.id})`:"none")}crisp(o,l){l=Math.round(l||o.strokeWidth||0);let u=o.x||this.x||0,p=o.y||this.y||0,g=(o.width||this.width||0)+u,_=(o.height||this.height||0)+p,C=ts(u,l),T=ts(p,l);return vs(o,{x:C,y:T,width:ts(g,l)-C,height:ts(_,l)-T}),ns(o.strokeWidth)&&(o.strokeWidth=l),o}complexColor(o,l,u){let p=this.renderer,g,_,C,T,R,V,M,B,$,W,X=[],J;yu(this.renderer,"complexColor",{args:arguments},function(){if(o.radialGradient?_="radialGradient":o.linearGradient&&(_="linearGradient"),_){if(C=o[_],R=p.gradients,V=o.stops,$=u.radialReference,Hd(C)&&(o[_]=C={x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientUnits:"userSpaceOnUse"}),_==="radialGradient"&&$&&!ns(C.gradientUnits)&&(T=C,C=ko(C,p.getRadialAttr($,T),{gradientUnits:"userSpaceOnUse"})),Ur(C,function(K,ee){ee!=="id"&&X.push(ee,K)}),Ur(V,function(K){X.push(K)}),R[X=X.join(",")])W=R[X].attr("id");else{C.id=W=zd();let K=R[X]=p.createElement(_).attr(C).add(p.defs);K.radAttr=T,K.stops=[],V.forEach(function(ee){ee[1].indexOf("rgba")===0?(M=(g=In.parse(ee[1])).get("rgb"),B=g.get("a")):(M=ee[1],B=1);let te=p.createElement("stop").attr({offset:ee[0],"stop-color":M,"stop-opacity":B}).add(K);K.stops.push(te)})}J="url("+p.url+"#"+W+")",u.setAttribute(l,J),u.gradient=X,o.toString=function(){return J}}})}css(o){let l=this.styles,u={},p=this.element,g,_=!l;if(l&&Ur(o,function(C,T){l&&l[T]!==C&&(u[T]=C,_=!0)}),_){l&&(o=vs(l,u)),o.width===null||o.width==="auto"?delete this.textWidth:p.nodeName.toLowerCase()==="text"&&o.width&&(g=this.textWidth=sr(o.width)),vs(this.styles,o),g&&!Og&&this.renderer.forExport&&delete o.width;let C=Dg&&o.fontSize||null;C&&(Lg(C)||/^\d+$/.test(C))&&(o.fontSize+="px");let T=ko(o);p.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(R=>T&&delete T[R]),T.color&&(T.fill=T.color)),gu(p,T)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),o.textOutline&&this.applyTextOutline(o.textOutline)),this}dashstyleSetter(o){let l,u=this["stroke-width"];if(u==="inherit"&&(u=1),o=o&&o.toLowerCase()){let p=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(l=p.length;l--;)p[l]=""+sr(p[l])*vi(u,NaN);o=p.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",o)}}destroy(){var T;let o=this,l=o.element||{},u=o.renderer,p=l.ownerSVGElement,g=l.nodeName==="SPAN"&&o.parentGroup||void 0,_,C;if(l.onclick=l.onmouseout=l.onmouseover=l.onmousemove=l.point=null,Ta(o),o.clipPath&&p){let R=o.clipPath;[].forEach.call(p.querySelectorAll("[clip-path],[CLIP-PATH]"),function(V){V.getAttribute("clip-path").indexOf(R.element.id)>-1&&V.removeAttribute("clip-path")}),o.clipPath=R.destroy()}if(o.connector=(T=o.connector)==null?void 0:T.destroy(),o.stops){for(C=0;C<o.stops.length;C++)o.stops[C].destroy();o.stops.length=0,o.stops=void 0}for(o.safeRemoveChild(l);g&&g.div&&g.div.childNodes.length===0;)_=g.parentGroup,o.safeRemoveChild(g.div),delete g.div,g=_;o.alignOptions&&jd(u.alignedObjects,o),Ur(o,function(R,V){o[V]&&o[V].parentGroup===o&&o[V].destroy&&o[V].destroy(),delete o[V]})}dSetter(o,l,u){Hd(o)&&(typeof o[0]=="string"&&(o=this.renderer.pathToSegments(o)),this.pathArray=o,o=o.reduce((p,g,_)=>g&&g.join?(_?p+" ":"")+g.join(" "):(g||"").toString(),"")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0"),this[l]!==o&&(u.setAttribute(l,o),this[l]=o)}fillSetter(o,l,u){typeof o=="string"?u.setAttribute(l,o):o&&this.complexColor(o,l,u)}hrefSetter(o,l,u){u.setAttributeNS("http://www.w3.org/1999/xlink",l,o)}getBBox(o,l){let u,p,g,_,{alignValue:C,element:T,renderer:R,styles:V,textStr:M}=this,{cache:B,cacheKeys:$}=R,W=T.namespaceURI===this.SVG_NS,X=vi(l,this.rotation,0),J=R.styledMode?T&&Nn.prototype.getStyle.call(T,"font-size"):V.fontSize;if(ns(M)&&((_=M.toString()).indexOf("<")===-1&&(_=_.replace(/\d/g,"0")),_+=["",R.rootFontSize,J,X,this.textWidth,C,V.lineClamp,V.textOverflow,V.fontWeight].join(",")),_&&!o&&(u=B[_]),!u||u.polygon){if(W||R.forExport){try{g=this.fakeTS&&function(ee){let te=T.querySelector(".highcharts-text-outline");te&&gu(te,{display:ee})},Ls(g)&&g("none"),u=T.getBBox?vs({},T.getBBox()):{width:T.offsetWidth,height:T.offsetHeight,x:0,y:0},Ls(g)&&g("")}catch{}(!u||u.width<0)&&(u={x:0,y:0,width:0,height:0})}else u=this.htmlGetBBox();p=u.height,W&&(u.height=p={"11px,17":14,"13px,20":16}[`${J||""},${Math.round(p)}`]||p),X&&(u=this.getRotatedBox(u,X));let K={bBox:u};yu(this,"afterGetBBox",K),u=K.bBox}if(_&&(M===""||u.height>0)){for(;$.length>250;)delete B[$.shift()];B[_]||$.push(_),B[_]=u}return u}getRotatedBox(o,l){let{x:u,y:p,width:g,height:_}=o,{alignValue:C,translateY:T,rotationOriginX:R=0,rotationOriginY:V=0}=this,M=vu(C),B=Number(this.element.getAttribute("y")||0)-(T?0:p),$=l*So,W=(l-90)*So,X=Math.cos($),J=Math.sin($),K=g*X,ee=g*J,te=Math.cos(W),le=Math.sin(W),[[he,ue],[fe,de]]=[R,V].map(ft=>[ft-ft*X,ft*J]),me=u+M*(g-K)+he+de+B*te,Te=me+K,ke=Te-_*te,Be=ke-K,Ee=p+B-M*ee-ue+fe+B*le,Ve=Ee+ee,tt=Ve-_*le,wt=tt-ee,Qe=Math.min(me,Te,ke,Be),yt=Math.min(Ee,Ve,tt,wt),Xe=Math.max(me,Te,ke,Be)-Qe,it=Math.max(Ee,Ve,tt,wt)-yt;return{x:Qe,y:yt,width:Xe,height:it,polygon:[[me,Ee],[Te,Ve],[ke,tt],[Be,wt]]}}getStyle(o){return Mg.getComputedStyle(this.element||this,"").getPropertyValue(o)}hasClass(o){return(""+this.attr("class")).split(" ").indexOf(o)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(o,l){this.onEvents={},this.opacity=1,this.SVG_NS=Sa,this.element=l==="span"||l==="body"?ka(l):ys.createElementNS(this.SVG_NS,l),this.renderer=o,this.styles={},yu(this,"afterInit")}on(o,l){let{onEvents:u}=this;return u[o]&&u[o](),u[o]=Ng(this.element,o,l),this}opacitySetter(o,l,u){let p=Number(Number(o).toFixed(3));this.opacity=p,u.setAttribute(l,p)}reAlign(){var o;(o=this.alignOptions)!=null&&o.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(o){return this.attr("class",(""+this.attr("class")).replace(Ia(o)?RegExp(`(^| )${o}( |$)`):o," ").replace(/ +/g," ").trim())}removeTextOutline(){let o=this.element.querySelector("tspan.highcharts-text-outline");o&&this.safeRemoveChild(o)}safeRemoveChild(o){let l=o.parentNode;l&&l.removeChild(o)}setRadialReference(o){let l=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=o,l&&l.radAttr&&l.animate(this.renderer.getRadialAttr(o,l.radAttr)),this}shadow(o){var g;let{renderer:l}=this,u=ko(((g=this.parentGroup)==null?void 0:g.rotation)===90?{offsetX:-1,offsetY:-1}:{},Vg(o)?o:{}),p=l.shadowDefinition(u);return this.attr({filter:o?`url(${l.url}#${p})`:"none"})}show(o=!0){return this.attr({visibility:o?"inherit":"visible"})}"stroke-widthSetter"(o,l,u){this[l]=o,u.setAttribute(l,o)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let o=this.getStyle("stroke-width"),l=0,u;return/px$/.test(o)?l=sr(o):o!==""&&(mu(u=ys.createElementNS(Sa,"rect"),{width:o,"stroke-width":0}),this.element.parentNode.appendChild(u),l=u.getBBox().width,u.parentNode.removeChild(u)),l}symbolAttr(o){let l=this;Nn.symbolCustomAttribs.forEach(function(u){l[u]=vi(o[u],l[u])}),l.attr({d:l.renderer.symbols[l.symbolName](l.x,l.y,l.width,l.height,l)})}textSetter(o){o!==this.textStr&&(delete this.textPxLength,this.textStr=o,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(o){let l=this.element,u=l.getElementsByTagName("title")[0]||ys.createElementNS(this.SVG_NS,"title");l.insertBefore?l.insertBefore(u,l.firstChild):l.appendChild(u),u.textContent=bu(vi(o,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let o=this.element;return o.parentNode.appendChild(o),this}translate(o,l){return this.attr({translateX:o,translateY:l})}updateTransform(o="transform"){var B;let{element:l,matrix:u,rotation:p=0,rotationOriginX:g,rotationOriginY:_,scaleX:C,scaleY:T,translateX:R=0,translateY:V=0}=this,M=["translate("+R+","+V+")"];ns(u)&&M.push("matrix("+u.join(",")+")"),p&&(M.push("rotate("+p+" "+vi(g,l.getAttribute("x"),0)+" "+vi(_,l.getAttribute("y")||0)+")"),((B=this.text)==null?void 0:B.element.tagName)==="SPAN"&&this.text.attr({rotation:p,rotationOriginX:(g||0)-this.padding,rotationOriginY:(_||0)-this.padding})),(ns(C)||ns(T))&&M.push("scale("+vi(C,1)+" "+vi(T,1)+")"),M.length&&!(this.text||this).textPath&&l.setAttribute(o,M.join(" "))}visibilitySetter(o,l,u){o==="inherit"?u.removeAttribute(l):this[l]!==o&&u.setAttribute(l,o),this[l]=o}xGetter(o){return this.element.nodeName==="circle"&&(o==="x"?o="cx":o==="y"&&(o="cy")),this._defaultGetter(o)}zIndexSetter(o,l){let u=this.renderer,p=this.parentGroup,g=(p||u).element||u.box,_=this.element,C=g===u.box,T,R,V,M=!1,B,$=this.added,W;if(ns(o)?(_.setAttribute("data-z-index",o),o=+o,this[l]===o&&($=!1)):ns(this[l])&&_.removeAttribute("data-z-index"),this[l]=o,$){for((o=this.zIndex)&&p&&(p.handleZ=!0),W=(T=g.childNodes).length-1;W>=0&&!M;W--)B=!ns(V=(R=T[W]).getAttribute("data-z-index")),R!==_&&(o<0&&B&&!C&&!W?(g.insertBefore(_,T[W]),M=!0):(sr(V)<=o||B&&(!ns(o)||o>=0))&&(g.insertBefore(_,T[W+1]),M=!0));M||(g.insertBefore(_,T[C?3:0]),M=!0)}return M}}Nn.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Nn.prototype.strokeSetter=Nn.prototype.fillSetter,Nn.prototype.yGetter=Nn.prototype.xGetter,Nn.prototype.matrixSetter=Nn.prototype.rotationOriginXSetter=Nn.prototype.rotationOriginYSetter=Nn.prototype.rotationSetter=Nn.prototype.scaleXSetter=Nn.prototype.scaleYSetter=Nn.prototype.translateXSetter=Nn.prototype.translateYSetter=Nn.prototype.verticalAlignSetter=function(P,o){this[o]=P,this.doTransform=!0};let is=Nn,{defined:_u,extend:Wd,getAlignFactor:Aa,isNumber:Io,merge:Vs,pick:Pa,removeEvent:Gd}=Pe;class ss extends is{constructor(o,l,u,p,g,_,C,T,R,V){let M;super(o,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=l,this.x=u,this.y=p,this.anchorX=_,this.anchorY=C,this.baseline=R,this.className=V,this.addClass(V==="button"?"highcharts-no-tooltip":"highcharts-label"),V&&this.addClass("highcharts-"+V),this.text=o.text(void 0,0,0,T).attr({zIndex:1}),typeof g=="string"&&((M=/^url\((.*?)\)$/.test(g))||this.renderer.symbols[g])&&(this.symbolKey=g),this.bBox=ss.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=o.styledMode||M,this.deferredAttr={},this.alignFactor=0}alignSetter(o){let l=Aa(o);this.textAlign=o,l!==this.alignFactor&&(this.alignFactor=l,this.bBox&&Io(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(o,l){this.anchorX=o,this.boxAttr(l,Math.round(o)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(o,l){this.anchorY=o,this.boxAttr(l,o-this.ySetting)}boxAttr(o,l){this.box?this.box.attr(o,l):this.deferredAttr[o]=l}css(o){if(o){let l={};o=Vs(o),ss.textProps.forEach(u=>{o[u]!==void 0&&(l[u]=o[u],delete o[u])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return is.prototype.css.call(this,o)}destroy(){Gd(this.element,"mouseenter"),Gd(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),is.prototype.destroy.call(this)}fillSetter(o,l){o&&(this.needsBox=!0),this.fill=o,this.boxAttr(l,o)}getBBox(o,l){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:u,height:p=0,translateX:g=0,translateY:_=0,width:C=0}=this,T=Pa(this.paddingLeft,u),R=l??(this.rotation||0),V={width:C,height:p,x:g+this.bBox.x-T,y:_+this.bBox.y-u+this.baselineOffset};return R&&(V=this.getRotatedBox(V,R)),V}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(o){this.heightSetting=o,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Pa(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&_u(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(o,l){Io(o)?o!==this[l]&&(this[l]=o,this.updateTextPadding()):this[l]=void 0}rSetter(o,l){this.boxAttr(l,o)}strokeSetter(o,l){this.stroke=o,this.boxAttr(l,o)}"stroke-widthSetter"(o,l){o&&(this.needsBox=!0),this["stroke-width"]=o,this.boxAttr(l,o)}"text-alignSetter"(o){this.textAlign=o,this.updateTextPadding()}textSetter(o){o!==void 0&&this.text.attr({text:o}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let o,l=this.text,u={},p=this.padding,g=this.bBox=(!Io(this.widthSetting)||!Io(this.heightSetting)||this.textAlign)&&_u(l.textStr)?l.getBBox(void 0,0):ss.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||g.height||0)+2*p;let _=this.renderer.fontMetrics(l);if(this.baselineOffset=p+Math.min((this.text.firstLineMetrics||_).b,g.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-_.h)/2),this.needsBox&&!l.textPath){if(!this.box){let C=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();C.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),C.add(this)}o=this.getCrispAdjust(),u.x=o,u.y=(this.baseline?-this.baselineOffset:0)+o,u.width=Math.round(this.width),u.height=Math.round(this.height),this.box.attr(Wd(u,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let o=this.text,l=o.styles.textAlign||this.textAlign;if(!o.textPath){this.updateBoxSize();let u=this.baseline?0:this.baselineOffset,p=(this.paddingLeft??this.padding)+Aa(l)*(this.widthSetting??this.bBox.width);(p!==o.x||u!==o.y)&&(o.attr({align:l,x:p}),u!==void 0&&o.attr("y",u)),o.x=p,o.y=u}}widthSetter(o){this.widthSetting=Io(o)?o:void 0,this.doUpdate=!0}getPaddedWidth(){let o=this.padding,l=Pa(this.paddingLeft,o),u=Pa(this.paddingRight,o);return(this.widthSetting||this.bBox.width||0)+l+u}xSetter(o){this.x=o,this.alignFactor&&(o-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(o),this.attr("translateX",this.xSetting)}ySetter(o){this.ySetting=this.y=Math.round(o),this.attr("translateY",this.ySetting)}}ss.emptyBBox={width:0,height:0,x:0,y:0},ss.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:wu,isNumber:Cu,pick:rr}=Pe;function xu(P,o,l,u,p){let g=[];if(p){let _=p.start||0,C=rr(p.r,l),T=rr(p.r,u||l),R=2e-4/(p.borderRadius?1:Math.max(C,1)),V=Math.abs((p.end||0)-_-2*Math.PI)<R,M=(p.end||0)-(V?R:0),B=p.innerR,$=rr(p.open,V),W=Math.cos(_),X=Math.sin(_),J=Math.cos(M),K=Math.sin(M),ee=rr(p.longArc,M-_-Math.PI<R?0:1),te=["A",C,T,0,ee,rr(p.clockwise,1),P+C*J,o+T*K];te.params={start:_,end:M,cx:P,cy:o},g.push(["M",P+C*W,o+T*X],te),wu(B)&&((te=["A",B,B,0,ee,wu(p.clockwise)?1-p.clockwise:0,P+B*W,o+B*X]).params={start:M,end:_,cx:P,cy:o},g.push($?["M",P+B*J,o+B*K]:["L",P+B*J,o+B*K],te)),$||g.push(["Z"])}return g}function Ra(P,o,l,u,p){return p&&p.r?Eu(P,o,l,u,p):[["M",P,o],["L",P+l,o],["L",P+l,o+u],["L",P,o+u],["Z"]]}function Eu(P,o,l,u,p){let g=(p==null?void 0:p.r)||0;return[["M",P+g,o],["L",P+l-g,o],["A",g,g,0,0,1,P+l,o+g],["L",P+l,o+u-g],["A",g,g,0,0,1,P+l-g,o+u],["L",P+g,o+u],["A",g,g,0,0,1,P,o+u-g],["L",P,o+g],["A",g,g,0,0,1,P+g,o],["Z"]]}let Tu={arc:xu,callout:function(P,o,l,u,p){let g=Math.min(p&&p.r||0,l,u),_=g+6,C=p&&p.anchorX,T=p&&p.anchorY||0,R=Eu(P,o,l,u,{r:g});if(!Cu(C)||C<l&&C>0&&T<u&&T>0)return R;if(P+C>l-_)if(T>o+_&&T<o+u-_)R.splice(3,1,["L",P+l,T-6],["L",P+l+6,T],["L",P+l,T+6],["L",P+l,o+u-g]);else if(C<l){let V=T<o+_,M=V?o:o+u;R.splice(V?2:5,0,["L",C,T],["L",P+l-g,M])}else R.splice(3,1,["L",P+l,u/2],["L",C,T],["L",P+l,u/2],["L",P+l,o+u-g]);else if(P+C<_)if(T>o+_&&T<o+u-_)R.splice(7,1,["L",P,T+6],["L",P-6,T],["L",P,T-6],["L",P,o+g]);else if(C>0){let V=T<o+_,M=V?o:o+u;R.splice(V?1:6,0,["L",C,T],["L",P+g,M])}else R.splice(7,1,["L",P,u/2],["L",C,T],["L",P,u/2],["L",P,o+g]);else T>u&&C<l-_?R.splice(5,1,["L",C+6,o+u],["L",C,o+u+6],["L",C-6,o+u],["L",P+g,o+u]):T<0&&C>_&&R.splice(1,1,["L",C-6,o],["L",C,o-6],["L",C+6,o],["L",l-g,o]);return R},circle:function(P,o,l,u){return xu(P+l/2,o+u/2,l/2,u/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(P,o,l,u){return[["M",P+l/2,o],["L",P+l,o+u/2],["L",P+l/2,o+u],["L",P,o+u/2],["Z"]]},rect:Ra,roundedRect:Eu,square:Ra,triangle:function(P,o,l,u){return[["M",P+l/2,o],["L",P+l,o+u],["L",P,o+u],["Z"]]},"triangle-down":function(P,o,l,u){return[["M",P,o],["L",P+l,o],["L",P+l/2,o+u],["Z"]]}},{doc:jr,SVG_NS:qd,win:Su}=S,{attr:Oa,extend:ku,fireEvent:Kd,isString:xl,objectEach:Yd,pick:Xd}=Pe,Fs=(P,o)=>P.substring(0,o)+"",Jd=class{constructor(P){let o=P.styles;this.renderer=P.renderer,this.svgElement=P,this.width=P.textWidth,this.textLineHeight=o&&o.lineHeight,this.textOutline=o&&o.textOutline,this.ellipsis=!!(o&&o.textOverflow==="ellipsis"),this.lineClamp=o==null?void 0:o.lineClamp,this.noWrap=!!(o&&o.whiteSpace==="nowrap")}buildSVG(){let P=this.svgElement,o=P.element,l=P.renderer,u=Xd(P.textStr,"").toString(),p=u.indexOf("<")!==-1,g=o.childNodes,_=!P.added&&l.box,C=[u,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,P.getStyle("font-size"),P.styles.lineClamp,this.width].join(",");if(C!==P.textCache){P.textCache=C,delete P.actualWidth;for(let T=g.length;T--;)o.removeChild(g[T]);if(p||this.ellipsis||this.width||P.textPath||u.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(u))){if(u!==""){_&&_.appendChild(o);let T=new on(u);this.modifyTree(T.nodes),T.addToDOM(o),this.modifyDOM(),this.ellipsis&&(o.textContent||"").indexOf("")!==-1&&P.attr("title",this.unescapeEntities(P.textStr||"",["&lt;","&gt;"])),_&&_.removeChild(o)}}else o.appendChild(jr.createTextNode(this.unescapeEntities(u)));xl(this.textOutline)&&P.applyTextOutline&&P.applyTextOutline(this.textOutline)}}modifyDOM(){let P,o=this.svgElement,l=Oa(o.element,"x");for(o.firstLineMetrics=void 0;(P=o.element.firstChild)&&/^[\s\u200B]*$/.test(P.textContent||" ");)o.element.removeChild(P);[].forEach.call(o.element.querySelectorAll("tspan.highcharts-br"),(_,C)=>{_.nextSibling&&_.previousSibling&&(C===0&&_.previousSibling.nodeType===1&&(o.firstLineMetrics=o.renderer.fontMetrics(_.previousSibling)),Oa(_,{dy:this.getLineHeight(_.nextSibling),x:l}))});let u=this.width||0;if(!u)return;let p=(_,C)=>{var X;let T=_.textContent||"",R=T.replace(/([^\^])-/g,"$1- ").split(" "),V=!this.noWrap&&(R.length>1||o.element.childNodes.length>1),M=this.getLineHeight(C),B=Math.max(0,u-.8*M),$=0,W=o.actualWidth;if(V){let J=[],K=[];for(;C.firstChild&&C.firstChild!==_;)K.push(C.firstChild),C.removeChild(C.firstChild);for(;R.length;)if(R.length&&!this.noWrap&&$>0&&(J.push(_.textContent||""),_.textContent=R.join(" ").replace(/- /g,"-")),this.truncate(_,void 0,R,$===0&&W||0,u,B,(ee,te)=>R.slice(0,te).join(" ").replace(/- /g,"-")),W=o.actualWidth,$++,this.lineClamp&&$>=this.lineClamp){R.length&&(this.truncate(_,_.textContent||"",void 0,0,u,B,Fs),_.textContent=((X=_.textContent)==null?void 0:X.replace("",""))+"");break}K.forEach(ee=>{C.insertBefore(ee,_)}),J.forEach(ee=>{C.insertBefore(jr.createTextNode(ee),_);let te=jr.createElementNS(qd,"tspan");te.textContent="",Oa(te,{dy:M,x:l}),C.insertBefore(te,_)})}else this.ellipsis&&T&&this.truncate(_,T,void 0,0,u,B,Fs)},g=_=>{[].slice.call(_.childNodes).forEach(C=>{C.nodeType===Su.Node.TEXT_NODE?p(C,_):(C.className.baseVal.indexOf("highcharts-br")!==-1&&(o.actualWidth=0),g(C))})};g(o.element)}getLineHeight(P){let o=P.nodeType===Su.Node.TEXT_NODE?P.parentElement:P;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(o||this.svgElement.element).h}modifyTree(P){let o=(l,u)=>{let{attributes:p={},children:g,style:_={},tagName:C}=l,T=this.renderer.styledMode;if(C==="b"||C==="strong"?T?p.class="highcharts-strong":_.fontWeight="bold":(C==="i"||C==="em")&&(T?p.class="highcharts-emphasized":_.fontStyle="italic"),_&&_.color&&(_.fill=_.color),C==="br"){p.class="highcharts-br",l.textContent="";let R=P[u+1];R&&R.textContent&&(R.textContent=R.textContent.replace(/^ +/gm,""))}else C==="a"&&g&&g.some(R=>R.tagName==="#text")&&(l.children=[{children:g,tagName:"tspan"}]);C!=="#text"&&C!=="a"&&(l.tagName="tspan"),ku(l,{attributes:p,style:_}),g&&g.filter(R=>R.tagName!=="#text").forEach(o)};P.forEach(o),Kd(this.svgElement,"afterModifyTree",{nodes:P})}truncate(P,o,l,u,p,g,_){let C,T,R=this.svgElement,{rotation:V}=R,M=[],B=l&&!u?1:0,$=(o||l||"").length,W=$;l||(p=g);let X=function(J,K){let ee=K||J,te=P.parentNode;if(te&&M[ee]===void 0&&te.getSubStringLength)try{M[ee]=u+te.getSubStringLength(0,l?ee+1:ee)}catch{}return M[ee]};if(R.rotation=0,u+(T=X(P.textContent.length))>p){for(;B<=$;)W=Math.ceil((B+$)/2),l&&(C=_(l,W)),T=X(W,C&&C.length-1),B===$?B=$+1:T>p?$=W-1:B=W;$===0?P.textContent="":o&&$===o.length-1||(P.textContent=C||_(o||l,W)),this.ellipsis&&T>p&&this.truncate(P,P.textContent||"",void 0,0,p,g,Fs)}l&&l.splice(0,W),R.actualWidth=T,R.rotation=V}unescapeEntities(P,o){return Yd(this.renderer.escapes,function(l,u){o&&o.indexOf(l)!==-1||(P=P.toString().replace(RegExp(l,"g"),u))}),P}},{defaultOptions:Qd}=Kn,{charts:Zd,deg2rad:Iu,doc:Bs,isFirefox:ki,isMS:Au,isWebKit:ef,noop:Ao,SVG_NS:E,symbolSizes:j,win:Y}=S,{addEvent:ne,attr:pe,createElement:_e,crisp:je,css:qt,defined:pn,destroyObjectProperties:Ut,extend:En,isArray:ci,isNumber:bs,isObject:bi,isString:El,merge:Ma,pick:Fg,pInt:ZM,replaceNested:eD,uniqueKey:tD}=Pe;class tf{constructor(o,l,u,p,g,_,C){let T,R,V=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),M=V.element;C||V.css(this.getStyle(p||{})),o.appendChild(M),pe(o,"dir","ltr"),o.innerHTML.indexOf("xmlns")===-1&&pe(M,"xmlns",this.SVG_NS),this.box=M,this.boxWrapper=V,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Bs.createTextNode("Created with Highcharts 12.1.0")),this.defs=this.createElement("defs").add(),this.allowHTML=_,this.forExport=g,this.styledMode=C,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=V.getStyle("font-size"),this.setSize(l,u,!1),ki&&o.getBoundingClientRect&&((T=function(){qt(o,{left:0,top:0}),R=o.getBoundingClientRect(),qt(o,{left:Math.ceil(R.left)-R.left+"px",top:Math.ceil(R.top)-R.top+"px"})})(),this.unSubPixelFix=ne(Y,"resize",T))}definition(o){return new on([o]).addToDOM(this.defs.element)}getReferenceURL(){if((ki||ef)&&Bs.getElementsByTagName("base").length){if(!pn(i)){let o=tD(),l=new on([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:o},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${o})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Bs.body);qt(l,{position:"fixed",top:0,left:0,zIndex:9e5});let u=Bs.elementFromPoint(6,6);i=(u&&u.id)==="hitme",Bs.body.removeChild(l)}if(i)return eD(Y.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(o){return this.style=En({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},o),this.style}setStyle(o){this.boxWrapper.css(this.getStyle(o))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let o=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Ut(this.gradients||{}),this.gradients=null,this.defs=o.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(o){return new this.Element(this,o)}getRadialAttr(o,l){return{cx:o[0]-o[2]/2+(l.cx||0)*o[2],cy:o[1]-o[2]/2+(l.cy||0)*o[2],r:(l.r||0)*o[2]}}shadowDefinition(o){let l=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(o).map(p=>`${p}-${o[p]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),u=Ma({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},o);return this.defs.element.querySelector(`#${l}`)||this.definition({tagName:"filter",attributes:{id:l,filterUnits:u.filterUnits},children:this.getShadowFilterContent(u)}),l}getShadowFilterContent(o){return[{tagName:"feDropShadow",attributes:{dx:o.offsetX,dy:o.offsetY,"flood-color":o.color,"flood-opacity":Math.min(5*o.opacity,1),stdDeviation:o.width/2}}]}buildText(o){new Jd(o).buildSVG()}getContrast(o){let l=In.parse(o).rgba.map(p=>{let g=p/255;return g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}),u=.2126*l[0]+.7152*l[1]+.0722*l[2];return 1.05/(u+.05)>(u+.05)/.05?"#FFFFFF":"#000000"}button(o,l,u,p,g={},_,C,T,R,V){let M=this.label(o,l,u,R,void 0,void 0,V,void 0,"button"),B=this.styledMode,$=arguments,W=0;g=Ma(Qd.global.buttonTheme,g),B&&(delete g.fill,delete g.stroke,delete g["stroke-width"]);let X=g.states||{},J=g.style||{};delete g.states,delete g.style;let K=[on.filterUserAttributes(g)],ee=[J];return B||["hover","select","disabled"].forEach((te,le)=>{K.push(Ma(K[0],on.filterUserAttributes($[le+5]||X[te]||{}))),ee.push(K[le+1].style),delete K[le+1].style}),ne(M.element,Au?"mouseover":"mouseenter",function(){W!==3&&M.setState(1)}),ne(M.element,Au?"mouseout":"mouseleave",function(){W!==3&&M.setState(W)}),M.setState=(te=0)=>{if(te!==1&&(M.state=W=te),M.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][te]),!B){M.attr(K[te]);let le=ee[te];bi(le)&&M.css(le)}},M.attr(K[0]),!B&&(M.css(En({cursor:"default"},J)),V&&M.text.css({pointerEvents:"none"})),M.on("touchstart",te=>te.stopPropagation()).on("click",function(te){W!==3&&p.call(M,te)})}crispLine(o,l){let[u,p]=o;return pn(u[1])&&u[1]===p[1]&&(u[1]=p[1]=je(u[1],l)),pn(u[2])&&u[2]===p[2]&&(u[2]=p[2]=je(u[2],l)),o}path(o){let l=this.styledMode?{}:{fill:"none"};return ci(o)?l.d=o:bi(o)&&En(l,o),this.createElement("path").attr(l)}circle(o,l,u){let p=bi(o)?o:o===void 0?{}:{x:o,y:l,r:u},g=this.createElement("circle");return g.xSetter=g.ySetter=function(_,C,T){T.setAttribute("c"+C,_)},g.attr(p)}arc(o,l,u,p,g,_){let C;bi(o)?(l=(C=o).y,u=C.r,p=C.innerR,g=C.start,_=C.end,o=C.x):C={innerR:p,start:g,end:_};let T=this.symbol("arc",o,l,u,u,C);return T.r=u,T}rect(o,l,u,p,g,_){let C=bi(o)?o:o===void 0?{}:{x:o,y:l,r:g,width:Math.max(u||0,0),height:Math.max(p||0,0)},T=this.createElement("rect");return this.styledMode||(_!==void 0&&(C["stroke-width"]=_,En(C,T.crisp(C))),C.fill="none"),T.rSetter=function(R,V,M){T.r=R,pe(M,{rx:R,ry:R})},T.rGetter=function(){return T.r||0},T.attr(C)}roundedRect(o){return this.symbol("roundedRect").attr(o)}setSize(o,l,u){this.width=o,this.height=l,this.boxWrapper.animate({width:o,height:l},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Fg(u,!0)?void 0:0}),this.alignElements()}g(o){let l=this.createElement("g");return o?l.attr({class:"highcharts-"+o}):l}image(o,l,u,p,g,_){let C={preserveAspectRatio:"none"};bs(l)&&(C.x=l),bs(u)&&(C.y=u),bs(p)&&(C.width=p),bs(g)&&(C.height=g);let T=this.createElement("image").attr(C),R=function(V){T.attr({href:o}),_.call(T,V)};if(_){T.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let V=new Y.Image;ne(V,"load",R),V.src=o,V.complete&&R({})}else T.attr({href:o});return T}symbol(o,l,u,p,g,_){let C,T,R,V,M=this,B=/^url\((.*?)\)$/,$=B.test(o),W=!$&&(this.symbols[o]?o:"circle"),X=W&&this.symbols[W];if(X)typeof l=="number"&&(T=X.call(this.symbols,l||0,u||0,p||0,g||0,_)),C=this.path(T),M.styledMode||C.attr("fill","none"),En(C,{symbolName:W||void 0,x:l,y:u,width:p,height:g}),_&&En(C,_);else if($){R=o.match(B)[1];let J=C=this.image(R);J.imgwidth=Fg(_&&_.width,j[R]&&j[R].width),J.imgheight=Fg(_&&_.height,j[R]&&j[R].height),V=K=>K.attr({width:K.width,height:K.height}),["width","height"].forEach(K=>{J[`${K}Setter`]=function(ee,te){this[te]=ee;let{alignByTranslate:le,element:he,width:ue,height:fe,imgwidth:de,imgheight:me}=this,Te=te==="width"?de:me,ke=1;_&&_.backgroundSize==="within"&&ue&&fe&&de&&me?(ke=Math.min(ue/de,fe/me),pe(he,{width:Math.round(de*ke),height:Math.round(me*ke)})):he&&Te&&he.setAttribute(te,Te),!le&&de&&me&&this.translate(((ue||0)-de*ke)/2,((fe||0)-me*ke)/2)}}),pn(l)&&J.attr({x:l,y:u}),J.isImg=!0,J.symbolUrl=o,pn(J.imgwidth)&&pn(J.imgheight)?V(J):(J.attr({width:0,height:0}),_e("img",{onload:function(){let K=Zd[M.chartIndex];this.width===0&&(qt(this,{position:"absolute",top:"-999em"}),Bs.body.appendChild(this)),j[R]={width:this.width,height:this.height},J.imgwidth=this.width,J.imgheight=this.height,J.element&&V(J),this.parentNode&&this.parentNode.removeChild(this),M.imgCount--,M.imgCount||!K||K.hasLoaded||K.onload()},src:R}),this.imgCount++)}return C}clipRect(o,l,u,p){return this.rect(o,l,u,p,0)}text(o,l,u,p){let g={};if(p&&(this.allowHTML||!this.forExport))return this.html(o,l,u);g.x=Math.round(l||0),u&&(g.y=Math.round(u)),pn(o)&&(g.text=o);let _=this.createElement("text").attr(g);return p&&(!this.forExport||this.allowHTML)||(_.xSetter=function(C,T,R){let V=R.getElementsByTagName("tspan"),M=R.getAttribute(T);for(let B=0,$;B<V.length;B++)($=V[B]).getAttribute(T)===M&&$.setAttribute(T,C);R.setAttribute(T,C)}),_}fontMetrics(o){let l=ZM(is.prototype.getStyle.call(o,"font-size")||0),u=l<24?l+3:Math.round(1.2*l),p=Math.round(.8*u);return{h:u,b:p,f:l}}rotCorr(o,l,u){let p=o;return l&&u&&(p=Math.max(p*Math.cos(l*Iu),4)),{x:-o/3*Math.sin(l*Iu),y:p}}pathToSegments(o){let l=[],u=[],p={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let g=0;g<o.length;g++)El(u[0])&&bs(o[g])&&u.length===p[u[0].toUpperCase()]&&o.splice(g,0,u[0].replace("M","L").replace("m","l")),typeof o[g]=="string"&&(u.length&&l.push(u.slice(0)),u.length=0),u.push(o[g]);return l.push(u.slice(0)),l}label(o,l,u,p,g,_,C,T,R){return new ss(this,o,l,u,p,g,_,C,T,R)}alignElements(){this.alignedObjects.forEach(o=>o.align())}}En(tf.prototype,{Element:is,SVG_NS:E,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Tu,draw:Ao}),Eo.registerRendererType("svg",tf,!0);let{composed:nD}=S,{attr:iD,css:Tl,createElement:sD,defined:xw,extend:rD,getAlignFactor:oD,isNumber:aD,pInt:lD,pushUnique:cD}=Pe;function Ew(P,o,l){var p;let u=((p=this.div)==null?void 0:p.style)||l.style;is.prototype[`${o}Setter`].call(this,P,o,l),u&&(u[o]=P)}let uD=(P,o)=>{var l;if(!P.div){let u=iD(P.element,"class"),p=P.css,g=sD("div",u?{className:u}:void 0,{position:"absolute",left:`${P.translateX||0}px`,top:`${P.translateY||0}px`,...P.styles,display:P.display,opacity:P.opacity,visibility:P.visibility},((l=P.parentGroup)==null?void 0:l.div)||o);P.classSetter=(_,C,T)=>{T.setAttribute("class",_),g.className=_},P.translateXSetter=P.translateYSetter=(_,C)=>{P[C]=_,g.style[C==="translateX"?"left":"top"]=`${_}px`,P.doTransform=!0},P.opacitySetter=P.visibilitySetter=Ew,P.css=_=>(p.call(P,_),_.cursor&&(g.style.cursor=_.cursor),_.pointerEvents&&(g.style.pointerEvents=_.pointerEvents),P),P.on=function(){return is.prototype.on.apply({element:g,onEvents:P.onEvents},arguments),P},P.div=g}return P.div};class Pu extends is{static compose(o){cD(nD,this.compose)&&(o.prototype.html=function(l,u,p){return new Pu(this,"span").attr({text:l,x:Math.round(u),y:Math.round(p)})})}constructor(o,l){super(o,l),this.css({position:"absolute",...o.styledMode?{}:{fontFamily:o.style.fontFamily,fontSize:o.style.fontSize}})}getSpanCorrection(o,l,u){this.xCorr=-o*u,this.yCorr=-l}css(o){let l,{element:u}=this,p=u.tagName==="SPAN"&&o&&"width"in o,g=p&&o.width;return p&&(delete o.width,this.textWidth=lD(g)||void 0,l=!0),(o==null?void 0:o.textOverflow)==="ellipsis"&&(o.overflow="hidden"),o!=null&&o.lineClamp&&(o.display="-webkit-box",o.WebkitLineClamp=o.lineClamp,o.WebkitBoxOrient="vertical",o.overflow="hidden"),aD(Number(o==null?void 0:o.fontSize))&&(o.fontSize=o.fontSize+"px"),rD(this.styles,o),Tl(u,o),l&&this.updateTransform(),this}htmlGetBBox(){let{element:o}=this;return{x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}}updateTransform(){var K;if(!this.added){this.alignOnAdd=!0;return}let{element:o,renderer:l,rotation:u,rotationOriginX:p,rotationOriginY:g,scaleX:_,scaleY:C,styles:T,textAlign:R="left",textWidth:V,translateX:M=0,translateY:B=0,x:$=0,y:W=0}=this,{display:X="block",whiteSpace:J}=T;if(Tl(o,{marginLeft:`${M}px`,marginTop:`${B}px`}),o.tagName==="SPAN"){let ee,te=[u,R,o.innerHTML,V,this.textAlign].join(","),le=-(((K=this.parentGroup)==null?void 0:K.padding)*1)||0;if(V!==this.oldTextWidth){let de=this.textPxLength?this.textPxLength:(Tl(o,{width:"",whiteSpace:J||"nowrap"}),o.offsetWidth),me=V||0;(me>this.oldTextWidth||de>me)&&(/[ \-]/.test(o.textContent||o.innerText)||o.style.textOverflow==="ellipsis")&&(Tl(o,{width:de>me||u||_?V+"px":"auto",display:X,whiteSpace:J||"normal"}),this.oldTextWidth=V)}te!==this.cTT&&(ee=l.fontMetrics(o).b,xw(u)&&(u!==(this.oldRotation||0)||R!==this.oldAlign)&&this.setSpanRotation(u,le,le),this.getSpanCorrection(!xw(u)&&!this.textWidth&&this.textPxLength||o.offsetWidth,ee,oD(R)));let{xCorr:he=0,yCorr:ue=0}=this,fe={left:`${$+he}px`,top:`${W+ue}px`,textAlign:R,transformOrigin:`${(p??$)-he-$-le}px ${(g??W)-ue-W-le}px`};(_||C)&&(fe.transform=`scale(${_??1},${C??1})`),Tl(o,fe),this.cTT=te,this.oldRotation=u,this.oldAlign=R}}setSpanRotation(o,l,u){Tl(this.element,{transform:`rotate(${o}deg)`,transformOrigin:`${l}% ${u}px`})}add(o){let l,u=this.renderer.box.parentNode,p=[];if(this.parentGroup=o,o&&!(l=o.div)){let g=o;for(;g;)p.push(g),g=g.parentGroup;for(let _ of p.reverse())l=uD(_,u)}return(l||u).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(o){o!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,on.setElementHTML(this.element,o??""),this.textStr=o,this.doTransform=!0)}alignSetter(o){this.alignValue=this.textAlign=o,this.doTransform=!0}xSetter(o,l){this[l]=o,this.doTransform=!0}}let Da=Pu.prototype;Da.visibilitySetter=Da.opacitySetter=Ew,Da.ySetter=Da.rotationSetter=Da.rotationOriginXSetter=Da.rotationOriginYSetter=Da.xSetter,function(P){P.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},P.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:o}=this.axis.chart;return o(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(c||(c={}));let hD=c,{addEvent:dD,isFunction:fD,objectEach:pD,removeEvent:mD}=Pe;(h||(h={})).registerEventOptions=function(P,o){P.eventOptions=P.eventOptions||{},pD(o.events,function(l,u){P.eventOptions[u]!==l&&(P.eventOptions[u]&&(mD(P,u,P.eventOptions[u]),delete P.eventOptions[u]),fD(l)&&(P.eventOptions[u]=l,dD(P,u,l,{order:0})))})};let nf=h,{deg2rad:Bg}=S,{clamp:gD,correctFloat:sf,defined:Ug,destroyObjectProperties:yD,extend:Tw,fireEvent:Ru,getAlignFactor:vD,isNumber:rf,merge:bD,objectEach:_D,pick:Us}=Pe,Sl=class{constructor(P,o,l,u,p){this.isNew=!0,this.isNewLabel=!0,this.axis=P,this.pos=o,this.type=l||"",this.parameters=p||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Ru(this,"init"),l||u||this.addLabel()}addLabel(){let P=this,o=P.axis,l=o.options,u=o.chart,p=o.categories,g=o.logarithmic,_=o.names,C=P.pos,T=Us(P.options&&P.options.labels,l.labels),R=o.tickPositions,V=C===R[0],M=C===R[R.length-1],B=(!T.step||T.step===1)&&o.tickInterval===1,$=R.info,W=P.label,X,J,K,ee=this.parameters.category||(p?Us(p[C],_[C],C):C);g&&rf(ee)&&(ee=sf(g.lin2log(ee))),o.dateTime&&($?X=(J=u.time.resolveDTLFormat(l.dateTimeLabelFormats[!l.grid&&$.higherRanks[C]||$.unitName])).main:rf(ee)&&(X=o.dateTime.getXDateFormat(ee,l.dateTimeLabelFormats||{}))),P.isFirst=V,P.isLast=M;let te={axis:o,chart:u,dateTimeLabelFormat:X,isFirst:V,isLast:M,pos:C,tick:P,tickPositionInfo:$,value:ee};Ru(this,"labelFormat",te);let le=fe=>T.formatter?T.formatter.call(fe,fe):T.format?(fe.text=o.defaultLabelFormatter.call(fe),Wi.format(T.format,fe,u)):o.defaultLabelFormatter.call(fe),he=le.call(te,te),ue=J&&J.list;ue?P.shortenLabel=function(){for(K=0;K<ue.length;K++)if(Tw(te,{dateTimeLabelFormat:ue[K]}),W.attr({text:le.call(te,te)}),W.getBBox().width<o.getSlotWidth(P)-2*(T.padding||0))return;W.attr({text:""})}:P.shortenLabel=void 0,B&&o._addedPlotLB&&P.moveLabel(he,T),Ug(W)||P.movedLabel?W&&W.textStr!==he&&!B&&(!W.textWidth||T.style.width||W.styles.width||W.css({width:null}),W.attr({text:he}),W.textPxLength=W.getBBox().width):(P.label=W=P.createLabel(he,T),P.rotation=0)}createLabel(P,o,l){let u=this.axis,{renderer:p,styledMode:g}=u.chart,_=Ug(P)&&o.enabled?p.text(P,l==null?void 0:l.x,l==null?void 0:l.y,o.useHTML).add(u.labelGroup):void 0;if(_){let C=o.style.whiteSpace||"normal";g||_.css(bD(o.style,{whiteSpace:"nowrap"})),_.textPxLength=_.getBBox().width,g||_.css({whiteSpace:C})}return _}destroy(){yD(this,this.axis)}getPosition(P,o,l,u){let p=this.axis,g=p.chart,_=u&&g.oldChartHeight||g.chartHeight,C={x:P?sf(p.translate(o+l,void 0,void 0,u)+p.transB):p.left+p.offset+(p.opposite?(u&&g.oldChartWidth||g.chartWidth)-p.right-p.left:0),y:P?_-p.bottom+p.offset-(p.opposite?p.height:0):sf(_-p.translate(o+l,void 0,void 0,u)-p.transB)};return C.y=gD(C.y,-1e9,1e9),Ru(this,"afterGetPosition",{pos:C}),C}getLabelPosition(P,o,l,u,p,g,_,C){let T,R,V=this.axis,M=V.transA,B=V.isLinked&&V.linkedParent?V.linkedParent.reversed:V.reversed,$=V.staggerLines,W=V.tickRotCorr||{x:0,y:0},X=u||V.reserveSpaceDefault?0:-V.labelOffset*(V.labelAlign==="center"?.5:1),J=p.distance,K={};return T=V.side===0?l.rotation?-J:-l.getBBox().height:V.side===2?W.y+J:Math.cos(l.rotation*Bg)*(W.y-l.getBBox(!1,0).height/2),Ug(p.y)&&(T=V.side===0&&V.horiz?p.y+T:p.y),P=P+Us(p.x,[0,1,0,-1][V.side]*J)+X+W.x-(g&&u?g*M*(B?-1:1):0),o=o+T-(g&&!u?g*M*(B?1:-1):0),$&&(R=_/(C||1)%$,V.opposite&&(R=$-R-1),o+=R*(V.labelOffset/$)),K.x=P,K.y=Math.round(o),Ru(this,"afterGetLabelPosition",{pos:K,tickmarkOffset:g,index:_}),K}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(P,o,l,u,p=!1,g){return g.crispLine([["M",P,o],["L",P+(p?0:-l),o+(p?l:0)]],u)}handleOverflow(P){let o=this.axis,l=o.options.labels,u=P.x,p=o.chart.chartWidth,g=o.chart.spacing,_=Us(o.labelLeft,Math.min(o.pos,g[3])),C=Us(o.labelRight,Math.max(o.isRadial?0:o.pos+o.len,p-g[1])),T=this.label,R=this.rotation,V=vD(o.labelAlign||T.attr("align")),M=T.getBBox().width,B=o.getSlotWidth(this),$=B,W=1,X,J,K;R||l.overflow!=="justify"?R<0&&u-V*M<_?K=Math.round(u/Math.cos(R*Bg)-_):R>0&&u+V*M>C&&(K=Math.round((p-u)/Math.cos(R*Bg))):(X=u-V*M,J=u+(1-V)*M,X<_?$=P.x+$*(1-V)-_:J>C&&($=C-P.x+$*V,W=-1),($=Math.min(B,$))<B&&o.labelAlign==="center"&&(P.x+=W*(B-$-V*(B-Math.min(M,$)))),(M>$||o.autoRotation&&(T.styles||{}).width)&&(K=$)),K&&T&&(this.shortenLabel?this.shortenLabel():T.css(Tw({},{width:Math.floor(K)+"px",lineClamp:o.isRadial?0:1})))}moveLabel(P,o){let l=this,u=l.label,p=l.axis,g=!1,_;u&&u.textStr===P?(l.movedLabel=u,g=!0,delete l.label):_D(p.ticks,function(C){g||C.isNew||C===l||!C.label||C.label.textStr!==P||(l.movedLabel=C.label,g=!0,C.labelPos=l.movedLabel.xy,delete C.label)}),!g&&(l.labelPos||u)&&(_=l.labelPos||u.xy,l.movedLabel=l.createLabel(P,o,_),l.movedLabel&&l.movedLabel.attr({opacity:0}))}render(P,o,l){let u=this.axis,p=u.horiz,g=this.pos,_=Us(this.tickmarkOffset,u.tickmarkOffset),C=this.getPosition(p,g,_,o),T=C.x,R=C.y,V=u.pos,M=V+u.len,B=p?T:R;!u.chart.polar&&this.isNew&&(sf(B)<V||B>M)&&(l=0);let $=Us(l,this.label&&this.label.newOpacity,1);l=Us(l,1),this.isActive=!0,this.renderGridLine(o,l),this.renderMark(C,l),this.renderLabel(C,o,$,P),this.isNew=!1,Ru(this,"afterRender")}renderGridLine(P,o){let l=this.axis,u=l.options,p={},g=this.pos,_=this.type,C=Us(this.tickmarkOffset,l.tickmarkOffset),T=l.chart.renderer,R=this.gridLine,V,M=u.gridLineWidth,B=u.gridLineColor,$=u.gridLineDashStyle;this.type==="minor"&&(M=u.minorGridLineWidth,B=u.minorGridLineColor,$=u.minorGridLineDashStyle),R||(l.chart.styledMode||(p.stroke=B,p["stroke-width"]=M||0,p.dashstyle=$),_||(p.zIndex=1),P&&(o=0),this.gridLine=R=T.path().attr(p).addClass("highcharts-"+(_?_+"-":"")+"grid-line").add(l.gridGroup)),R&&(V=l.getPlotLinePath({value:g+C,lineWidth:R.strokeWidth(),force:"pass",old:P,acrossPanes:!1}))&&R[P||this.isNew?"attr":"animate"]({d:V,opacity:o})}renderMark(P,o){let l=this.axis,u=l.options,p=l.chart.renderer,g=this.type,_=l.tickSize(g?g+"Tick":"tick"),C=P.x,T=P.y,R=Us(u[g!=="minor"?"tickWidth":"minorTickWidth"],!g&&l.isXAxis?1:0),V=u[g!=="minor"?"tickColor":"minorTickColor"],M=this.mark,B=!M;_&&(l.opposite&&(_[0]=-_[0]),M||(this.mark=M=p.path().addClass("highcharts-"+(g?g+"-":"")+"tick").add(l.axisGroup),l.chart.styledMode||M.attr({stroke:V,"stroke-width":R})),M[B?"attr":"animate"]({d:this.getMarkPath(C,T,_[0],M.strokeWidth(),l.horiz,p),opacity:o}))}renderLabel(P,o,l,u){let p=this.axis,g=p.horiz,_=p.options,C=this.label,T=_.labels,R=T.step,V=Us(this.tickmarkOffset,p.tickmarkOffset),M=P.x,B=P.y,$=!0;C&&rf(M)&&(C.xy=P=this.getLabelPosition(M,B,C,g,T,V,u,R),(!this.isFirst||this.isLast||_.showFirstLabel)&&(!this.isLast||this.isFirst||_.showLastLabel)?!g||T.step||T.rotation||o||l===0||this.handleOverflow(P):$=!1,R&&u%R&&($=!1),$&&rf(P.y)?(P.opacity=l,C[this.isNewLabel?"attr":"animate"](P).show(!0),this.isNewLabel=!1):(C.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let P=this.label,o=this.axis;P&&!this.isNew&&(P.animate({opacity:0},void 0,P.destroy),delete this.label),o.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:wD}=Cn,{xAxis:Sw,yAxis:CD}=hD,{defaultOptions:jg}=Kn,{registerEventOptions:xD}=nf,{deg2rad:ED}=S,{arrayMax:kw,arrayMin:TD,clamp:Hg,correctFloat:rs,defined:nn,destroyObjectProperties:SD,erase:Iw,error:$g,extend:of,fireEvent:Tn,getClosestDistance:Aw,insertItem:kD,isArray:Pw,isNumber:at,isString:Rw,merge:af,normalizeTickInterval:ID,objectEach:lf,pick:Et,relativeLength:cf,removeEvent:AD,splat:PD,syncTimeout:RD}=Pe,Ow=(P,o)=>ID(o,void 0,void 0,Et(P.options.allowDecimals,o<.5||P.tickAmount!==void 0),!!P.tickAmount);of(jg,{xAxis:Sw,yAxis:af(Sw,CD)});class kl{constructor(o,l,u){this.init(o,l,u)}init(o,l,u=this.coll){let p=u==="xAxis",g=this.isZAxis||(o.inverted?!p:p);this.chart=o,this.horiz=g,this.isXAxis=p,this.coll=u,Tn(this,"init",{userOptions:l}),this.opposite=Et(l.opposite,this.opposite),this.side=Et(l.side,this.side,g?this.opposite?0:2:this.opposite?1:3),this.setOptions(l);let _=this.options,C=_.labels;this.type??(this.type=_.type||"linear"),this.uniqueNames??(this.uniqueNames=_.uniqueNames??!0),Tn(this,"afterSetType"),this.userOptions=l,this.minPixelPadding=0,this.reversed=Et(_.reversed,this.reversed),this.visible=_.visible,this.zoomEnabled=_.zoomEnabled,this.hasNames=this.type==="category"||_.categories===!0,this.categories=Pw(_.categories)&&_.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=nn(_.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=_.minRange||_.maxZoom,this.range=_.range,this.offset=_.offset||0,this.max=void 0,this.min=void 0;let T=Et(_.crosshair,PD(o.options.tooltip.crosshairs)[p?0:1]);this.crosshair=T===!0?{}:T,o.axes.indexOf(this)===-1&&(p?o.axes.splice(o.xAxis.length,0,this):o.axes.push(this),kD(this,o[this.coll])),o.orderItems(this.coll),this.series=this.series||[],o.inverted&&!this.isZAxis&&p&&!nn(this.reversed)&&(this.reversed=!0),this.labelRotation=at(C.rotation)?C.rotation:void 0,xD(this,_),Tn(this,"afterInit")}setOptions(o){let l=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=af(l,jg[this.coll],o),Tn(this,"afterSetOptions",{userOptions:o})}defaultLabelFormatter(){let o=this.axis,{numberFormatter:l}=this.chart,u=at(this.value)?this.value:NaN,p=o.chart.time,g=o.categories,_=this.dateTimeLabelFormat,C=jg.lang,T=C.numericSymbols,R=C.numericSymbolMagnitude||1e3,V=o.logarithmic?Math.abs(u):o.tickInterval,M=T&&T.length,B,$;if(g)$=`${this.value}`;else if(_)$=p.dateFormat(_,u,!0);else if(M&&T&&V>=1e3)for(;M--&&$===void 0;)V>=(B=Math.pow(R,M+1))&&10*u%B==0&&T[M]!==null&&u!==0&&($=l(u/B,-1)+T[M]);return $===void 0&&($=Math.abs(u)>=1e4?l(u,-1):l(u,-1,void 0,"")),$}getSeriesExtremes(){let o,l=this;Tn(this,"getSeriesExtremes",null,function(){l.hasVisibleSeries=!1,l.dataMin=l.dataMax=l.threshold=void 0,l.softThreshold=!l.isXAxis,l.series.forEach(u=>{if(u.reserveSpace()){let p=u.options,g,_=p.threshold,C,T;if(l.hasVisibleSeries=!0,l.positiveValuesOnly&&0>=(_||0)&&(_=void 0),l.isXAxis)(g=u.getColumn("x")).length&&(g=l.logarithmic?g.filter(R=>R>0):g,C=(o=u.getXExtremes(g)).min,T=o.max,at(C)||C instanceof Date||(g=g.filter(at),C=(o=u.getXExtremes(g)).min,T=o.max),g.length&&(l.dataMin=Math.min(Et(l.dataMin,C),C),l.dataMax=Math.max(Et(l.dataMax,T),T)));else{let R=u.applyExtremes();at(R.dataMin)&&(C=R.dataMin,l.dataMin=Math.min(Et(l.dataMin,C),C)),at(R.dataMax)&&(T=R.dataMax,l.dataMax=Math.max(Et(l.dataMax,T),T)),nn(_)&&(l.threshold=_),(!p.softThreshold||l.positiveValuesOnly)&&(l.softThreshold=!1)}}})}),Tn(this,"afterGetSeriesExtremes")}translate(o,l,u,p,g,_){var X;let C=this.linkedParent||this,T=p&&C.old?C.old.min:C.min;if(!at(T))return NaN;let R=C.minPixelPadding,V=(C.isOrdinal||((X=C.brokenAxis)==null?void 0:X.hasBreaks)||C.logarithmic&&g)&&C.lin2val,M=1,B=0,$=p&&C.old?C.old.transA:C.transA,W=0;return $||($=C.transA),u&&(M*=-1,B=C.len),C.reversed&&(M*=-1,B-=M*(C.sector||C.len)),l?(W=(o=o*M+B-R)/$+T,V&&(W=C.lin2val(W))):(V&&(o=C.val2lin(o)),W=M*(o-T)*$+B+M*R+(at(_)?$*_:0),C.isRadial||(W=rs(W))),W}toPixels(o,l){var u;return this.translate(((u=this.chart)==null?void 0:u.time.parse(o))??NaN,!1,!this.horiz,void 0,!0)+(l?0:this.pos)}toValue(o,l){return this.translate(o-(l?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(o){let l=this,u=l.chart,p=l.left,g=l.top,_=o.old,C=o.value,T=o.lineWidth,R=_&&u.oldChartHeight||u.chartHeight,V=_&&u.oldChartWidth||u.chartWidth,M=l.transB,B=o.translatedValue,$=o.force,W,X,J,K,ee;function te(he,ue,fe){return $!=="pass"&&(he<ue||he>fe)&&($?he=Hg(he,ue,fe):ee=!0),he}let le={value:C,lineWidth:T,old:_,force:$,acrossPanes:o.acrossPanes,translatedValue:B};return Tn(this,"getPlotLinePath",le,function(he){W=J=(B=Hg(B=Et(B,l.translate(C,void 0,void 0,_)),-1e9,1e9))+M,X=K=R-B-M,at(B)?l.horiz?(X=g,K=R-l.bottom+(l.options.isInternal?0:u.scrollablePixelsY||0),W=J=te(W,p,p+l.width)):(W=p,J=V-l.right+(u.scrollablePixelsX||0),X=K=te(X,g,g+l.height)):(ee=!0,$=!1),he.path=ee&&!$?void 0:u.renderer.crispLine([["M",W,X],["L",J,K]],T||1)}),le.path}getLinearTickPositions(o,l,u){let p,g,_,C=rs(Math.floor(l/o)*o),T=rs(Math.ceil(u/o)*o),R=[];if(rs(C+o)===C&&(_=20),this.single)return[l];for(p=C;p<=T&&(R.push(p),(p=rs(p+o,_))!==g);)g=p;return R}getMinorTickInterval(){let{minorTicks:o,minorTickInterval:l}=this.options;return o===!0?Et(l,"auto"):o!==!1?l:void 0}getMinorTickPositions(){var V;let o=this.options,l=this.tickPositions,u=this.minorTickInterval,p=this.pointRangePadding||0,g=(this.min||0)-p,_=(this.max||0)+p,C=(V=this.brokenAxis)!=null&&V.hasBreaks?this.brokenAxis.unitLength:_-g,T=[],R;if(C&&C/u<this.len/3){let M=this.logarithmic;if(M)this.paddedTicks.forEach(function(B,$,W){$&&T.push.apply(T,M.getLogTickPositions(u,W[$-1],W[$],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")T=T.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(u),g,_,o.startOfWeek));else for(R=g+(l[0]-g)%u;R<=_&&R!==T[0];R+=u)T.push(R)}return T.length!==0&&this.trimTicks(T),T}adjustForMinRange(){let o=this.options,l=this.logarithmic,u=this.chart.time,{max:p,min:g,minRange:_}=this,C,T,R,V;this.isXAxis&&_===void 0&&!l&&(_=nn(o.min)||nn(o.max)||nn(o.floor)||nn(o.ceiling)?null:Math.min(5*(Aw(this.series.map(M=>{let B=M.getColumn("x");return M.xIncrement?B.slice(0,2):B}))||0),this.dataMax-this.dataMin)),at(p)&&at(g)&&at(_)&&p-g<_&&(T=this.dataMax-this.dataMin>=_,C=(_-p+g)/2,R=[g-C,u.parse(o.min)??g-C],T&&(R[2]=l?l.log2lin(this.dataMin):this.dataMin),V=[(g=kw(R))+_,u.parse(o.max)??g+_],T&&(V[2]=l?l.log2lin(this.dataMax):this.dataMax),(p=TD(V))-g<_&&(R[0]=p-_,R[1]=u.parse(o.min)??p-_,g=kw(R))),this.minRange=_,this.min=g,this.max=p}getClosest(){let o,l;if(this.categories)l=1;else{let u=[];this.series.forEach(function(p){let g=p.closestPointRange,_=p.getColumn("x");_.length===1?u.push(_[0]):p.sorted&&nn(g)&&p.reserveSpace()&&(l=nn(l)?Math.min(l,g):g)}),u.length&&(u.sort((p,g)=>p-g),o=Aw([u]))}return o&&l?Math.min(o,l):o||l}nameToX(o){let l=Pw(this.options.categories),u=l?this.categories:this.names,p=o.options.x,g;return o.series.requireSorting=!1,nn(p)||(p=this.uniqueNames&&u?l?u.indexOf(o.name):Et(u.keys[o.name],-1):o.series.autoIncrement()),p===-1?!l&&u&&(g=u.length):at(p)&&(g=p),g!==void 0?(this.names[g]=o.name,this.names.keys[o.name]=g):o.x&&(g=o.x),g}updateNames(){let o=this,l=this.names;l.length>0&&(Object.keys(l.keys).forEach(function(u){delete l.keys[u]}),l.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(u=>{u.xIncrement=null,(!u.points||u.isDirtyData)&&(o.max=Math.max(o.max||0,u.dataTable.rowCount-1),u.processData(),u.generatePoints());let p=u.getColumn("x").slice();u.data.forEach((g,_)=>{let C=p[_];g!=null&&g.options&&g.name!==void 0&&(C=o.nameToX(g))!==void 0&&C!==g.x&&(p[_]=g.x=C)}),u.dataTable.setColumn("x",p)}))}setAxisTranslation(){let o=this,l=o.max-o.min,u=o.linkedParent,p=!!o.categories,g=o.isXAxis,_=o.axisPointRange||0,C,T=0,R=0,V,M=o.transA;(g||p||_)&&(C=o.getClosest(),u?(T=u.minPointOffset,R=u.pointRangePadding):o.series.forEach(function(B){let $=p?1:g?Et(B.options.pointRange,C,0):o.axisPointRange||0,W=B.options.pointPlacement;if(_=Math.max(_,$),!o.single||p){let X=B.is("xrange")?!g:g;T=Math.max(T,X&&Rw(W)?0:$/2),R=Math.max(R,X&&W==="on"?0:$)}}),V=o.ordinal&&o.ordinal.slope&&C?o.ordinal.slope/C:1,o.minPointOffset=T*=V,o.pointRangePadding=R*=V,o.pointRange=Math.min(_,o.single&&p?1:l),g&&C&&(o.closestPointRange=C)),o.translationSlope=o.transA=M=o.staticScale||o.len/(l+R||1),o.transB=o.horiz?o.left:o.bottom,o.minPixelPadding=M*T,Tn(this,"afterSetAxisTranslation")}minFromRange(){let{max:o,min:l}=this;return at(o)&&at(l)&&o-l||void 0}setTickInterval(o){var tt,wt,Qe,yt;let{categories:l,chart:u,dataMax:p,dataMin:g,dateTime:_,isXAxis:C,logarithmic:T,options:R,softThreshold:V}=this,M=u.time,B=at(this.threshold)?this.threshold:void 0,$=this.minRange||0,{ceiling:W,floor:X,linkedTo:J,softMax:K,softMin:ee}=R,te=at(J)&&((tt=u[this.coll])==null?void 0:tt[J]),le=R.tickPixelInterval,he=R.maxPadding,ue=R.minPadding,fe=0,de,me=at(R.tickInterval)&&R.tickInterval>=0?R.tickInterval:void 0,Te,ke,Be,Ee;if(_||l||te||this.getTickAmount(),Be=Et(this.userMin,M.parse(R.min)),Ee=Et(this.userMax,M.parse(R.max)),te?(this.linkedParent=te,de=te.getExtremes(),this.min=Et(de.min,de.dataMin),this.max=Et(de.max,de.dataMax),this.type!==te.type&&$g(11,!0,u)):(V&&nn(B)&&at(p)&&at(g)&&(g>=B?(Te=B,ue=0):p<=B&&(ke=B,he=0)),this.min=Et(Be,Te,g),this.max=Et(Ee,ke,p)),at(this.max)&&at(this.min)&&(T&&(this.positiveValuesOnly&&!o&&0>=Math.min(this.min,Et(g,this.min))&&$g(10,!0,u),this.min=rs(T.log2lin(this.min),16),this.max=rs(T.log2lin(this.max),16)),this.range&&at(g)&&(this.userMin=this.min=Be=Math.max(g,this.minFromRange()||0),this.userMax=Ee=this.max,this.range=void 0)),Tn(this,"foundExtremes"),this.adjustForMinRange(),at(this.min)&&at(this.max)){if(!at(this.userMin)&&at(ee)&&ee<this.min&&(this.min=Be=ee),!at(this.userMax)&&at(K)&&K>this.max&&(this.max=Ee=K),l||this.axisPointRange||(wt=this.stacking)!=null&&wt.usePercentage||te||!(fe=this.max-this.min)||(!nn(Be)&&ue&&(this.min-=fe*ue),nn(Ee)||!he||(this.max+=fe*he)),!at(this.userMin)&&at(X)&&(this.min=Math.max(this.min,X)),!at(this.userMax)&&at(W)&&(this.max=Math.min(this.max,W)),V&&at(g)&&at(p)){let Xe=B||0;!nn(Be)&&this.min<Xe&&g>=Xe?this.min=R.minRange?Math.min(Xe,this.max-$):Xe:!nn(Ee)&&this.max>Xe&&p<=Xe&&(this.max=R.minRange?Math.max(Xe,this.min+$):Xe)}!u.polar&&this.min>this.max&&(nn(R.min)?this.max=this.min:nn(R.max)&&(this.min=this.max)),fe=this.max-this.min}if(this.min!==this.max&&at(this.min)&&at(this.max)?te&&!me&&le===te.options.tickPixelInterval?this.tickInterval=me=te.tickInterval:this.tickInterval=Et(me,this.tickAmount?fe/Math.max(this.tickAmount-1,1):void 0,l?1:fe*le/Math.max(this.len,le)):this.tickInterval=1,C&&!o){let Xe=this.min!==((Qe=this.old)==null?void 0:Qe.min)||this.max!==((yt=this.old)==null?void 0:yt.max);this.series.forEach(function(it){var ft;it.forceCrop=(ft=it.forceCropping)==null?void 0:ft.call(it),it.processData(Xe)}),Tn(this,"postProcessData",{hasExtremesChanged:Xe})}this.setAxisTranslation(),Tn(this,"initialAxisTranslation"),this.pointRange&&!me&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Ve=Et(R.minTickInterval,_&&!this.series.some(Xe=>!Xe.sorted)?this.closestPointRange:0);!me&&this.tickInterval<Ve&&(this.tickInterval=Ve),_||T||me||(this.tickInterval=Ow(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var V,M;let o=this.options,l=o.tickPositions,u=o.tickPositioner,p=this.getMinorTickInterval(),g=!this.isPanning,_=g&&o.startOnTick,C=g&&o.endOnTick,T=[],R;if(this.tickmarkOffset=this.categories&&o.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&nn(this.min)&&!this.tickAmount&&(this.min%1==0||o.allowDecimals!==!1),l)T=l.slice();else if(at(this.min)&&at(this.max)){if(!((V=this.ordinal)!=null&&V.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))T=[this.min,this.max],$g(19,!1,this.chart);else if(this.dateTime)T=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,o.units),this.min,this.max,o.startOfWeek,(M=this.ordinal)==null?void 0:M.positions,this.closestPointRange,!0);else if(this.logarithmic)T=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let B=this.tickInterval,$=B;for(;$<=2*B&&(T=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&T.length>this.tickAmount);)this.tickInterval=Ow(this,$*=1.1)}T.length>this.len&&(T=[T[0],T[T.length-1]])[0]===T[1]&&(T.length=1),u&&(this.tickPositions=T,(R=u.apply(this,[this.min,this.max]))&&(T=R))}this.tickPositions=T,this.minorTickInterval=p==="auto"&&this.tickInterval?this.tickInterval/o.minorTicksPerMajor:p,this.paddedTicks=T.slice(0),this.trimTicks(T,_,C),!this.isLinked&&at(this.min)&&at(this.max)&&(this.single&&T.length<2&&!this.categories&&!this.series.some(B=>B.is("heatmap")&&B.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),l||R||this.adjustTickAmount()),Tn(this,"afterSetTickPositions")}trimTicks(o,l,u){let p=o[0],g=o[o.length-1],_=!this.isOrdinal&&this.minPointOffset||0;if(Tn(this,"trimTicks"),!this.isLinked){if(l&&p!==-1/0)this.min=p;else for(;this.min-_>o[0];)o.shift();if(u)this.max=g;else for(;this.max+_<o[o.length-1];)o.pop();o.length===0&&nn(p)&&!this.options.tickPositions&&o.push((g+p)/2)}}alignToOthers(){let o,l=this,u=l.chart,p=[this],g=l.options,_=u.options.chart,C=this.coll==="yAxis"&&_.alignThresholds,T=[];if(l.thresholdAlignment=void 0,(_.alignTicks!==!1&&g.alignTicks||C)&&g.startOnTick!==!1&&g.endOnTick!==!1&&!l.logarithmic){let R=M=>{let{horiz:B,options:$}=M;return[B?$.left:$.top,$.width,$.height,$.pane].join(",")},V=R(this);u[this.coll].forEach(function(M){let{series:B}=M;B.length&&B.some($=>$.visible)&&M!==l&&R(M)===V&&(o=!0,p.push(M))})}if(o&&C){p.forEach(V=>{let M=V.getThresholdAlignment(l);at(M)&&T.push(M)});let R=T.length>1?T.reduce((V,M)=>V+=M,0)/T.length:void 0;p.forEach(V=>{V.thresholdAlignment=R})}return o}getThresholdAlignment(o){if((!at(this.dataMin)||this!==o&&this.series.some(l=>l.isDirty||l.isDirtyData))&&this.getSeriesExtremes(),at(this.threshold)){let l=Hg((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(l=1-l),l}}getTickAmount(){let o=this.options,l=o.tickPixelInterval,u=o.tickAmount;nn(o.tickInterval)||u||!(this.len<l)||this.isRadial||this.logarithmic||!o.startOnTick||!o.endOnTick||(u=2),!u&&this.alignToOthers()&&(u=Math.ceil(this.len/l)+1),u<4&&(this.finalTickAmt=u,u=5),this.tickAmount=u}adjustTickAmount(){let o=this,{finalTickAmt:l,max:u,min:p,options:g,tickPositions:_,tickAmount:C,thresholdAlignment:T}=o,R=_==null?void 0:_.length,V=Et(o.threshold,o.softThreshold?0:null),M,B,$=o.tickInterval,W,X=()=>_.push(rs(_[_.length-1]+$)),J=()=>_.unshift(rs(_[0]-$));if(at(T)&&(W=T<.5?Math.ceil(T*(C-1)):Math.floor(T*(C-1)),g.reversed&&(W=C-1-W)),o.hasData()&&at(p)&&at(u)){let K=()=>{o.transA*=(R-1)/(C-1),o.min=g.startOnTick?_[0]:Math.min(p,_[0]),o.max=g.endOnTick?_[_.length-1]:Math.max(u,_[_.length-1])};if(at(W)&&at(o.threshold)){for(;_[W]!==V||_.length!==C||_[0]>p||_[_.length-1]<u;){for(_.length=0,_.push(o.threshold);_.length<C;)_[W]===void 0||_[W]>o.threshold?J():X();if($>8*o.tickInterval)break;$*=2}K()}else if(R<C){for(;_.length<C;)_.length%2||p===V?X():J();K()}if(nn(l)){for(B=M=_.length;B--;)(l===3&&B%2==1||l<=2&&B>0&&B<M-1)&&_.splice(B,1);o.finalTickAmt=void 0}}}setScale(){var _,C;let{coll:o,stacking:l}=this,u=!1,p=!1;this.series.forEach(T=>{u=u||T.isDirtyData||T.isDirty,p=p||T.xAxis&&T.xAxis.isDirty||!1}),this.setAxisSize();let g=this.len!==(this.old&&this.old.len);g||u||p||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(l&&o==="yAxis"&&l.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),l&&o==="xAxis"&&l.buildStacks(),this.isDirty||(this.isDirty=g||this.min!==((_=this.old)==null?void 0:_.min)||this.max!==((C=this.old)==null?void 0:C.max))):l&&l.cleanStacks(),u&&delete this.allExtremes,Tn(this,"afterSetScale")}setExtremes(o,l,u=!0,p,g){let _=this.chart;this.series.forEach(C=>{delete C.kdTree}),o=_.time.parse(o),l=_.time.parse(l),Tn(this,"setExtremes",g=of(g,{min:o,max:l}),C=>{this.userMin=C.min,this.userMax=C.max,this.eventArgs=C,u&&_.redraw(p)})}setAxisSize(){let o=this.chart,l=this.options,u=l.offsets||[0,0,0,0],p=this.horiz,g=this.width=Math.round(cf(Et(l.width,o.plotWidth-u[3]+u[1]),o.plotWidth)),_=this.height=Math.round(cf(Et(l.height,o.plotHeight-u[0]+u[2]),o.plotHeight)),C=this.top=Math.round(cf(Et(l.top,o.plotTop+u[0]),o.plotHeight,o.plotTop)),T=this.left=Math.round(cf(Et(l.left,o.plotLeft+u[3]),o.plotWidth,o.plotLeft));this.bottom=o.chartHeight-_-C,this.right=o.chartWidth-g-T,this.len=Math.max(p?g:_,0),this.pos=p?T:C}getExtremes(){let o=this.logarithmic;return{min:o?rs(o.lin2log(this.min)):this.min,max:o?rs(o.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(o){let l=this.logarithmic,u=l?l.lin2log(this.min):this.min,p=l?l.lin2log(this.max):this.max;return o===null||o===-1/0?o=u:o===1/0?o=p:u>o?o=u:p<o&&(o=p),this.translate(o,0,1,0,1)}autoLabelAlign(o){let l=(Et(o,0)-90*this.side+720)%360,u={align:"center"};return Tn(this,"autoLabelAlign",u,function(p){l>15&&l<165?p.align="right":l>195&&l<345&&(p.align="left")}),u.align}tickSize(o){let l=this.options,u=Et(l[o==="tick"?"tickWidth":"minorTickWidth"],o==="tick"&&this.isXAxis&&!this.categories?1:0),p=l[o==="tick"?"tickLength":"minorTickLength"],g;u&&p&&(l[o+"Position"]==="inside"&&(p=-p),g=[p,u]);let _={tickSize:g};return Tn(this,"afterTickSize",_),_.tickSize}labelMetrics(){let o=this.chart.renderer,l=this.ticks,u=l[Object.keys(l)[0]]||{};return this.chart.renderer.fontMetrics(u.label||u.movedLabel||o.box)}unsquish(){let o=this.options.labels,l=o.padding||0,u=this.horiz,p=this.tickInterval,g=this.len/(((this.categories?1:0)+this.max-this.min)/p),_=o.rotation,C=rs(.8*this.labelMetrics().h),T=Math.max(this.max-this.min,0),R=function(W){let X=(W+2*l)/(g||1);return(X=X>1?Math.ceil(X):1)*p>T&&W!==1/0&&g!==1/0&&T&&(X=Math.ceil(T/p)),rs(X*p)},V=p,M,B=Number.MAX_VALUE,$;if(u){if(!o.staggerLines&&(at(_)?$=[_]:g<o.autoRotationLimit&&($=o.autoRotation)),$){let W,X;for(let J of $)(J===_||J&&J>=-90&&J<=90)&&(X=(W=R(Math.abs(C/Math.sin(ED*J))))+Math.abs(J/360))<B&&(B=X,M=J,V=W)}}else V=R(.75*C);return this.autoRotation=$,this.labelRotation=Et(M,at(_)?_:0),o.step?p:V}getSlotWidth(o){let l=this.chart,u=this.horiz,p=this.options.labels,g=Math.max(this.tickPositions.length-(this.categories?0:1),1),_=l.margin[3];if(o&&at(o.slotWidth))return o.slotWidth;if(u&&p.step<2&&!this.isRadial)return p.rotation?0:(this.staggerLines||1)*this.len/g;if(!u){let C=p.style.width;if(C!==void 0)return parseInt(String(C),10);if(_)return _-l.spacing[3]}return .33*l.chartWidth}renderUnsquish(){let o=this.chart,l=o.renderer,u=this.tickPositions,p=this.ticks,g=this.options.labels,_=g.style,C=this.horiz,T=this.getSlotWidth(),R=Math.max(1,Math.round(T-(C?2*(g.padding||0):g.distance||0))),V={},M=this.labelMetrics(),B=_.lineClamp,$,W=B??(Math.floor(this.len/(u.length*M.h))||1),X=0;Rw(g.rotation)||(V.rotation=g.rotation||0),u.forEach(function(J){var te;let K=p[J];K.movedLabel&&K.replaceMovedLabel();let ee=((te=K.label)==null?void 0:te.textPxLength)||0;ee>X&&(X=ee)}),this.maxLabelLength=X,this.autoRotation?X>R&&X>M.h?V.rotation=this.labelRotation:this.labelRotation=0:T&&($=R),V.rotation&&($=X>.5*o.chartHeight?.33*o.chartHeight:X,B||(W=1)),this.labelAlign=g.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(V.align=this.labelAlign),u.forEach(function(J){let K=p[J],ee=K&&K.label,te=_.width,le={};ee&&(ee.attr(V),K.shortenLabel?K.shortenLabel():$&&!te&&_.whiteSpace!=="nowrap"&&($<(ee.textPxLength||0)||ee.element.tagName==="SPAN")?ee.css(of(le,{width:`${$}px`,lineClamp:W})):!ee.styles.width||le.width||te||ee.css({width:"auto"}),K.rotation=V.rotation)},this),this.tickRotCorr=l.rotCorr(M.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(o){return o.hasData()})||this.options.showEmpty&&nn(this.min)&&nn(this.max)}addTitle(o){let l,u=this.chart.renderer,p=this.horiz,g=this.opposite,_=this.options.title,C=this.chart.styledMode;this.axisTitle||((l=_.textAlign)||(l=(p?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[_.align]),this.axisTitle=u.text(_.text||"",0,0,_.useHTML).attr({zIndex:7,rotation:_.rotation||0,align:l}).addClass("highcharts-axis-title"),C||this.axisTitle.css(af(_.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),C||_.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[o?"show":"hide"](o)}generateTick(o){let l=this.ticks;l[o]?l[o].addLabel():l[o]=new Sl(this,o)}createGroups(){let{axisParent:o,chart:l,coll:u,options:p}=this,g=l.renderer,_=(C,T,R)=>g.g(C).attr({zIndex:R}).addClass(`highcharts-${u.toLowerCase()}${T} `+(this.isRadial?`highcharts-radial-axis${T} `:"")+(p.className||"")).add(o);this.axisGroup||(this.gridGroup=_("grid","-grid",p.gridZIndex),this.axisGroup=_("axis","",p.zIndex),this.labelGroup=_("axis-labels","-labels",p.labels.zIndex))}getOffset(){let o=this,{chart:l,horiz:u,options:p,side:g,ticks:_,tickPositions:C,coll:T}=o,R=l.inverted&&!o.isZAxis?[1,0,3,2][g]:g,V=o.hasData(),M=p.title,B=p.labels,$=at(p.crossing),W=l.axisOffset,X=l.clipOffset,J=[-1,1,1,-1][g],K,ee=0,te,le=0,he=0,ue,fe;if(o.showAxis=K=V||p.showEmpty,o.staggerLines=o.horiz&&B.staggerLines||void 0,o.createGroups(),V||o.isLinked?(C.forEach(function(de){o.generateTick(de)}),o.renderUnsquish(),o.reserveSpaceDefault=g===0||g===2||{1:"left",3:"right"}[g]===o.labelAlign,Et(B.reserveSpace,!$&&null,o.labelAlign==="center"||null,o.reserveSpaceDefault)&&C.forEach(function(de){he=Math.max(_[de].getLabelSize(),he)}),o.staggerLines&&(he*=o.staggerLines),o.labelOffset=he*(o.opposite?-1:1)):lf(_,function(de,me){de.destroy(),delete _[me]}),M!=null&&M.text&&M.enabled!==!1&&(o.addTitle(K),K&&!$&&M.reserveSpace!==!1&&(o.titleOffset=ee=o.axisTitle.getBBox()[u?"height":"width"],le=nn(te=M.offset)?0:Et(M.margin,u?5:10))),o.renderLine(),o.offset=J*Et(p.offset,W[g]?W[g]+(p.margin||0):0),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},fe=g===0?-o.labelMetrics().h:g===2?o.tickRotCorr.y:0,ue=Math.abs(he)+le,he&&(ue-=fe,ue+=J*(u?Et(B.y,o.tickRotCorr.y+J*B.distance):Et(B.x,J*B.distance))),o.axisTitleMargin=Et(te,ue),o.getMaxLabelDimensions&&(o.maxLabelDimensions=o.getMaxLabelDimensions(_,C)),T!=="colorAxis"&&X){let de=this.tickSize("tick");W[g]=Math.max(W[g],(o.axisTitleMargin||0)+ee+J*o.offset,ue,C&&C.length&&de?de[0]+J*o.offset:0);let me=!o.axisLine||p.offset?0:o.axisLine.strokeWidth()/2;X[R]=Math.max(X[R],me)}Tn(this,"afterGetOffset")}getLinePath(o){let l=this.chart,u=this.opposite,p=this.offset,g=this.horiz,_=this.left+(u?this.width:0)+p,C=l.chartHeight-this.bottom-(u?this.height:0)+p;return u&&(o*=-1),l.renderer.crispLine([["M",g?this.left:_,g?C:this.top],["L",g?l.chartWidth-this.right:_,g?C:l.chartHeight-this.bottom]],o)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(o){let l=this.horiz,u=this.left,p=this.top,g=this.len,_=this.options.title,C=l?u:p,T=this.opposite,R=this.offset,V=_.x,M=_.y,B=this.chart.renderer.fontMetrics(o),$=o?Math.max(o.getBBox(!1,0).height-B.h-1,0):0,W={low:C+(l?0:g),middle:C+g/2,high:C+(l?g:0)}[_.align],X=(l?p+this.height:u)+(l?1:-1)*(T?-1:1)*(this.axisTitleMargin||0)+[-$,$,B.f,-$][this.side],J={x:l?W+V:X+(T?this.width:0)+R+V,y:l?X+M-(T?this.height:0)+R:W+M};return Tn(this,"afterGetTitlePosition",{titlePosition:J}),J}renderMinorTick(o,l){let u=this.minorTicks;u[o]||(u[o]=new Sl(this,o,"minor")),l&&u[o].isNew&&u[o].render(null,!0),u[o].render(null,!1,1)}renderTick(o,l,u){let p=this.isLinked,g=this.ticks;(!p||o>=this.min&&o<=this.max||this.grid&&this.grid.isColumn)&&(g[o]||(g[o]=new Sl(this,o)),u&&g[o].isNew&&g[o].render(l,!0,-1),g[o].render(l))}render(){let o,l,u=this,p=u.chart,g=u.logarithmic,_=p.renderer,C=u.options,T=u.isLinked,R=u.tickPositions,V=u.axisTitle,M=u.ticks,B=u.minorTicks,$=u.alternateBands,W=C.stackLabels,X=C.alternateGridColor,J=C.crossing,K=u.tickmarkOffset,ee=u.axisLine,te=u.showAxis,le=wD(_.globalAnimation);if(u.labelEdge.length=0,u.overlap=!1,[M,B,$].forEach(function(he){lf(he,function(ue){ue.isActive=!1})}),at(J)){let he=this.isXAxis?p.yAxis[0]:p.xAxis[0],ue=[1,-1,-1,1][this.side];if(he){let fe=he.toPixels(J,!0);u.horiz&&(fe=he.len-fe),u.offset=ue*fe}}if(u.hasData()||T){let he=u.chart.hasRendered&&u.old&&at(u.old.min);u.minorTickInterval&&!u.categories&&u.getMinorTickPositions().forEach(function(ue){u.renderMinorTick(ue,he)}),R.length&&(R.forEach(function(ue,fe){u.renderTick(ue,fe,he)}),K&&(u.min===0||u.single)&&(M[-1]||(M[-1]=new Sl(u,-1,null,!0)),M[-1].render(-1))),X&&R.forEach(function(ue,fe){l=R[fe+1]!==void 0?R[fe+1]+K:u.max-K,fe%2==0&&ue<u.max&&l<=u.max+(p.polar?-K:K)&&($[ue]||($[ue]=new S.PlotLineOrBand(u,{})),o=ue+K,$[ue].options={from:g?g.lin2log(o):o,to:g?g.lin2log(l):l,color:X,className:"highcharts-alternate-grid"},$[ue].render(),$[ue].isActive=!0)}),u._addedPlotLB||(u._addedPlotLB=!0,(C.plotLines||[]).concat(C.plotBands||[]).forEach(function(ue){u.addPlotBandOrLine(ue)}))}[M,B,$].forEach(function(he){let ue=[],fe=le.duration;lf(he,function(de,me){de.isActive||(de.render(me,!1,0),de.isActive=!1,ue.push(me))}),RD(function(){let de=ue.length;for(;de--;)he[ue[de]]&&!he[ue[de]].isActive&&(he[ue[de]].destroy(),delete he[ue[de]])},he!==$&&p.hasRendered&&fe?fe:0)}),ee&&(ee[ee.isPlaced?"animate":"attr"]({d:this.getLinePath(ee.strokeWidth())}),ee.isPlaced=!0,ee[te?"show":"hide"](te)),V&&te&&(V[V.isNew?"attr":"animate"](u.getTitlePosition(V)),V.isNew=!1),W&&W.enabled&&u.stacking&&u.stacking.renderStackTotals(),u.old={len:u.len,max:u.max,min:u.min,transA:u.transA,userMax:u.userMax,userMin:u.userMin},u.isDirty=!1,Tn(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(o){o.render()})),this.series.forEach(function(o){o.isDirty=!0})}getKeepProps(){return this.keepProps||kl.keepProps}destroy(o){let l=this,u=l.plotLinesAndBands,p=this.eventOptions;if(Tn(this,"destroy",{keepEvents:o}),o||AD(l),[l.ticks,l.minorTicks,l.alternateBands].forEach(function(g){SD(g)}),u){let g=u.length;for(;g--;)u[g].destroy()}for(let g in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(_){l[_]&&(l[_]=l[_].destroy())}),l.plotLinesAndBandsGroups)l.plotLinesAndBandsGroups[g]=l.plotLinesAndBandsGroups[g].destroy();lf(l,function(g,_){l.getKeepProps().indexOf(_)===-1&&delete l[_]}),this.eventOptions=p}drawCrosshair(o,l){let u=this.crosshair,p=Et(u&&u.snap,!0),g=this.chart,_,C,T,R=this.cross,V;if(Tn(this,"drawCrosshair",{e:o,point:l}),o||(o=this.cross&&this.cross.e),u&&(nn(l)||!p)!==!1){if(p?nn(l)&&(C=Et(this.coll!=="colorAxis"?l.crosshairPos:null,this.isXAxis?l.plotX:this.len-l.plotY)):C=o&&(this.horiz?o.chartX-this.pos:this.len-o.chartY+this.pos),nn(C)&&(V={value:l&&(this.isXAxis?l.x:Et(l.stackY,l.y)),translatedValue:C},g.polar&&of(V,{isCrosshair:!0,chartX:o&&o.chartX,chartY:o&&o.chartY,point:l}),_=this.getPlotLinePath(V)||null),!nn(_)){this.hideCrosshair();return}T=this.categories&&!this.isRadial,R||(this.cross=R=g.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(T?"category ":"thin ")+(u.className||"")).attr({zIndex:Et(u.zIndex,2)}).add(),!g.styledMode&&(R.attr({stroke:u.color||(T?In.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Et(u.width,1)}).css({"pointer-events":"none"}),u.dashStyle&&R.attr({dashstyle:u.dashStyle}))),R.show().attr({d:_}),T&&!u.width&&R.attr({"stroke-width":this.transA}),this.cross.e=o}else this.hideCrosshair();Tn(this,"afterDrawCrosshair",{e:o,point:l})}hideCrosshair(){this.cross&&this.cross.hide(),Tn(this,"afterHideCrosshair")}update(o,l){let u=this.chart;o=af(this.userOptions,o),this.destroy(!0),this.init(u,o),u.isDirtyBox=!0,Et(l,!0)&&u.redraw()}remove(o){let l=this.chart,u=this.coll,p=this.series,g=p.length;for(;g--;)p[g]&&p[g].remove(!1);Iw(l.axes,this),Iw(l[u]||[],this),l.orderItems(u),this.destroy(),l.isDirtyBox=!0,Et(o,!0)&&l.redraw()}setTitle(o,l){this.update({title:o},l)}setCategories(o,l){this.update({categories:o},l)}}kl.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:OD,getMagnitude:MD,normalizeTickInterval:DD,timeUnits:uf}=Pe;(function(P){function o(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function l(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new u(this))}P.compose=function(p){return p.keepProps.includes("dateTime")||(p.keepProps.push("dateTime"),p.prototype.getTimeTicks=o,OD(p,"afterSetType",l)),p};class u{constructor(g){this.axis=g}normalizeTimeTickInterval(g,_){let C=_||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],T=C[C.length-1],R=uf[T[0]],V=T[1],M;for(M=0;M<C.length&&(R=uf[(T=C[M])[0]],V=T[1],!C[M+1]||!(g<=(R*V[V.length-1]+uf[C[M+1][0]])/2));M++);R===uf.year&&g<5*R&&(V=[1,2,5]);let B=DD(g/R,V,T[0]==="year"?Math.max(MD(g/R),1):1);return{unitRange:R,count:B,unitName:T[0]}}getXDateFormat(g,_){let{axis:C}=this,T=C.chart.time;return C.closestPointRange?T.getDateFormat(C.closestPointRange,g,C.options.startOfWeek,_)||T.resolveDTLFormat(_.year).main:T.resolveDTLFormat(_.day).main}}P.Additions=u})(d||(d={}));let ND=d,{addEvent:Mw,normalizeTickInterval:LD,pick:VD}=Pe;(function(P){function o(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new u(this))}function l(){let p=this.logarithmic;p&&(this.lin2val=function(g){return p.lin2log(g)},this.val2lin=function(g){return p.log2lin(g)})}P.compose=function(p){return p.keepProps.includes("logarithmic")||(p.keepProps.push("logarithmic"),Mw(p,"afterSetType",o),Mw(p,"afterInit",l)),p};class u{constructor(g){this.axis=g}getLogTickPositions(g,_,C,T){let R=this.axis,V=R.len,M=R.options,B=[];if(T||(this.minorAutoInterval=void 0),g>=.5)g=Math.round(g),B=R.getLinearTickPositions(g,_,C);else if(g>=.08){let $,W,X,J,K,ee,te,le=Math.floor(_);for($=g>.3?[1,2,4]:g>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],W=le;W<C+1&&!te;W++)for(X=0,J=$.length;X<J&&!te;X++)(K=this.log2lin(this.lin2log(W)*$[X]))>_&&(!T||ee<=C)&&ee!==void 0&&B.push(ee),ee>C&&(te=!0),ee=K}else{let $=this.lin2log(_),W=this.lin2log(C),X=T?R.getMinorTickInterval():M.tickInterval,J=M.tickPixelInterval/(T?5:1),K=T?V/R.tickPositions.length:V;g=LD(g=VD(X==="auto"?null:X,this.minorAutoInterval,(W-$)*J/(K||1))),B=R.getLinearTickPositions(g,$,W).map(this.log2lin),T||(this.minorAutoInterval=g/5)}return T||(R.tickInterval=g),B}lin2log(g){return Math.pow(10,g)}log2lin(g){return Math.log(g)/Math.LN10}}P.Additions=u})(f||(f={}));let FD=f,{erase:BD,extend:UD,isNumber:Dw}=Pe;(function(P){let o;function l(R){return this.addPlotBandOrLine(R,"plotBands")}function u(R,V){let M=this.userOptions,B=new o(this,R);if(this.visible&&(B=B.render()),B){if(this._addedPlotLB||(this._addedPlotLB=!0,(M.plotLines||[]).concat(M.plotBands||[]).forEach($=>{this.addPlotBandOrLine($)})),V){let $=M[V]||[];$.push(R),M[V]=$}this.plotLinesAndBands.push(B)}return B}function p(R){return this.addPlotBandOrLine(R,"plotLines")}function g(R,V,M){M=M||this.options;let B=this.getPlotLinePath({value:V,force:!0,acrossPanes:M.acrossPanes}),$=[],W=this.horiz,X=!Dw(this.min)||!Dw(this.max)||R<this.min&&V<this.min||R>this.max&&V>this.max,J=this.getPlotLinePath({value:R,force:!0,acrossPanes:M.acrossPanes}),K,ee=1,te;if(J&&B)for(X&&(te=J.toString()===B.toString(),ee=0),K=0;K<J.length;K+=2){let le=J[K],he=J[K+1],ue=B[K],fe=B[K+1];(le[0]==="M"||le[0]==="L")&&(he[0]==="M"||he[0]==="L")&&(ue[0]==="M"||ue[0]==="L")&&(fe[0]==="M"||fe[0]==="L")&&(W&&ue[1]===le[1]?(ue[1]+=ee,fe[1]+=ee):W||ue[2]!==le[2]||(ue[2]+=ee,fe[2]+=ee),$.push(["M",le[1],le[2]],["L",he[1],he[2]],["L",fe[1],fe[2]],["L",ue[1],ue[2]],["Z"])),$.isFlat=te}return $}function _(R){this.removePlotBandOrLine(R)}function C(R){let V=this.plotLinesAndBands,M=this.options,B=this.userOptions;if(V){let $=V.length;for(;$--;)V[$].id===R&&V[$].destroy();[M.plotLines||[],B.plotLines||[],M.plotBands||[],B.plotBands||[]].forEach(function(W){for($=W.length;$--;)(W[$]||{}).id===R&&BD(W,W[$])})}}function T(R){this.removePlotBandOrLine(R)}P.compose=function(R,V){let M=V.prototype;return M.addPlotBand||(o=R,UD(M,{addPlotBand:l,addPlotLine:p,addPlotBandOrLine:u,getPlotBandPath:g,removePlotBand:_,removePlotLine:T,removePlotBandOrLine:C})),V}})(m||(m={}));let jD=m,{addEvent:HD,arrayMax:Nw,arrayMin:Lw,defined:or,destroyObjectProperties:$D,erase:zD,fireEvent:WD,merge:Vw,objectEach:GD,pick:qD}=Pe;class hf{static compose(o,l){return HD(o,"afterInit",function(){this.labelCollectors.push(()=>{var p;let u=[];for(let g of this.axes)for(let{label:_,options:C}of g.plotLinesAndBands)_&&!((p=C==null?void 0:C.label)!=null&&p.allowOverlap)&&u.push(_);return u})}),jD.compose(hf,l)}constructor(o,l){this.axis=o,this.options=l,this.id=l.id}render(){WD(this,"render");let{axis:o,options:l}=this,{horiz:u,logarithmic:p}=o,{color:g,events:_,zIndex:C=0}=l,{renderer:T,time:R}=o.chart,V={},M=R.parse(l.to),B=R.parse(l.from),$=R.parse(l.value),W=l.borderWidth,X=l.label,{label:J,svgElem:K}=this,ee=[],te,le=or(B)&&or(M),he=or($),ue=!K,fe={class:"highcharts-plot-"+(le?"band ":"line ")+(l.className||"")},de=le?"bands":"lines";if(!o.chart.styledMode&&(he?(fe.stroke=g||"#999999",fe["stroke-width"]=qD(l.width,1),l.dashStyle&&(fe.dashstyle=l.dashStyle)):le&&(fe.fill=g||"#e6e9ff",W&&(fe.stroke=l.borderColor,fe["stroke-width"]=W))),V.zIndex=C,de+="-"+C,(te=o.plotLinesAndBandsGroups[de])||(o.plotLinesAndBandsGroups[de]=te=T.g("plot-"+de).attr(V).add()),K||(this.svgElem=K=T.path().attr(fe).add(te)),or($))ee=o.getPlotLinePath({value:(p==null?void 0:p.log2lin($))??$,lineWidth:K.strokeWidth(),acrossPanes:l.acrossPanes});else{if(!(or(B)&&or(M)))return;ee=o.getPlotBandPath((p==null?void 0:p.log2lin(B))??B,(p==null?void 0:p.log2lin(M))??M,l)}return!this.eventsAdded&&_&&(GD(_,(me,Te)=>{K==null||K.on(Te,ke=>{_[Te].apply(this,[ke])})}),this.eventsAdded=!0),(ue||!K.d)&&(ee!=null&&ee.length)?K.attr({d:ee}):K&&(ee?(K.show(),K.animate({d:ee})):K.d&&(K.hide(),J&&(this.label=J=J.destroy()))),X&&(or(X.text)||or(X.formatter))&&(ee!=null&&ee.length)&&o.width>0&&o.height>0&&!ee.isFlat?(X=Vw({align:u&&le?"center":void 0,x:u?!le&&4:10,verticalAlign:!u&&le?"middle":void 0,y:u?le?16:10:le?6:-4,rotation:u&&!le?90:0,...le?{inside:!0}:{}},X),this.renderLabel(X,ee,le,C)):J&&J.hide(),this}renderLabel(o,l,u,p){var W;let g=this.axis,_=g.chart.renderer,C=o.inside,T=this.label;T||(this.label=T=_.text(this.getLabelText(o),0,0,o.useHTML).attr({align:o.textAlign||o.align,rotation:o.rotation,class:"highcharts-plot-"+(u?"band":"line")+"-label "+(o.className||""),zIndex:p}),g.chart.styledMode||T.css(Vw({fontSize:"0.8em",textOverflow:u&&!C?"":"ellipsis"},o.style)),T.add());let R=l.xBounds||[l[0][1],l[1][1],u?l[2][1]:l[0][1]],V=l.yBounds||[l[0][2],l[1][2],u?l[2][2]:l[0][2]],M=Lw(R),B=Lw(V),$=Nw(R)-M;T.align(o,!1,{x:M,y:B,width:$,height:Nw(V)-B}),(!T.alignValue||T.alignValue==="left"||or(C))&&T.css({width:(((W=o.style)==null?void 0:W.width)||(u&&C?$:T.rotation===90?g.height-(T.alignAttr.y-g.top):(o.clip?g.width:g.chart.chartWidth)-(T.alignAttr.x-g.left)))+"px"}),T.show(!0)}getLabelText(o){return or(o.formatter)?o.formatter.call(this):o.text}destroy(){zD(this.axis.plotLinesAndBands,this),delete this.axis,$D(this)}}let{animObject:KD}=Cn,{format:Fw}=Wi,{composed:YD,dateFormats:XD,doc:Bw,isSafari:JD}=S,{distribute:QD}=Br,{addEvent:ZD,clamp:Il,css:Uw,discardElement:eN,extend:tN,fireEvent:jw,isArray:nN,isNumber:iN,isObject:sN,isString:zg,merge:rN,pick:Al,pushUnique:oN,splat:Wg,syncTimeout:aN}=Pe;class Gg{constructor(o,l,u){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=o,this.init(o,l),this.pointer=u}bodyFormatter(o){return o.map(l=>{let u=l.series.tooltipOptions,p=l.formatPrefix||"point";return(u[p+"Formatter"]||l.tooltipFormatter).call(l,u[p+"Format"]||"")})}cleanSplit(o){this.chart.series.forEach(function(l){let u=l&&l.tt;u&&(!u.isActive||o?l.tt=u.destroy():u.isActive=!1)})}defaultFormatter(o){let l,u=this.points||Wg(this);return(l=(l=[o.headerFooterFormatter(u[0])]).concat(o.bodyFormatter(u))).push(o.headerFooterFormatter(u[0],!0)),l}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),eN(this.container)),Pe.clearTimeout(this.hideTimer)}getAnchor(o,l){let u,{chart:p,pointer:g}=this,_=p.inverted,C=p.plotTop,T=p.plotLeft;if((o=Wg(o))[0].series&&o[0].series.yAxis&&!o[0].series.yAxis.options.reversedStacks&&(o=o.slice().reverse()),this.followPointer&&l)l.chartX===void 0&&(l=g.normalize(l)),u=[l.chartX-T,l.chartY-C];else if(o[0].tooltipPos)u=o[0].tooltipPos;else{let R=0,V=0;o.forEach(function(M){let B=M.pos(!0);B&&(R+=B[0],V+=B[1])}),R/=o.length,V/=o.length,this.shared&&o.length>1&&l&&(_?R=l.chartX:V=l.chartY),u=[R-T,V-C]}return u.map(Math.round)}getClassName(o,l,u){let p=this.options,g=o.series,_=g.options;return[p.className,"highcharts-label",u&&"highcharts-tooltip-header",l?"highcharts-tooltip-box":"highcharts-tooltip",!u&&"highcharts-color-"+Al(o.colorIndex,g.colorIndex),_&&_.className].filter(zg).join(" ")}getLabel({anchorX:o,anchorY:l}={anchorX:0,anchorY:0}){let u=this,p=this.chart.styledMode,g=this.options,_=this.split&&this.allowShared,C=this.container,T=this.chart.renderer;if(this.label){let R=!this.label.hasClass("highcharts-label");(!_&&R||_&&!R)&&this.destroy()}if(!this.label){if(this.outside){let R=this.chart,V=R.options.chart.style,M=Eo.getRendererType();this.container=C=S.doc.createElement("div"),C.className="highcharts-tooltip-container "+(R.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Uw(C,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(V&&V.zIndex||0)+3)}),this.renderer=T=new M(C,0,0,V,void 0,void 0,T.styledMode)}if(_?this.label=T.g("tooltip"):(this.label=T.label("",o,l,g.shape,void 0,void 0,g.useHTML,void 0,"tooltip").attr({padding:g.padding,r:g.borderRadius}),p||this.label.attr({fill:g.backgroundColor,"stroke-width":g.borderWidth||0}).css(g.style).css({pointerEvents:g.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),u.outside){let R=this.label;[R.xSetter,R.ySetter].forEach((V,M)=>{R[M?"ySetter":"xSetter"]=B=>{V.call(R,u.distance),R[M?"y":"x"]=B,C&&(C.style[M?"top":"left"]=`${B}px`)}})}this.label.attr({zIndex:8}).shadow(g.shadow).add()}return C&&!C.parentElement&&S.doc.body.appendChild(C),this.label}getPlayingField(){let{body:o,documentElement:l}=Bw,{chart:u,distance:p,outside:g}=this;return{width:g?Math.max(o.scrollWidth,l.scrollWidth,o.offsetWidth,l.offsetWidth,l.clientWidth)-2*p-2:u.chartWidth,height:g?Math.max(o.scrollHeight,l.scrollHeight,o.offsetHeight,l.offsetHeight,l.clientHeight):u.chartHeight}}getPosition(o,l,u){var tt,wt;let{distance:p,chart:g,outside:_,pointer:C}=this,{inverted:T,plotLeft:R,plotTop:V,polar:M}=g,{plotX:B=0,plotY:$=0}=u,W={},X=T&&u.h||0,{height:J,width:K}=this.getPlayingField(),ee=C.getChartPosition(),te=Qe=>Qe*ee.scaleX,le=Qe=>Qe*ee.scaleY,he=Qe=>{let yt=Qe==="x";return[Qe,yt?K:J,yt?o:l].concat(_?[yt?te(o):le(l),yt?ee.left-p+te(B+R):ee.top-p+le($+V),0,yt?K:J]:[yt?o:l,yt?B+R:$+V,yt?R:V,yt?R+g.plotWidth:V+g.plotHeight])},ue=he("y"),fe=he("x"),de,me=!!u.negative;!M&&((wt=(tt=g.hoverSeries)==null?void 0:tt.yAxis)!=null&&wt.reversed)&&(me=!me);let Te=!this.followPointer&&Al(u.ttBelow,!M&&!T===me),ke=function(Qe,yt,Xe,it,ft,Kt,ln){let kt=_?Qe==="y"?le(p):te(p):p,Ot=(Xe-it)/2,en=it<ft-p,wi=ft+p+it<yt,jn=ft-kt-Xe+Ot,hi=ft+kt-Ot;if(Te&&wi)W[Qe]=hi;else if(!Te&&en)W[Qe]=jn;else if(en)W[Qe]=Math.min(ln-it,jn-X<0?jn:jn-X);else{if(!wi)return!1;W[Qe]=Math.max(Kt,hi+X+Xe>yt?hi:hi+X)}},Be=function(Qe,yt,Xe,it,ft){if(ft<p||ft>yt-p)return!1;ft<Xe/2?W[Qe]=1:ft>yt-it/2?W[Qe]=yt-it-2:W[Qe]=ft-Xe/2},Ee=function(Qe){[ue,fe]=[fe,ue],de=Qe},Ve=()=>{ke.apply(0,ue)!==!1?Be.apply(0,fe)!==!1||de||(Ee(!0),Ve()):de?W.x=W.y=0:(Ee(!0),Ve())};return(T&&!M||this.len>1)&&Ee(),Ve(),W}hide(o){let l=this;Pe.clearTimeout(this.hideTimer),o=Al(o,this.options.hideDelay),this.isHidden||(this.hideTimer=aN(function(){let u=l.getLabel();l.getLabel().animate({opacity:0},{duration:o&&150,complete:()=>{u.hide(),l.container&&l.container.remove()}}),l.isHidden=!0},o))}init(o,l){this.chart=o,this.options=l,this.crosshairs=[],this.isHidden=!0,this.split=l.split&&!o.inverted&&!o.polar,this.shared=l.shared||this.split,this.outside=Al(l.outside,!!(o.scrollablePixelsX||o.scrollablePixelsY))}shouldStickOnContact(o){return!!(!this.followPointer&&this.options.stickOnContact&&(!o||this.pointer.inClass(o.target,"highcharts-tooltip")))}move(o,l,u,p){let g=this,_=KD(!g.isHidden&&g.options.animation),C=g.followPointer||(g.len||0)>1,T={x:o,y:l};C||(T.anchorX=u,T.anchorY=p),_.step=()=>g.drawTracker(),g.getLabel().animate(T,_)}refresh(o,l){let{chart:u,options:p,pointer:g,shared:_}=this,C=Wg(o),T=C[0],R=p.format,V=p.formatter||this.defaultFormatter,M=u.styledMode,B=this.allowShared;if(!p.enabled||!T.series)return;Pe.clearTimeout(this.hideTimer),this.allowShared=!(!nN(o)&&o.series&&o.series.noSharedTooltip),B=B&&!this.allowShared,this.followPointer=!this.split&&T.series.tooltipOptions.followPointer;let $=this.getAnchor(o,l),W=$[0],X=$[1];_&&this.allowShared&&(g.applyInactiveState(C),C.forEach(ee=>ee.setState("hover")),T.points=C),this.len=C.length;let J=zg(R)?Fw(R,T,u):V.call(T,this);T.points=void 0;let K=T.series;if(this.distance=Al(K.tooltipOptions.distance,16),J===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(J,C);else{let ee=W,te=X;if(l&&g.isDirectTouch&&(ee=l.chartX-u.plotLeft,te=l.chartY-u.plotTop),u.polar||K.options.clip===!1||C.some(le=>g.isDirectTouch||le.series.shouldShowTooltip(ee,te))){let le=this.getLabel(B&&this.tt||{});(!p.style.width||M)&&le.css({width:(this.outside?this.getPlayingField():u.spacingBox).width+"px"}),le.attr({class:this.getClassName(T),text:J&&J.join?J.join(""):J}),this.outside&&le.attr({x:Il(le.x||0,0,this.getPlayingField().width-(le.width||0)-1)}),M||le.attr({stroke:p.borderColor||T.color||K.color||"#666666"}),this.updatePosition({plotX:W,plotY:X,negative:T.negative,ttBelow:T.ttBelow,h:$[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}jw(this,"refresh")}renderSplit(o,l){var yt;let u=this,{chart:p,chart:{chartWidth:g,chartHeight:_,plotHeight:C,plotLeft:T,plotTop:R,scrollablePixelsY:V=0,scrollablePixelsX:M,styledMode:B},distance:$,options:W,options:{positioner:X},pointer:J}=u,{scrollLeft:K=0,scrollTop:ee=0}=((yt=p.scrollablePlotArea)==null?void 0:yt.scrollingContainer)||{},te=u.outside&&typeof M!="number"?Bw.documentElement.getBoundingClientRect():{left:K,right:K+g,top:ee,bottom:ee+_},le=u.getLabel(),he=this.renderer||p.renderer,ue=!!(p.xAxis[0]&&p.xAxis[0].opposite),{left:fe,top:de}=J.getChartPosition(),me=R+ee,Te=0,ke=C-V;function Be(Xe,it,ft,Kt,ln=!0){let kt,Ot;return ft?(kt=ue?0:ke,Ot=Il(Xe-Kt/2,te.left,te.right-Kt-(u.outside?fe:0))):(kt=it-me,Ot=Il(Ot=ln?Xe-Kt-$:Xe+$,ln?Ot:te.left,te.right)),{x:Ot,y:kt}}zg(o)&&(o=[!1,o]);let Ee=o.slice(0,l.length+1).reduce(function(Xe,it,ft){if(it!==!1&&it!==""){let Kt=l[ft-1]||{isHeader:!0,plotX:l[0].plotX,plotY:C,series:{}},ln=Kt.isHeader,kt=ln?u:Kt.series,Ot=kt.tt=function(Hn,Sn,Qn){let Bo=Hn,{isHeader:Uu,series:Lf}=Sn;if(!Bo){let Ll={padding:W.padding,r:W.borderRadius};B||(Ll.fill=W.backgroundColor,Ll["stroke-width"]=W.borderWidth??1),Bo=he.label("",0,0,W[Uu?"headerShape":"shape"],void 0,void 0,W.useHTML).addClass(u.getClassName(Sn,!0,Uu)).attr(Ll).add(le)}return Bo.isActive=!0,Bo.attr({text:Qn}),B||Bo.css(W.style).attr({stroke:W.borderColor||Sn.color||Lf.color||"#333333"}),Bo}(kt.tt,Kt,it.toString()),en=Ot.getBBox(),wi=en.width+Ot.strokeWidth();ln&&(Te=en.height,ke+=Te,ue&&(me-=Te));let{anchorX:jn,anchorY:hi}=function(Hn){let Sn,Qn,{isHeader:Bo,plotX:Uu=0,plotY:Lf=0,series:Ll}=Hn;if(Bo)Sn=Math.max(T+Uu,T),Qn=R+C/2;else{let{xAxis:ix,yAxis:sx}=Ll;Sn=ix.pos+Il(Uu,-$,ix.len+$),Ll.shouldShowTooltip(0,sx.pos-R+Lf,{ignoreX:!0})&&(Qn=sx.pos+Lf)}return{anchorX:Sn=Il(Sn,te.left-$,te.right+$),anchorY:Qn}}(Kt);if(typeof hi=="number"){let Hn=en.height+1,Sn=X?X.call(u,wi,Hn,Kt):Be(jn,hi,ln,wi);Xe.push({align:X?0:void 0,anchorX:jn,anchorY:hi,boxWidth:wi,point:Kt,rank:Al(Sn.rank,ln?1:0),size:Hn,target:Sn.y,tt:Ot,x:Sn.x})}else Ot.isActive=!1}return Xe},[]);!X&&Ee.some(Xe=>{let{outside:it}=u,ft=(it?fe:0)+Xe.anchorX;return ft<te.left&&ft+Xe.boxWidth<te.right||ft<fe-te.left+Xe.boxWidth&&te.right-ft>ft})&&(Ee=Ee.map(Xe=>{let{x:it,y:ft}=Be(Xe.anchorX,Xe.anchorY,Xe.point.isHeader,Xe.boxWidth,!1);return tN(Xe,{target:ft,x:it})})),u.cleanSplit(),QD(Ee,ke);let Ve={left:fe,right:fe};Ee.forEach(function(Xe){let{x:it,boxWidth:ft,isHeader:Kt}=Xe;!Kt&&(u.outside&&fe+it<Ve.left&&(Ve.left=fe+it),!Kt&&u.outside&&Ve.left+ft>Ve.right&&(Ve.right=fe+it))}),Ee.forEach(function(Xe){let{x:it,anchorX:ft,anchorY:Kt,pos:ln,point:{isHeader:kt}}=Xe,Ot={visibility:ln===void 0?"hidden":"inherit",x:it,y:(ln||0)+me,anchorX:ft,anchorY:Kt};if(u.outside&&it<ft){let en=fe-Ve.left;en>0&&(kt||(Ot.x=it+en,Ot.anchorX=ft+en),kt&&(Ot.x=(Ve.right-Ve.left)/2,Ot.anchorX=ft+en))}Xe.tt.attr(Ot)});let{container:tt,outside:wt,renderer:Qe}=u;if(wt&&tt&&Qe){let{width:Xe,height:it,x:ft,y:Kt}=le.getBBox();Qe.setSize(Xe+ft,it+Kt,!1),tt.style.left=Ve.left+"px",tt.style.top=de+"px"}JD&&le.attr({opacity:le.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let o=this.chart,l=this.label,u=this.shared?o.hoverPoints:o.hoverPoint;if(!l||!u)return;let p={x:0,y:0,width:0,height:0},g=this.getAnchor(u),_=l.getBBox();g[0]+=o.plotLeft-(l.translateX||0),g[1]+=o.plotTop-(l.translateY||0),p.x=Math.min(0,g[0]),p.y=Math.min(0,g[1]),p.width=g[0]<0?Math.max(Math.abs(g[0]),_.width-g[0]):Math.max(Math.abs(g[0]),_.width),p.height=g[1]<0?Math.max(Math.abs(g[1]),_.height-Math.abs(g[1])):Math.max(Math.abs(g[1]),_.height),this.tracker?this.tracker.attr(p):(this.tracker=l.renderer.rect(p).addClass("highcharts-tracker").add(l),o.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(o){return o.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(o,l){let u=o.series,p=u.tooltipOptions,g=u.xAxis,_=g&&g.dateTime,C={isFooter:l,point:o},T=p.xDateFormat||"",R=p[l?"footerFormat":"headerFormat"];return jw(this,"headerFormatter",C,function(V){if(_&&!T&&iN(o.key)&&(T=_.getXDateFormat(o.key,p.dateTimeLabelFormats)),_&&T){if(sN(T)){let M=T;XD[0]=B=>u.chart.time.dateFormat(M,B),T="%0"}(o.tooltipDateKeys||["key"]).forEach(M=>{R=R.replace(RegExp("point\\."+M+"([ \\)}])",""),`(point.${M}:${T})$1`)})}u.chart.styledMode&&(R=this.styledModeFormat(R)),V.text=Fw(R,o,this.chart)}),C.text||""}update(o){this.destroy(),this.init(this.chart,rN(!0,this.options,o))}updatePosition(o){let{chart:l,container:u,distance:p,options:g,pointer:_,renderer:C}=this,{height:T=0,width:R=0}=this.getLabel(),{left:V,top:M,scaleX:B,scaleY:$}=_.getChartPosition(),W=(g.positioner||this.getPosition).call(this,R,T,o),X=S.doc,J=(o.plotX||0)+l.plotLeft,K=(o.plotY||0)+l.plotTop,ee;C&&u&&(g.positioner&&(W.x+=V-p,W.y+=M-p),ee=(g.borderWidth||0)+2*p+2,C.setSize(Il(R+ee,0,X.documentElement.clientWidth)-1,T+ee,!1),(B!==1||$!==1)&&(Uw(u,{transform:`scale(${B}, ${$})`}),J*=B,K*=$),J+=V-W.x,K+=M-W.y),this.move(Math.round(W.x),Math.round(W.y||0),J,K)}}(function(P){P.compose=function(o){oN(YD,"Core.Tooltip")&&ZD(o,"afterInit",function(){let l=this.chart;l.options.tooltip&&(l.tooltip=new P(l,l.options.tooltip,this))})}})(Gg||(Gg={}));let Hw=Gg,{animObject:lN}=Cn,{defaultOptions:cN}=Kn,{format:uN}=Wi,{addEvent:hN,crisp:dN,erase:fN,extend:df,fireEvent:qg,getNestedProperty:pN,isArray:mN,isFunction:gN,isNumber:Po,isObject:ff,merge:$w,pick:Ro,syncTimeout:yN,removeEvent:zw,uniqueKey:vN}=Pe;class Ou{animateBeforeDestroy(){let o=this,l={x:o.startXPos,opacity:0},u=o.getGraphicalProps();u.singular.forEach(function(p){o[p]=o[p].animate(p==="dataLabel"?{x:o[p].startXPos,y:o[p].startYPos,opacity:0}:l)}),u.plural.forEach(function(p){o[p].forEach(function(g){g.element&&g.animate(df({x:o.startXPos},g.startYPos?{x:g.startXPos,y:g.startYPos}:{}))})})}applyOptions(o,l){let u=this.series,p=u.options.pointValKey||u.pointValKey;return df(this,o=Ou.prototype.optionsToObject.call(this,o)),this.options=this.options?df(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,p&&(this.y=Ou.prototype.getNestedProperty.call(this,p)),this.selected&&(this.state="select"),"name"in this&&l===void 0&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),this.x===void 0&&u?this.x=l??u.autoIncrement():Po(o.x)&&u.options.relativeXValue?this.x=u.autoIncrement(o.x):typeof this.x=="string"&&(l??(l=u.chart.time.parse(this.x)),Po(l)&&(this.x=l)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let o=this,l=o.series,u=l.chart,p=l.options.dataSorting,g=u.hoverPoints,_=lN(o.series.chart.renderer.globalAnimation),C=()=>{for(let T in(o.graphic||o.graphics||o.dataLabel||o.dataLabels)&&(zw(o),o.destroyElements()),o)delete o[T]};o.legendItem&&u.legend.destroyItem(o),g&&(o.setState(),fN(g,o),g.length||(u.hoverPoints=null)),o===u.hoverPoint&&o.onMouseOut(),p&&p.enabled?(this.animateBeforeDestroy(),yN(C,_.duration)):C(),u.pointCount--}this.destroyed=!0}destroyElements(o){let l=this,u=l.getGraphicalProps(o);u.singular.forEach(function(p){l[p]=l[p].destroy()}),u.plural.forEach(function(p){l[p].forEach(function(g){g&&g.element&&g.destroy()}),delete l[p]})}firePointEvent(o,l,u){let p=this,g=this.series.options;p.manageEvent(o),o==="click"&&g.allowPointSelect&&(u=function(_){!p.destroyed&&p.select&&p.select(null,_.ctrlKey||_.metaKey||_.shiftKey)}),qg(p,o,l,u)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(o){let l,u,p=this,g=[],_={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&g.push("graphic","connector"),o.dataLabel&&g.push("dataLabel","dataLabelPath","dataLabelUpper"),u=g.length;u--;)p[l=g[u]]&&_.singular.push(l);return["graphic","dataLabel"].forEach(function(C){let T=C+"s";o[C]&&p[T]&&_.plural.push(T)}),_}getNestedProperty(o){return o?o.indexOf("custom.")===0?pN(o,this.options):this[o]:void 0}getZone(){let o=this.series,l=o.zones,u=o.zoneAxis||"y",p,g=0;for(p=l[0];this[u]>=p.value;)p=l[++g];return this.nonZonedColor||(this.nonZonedColor=this.color),p&&p.color&&!this.options.color?this.color=p.color:this.color=this.nonZonedColor,p}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(o,l,u){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=o,this.applyOptions(l,u),this.id??(this.id=vN()),this.resolveColor(),o.chart.pointCount++,qg(this,"afterInit")}isValid(){return(Po(this.x)||this.x instanceof Date)&&Po(this.y)}optionsToObject(o){var V;let l=this.series,u=l.options.keys,p=u||l.pointArrayMap||["y"],g=p.length,_={},C,T=0,R=0;if(Po(o)||o===null)_[p[0]]=o;else if(mN(o))for(!u&&o.length>g&&((C=typeof o[0])=="string"?(V=l.xAxis)!=null&&V.dateTime?_.x=l.chart.time.parse(o[0]):_.name=o[0]:C==="number"&&(_.x=o[0]),T++);R<g;)u&&o[T]===void 0||(p[R].indexOf(".")>0?Ou.prototype.setNestedProperty(_,o[T],p[R]):_[p[R]]=o[T]),T++,R++;else typeof o=="object"&&(_=o,o.dataLabels&&(l.hasDataLabels=()=>!0),o.marker&&(l._hasPointMarkers=!0));return _}pos(o,l=this.plotY){if(!this.destroyed){let{plotX:u,series:p}=this,{chart:g,xAxis:_,yAxis:C}=p,T=0,R=0;if(Po(u)&&Po(l))return o&&(T=_?_.pos:g.plotLeft,R=C?C.pos:g.plotTop),g.inverted&&_&&C?[C.len-l+R,_.len-u+T]:[u+T,l+R]}}resolveColor(){let o=this.series,l=o.chart.options.chart,u=o.chart.styledMode,p,g,_=l.colorCount,C;delete this.nonZonedColor,o.options.colorByPoint?(u||(p=(g=o.options.colors||o.chart.options.colors)[o.colorCounter],_=g.length),C=o.colorCounter,o.colorCounter++,o.colorCounter===_&&(o.colorCounter=0)):(u||(p=o.color),C=o.colorIndex),this.colorIndex=Ro(this.options.colorIndex,C),this.color=Ro(this.options.color,p)}setNestedProperty(o,l,u){return u.split(".").reduce(function(p,g,_,C){let T=C.length-1===_;return p[g]=T?l:ff(p[g],!0)?p[g]:{},p[g]},o),o}shouldDraw(){return!this.isNull}tooltipFormatter(o){var T;let{chart:l,pointArrayMap:u=["y"],tooltipOptions:p}=this.series,{valueDecimals:g="",valuePrefix:_="",valueSuffix:C=""}=p;return l.styledMode&&(o=((T=l.tooltip)==null?void 0:T.styledModeFormat(o))||o),u.forEach(R=>{R="{point."+R,(_||C)&&(o=o.replace(RegExp(R+"}","g"),_+R+"}"+C)),o=o.replace(RegExp(R+"}","g"),R+":,."+g+"f}")}),uN(o,this,l)}update(o,l,u,p){let g,_=this,C=_.series,T=_.graphic,R=C.chart,V=C.options;function M(){_.applyOptions(o);let B=T&&_.hasMockGraphic,$=_.y===null?!B:B;T&&$&&(_.graphic=T.destroy(),delete _.hasMockGraphic),ff(o,!0)&&(T&&T.element&&o&&o.marker&&o.marker.symbol!==void 0&&(_.graphic=T.destroy()),o!=null&&o.dataLabels&&_.dataLabel&&(_.dataLabel=_.dataLabel.destroy())),g=_.index;let W={};for(let X of C.dataColumnKeys())W[X]=_[X];C.dataTable.setRow(W,g),V.data[g]=ff(V.data[g],!0)||ff(o,!0)?_.options:Ro(o,V.data[g]),C.isDirty=C.isDirtyData=!0,!C.fixedBox&&C.hasCartesianSeries&&(R.isDirtyBox=!0),V.legendType==="point"&&(R.isDirtyLegend=!0),l&&R.redraw(u)}l=Ro(l,!0),p===!1?M():_.firePointEvent("update",{options:o},M)}remove(o,l){this.series.removePoint(this.series.data.indexOf(this),o,l)}select(o,l){let u=this,p=u.series,g=p.chart;o=Ro(o,!u.selected),this.selectedStaging=o,u.firePointEvent(o?"select":"unselect",{accumulate:l},function(){u.selected=u.options.selected=o,p.options.data[p.data.indexOf(u)]=u.options,u.setState(o&&"select"),l||g.getSelectedPoints().forEach(function(_){let C=_.series;_.selected&&_!==u&&(_.selected=_.options.selected=!1,C.options.data[C.data.indexOf(_)]=_.options,_.setState(g.hoverPoints&&C.options.inactiveOtherPoints?"inactive":""),_.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(o){let{inverted:l,pointer:u}=this.series.chart;u&&(o=o?u.normalize(o):u.getChartCoordinatesFromPoint(this,l),u.runPointActions(o,this))}onMouseOut(){let o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(l){l.setState()}),o.hoverPoints=o.hoverPoint=null}manageEvent(o){var p,g,_,C,T,R,V;let l=$w(this.series.options.point,this.options),u=(p=l.events)==null?void 0:p[o];gN(u)&&(!((g=this.hcEvents)!=null&&g[o])||((C=(_=this.hcEvents)==null?void 0:_[o])==null?void 0:C.map(M=>M.fn).indexOf(u))===-1)?((T=this.importedUserEvent)==null||T.call(this),this.importedUserEvent=hN(this,o,u),this.hcEvents&&(this.hcEvents[o].userEvent=!0)):this.importedUserEvent&&!u&&((R=this.hcEvents)!=null&&R[o])&&((V=this.hcEvents)!=null&&V[o].userEvent)&&(zw(this,o),delete this.hcEvents[o],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(o,l){var ue;let u=this.series,p=this.state,g=u.options.states[o||"normal"]||{},_=cN.plotOptions[u.type].marker&&u.options.marker,C=_&&_.enabled===!1,T=_&&_.states&&_.states[o||"normal"]||{},R=T.enabled===!1,V=this.marker||{},M=u.chart,B=_&&u.markerAttribs,$=u.halo,W,X,J,K=u.stateMarkerGraphic,ee;if((o=o||"")===this.state&&!l||this.selected&&o!=="select"||g.enabled===!1||o&&(R||C&&T.enabled===!1)||o&&V.states&&V.states[o]&&V.states[o].enabled===!1)return;if(this.state=o,B&&(W=u.markerAttribs(this,o)),this.graphic&&!this.hasMockGraphic){if(p&&this.graphic.removeClass("highcharts-point-"+p),o&&this.graphic.addClass("highcharts-point-"+o),!M.styledMode){X=u.pointAttribs(this,o),J=Ro(M.options.chart.animation,g.animation);let fe=X.opacity;u.options.inactiveOtherPoints&&Po(fe)&&(this.dataLabels||[]).forEach(function(de){de&&!de.hasClass("highcharts-data-label-hidden")&&(de.animate({opacity:fe},J),de.connector&&de.connector.animate({opacity:fe},J))}),this.graphic.animate(X,J)}W&&this.graphic.animate(W,Ro(M.options.chart.animation,T.animation,_.animation)),K&&K.hide()}else o&&T&&(ee=V.symbol||u.symbol,K&&K.currentSymbol!==ee&&(K=K.destroy()),W&&(K?K[l?"animate":"attr"]({x:W.x,y:W.y}):ee&&(u.stateMarkerGraphic=K=M.renderer.symbol(ee,W.x,W.y,W.width,W.height,$w(_,T)).add(u.markerGroup),K.currentSymbol=ee)),!M.styledMode&&K&&this.state!=="inactive"&&K.attr(u.pointAttribs(this,o))),K&&(K[o&&this.isInside?"show":"hide"](),K.element.point=this,K.addClass(this.getClassName(),!0));let te=g.halo,le=this.graphic||K,he=le&&le.visibility||"inherit";te&&te.size&&le&&he!=="hidden"&&!this.isCluster?($||(u.halo=$=M.renderer.path().add(le.parentGroup)),$.show()[l?"animate":"attr"]({d:this.haloPath(te.size)}),$.attr({class:"highcharts-halo highcharts-color-"+Ro(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:he,zIndex:-1}),$.point=this,M.styledMode||$.attr(df({fill:this.color||u.color,"fill-opacity":te.opacity},on.filterUserAttributes(te.attributes||{})))):(ue=$==null?void 0:$.point)!=null&&ue.haloPath&&!$.point.destroyed&&$.animate({d:$.point.haloPath(0)},null,$.hide),qg(this,"afterSetState",{state:o})}haloPath(o){let l=this.pos();return l?this.series.chart.renderer.symbols.circle(dN(l[0],1)-o,l[1]-o,2*o,2*o):[]}}let Oo=Ou,{parse:bN}=In,{charts:Kg,composed:_N,isTouchDevice:wN}=S,{addEvent:_s,attr:CN,css:Yg,extend:Xg,find:Ww,fireEvent:Mo,isNumber:pf,isObject:mf,objectEach:xN,offset:EN,pick:js,pushUnique:TN,splat:Gw}=Pe;class Xn{applyInactiveState(o){let l=[],u;(o||[]).forEach(function(p){u=p.series,l.push(u),u.linkedParent&&l.push(u.linkedParent),u.linkedSeries&&(l=l.concat(u.linkedSeries)),u.navigatorSeries&&l.push(u.navigatorSeries)}),this.chart.series.forEach(function(p){l.indexOf(p)===-1?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})}destroy(){let o=this;this.eventsToUnbind.forEach(l=>l()),this.eventsToUnbind=[],!S.chartCount&&(Xn.unbindDocumentMouseUp.forEach(l=>l.unbind()),Xn.unbindDocumentMouseUp.length=0,Xn.unbindDocumentTouchEnd&&(Xn.unbindDocumentTouchEnd=Xn.unbindDocumentTouchEnd())),clearInterval(o.tooltipTimeout),xN(o,function(l,u){o[u]=void 0})}getSelectionMarkerAttrs(o,l){let u={args:{chartX:o,chartY:l},attrs:{},shapeType:"rect"};return Mo(this,"getSelectionMarkerAttrs",u,p=>{let g,{chart:_,zoomHor:C,zoomVert:T}=this,{mouseDownX:R=0,mouseDownY:V=0}=_,M=p.attrs;M.x=_.plotLeft,M.y=_.plotTop,M.width=C?1:_.plotWidth,M.height=T?1:_.plotHeight,C&&(g=o-R,M.width=Math.max(1,Math.abs(g)),M.x=(g>0?0:g)+R),T&&(g=l-V,M.height=Math.max(1,Math.abs(g)),M.y=(g>0?0:g)+V)}),u}drag(o){let{chart:l}=this,{mouseDownX:u=0,mouseDownY:p=0}=l,{panning:g,panKey:_,selectionMarkerFill:C}=l.options.chart,T=l.plotLeft,R=l.plotTop,V=l.plotWidth,M=l.plotHeight,B=mf(g)?g.enabled:g,$=_&&o[`${_}Key`],W=o.chartX,X=o.chartY,J,K=this.selectionMarker;if((!K||!K.touch)&&(W<T?W=T:W>T+V&&(W=T+V),X<R?X=R:X>R+M&&(X=R+M),this.hasDragged=Math.sqrt(Math.pow(u-W,2)+Math.pow(p-X,2)),this.hasDragged>10)){J=l.isInsidePlot(u-T,p-R,{visiblePlotOnly:!0});let{shapeType:ee,attrs:te}=this.getSelectionMarkerAttrs(W,X);(l.hasCartesianSeries||l.mapView)&&this.hasZoom&&J&&!$&&!K&&(this.selectionMarker=K=l.renderer[ee](),K.attr({class:"highcharts-selection-marker",zIndex:7}).add(),l.styledMode||K.attr({fill:C||bN("#334eff").setOpacity(.25).get()})),K&&K.attr(te),J&&!K&&B&&l.pan(o,g)}}dragStart(o){let l=this.chart;l.mouseIsDown=o.type,l.cancelClick=!1,l.mouseDownX=o.chartX,l.mouseDownY=o.chartY}getSelectionBox(o){let l={args:{marker:o},result:o.getBBox()};return Mo(this,"getSelectionBox",l),l.result}drop(o){let l,{chart:u,selectionMarker:p}=this;for(let g of u.axes)g.isPanning&&(g.isPanning=!1,(g.options.startOnTick||g.options.endOnTick||g.series.some(_=>_.boosted))&&(g.forceRedraw=!0,g.setExtremes(g.userMin,g.userMax,!1),l=!0));if(l&&u.redraw(),p&&o){if(this.hasDragged){let g=this.getSelectionBox(p);u.transform({axes:u.axes.filter(_=>_.zoomEnabled&&(_.coll==="xAxis"&&this.zoomX||_.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:o,xAxis:[],yAxis:[],...g},from:g})}pf(u.index)&&(this.selectionMarker=p.destroy())}u&&pf(u.index)&&(Yg(u.container,{cursor:u._cursor}),u.cancelClick=this.hasDragged>10,u.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(o,l,u){let p;return o.forEach(function(g){let _=!(g.noSharedTooltip&&l)&&0>g.options.findNearestPointBy.indexOf("y"),C=g.searchPoint(u,_);mf(C,!0)&&C.series&&(!mf(p,!0)||function(T,R){var $,W;let V=T.distX-R.distX,M=T.dist-R.dist,B=(($=R.series.group)==null?void 0:$.zIndex)-((W=T.series.group)==null?void 0:W.zIndex);return V!==0&&l?V:M!==0?M:B!==0?B:T.series.index>R.series.index?-1:1}(p,C)>0)&&(p=C)}),p}getChartCoordinatesFromPoint(o,l){let{xAxis:u,yAxis:p}=o.series,g=o.shapeArgs;if(u&&p){let _=o.clientX??o.plotX??0,C=o.plotY||0;return o.isNode&&g&&pf(g.x)&&pf(g.y)&&(_=g.x,C=g.y),l?{chartX:p.len+p.pos-C,chartY:u.len+u.pos-_}:{chartX:_+u.pos,chartY:C+p.pos}}if(g&&g.x&&g.y)return{chartX:g.x,chartY:g.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:o}=this.chart,l=EN(o);this.chartPosition={left:l.left,top:l.top,scaleX:1,scaleY:1};let{offsetHeight:u,offsetWidth:p}=o;return p>2&&u>2&&(this.chartPosition.scaleX=l.width/p,this.chartPosition.scaleY=l.height/u),this.chartPosition}getCoordinates(o){let l={xAxis:[],yAxis:[]};for(let u of this.chart.axes)l[u.isXAxis?"xAxis":"yAxis"].push({axis:u,value:u.toValue(o[u.horiz?"chartX":"chartY"])});return l}getHoverData(o,l,u,p,g,_){let C=[],T=function($){return $.visible&&!(!g&&$.directTouch)&&js($.options.enableMouseTracking,!0)},R=l,V,M={chartX:_?_.chartX:void 0,chartY:_?_.chartY:void 0,shared:g};Mo(this,"beforeGetHoverData",M),V=R&&!R.stickyTracking?[R]:u.filter($=>$.stickyTracking&&(M.filter||T)($));let B=p&&o||!_?o:this.findNearestKDPoint(V,g,_);return R=B&&B.series,B&&(g&&!R.noSharedTooltip?(V=u.filter(function($){return M.filter?M.filter($):T($)&&!$.noSharedTooltip})).forEach(function($){let W=Ww($.points,function(X){return X.x===B.x&&!X.isNull});mf(W)&&($.boosted&&$.boost&&(W=$.boost.getPoint(W)),C.push(W))}):C.push(B)),Mo(this,"afterGetHoverData",M={hoverPoint:B}),{hoverPoint:M.hoverPoint,hoverSeries:R,hoverPoints:C}}getPointFromEvent(o){let l=o.target,u;for(;l&&!u;)u=l.point,l=l.parentNode;return u}onTrackerMouseOut(o){let l=this.chart,u=o.relatedTarget,p=l.hoverSeries;this.isDirectTouch=!1,!p||!u||p.stickyTracking||this.inClass(u,"highcharts-tooltip")||this.inClass(u,"highcharts-series-"+p.index)&&this.inClass(u,"highcharts-tracker")||p.onMouseOut()}inClass(o,l){let u=o,p;for(;u;){if(p=CN(u,"class")){if(p.indexOf(l)!==-1)return!0;if(p.indexOf("highcharts-container")!==-1)return!1}u=u.parentElement}}constructor(o,l){var u;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=l,this.chart=o,this.runChartClick=!!((u=l.chart.events)!=null&&u.click),this.pinchDown=[],this.setDOMEvents(),Mo(this,"afterInit")}normalize(o,l){let u=o.touches,p=u?u.length?u.item(0):js(u.changedTouches,o.changedTouches)[0]:o;l||(l=this.getChartPosition());let g=p.pageX-l.left,_=p.pageY-l.top;return Xg(o,{chartX:Math.round(g/=l.scaleX),chartY:Math.round(_/=l.scaleY)})}onContainerClick(o){let l=this.chart,u=l.hoverPoint,p=this.normalize(o),g=l.plotLeft,_=l.plotTop;!l.cancelClick&&(u&&this.inClass(p.target,"highcharts-tracker")?(Mo(u.series,"click",Xg(p,{point:u})),l.hoverPoint&&u.firePointEvent("click",p)):(Xg(p,this.getCoordinates(p)),l.isInsidePlot(p.chartX-g,p.chartY-_,{visiblePlotOnly:!0})&&Mo(l,"click",p)))}onContainerMouseDown(o){var u;let l=(1&(o.buttons||o.button))==1;o=this.normalize(o),S.isFirefox&&o.button!==0&&this.onContainerMouseMove(o),(o.button===void 0||l)&&(this.zoomOption(o),l&&((u=o.preventDefault)==null||u.call(o)),this.dragStart(o))}onContainerMouseLeave(o){let{pointer:l}=Kg[js(Xn.hoverChartIndex,-1)]||{};o=this.normalize(o),this.onContainerMouseMove(o),l&&!this.inClass(o.relatedTarget,"highcharts-tooltip")&&(l.reset(),l.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(o){let l=this.chart,u=l.tooltip,p=this.normalize(o);this.setHoverChartIndex(o),(l.mouseIsDown==="mousedown"||this.touchSelect(p))&&this.drag(p),!l.openMenu&&(this.inClass(p.target,"highcharts-tracker")||l.isInsidePlot(p.chartX-l.plotLeft,p.chartY-l.plotTop,{visiblePlotOnly:!0}))&&!(u&&u.shouldStickOnContact(p))&&(this.inClass(p.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(p))}onDocumentTouchEnd(o){this.onDocumentMouseUp(o)}onContainerTouchMove(o){this.touchSelect(o)?this.onContainerMouseMove(o):this.touch(o)}onContainerTouchStart(o){this.touchSelect(o)?this.onContainerMouseDown(o):(this.zoomOption(o),this.touch(o,!0))}onDocumentMouseMove(o){let l=this.chart,u=l.tooltip,p=this.chartPosition,g=this.normalize(o,p);!p||l.isInsidePlot(g.chartX-l.plotLeft,g.chartY-l.plotTop,{visiblePlotOnly:!0})||u&&u.shouldStickOnContact(g)||g.target!==l.container.ownerDocument&&this.inClass(g.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(o){var l,u;(u=(l=Kg[js(Xn.hoverChartIndex,-1)])==null?void 0:l.pointer)==null||u.drop(o)}pinch(o){let l=this,{chart:u,hasZoom:p,lastTouches:g}=l,_=[].map.call(o.touches||[],M=>l.normalize(M)),C=_.length,T=C===1&&(l.inClass(o.target,"highcharts-tracker")&&u.runTrackerClick||l.runChartClick),R=u.tooltip,V=C===1&&js(R==null?void 0:R.options.followTouchMove,!0);C>1?l.initiated=!0:V&&(l.initiated=!1),p&&l.initiated&&!T&&o.cancelable!==!1&&o.preventDefault(),o.type==="touchstart"?(l.pinchDown=_,l.res=!0,u.mouseDownX=o.chartX):V?this.runPointActions(l.normalize(o)):g&&(Mo(u,"touchpan",{originalEvent:o,touches:_},()=>{let M=B=>{let $=B[0],W=B[1]||$;return{x:$.chartX,y:$.chartY,width:W.chartX-$.chartX,height:W.chartY-$.chartY}};u.transform({axes:u.axes.filter(B=>B.zoomEnabled&&(this.zoomHor&&B.horiz||this.zoomVert&&!B.horiz)),to:M(_),from:M(g),trigger:o.type})}),l.res&&(l.res=!1,this.reset(!1,0))),l.lastTouches=_}reset(o,l){let u=this.chart,p=u.hoverSeries,g=u.hoverPoint,_=u.hoverPoints,C=u.tooltip,T=C&&C.shared?_:g;o&&T&&Gw(T).forEach(function(R){R.series.isCartesian&&R.plotX===void 0&&(o=!1)}),o?C&&T&&Gw(T).length&&(C.refresh(T),C.shared&&_?_.forEach(function(R){R.setState(R.state,!0),R.series.isCartesian&&(R.series.xAxis.crosshair&&R.series.xAxis.drawCrosshair(null,R),R.series.yAxis.crosshair&&R.series.yAxis.drawCrosshair(null,R))}):g&&(g.setState(g.state,!0),u.axes.forEach(function(R){R.crosshair&&g.series[R.coll]===R&&R.drawCrosshair(null,g)}))):(g&&g.onMouseOut(),_&&_.forEach(function(R){R.setState()}),p&&p.onMouseOut(),C&&C.hide(l),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),u.axes.forEach(function(R){R.hideCrosshair()}),u.hoverPoints=u.hoverPoint=void 0)}runPointActions(o,l,u){let p=this.chart,g=p.series,_=p.tooltip&&p.tooltip.options.enabled?p.tooltip:void 0,C=!!_&&_.shared,T=l||p.hoverPoint,R=T&&T.series||p.hoverSeries,V=(!o||o.type!=="touchmove")&&(!!l||R&&R.directTouch&&this.isDirectTouch),M=this.getHoverData(T,R,g,V,C,o);T=M.hoverPoint,R=M.hoverSeries;let B=M.hoverPoints,$=R&&R.tooltipOptions.followPointer&&!R.tooltipOptions.split,W=C&&R&&!R.noSharedTooltip;if(T&&(u||T!==p.hoverPoint||_&&_.isHidden)){if((p.hoverPoints||[]).forEach(function(X){B.indexOf(X)===-1&&X.setState()}),p.hoverSeries!==R&&R.onMouseOver(),this.applyInactiveState(B),(B||[]).forEach(function(X){X.setState("hover")}),p.hoverPoint&&p.hoverPoint.firePointEvent("mouseOut"),!T.series)return;p.hoverPoints=B,p.hoverPoint=T,T.firePointEvent("mouseOver",void 0,()=>{_&&T&&_.refresh(W?B:T,o)})}else if($&&_&&!_.isHidden){let X=_.getAnchor([{}],o);p.isInsidePlot(X[0],X[1],{visiblePlotOnly:!0})&&_.updatePosition({plotX:X[0],plotY:X[1]})}this.unDocMouseMove||(this.unDocMouseMove=_s(p.container.ownerDocument,"mousemove",X=>{var J,K;return(K=(J=Kg[Xn.hoverChartIndex??-1])==null?void 0:J.pointer)==null?void 0:K.onDocumentMouseMove(X)}),this.eventsToUnbind.push(this.unDocMouseMove)),p.axes.forEach(function(X){let J,K=js((X.crosshair||{}).snap,!0);!K||(J=p.hoverPoint)&&J.series[X.coll]===X||(J=Ww(B,ee=>ee.series&&ee.series[X.coll]===X)),J||!K?X.drawCrosshair(o,J):X.hideCrosshair()})}setDOMEvents(){let o=this.chart.container,l=o.ownerDocument;o.onmousedown=this.onContainerMouseDown.bind(this),o.onmousemove=this.onContainerMouseMove.bind(this),o.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(_s(o,"mouseenter",this.onContainerMouseEnter.bind(this)),_s(o,"mouseleave",this.onContainerMouseLeave.bind(this))),Xn.unbindDocumentMouseUp.some(p=>p.doc===l)||Xn.unbindDocumentMouseUp.push({doc:l,unbind:_s(l,"mouseup",this.onDocumentMouseUp.bind(this))});let u=this.chart.renderTo.parentElement;for(;u&&u.tagName!=="BODY";)this.eventsToUnbind.push(_s(u,"scroll",()=>{delete this.chartPosition})),u=u.parentElement;this.eventsToUnbind.push(_s(o,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),_s(o,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Xn.unbindDocumentTouchEnd||(Xn.unbindDocumentTouchEnd=_s(l,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),_s(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var g,_;if(!wN)return;let o=this.pointerCaptureEventsToUnbind,l=this.chart,u=l.container,p=js((g=l.options.tooltip)==null?void 0:g.followTouchMove,!0)&&l.series.some(C=>C.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&p?(o.push(_s(u,"pointerdown",C=>{var T,R;(T=C.target)!=null&&T.hasPointerCapture(C.pointerId)&&((R=C.target)==null||R.releasePointerCapture(C.pointerId))}),_s(u,"pointermove",C=>{var T,R;(R=(T=l.pointer)==null?void 0:T.getPointFromEvent(C))==null||R.onMouseOver(C)})),l.styledMode||Yg(u,{"touch-action":"none"}),u.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!p&&(o.forEach(C=>C()),o.length=0,l.styledMode||Yg(u,{"touch-action":js((_=l.options.chart.style)==null?void 0:_["touch-action"],"manipulation")}),u.className=u.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(o){var p;let l=this.chart,u=S.charts[js(Xn.hoverChartIndex,-1)];if(u&&u!==l){let g={relatedTarget:l.container};o&&!(o!=null&&o.relatedTarget)&&(o={...g,...o}),(p=u.pointer)==null||p.onContainerMouseLeave(o||g)}u&&u.mouseIsDown||(Xn.hoverChartIndex=l.index)}touch(o,l){let u,{chart:p,pinchDown:g=[]}=this;this.setHoverChartIndex(),(o=this.normalize(o)).touches.length===1?p.isInsidePlot(o.chartX-p.plotLeft,o.chartY-p.plotTop,{visiblePlotOnly:!0})&&!p.openMenu?(l&&this.runPointActions(o),o.type==="touchmove"&&(u=!!g[0]&&Math.pow(g[0].chartX-o.chartX,2)+Math.pow(g[0].chartY-o.chartY,2)>=16),js(u,!0)&&this.pinch(o)):l&&this.reset():o.touches.length===2&&this.pinch(o)}touchSelect(o){return!!(this.chart.zooming.singleTouch&&o.touches&&o.touches.length===1)}zoomOption(o){let l=this.chart,u=l.inverted,p=l.zooming.type||"",g,_;/touch/.test(o.type)&&(p=js(l.zooming.pinchType,p)),this.zoomX=g=/x/.test(p),this.zoomY=_=/y/.test(p),this.zoomHor=g&&!u||_&&u,this.zoomVert=_&&!u||g&&u,this.hasZoom=g||_}}Xn.unbindDocumentMouseUp=[],function(P){P.compose=function(o){TN(_N,"Core.Pointer")&&_s(o,"beforeRender",function(){this.pointer=new P(this,this.options)})}}(Xn||(Xn={}));let qw=Xn,{fireEvent:Kw,isArray:SN,objectEach:gf,uniqueKey:yf}=Pe,vf=class{constructor(P={}){this.autoId=!P.id,this.columns={},this.id=P.id||yf(),this.modified=this,this.rowCount=0,this.versionTag=yf();let o=0;gf(P.columns||{},(l,u)=>{this.columns[u]=l.slice(),o=Math.max(o,l.length)}),this.applyRowCount(o)}applyRowCount(P){this.rowCount=P,gf(this.columns,o=>{SN(o)&&(o.length=P)})}getColumn(P,o){return this.columns[P]}getColumns(P,o){return(P||Object.keys(this.columns)).reduce((l,u)=>(l[u]=this.columns[u],l),{})}getRow(P,o){return(o||Object.keys(this.columns)).map(l=>{var u;return(u=this.columns[l])==null?void 0:u[P]})}setColumn(P,o=[],l=0,u){this.setColumns({[P]:o},l,u)}setColumns(P,o,l){let u=this.rowCount;gf(P,(p,g)=>{this.columns[g]=p.slice(),u=p.length}),this.applyRowCount(u),l!=null&&l.silent||(Kw(this,"afterSetColumns"),this.versionTag=yf())}setRow(P,o=this.rowCount,l,u){let{columns:p}=this,g=l?this.rowCount+1:o+1;gf(P,(_,C)=>{let T=p[C]||(u==null?void 0:u.addColumns)!==!1&&Array(g);T&&(l?T.splice(o,0,_):T[o]=_,p[C]=T)}),g>this.rowCount&&this.applyRowCount(g),u!=null&&u.silent||(Kw(this,"afterSetRows"),this.versionTag=yf())}},{extend:kN,merge:IN,pick:Yw}=Pe;(function(P){function o(l,u,p){var le,he;let g=this.legendItem=this.legendItem||{},{chart:_,options:C}=this,{baseline:T=0,symbolWidth:R,symbolHeight:V}=l,M=this.symbol||"circle",B=V/2,$=_.renderer,W=g.group,X=T-Math.round((((le=l.fontMetrics)==null?void 0:le.b)||V)*(p?.4:.3)),J={},K,ee=C.marker,te=0;if(_.styledMode||(J["stroke-width"]=Math.min(C.lineWidth||0,24),C.dashStyle?J.dashstyle=C.dashStyle:C.linecap==="square"||(J["stroke-linecap"]="round")),g.line=$.path().addClass("highcharts-graph").attr(J).add(W),p&&(g.area=$.path().addClass("highcharts-area").add(W)),J["stroke-linecap"]&&(te=Math.min(g.line.strokeWidth(),R)/2),R){let ue=[["M",te,X],["L",R-te,X]];g.line.attr({d:ue}),(he=g.area)==null||he.attr({d:[...ue,["L",R-te,T],["L",te,T]]})}if(ee&&ee.enabled!==!1&&R){let ue=Math.min(Yw(ee.radius,B),B);M.indexOf("url")===0&&(ee=IN(ee,{width:V,height:V}),ue=0),g.symbol=K=$.symbol(M,R/2-ue,X-ue,2*ue,2*ue,kN({context:"legend"},ee)).addClass("highcharts-point").add(W),K.isMarker=!0}}P.areaMarker=function(l,u){o.call(this,l,u,!0)},P.lineMarker=o,P.rectangle=function(l,u){let p=u.legendItem||{},g=l.options,_=l.symbolHeight,C=g.squareSymbol,T=C?_:l.symbolWidth;p.symbol=this.chart.renderer.rect(C?(l.symbolWidth-_)/2:0,l.baseline-_+1,T,_,Yw(l.options.symbolRadius,_/2)).addClass("highcharts-point").attr({zIndex:3}).add(p.group)}})(b||(b={}));let Xw=b,{defaultOptions:Jw}=Kn,{extend:AN,extendClass:PN,merge:RN}=Pe;(function(P){function o(l,u){let p=Jw.plotOptions||{},g=u.defaultOptions,_=u.prototype;return _.type=l,_.pointClass||(_.pointClass=Oo),!P.seriesTypes[l]&&(g&&(p[l]=g),P.seriesTypes[l]=u,!0)}P.seriesTypes=S.seriesTypes,P.registerSeriesType=o,P.seriesType=function(l,u,p,g,_){let C=Jw.plotOptions||{};if(u=u||"",C[l]=RN(C[u],p),delete P.seriesTypes[l],o(l,PN(P.seriesTypes[u]||function(){},g)),P.seriesTypes[l].prototype.type=l,_){class T extends Oo{}AN(T.prototype,_),P.seriesTypes[l].prototype.pointClass=T}return P.seriesTypes[l]}})(w||(w={}));let An=w,{animObject:Qw,setAnimation:ON}=Cn,{defaultOptions:bf}=Kn,{registerEventOptions:MN}=nf,{svg:DN,win:NN}=S,{seriesTypes:Pl}=An,{arrayMax:Jg,arrayMin:Zw,clamp:eC,correctFloat:tC,crisp:LN,defined:Jn,destroyObjectProperties:VN,diffObjects:FN,erase:nC,error:_f,extend:Rl,find:BN,fireEvent:mn,getClosestDistance:UN,getNestedProperty:iC,insertItem:sC,isArray:rC,isNumber:ui,isString:jN,merge:Ol,objectEach:Qg,pick:gn,removeEvent:HN,syncTimeout:oC}=Pe;class Ml{constructor(){this.zoneAxis="y"}init(o,l){let u;mn(this,"init",{options:l}),this.dataTable??(this.dataTable=new vf);let p=o.series;this.eventsToUnbind=[],this.chart=o,this.options=this.setOptions(l);let g=this.options,_=g.visible!==!1;this.linkedSeries=[],this.bindAxes(),Rl(this,{name:g.name,state:"",visible:_,selected:g.selected===!0}),MN(this,g);let C=g.events;(C&&C.click||g.point&&g.point.events&&g.point.events.click||g.allowPointSelect)&&(o.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(o.hasCartesianSeries=!0),p.length&&(u=p[p.length-1]),this._i=gn(u&&u._i,-1)+1,this.opacity=this.options.opacity,o.orderItems("series",sC(this,p)),g.dataSorting&&g.dataSorting.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(g.data,!1),mn(this,"afterInit")}is(o){return Pl[o]&&this instanceof Pl[o]}bindAxes(){let o,l=this,u=l.options,p=l.chart;mn(this,"bindAxes",null,function(){(l.axisTypes||[]).forEach(function(g){(p[g]||[]).forEach(function(_){o=_.options,(gn(u[g],0)===_.index||u[g]!==void 0&&u[g]===o.id)&&(sC(l,_.series),l[g]=_,_.isDirty=!0)}),l[g]||l.optionalAxis===g||_f(18,!0,p)})}),mn(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(o,l){let u=o.marker,p=l.marker||{};return u&&(p.enabled&&!u.enabled||p.symbol!==u.symbol||p.height!==u.height||p.width!==u.width)}autoIncrement(o){let l,u=this.options,{pointIntervalUnit:p,relativeXValue:g}=this.options,_=this.chart.time,C=this.xIncrement??_.parse(u.pointStart)??0;if(this.pointInterval=l=gn(this.pointInterval,u.pointInterval,1),g&&ui(o)&&(l*=o),p){let T=_.toParts(C);p==="day"?T[2]+=l:p==="month"?T[1]+=l:p==="year"&&(T[0]+=l),l=_.makeTime.apply(_,T)-C}return g&&ui(o)?C+l:(this.xIncrement=C+l,C)}setDataSortingOptions(){let o=this.options;Rl(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Jn(o.pointRange)||(o.pointRange=1)}setOptions(o){var J,K;let l,u=this.chart,p=u.options.plotOptions,g=u.userOptions||{},_=Ol(o),C=u.styledMode,T={plotOptions:p,userOptions:_};mn(this,"setOptions",T);let R=T.plotOptions[this.type],V=g.plotOptions||{},M=V.series||{},B=bf.plotOptions[this.type]||{},$=V[this.type]||{};this.userOptions=T.userOptions;let W=Ol(R,p.series,$,_);this.tooltipOptions=Ol(bf.tooltip,(J=bf.plotOptions.series)==null?void 0:J.tooltip,B==null?void 0:B.tooltip,u.userOptions.tooltip,(K=V.series)==null?void 0:K.tooltip,$.tooltip,_.tooltip),this.stickyTracking=gn(_.stickyTracking,$.stickyTracking,M.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||W.stickyTracking),R.marker===null&&delete W.marker,this.zoneAxis=W.zoneAxis||"y";let X=this.zones=(W.zones||[]).map(ee=>({...ee}));return(W.negativeColor||W.negativeFillColor)&&!W.zones&&(l={value:W[this.zoneAxis+"Threshold"]||W.threshold||0,className:"highcharts-negative"},C||(l.color=W.negativeColor,l.fillColor=W.negativeFillColor),X.push(l)),X.length&&Jn(X[X.length-1].value)&&X.push(C?{}:{color:this.color,fillColor:this.fillColor}),mn(this,"afterSetOptions",{options:W}),W}getName(){return gn(this.options.name,"Series "+(this.index+1))}getCyclic(o,l,u){let p,g,_=this.chart,C=`${o}Index`,T=`${o}Counter`,R=(u==null?void 0:u.length)||_.options.chart.colorCount;!l&&(Jn(g=gn(o==="color"?this.options.colorIndex:void 0,this[C]))?p=g:(_.series.length||(_[T]=0),p=_[T]%R,_[T]+=1),u&&(l=u[p])),p!==void 0&&(this[C]=p),this[o]=l}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||bf.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let o=this.options.marker;this.getCyclic("symbol",o.symbol,this.chart.options.symbols)}getColumn(o,l){return(l?this.dataTable.modified:this.dataTable).getColumn(o,!0)||[]}findPointIndex(o,l){let u,p,g,_=o.id,C=o.x,T=this.points,R=this.options.dataSorting;if(_){let V=this.chart.get(_);V instanceof Oo&&(u=V)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let V=M=>!M.touched&&M.index===o.index;if(R&&R.matchByName?V=M=>!M.touched&&M.name===o.name:this.options.relativeXValue&&(V=M=>!M.touched&&M.options.x===o.x),!(u=BN(T,V)))return}return u&&(g=u&&u.index)!==void 0&&(p=!0),g===void 0&&ui(C)&&(g=this.getColumn("x").indexOf(C,l)),g!==-1&&g!==void 0&&this.cropped&&(g=g>=this.cropStart?g-this.cropStart:g),!p&&ui(g)&&T[g]&&T[g].touched&&(g=void 0),g}updateData(o,l){let u=this.options,p=u.dataSorting,g=this.points,_=[],C=this.requireSorting,T=o.length===g.length,R,V,M,B,$=!0;if(this.xIncrement=null,o.forEach(function(X,J){let K,ee=Jn(X)&&this.pointClass.prototype.optionsToObject.call({series:this},X)||{},te=ee.x;ee.id||ui(te)?((K=this.findPointIndex(ee,B))===-1||K===void 0?_.push(X):g[K]&&X!==u.data[K]?(g[K].update(X,!1,null,!1),g[K].touched=!0,C&&(B=K+1)):g[K]&&(g[K].touched=!0),(!T||J!==K||p&&p.enabled||this.hasDerivedData)&&(R=!0)):_.push(X)},this),R)for(V=g.length;V--;)(M=g[V])&&!M.touched&&M.remove&&M.remove(!1,l);else!T||p&&p.enabled?$=!1:(o.forEach(function(X,J){X===g[J].y||g[J].destroyed||g[J].update(X,!1,null,!1)}),_.length=0);if(g.forEach(function(X){X&&(X.touched=!1)}),!$)return!1;_.forEach(function(X){this.addPoint(X,!1,null,null,!1)},this);let W=this.getColumn("x");return this.xIncrement===null&&W.length&&(this.xIncrement=Jg(W),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(o,l=!0,u,p){var fe,de;let g=this.points,_=g&&g.length||0,C=this.options,T=this.chart,R=C.dataSorting,V=this.xAxis,M=C.turboThreshold,B=this.dataTable,$=this.dataColumnKeys(),W=this.pointValKey||"y",X=(this.pointArrayMap||[]).length,J=C.keys,K,ee,te=0,le=1,he;T.options.chart.allowMutatingData||(C.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,he=Ol(!0,o));let ue=(o=he||o||[]).length;if(R&&R.enabled&&(o=this.sortData(o)),T.options.chart.allowMutatingData&&p!==!1&&ue&&_&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(ee=this.updateData(o,u)),!ee){this.xIncrement=null,this.colorCounter=0;let me=M&&ue>M;if(me){let Te=this.getFirstValidPoint(o),ke=this.getFirstValidPoint(o,ue-1,-1),Be=Ee=>!!(rC(Ee)&&(J||ui(Ee[0])));if(ui(Te)&&ui(ke)){let Ee=[],Ve=[];for(let tt of o)Ee.push(this.autoIncrement()),Ve.push(tt);B.setColumns({x:Ee,[W]:Ve})}else if(Be(Te)&&Be(ke))if(X){let Ee=Te.length===X?1:0,Ve=Array($.length).fill(0).map(()=>[]);for(let tt of o){Ee&&Ve[0].push(this.autoIncrement());for(let wt=Ee;wt<=X;wt++)(fe=Ve[wt])==null||fe.push(tt[wt-Ee])}B.setColumns($.reduce((tt,wt,Qe)=>(tt[wt]=Ve[Qe],tt),{}))}else{J&&(te=J.indexOf("x"),le=J.indexOf("y"),te=te>=0?te:0,le=le>=0?le:1),Te.length===1&&(le=0);let Ee=[],Ve=[];if(te===le)for(let tt of o)Ee.push(this.autoIncrement()),Ve.push(tt[le]);else for(let tt of o)Ee.push(tt[te]),Ve.push(tt[le]);B.setColumns({x:Ee,[W]:Ve})}else me=!1}if(!me){let Te=$.reduce((ke,Be)=>(ke[Be]=[],ke),{});for(K=0;K<ue;K++){let ke=this.pointClass.prototype.applyOptions.apply({series:this},[o[K]]);for(let Be of $)Te[Be][K]=ke[Be]}B.setColumns(Te)}for(jN(this.getColumn("y")[0])&&_f(14,!0,T),this.data=[],this.options.data=this.userOptions.data=o,K=_;K--;)(de=g[K])==null||de.destroy();V&&(V.minRange=V.userMinRange),this.isDirty=T.isDirtyBox=!0,this.isDirtyData=!!g,u=!1}C.legendType==="point"&&(this.processData(),this.generatePoints()),l&&T.redraw(u)}sortData(o){let l=this,u=l.options.dataSorting.sortKey||"y",p=function(g,_){return Jn(_)&&g.pointClass.prototype.optionsToObject.call({series:g},_)||{}};return o.forEach(function(g,_){o[_]=p(l,g),o[_].index=_},this),o.concat().sort((g,_)=>{let C=iC(u,g),T=iC(u,_);return T<C?-1:T>C?1:0}).forEach(function(g,_){g.x=_},this),l.linkedSeries&&l.linkedSeries.forEach(function(g){let _=g.options,C=_.data;_.dataSorting&&_.dataSorting.enabled||!C||(C.forEach(function(T,R){C[R]=p(g,T),o[R]&&(C[R].x=o[R].x,C[R].index=R)}),g.setData(C,!1))}),o}getProcessedData(o){let l=this,{dataTable:u,isCartesian:p,options:g,xAxis:_}=l,C=g.cropThreshold,T=o||l.getExtremesFromAll,R=_==null?void 0:_.logarithmic,V=u.rowCount,M,B,$=0,W,X,J,K=l.getColumn("x"),ee=u,te=!1;return _&&(X=(W=_.getExtremes()).min,J=W.max,te=!!(_.categories&&!_.names.length),p&&l.sorted&&!T&&(!C||V>C||l.forceCrop)&&(K[V-1]<X||K[0]>J?ee=new vf:l.getColumn(l.pointValKey||"y").length&&(K[0]<X||K[V-1]>J)&&(ee=(M=this.cropData(u,X,J)).modified,$=M.start,B=!0))),K=ee.getColumn("x")||[],{modified:ee,cropped:B,cropStart:$,closestPointRange:UN([R?K.map(R.log2lin):K],()=>l.requireSorting&&!te&&_f(15,!1,l.chart))}}processData(o){let l=this.xAxis,u=this.dataTable;if(this.isCartesian&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!o)return!1;let p=this.getProcessedData();u.modified=p.modified,this.cropped=p.cropped,this.cropStart=p.cropStart,this.closestPointRange=this.basePointRange=p.closestPointRange,mn(this,"afterProcessData")}cropData(o,l,u){let p=o.getColumn("x",!0)||[],g=p.length,_={},C,T,R=0,V=g;for(C=0;C<g;C++)if(p[C]>=l){R=Math.max(0,C-1);break}for(T=C;T<g;T++)if(p[T]>u){V=T+1;break}for(let M of this.dataColumnKeys()){let B=o.getColumn(M,!0);B&&(_[M]=B.slice(R,V))}return{modified:new vf({columns:_}),start:R,end:V}}generatePoints(){var he,ue;let o=this.options,l=this.processedData||o.data,u=this.dataTable.modified,p=this.getColumn("x",!0),g=this.pointClass,_=u.rowCount,C=this.cropStart||0,T=this.hasGroupedData,R=o.keys,V=[],M=o.dataGrouping&&o.dataGrouping.groupAll?C:0,B=(he=this.xAxis)==null?void 0:he.categories,$=this.pointArrayMap||["y"],W=this.dataColumnKeys(),X,J,K,ee,te=this.data,le;if(!te&&!T){let fe=[];fe.length=(l==null?void 0:l.length)||0,te=this.data=fe}for(R&&T&&(this.options.keys=!1),ee=0;ee<_;ee++)J=C+ee,T?((K=new g(this,u.getRow(ee,W)||[])).dataGroup=this.groupMap[M+ee],(ue=K.dataGroup)!=null&&ue.options&&(K.options=K.dataGroup.options,Rl(K,K.dataGroup.options),delete K.dataLabels)):(K=te[J],le=l?l[J]:u.getRow(ee,$),K||le===void 0||(te[J]=K=new g(this,le,p[ee]))),K&&(K.index=T?M+ee:J,V[ee]=K,K.category=(B==null?void 0:B[K.x])??K.x,K.key=K.name??K.category);if(this.options.keys=R,te&&(_!==(X=te.length)||T))for(ee=0;ee<X;ee++)ee!==C||T||(ee+=_),te[ee]&&(te[ee].destroyElements(),te[ee].plotX=void 0);this.data=te,this.points=V,mn(this,"afterGeneratePoints")}getXExtremes(o){return{min:Zw(o),max:Jg(o)}}getExtremes(o,l){var he;let{xAxis:u,yAxis:p}=this,g=l||this.getExtremesFromAll||this.options.getExtremesFromAll,_=g&&this.cropped?this.dataTable:this.dataTable.modified,C=_.rowCount,T=o||this.stackedYData,R=T?[T]:((he=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:he.map(ue=>_.getColumn(ue,!0)||[]))||[],V=this.getColumn("x",!0),M=[],B=this.requireSorting&&!this.is("column")?1:0,$=!!p&&p.positiveValuesOnly,W=g||this.cropped||!u,X,J,K,ee=0,te=0;for(u&&(ee=(X=u.getExtremes()).min,te=X.max),K=0;K<C;K++)if(J=V[K],W||(V[K+B]||J)>=ee&&(V[K-B]||J)<=te)for(let ue of R){let fe=ue[K];ui(fe)&&(fe>0||!$)&&M.push(fe)}let le={activeYData:M,dataMin:Zw(M),dataMax:Jg(M)};return mn(this,"afterGetExtremes",{dataExtremes:le}),le}applyExtremes(){let o=this.getExtremes();return this.dataMin=o.dataMin,this.dataMax=o.dataMax,o}getFirstValidPoint(o,l=0,u=1){let p=o.length,g=l;for(;g>=0&&g<p;){if(Jn(o[g]))return o[g];g+=u}}translate(){var ee;this.generatePoints();let o=this.options,l=o.stacking,u=this.xAxis,p=this.enabledDataSorting,g=this.yAxis,_=this.points,C=_.length,T=this.pointPlacementToXValue(),R=!!T,V=o.threshold,M=o.startFromThreshold?V:0,B,$,W,X,J=Number.MAX_VALUE;function K(te){return eC(te,-1e9,1e9)}for(B=0;B<C;B++){let te,le=_[B],he=le.x,ue,fe,de=le.y,me=le.low,Te=l&&((ee=g.stacking)==null?void 0:ee.stacks[(this.negStacks&&de<(M?0:V)?"-":"")+this.stackKey]);$=u.translate(he,!1,!1,!1,!0,T),le.plotX=ui($)?tC(K($)):void 0,l&&this.visible&&Te&&Te[he]&&(X=this.getStackIndicator(X,he,this.index),!le.isNull&&X.key&&(fe=(ue=Te[he]).points[X.key]),ue&&rC(fe)&&(me=fe[0],de=fe[1],me===M&&X.key===Te[he].base&&(me=gn(ui(V)?V:g.min)),g.positiveValuesOnly&&Jn(me)&&me<=0&&(me=void 0),le.total=le.stackTotal=gn(ue.total),le.percentage=Jn(le.y)&&ue.total?le.y/ue.total*100:void 0,le.stackY=de,this.irregularWidths||ue.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),le.yBottom=Jn(me)?K(g.translate(me,!1,!0,!1,!0)):void 0,this.dataModify&&(de=this.dataModify.modifyValue(de,B)),ui(de)&&le.plotX!==void 0&&(te=ui(te=g.translate(de,!1,!0,!1,!0))?K(te):void 0),le.plotY=te,le.isInside=this.isPointInside(le),le.clientX=R?tC(u.translate(he,!1,!1,!1,!0,T)):$,le.negative=(le.y||0)<(V||0),le.isNull||le.visible===!1||(W!==void 0&&(J=Math.min(J,Math.abs($-W))),W=$),le.zone=this.zones.length?le.getZone():void 0,!le.graphic&&this.group&&p&&(le.isNew=!0)}this.closestPointRangePx=J,mn(this,"afterTranslate")}getValidPoints(o,l,u){let p=this.chart;return(o||this.points||[]).filter(function(g){let{plotX:_,plotY:C}=g;return!!((u||!g.isNull&&ui(C))&&(!l||p.isInsidePlot(_,C,{inverted:p.inverted})))&&g.visible!==!1})}getClipBox(){let{chart:o,xAxis:l,yAxis:u}=this,{x:p,y:g,width:_,height:C}=Ol(o.clipBox);return l&&l.len!==o.plotSizeX&&(_=l.len),u&&u.len!==o.plotSizeY&&(C=u.len),o.inverted&&!this.invertible&&([_,C]=[C,_]),{x:p,y:g,width:_,height:C}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:o,group:l,markerGroup:u}=this,p=o.sharedClips,g=o.renderer,_=this.getClipBox(),C=this.getSharedClipKey(),T=p[C];T?T.animate(_):p[C]=T=g.clipRect(_),l&&l.clip(this.options.clip===!1?void 0:T),u&&u.clip()}animate(o){let{chart:l,group:u,markerGroup:p}=this,g=l.inverted,_=Qw(this.options.animation),C=[this.getSharedClipKey(),_.duration,_.easing,_.defer].join(","),T=l.sharedClips[C],R=l.sharedClips[C+"m"];if(o&&u){let V=this.getClipBox();if(T)T.attr("height",V.height);else{V.width=0,g&&(V.x=l.plotHeight),T=l.renderer.clipRect(V),l.sharedClips[C]=T;let M={x:-99,y:-99,width:g?l.plotWidth+199:99,height:g?99:l.plotHeight+199};R=l.renderer.clipRect(M),l.sharedClips[C+"m"]=R}u.clip(T),p==null||p.clip(R)}else if(T&&!T.hasClass("highcharts-animating")){let V=this.getClipBox(),M=_.step;(p!=null&&p.element.childNodes.length||l.series.length>1)&&(_.step=function(B,$){M&&M.apply($,arguments),$.prop==="width"&&(R!=null&&R.element)&&R.attr(g?"height":"width",B+99)}),T.addClass("highcharts-animating").animate(V,_)}}afterAnimate(){this.setClip(),Qg(this.chart.sharedClips,(o,l,u)=>{o&&!this.chart.container.querySelector(`[clip-path="url(#${o.id})"]`)&&(o.destroy(),delete u[l])}),this.finishedAnimating=!0,mn(this,"afterAnimate")}drawPoints(o=this.points){let l,u,p,g,_,C,T,R=this.chart,V=R.styledMode,{colorAxis:M,options:B}=this,$=B.marker,W=this[this.specialGroup||"markerGroup"],X=this.xAxis,J=gn($.enabled,!X||!!X.isRadial||null,this.closestPointRangePx>=$.enabledThreshold*$.radius);if($.enabled!==!1||this._hasPointMarkers)for(l=0;l<o.length;l++)if(g=(p=(u=o[l]).graphic)?"animate":"attr",_=u.marker||{},C=!!u.marker,(J&&_.enabled===void 0||_.enabled)&&!u.isNull&&u.visible!==!1){let K=gn(_.symbol,this.symbol,"rect");T=this.markerAttribs(u,u.selected&&"select"),this.enabledDataSorting&&(u.startXPos=X.reversed?-(T.width||0):X.width);let ee=u.isInside!==!1;if(!p&&ee&&((T.width||0)>0||u.hasImage)&&(u.graphic=p=R.renderer.symbol(K,T.x,T.y,T.width,T.height,C?_:$).add(W),this.enabledDataSorting&&R.hasRendered&&(p.attr({x:u.startXPos}),g="animate")),p&&g==="animate"&&p[ee?"show":"hide"](ee).animate(T),p){let te=this.pointAttribs(u,V||!u.selected?void 0:"select");V?M&&p.css({fill:te.fill}):p[g](te)}p&&p.addClass(u.getClassName(),!0)}else p&&(u.graphic=p.destroy())}markerAttribs(o,l){let u=this.options,p=u.marker,g=o.marker||{},_=g.symbol||p.symbol,C={},T,R,V=gn(g.radius,p&&p.radius);l&&(T=p.states[l],V=gn((R=g.states&&g.states[l])&&R.radius,T&&T.radius,V&&V+(T&&T.radiusPlus||0))),o.hasImage=_&&_.indexOf("url")===0,o.hasImage&&(V=0);let M=o.pos();return ui(V)&&M&&(u.crisp&&(M[0]=LN(M[0],o.hasImage?0:_==="rect"?(p==null?void 0:p.lineWidth)||0:1)),C.x=M[0]-V,C.y=M[1]-V),V&&(C.width=C.height=2*V),C}pointAttribs(o,l){let u=this.options.marker,p=o&&o.options,g=p&&p.marker||{},_=p&&p.color,C=o&&o.color,T=o&&o.zone&&o.zone.color,R,V,M=this.color,B,$,W=gn(g.lineWidth,u.lineWidth),X=1;return M=_||T||C||M,B=g.fillColor||u.fillColor||M,$=g.lineColor||u.lineColor||M,l=l||"normal",R=u.states[l]||{},W=gn((V=g.states&&g.states[l]||{}).lineWidth,R.lineWidth,W+gn(V.lineWidthPlus,R.lineWidthPlus,0)),B=V.fillColor||R.fillColor||B,{stroke:$=V.lineColor||R.lineColor||$,"stroke-width":W,fill:B,opacity:X=gn(V.opacity,R.opacity,X)}}destroy(o){let l,u,p,g=this,_=g.chart,C=/AppleWebKit\/533/.test(NN.navigator.userAgent),T=g.data||[];for(mn(g,"destroy",{keepEventsForUpdate:o}),this.removeEvents(o),(g.axisTypes||[]).forEach(function(R){(p=g[R])&&p.series&&(nC(p.series,g),p.isDirty=p.forceRedraw=!0)}),g.legendItem&&g.chart.legend.destroyItem(g),l=T.length;l--;)(u=T[l])&&u.destroy&&u.destroy();for(let R of g.zones)VN(R,void 0,!0);Pe.clearTimeout(g.animationTimeout),Qg(g,function(R,V){R instanceof is&&!R.survive&&R[C&&V==="group"?"hide":"destroy"]()}),_.hoverSeries===g&&(_.hoverSeries=void 0),nC(_.series,g),_.orderItems("series"),Qg(g,function(R,V){o&&V==="hcEvents"||delete g[V]})}applyZones(){let{area:o,chart:l,graph:u,zones:p,points:g,xAxis:_,yAxis:C,zoneAxis:T}=this,{inverted:R,renderer:V}=l,M=this[`${T}Axis`],{isXAxis:B,len:$=0,minPointOffset:W=0}=M||{},X=((u==null?void 0:u.strokeWidth())||0)/2+1,J=(K,ee=0,te=0)=>{R&&(te=$-te);let{translated:le=0,lineClip:he}=K,ue=te-le;he==null||he.push(["L",ee,Math.abs(ue)<X?te-X*(ue<=0?-1:1):le])};if(p.length&&(u||o)&&M&&ui(M.min)){let K=M.getExtremes().max+W,ee=he=>{he.forEach((ue,fe)=>{(ue[0]==="M"||ue[0]==="L")&&(he[fe]=[ue[0],B?$-ue[1]:ue[1],B?ue[2]:$-ue[2]])})};if(p.forEach(he=>{he.lineClip=[],he.translated=eC(M.toPixels(gn(he.value,K),!0)||0,0,$)}),u&&!this.showLine&&u.hide(),o&&o.hide(),T==="y"&&g.length<_.len)for(let he of g){let{plotX:ue,plotY:fe,zone:de}=he,me=de&&p[p.indexOf(de)-1];de&&J(de,ue,fe),me&&J(me,ue,fe)}let te=[],le=M.toPixels(M.getExtremes().min-W,!0);p.forEach(he=>{var wt,Qe;let ue=he.lineClip||[],fe=Math.round(he.translated||0);_.reversed&&ue.reverse();let{clip:de,simpleClip:me}=he,Te=0,ke=0,Be=_.len,Ee=C.len;B?(Te=fe,Be=le):(ke=fe,Ee=le);let Ve=[["M",Te,ke],["L",Be,ke],["L",Be,Ee],["L",Te,Ee],["Z"]],tt=[Ve[0],...ue,Ve[1],Ve[2],...te,Ve[3],Ve[4]];te=ue.reverse(),le=fe,R&&(ee(tt),o&&ee(Ve)),de?(de.animate({d:tt}),me==null||me.animate({d:Ve})):(de=he.clip=V.path(tt),o&&(me=he.simpleClip=V.path(Ve))),u&&((wt=he.graph)==null||wt.clip(de)),o&&((Qe=he.area)==null||Qe.clip(me))})}else this.visible&&(u&&u.show(),o&&o.show())}plotGroup(o,l,u,p,g){let _=this[o],C=!_,T={visibility:u,zIndex:p||.1};return Jn(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(T.opacity=this.opacity),_||(this[o]=_=this.chart.renderer.g().add(g)),_.addClass("highcharts-"+l+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Jn(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(_.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),_.attr(T)[C?"attr":"animate"](this.getPlotBox(l)),_}getPlotBox(o){let l=this.xAxis,u=this.yAxis,p=this.chart,g=p.inverted&&!p.polar&&l&&this.invertible&&o==="series";return p.inverted&&(l=u,u=this.xAxis),{translateX:l?l.left:p.plotLeft,translateY:u?u.top:p.plotTop,rotation:g?90:0,rotationOriginX:g?(l.len-u.len)/2:0,rotationOriginY:g?(l.len+u.len)/2:0,scaleX:g?-1:1,scaleY:1}}removeEvents(o){let{eventsToUnbind:l}=this;o||HN(this),l.length&&(l.forEach(u=>{u()}),l.length=0)}render(){var V,M,B,$,W;let o=this,{chart:l,options:u,hasRendered:p}=o,g=Qw(u.animation),_=o.visible?"inherit":"hidden",C=u.zIndex,T=l.seriesGroup,R=o.finishedAnimating?0:g.duration;mn(this,"render"),o.plotGroup("group","series",_,C,T),o.markerGroup=o.plotGroup("markerGroup","markers",_,C,T),u.clip!==!1&&o.setClip(),R&&((V=o.animate)==null||V.call(o,!0)),o.drawGraph&&(o.drawGraph(),o.applyZones()),o.visible&&o.drawPoints(),(M=o.drawDataLabels)==null||M.call(o),(B=o.redrawPoints)==null||B.call(o),u.enableMouseTracking&&(($=o.drawTracker)==null||$.call(o)),R&&((W=o.animate)==null||W.call(o)),p||(R&&g.defer&&(R+=g.defer),o.animationTimeout=oC(()=>{o.afterAnimate()},R||0)),o.isDirty=!1,o.hasRendered=!0,mn(o,"afterRender")}redraw(){let o=this.isDirty||this.isDirtyData;this.translate(),this.render(),o&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(o,l){let{xAxis:u,yAxis:p}=this,g=this.chart.inverted;return this.searchKDTree({clientX:g?u.len-o.chartY+u.pos:o.chartX-u.pos,plotY:g?p.len-o.chartX+p.pos:o.chartY-p.pos},l,o)}buildKDTree(o){this.buildingKdTree=!0;let l=this,u=l.options.findNearestPointBy.indexOf("y")>-1?2:1;delete l.kdTree,oC(function(){l.kdTree=function p(g,_,C){let T,R,V=g==null?void 0:g.length;if(V)return T=l.kdAxisArray[_%C],g.sort((M,B)=>(M[T]||0)-(B[T]||0)),{point:g[R=Math.floor(V/2)],left:p(g.slice(0,R),_+1,C),right:p(g.slice(R+1),_+1,C)}}(l.getValidPoints(void 0,!l.directTouch),u,u),l.buildingKdTree=!1},l.options.kdNow||(o==null?void 0:o.type)==="touchstart"?0:1)}searchKDTree(o,l,u,p,g){let _=this,[C,T]=this.kdAxisArray,R=l?"distX":"dist",V=(_.options.findNearestPointBy||"").indexOf("y")>-1?2:1,M=!!_.isBubble,B=p||((W,X,J)=>[(W[J]||0)<(X[J]||0)?W:X,!1]),$=g||((W,X)=>W<X);if(this.kdTree||this.buildingKdTree||this.buildKDTree(u),this.kdTree)return function W(X,J,K,ee){var Te;let te=J.point,le=_.kdAxisArray[K%ee],he=te,ue=!1;(function(ke,Be){var it;let Ee=ke[C],Ve=Be[C],tt=Jn(Ee)&&Jn(Ve)?Ee-Ve:null,wt=ke[T],Qe=Be[T],yt=Jn(wt)&&Jn(Qe)?wt-Qe:0,Xe=M&&((it=Be.marker)==null?void 0:it.radius)||0;Be.dist=Math.sqrt((tt&&tt*tt||0)+yt*yt)-Xe,Be.distX=Jn(tt)?Math.abs(tt)-Xe:Number.MAX_VALUE})(X,te);let fe=(X[le]||0)-(te[le]||0)+(M&&((Te=te.marker)==null?void 0:Te.radius)||0),de=fe<0?"left":"right",me=fe<0?"right":"left";return J[de]&&([he,ue]=B(te,W(X,J[de],K+1,ee),R)),J[me]&&$(Math.sqrt(fe*fe),he[R],ue)&&(he=B(he,W(X,J[me],K+1,ee),R)[0]),he}(o,this.kdTree,V,V)}pointPlacementToXValue(){let{options:o,xAxis:l}=this,u=o.pointPlacement;return u==="between"&&(u=l.reversed?-.5:.5),ui(u)?u*(o.pointRange||l.pointRange):0}isPointInside(o){let{chart:l,xAxis:u,yAxis:p}=this,{plotX:g=-1,plotY:_=-1}=o;return _>=0&&_<=(p?p.len:l.plotHeight)&&g>=0&&g<=(u?u.len:l.plotWidth)}drawTracker(){var B;let o=this,l=o.options,u=l.trackByArea,p=[].concat((u?o.areaPath:o.graphPath)||[]),g=o.chart,_=g.pointer,C=g.renderer,T=((B=g.options.tooltip)==null?void 0:B.snap)||0,R=()=>{l.enableMouseTracking&&g.hoverSeries!==o&&o.onMouseOver()},V="rgba(192,192,192,"+(DN?1e-4:.002)+")",M=o.tracker;M?M.attr({d:p}):o.graph&&(o.tracker=M=C.path(p).attr({visibility:o.visible?"inherit":"hidden",zIndex:2}).addClass(u?"highcharts-tracker-area":"highcharts-tracker-line").add(o.group),g.styledMode||M.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:V,fill:u?V:"none","stroke-width":o.graph.strokeWidth()+(u?0:2*T)}),[o.tracker,o.markerGroup,o.dataLabelsGroup].forEach($=>{$&&($.addClass("highcharts-tracker").on("mouseover",R).on("mouseout",W=>{_==null||_.onTrackerMouseOut(W)}),l.cursor&&!g.styledMode&&$.css({cursor:l.cursor}),$.on("touchstart",R))})),mn(this,"afterDrawTracker")}addPoint(o,l,u,p,g){let _,C,T=this.options,{chart:R,data:V,dataTable:M,xAxis:B}=this,$=B&&B.hasNames&&B.names,W=T.data,X=this.getColumn("x");l=gn(l,!0);let J={series:this};this.pointClass.prototype.applyOptions.apply(J,[o]);let K=J.x;if(C=X.length,this.requireSorting&&K<X[C-1])for(_=!0;C&&X[C-1]>K;)C--;M.setRow(J,C,!0,{addColumns:!1}),$&&J.name&&($[K]=J.name),W==null||W.splice(C,0,o),(_||this.processedData)&&(this.data.splice(C,0,null),this.processData()),T.legendType==="point"&&this.generatePoints(),u&&(V[0]&&V[0].remove?V[0].remove(!1):([V,W,...Object.values(M.getColumns())].filter(Jn).forEach(ee=>{ee.shift()}),M.rowCount-=1,mn(M,"afterDeleteRows"))),g!==!1&&mn(this,"addPoint",{point:J}),this.isDirty=!0,this.isDirtyData=!0,l&&R.redraw(p)}removePoint(o,l,u){let p=this,{chart:g,data:_,points:C,dataTable:T}=p,R=_[o],V=function(){[(C==null?void 0:C.length)===_.length?C:void 0,_,p.options.data,...Object.values(T.getColumns())].filter(Jn).forEach(M=>{M.splice(o,1)}),T.rowCount-=1,mn(T,"afterDeleteRows"),R==null||R.destroy(),p.isDirty=!0,p.isDirtyData=!0,l&&g.redraw()};ON(u,g),l=gn(l,!0),R?R.firePointEvent("remove",null,V):V()}remove(o,l,u,p){let g=this,_=g.chart;function C(){g.destroy(p),_.isDirtyLegend=_.isDirtyBox=!0,_.linkSeries(p),gn(o,!0)&&_.redraw(l)}u!==!1?mn(g,"remove",null,C):C()}update(o,l){var K,ee;mn(this,"update",{options:o=FN(o,this.userOptions)});let u=this,p=u.chart,g=u.userOptions,_=u.initialType||u.type,C=p.options.plotOptions,T=Pl[_].prototype,R=u.finishedAnimating&&{animation:!1},V={},M,B,$=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],W=o.type||g.type||p.options.chart.type,X=!(this.hasDerivedData||W&&W!==this.type||o.keys!==void 0||o.pointStart!==void 0||o.pointInterval!==void 0||o.relativeXValue!==void 0||o.joinBy||o.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(te=>u.hasOptionChanged(te)));W=W||_,X?($.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),o.visible!==!1&&$.push("area","graph"),u.parallelArrays.forEach(function(te){$.push(te+"Data")}),o.data&&(o.dataSorting&&Rl(u.options.dataSorting,o.dataSorting),this.setData(o.data,!1))):this.dataTable.modified=this.dataTable,o=Ol(g,{index:g.index===void 0?u.index:g.index,pointStart:((K=C==null?void 0:C.series)==null?void 0:K.pointStart)??g.pointStart??u.getColumn("x")[0]},!X&&{data:u.options.data},o,R),X&&o.data&&(o.data=u.options.data),($=["group","markerGroup","dataLabelsGroup","transformGroup"].concat($)).forEach(function(te){$[te]=u[te],delete u[te]});let J=!1;if(Pl[W]){if(J=W!==u.type,u.remove(!1,!1,!1,!0),J)if(p.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(u,Pl[W].prototype);else{let te=Object.hasOwnProperty.call(u,"hcEvents")&&u.hcEvents;for(B in T)u[B]=void 0;Rl(u,Pl[W].prototype),te?u.hcEvents=te:delete u.hcEvents}}else _f(17,!0,p,{missingModuleFor:W});if($.forEach(function(te){u[te]=$[te]}),u.init(p,o),X&&this.points)for(let te of((M=u.options).visible===!1?(V.graphic=1,V.dataLabel=1):(this.hasMarkerChanged(M,g)&&(V.graphic=1),(ee=u.hasDataLabels)!=null&&ee.call(u)||(V.dataLabel=1)),this.points))te&&te.series&&(te.resolveColor(),Object.keys(V).length&&te.destroyElements(V),M.showInLegend===!1&&te.legendItem&&p.legend.destroyItem(te));u.initialType=_,p.linkSeries(),p.setSortedData(),J&&u.linkedSeries.length&&(u.isDirtyData=!0),mn(this,"afterUpdate"),gn(l,!0)&&p.redraw(!!X&&void 0)}setName(o){this.name=this.options.name=this.userOptions.name=o,this.chart.isDirtyLegend=!0}hasOptionChanged(o){var C,T;let l=this.chart,u=this.options[o],p=l.options.plotOptions,g=this.userOptions[o],_=gn((C=p==null?void 0:p[this.type])==null?void 0:C[o],(T=p==null?void 0:p.series)==null?void 0:T[o]);return g&&!Jn(_)?u!==g:u!==gn(_,u)}onMouseOver(){let o=this.chart,l=o.hoverSeries,u=o.pointer;u==null||u.setHoverChartIndex(),l&&l!==this&&l.onMouseOut(),this.options.events.mouseOver&&mn(this,"mouseOver"),this.setState("hover"),o.hoverSeries=this}onMouseOut(){let o=this.options,l=this.chart,u=l.tooltip,p=l.hoverPoint;l.hoverSeries=null,p&&p.onMouseOut(),this&&o.events.mouseOut&&mn(this,"mouseOut"),u&&!this.stickyTracking&&(!u.shared||this.noSharedTooltip)&&u.hide(),l.series.forEach(function(g){g.setState("",!0)})}setState(o,l){let u=this,p=u.options,g=u.graph,_=p.inactiveOtherPoints,C=p.states,T=gn(C[o||"normal"]&&C[o||"normal"].animation,u.chart.options.chart.animation),R=p.lineWidth,V=p.opacity;if(o=o||"",u.state!==o&&([u.group,u.markerGroup,u.dataLabelsGroup].forEach(function(M){M&&(u.state&&M.removeClass("highcharts-series-"+u.state),o&&M.addClass("highcharts-series-"+o))}),u.state=o,!u.chart.styledMode)){if(C[o]&&C[o].enabled===!1)return;if(o&&(R=C[o].lineWidth||R+(C[o].lineWidthPlus||0),V=gn(C[o].opacity,V)),g&&!g.dashstyle&&ui(R))for(let M of[g,...this.zones.map(B=>B.graph)])M==null||M.animate({"stroke-width":R},T);_||[u.group,u.markerGroup,u.dataLabelsGroup,u.labelBySeries].forEach(function(M){M&&M.animate({opacity:V},T)})}l&&_&&u.points&&u.setAllPointsToState(o||void 0)}setAllPointsToState(o){this.points.forEach(function(l){l.setState&&l.setState(o)})}setVisible(o,l){var T;let u=this,p=u.chart,g=p.options.chart.ignoreHiddenSeries,_=u.visible;u.visible=o=u.options.visible=u.userOptions.visible=o===void 0?!_:o;let C=o?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(R=>{var V;(V=u[R])==null||V[C]()}),(p.hoverSeries===u||((T=p.hoverPoint)==null?void 0:T.series)===u)&&u.onMouseOut(),u.legendItem&&p.legend.colorizeItem(u,o),u.isDirty=!0,u.options.stacking&&p.series.forEach(R=>{R.options.stacking&&R.visible&&(R.isDirty=!0)}),u.linkedSeries.forEach(R=>{R.setVisible(o,!1)}),g&&(p.isDirtyBox=!0),mn(u,C),l!==!1&&p.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(o){this.selected=o=this.options.selected=o===void 0?!this.selected:o,this.checkbox&&(this.checkbox.checked=o),mn(this,o?"select":"unselect")}shouldShowTooltip(o,l,u={}){return u.series=this,u.visiblePlotOnly=!0,this.chart.isInsidePlot(o,l,u)}drawLegendSymbol(o,l){var u;(u=Xw[this.options.legendSymbol||"rectangle"])==null||u.call(this,o,l)}}Ml.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:P}=this.series.chart;return typeof this.y!="number"?"":P(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},Ml.types=An.seriesTypes,Ml.registerType=An.registerSeriesType,Rl(Ml.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Oo,requireSorting:!0,sorted:!0}),An.series=Ml;let os=Ml,{animObject:$N,setAnimation:zN}=Cn,{registerEventOptions:aC}=nf,{composed:WN,marginNames:lC}=S,{distribute:GN}=Br,{format:qN}=Wi,{addEvent:wf,createElement:KN,css:YN,defined:Zg,discardElement:XN,find:JN,fireEvent:Hr,isNumber:cC,merge:Na,pick:ws,pushUnique:QN,relativeLength:ZN,stableSort:eL,syncTimeout:tL}=Pe;class ey{constructor(o,l){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=o,this.setOptions(l),l.enabled&&(this.render(),aC(this,l),wf(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),wf(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(o){let l=ws(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=Na(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop,this.itemMarginBottom=o.itemMarginBottom,this.padding=l,this.initialItemY=l-5,this.symbolWidth=ws(o.symbolWidth,16),this.pages=[],this.proximate=o.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(o,l){let u=this.chart;this.setOptions(Na(!0,this.options,o)),"events"in this.options&&aC(this,this.options),this.destroy(),u.isDirtyLegend=u.isDirtyBox=!0,ws(l,!0)&&u.redraw(),Hr(this,"afterUpdate",{redraw:l})}colorizeItem(o,l){var R;let u=o.color,{area:p,group:g,label:_,line:C,symbol:T}=o.legendItem||{};if((o instanceof os||o instanceof Oo)&&(o.color=((R=o.options)==null?void 0:R.legendSymbolColor)||u),g==null||g[l?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:V={}}=this,M=V.color,{fillColor:B,fillOpacity:$,lineColor:W,marker:X}=o.options,J=K=>(!l&&(K.fill&&(K.fill=M),K.stroke&&(K.stroke=M)),K);_==null||_.css(Na(l?this.itemStyle:V)),C==null||C.attr(J({stroke:W||o.color})),T&&T.attr(J(X&&T.isMarker?o.pointAttribs():{fill:o.color})),p==null||p.attr(J({fill:B||o.color,"fill-opacity":B?1:$??.75}))}o.color=u,Hr(this,"afterColorizeItem",{item:o,visible:l})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(o){let{group:l,x:u=0,y:p=0}=o.legendItem||{},g=this.options,_=g.symbolPadding,C=!g.rtl,T=o.checkbox;if(l&&l.element){let R={translateX:C?u:this.legendWidth-u-2*_-4,translateY:p};l[Zg(l.translateY)?"animate":"attr"](R,void 0,()=>{Hr(this,"afterPositionItem",{item:o})})}T&&(T.x=u,T.y=p)}destroyItem(o){let l=o.checkbox,u=o.legendItem||{};for(let p of["group","label","line","symbol"])u[p]&&(u[p]=u[p].destroy());l&&XN(l),o.legendItem=void 0}destroy(){for(let o of this.getAllItems())this.destroyItem(o);for(let o of["clipRect","up","down","pager","nav","box","title","group"])this[o]&&(this[o]=this[o].destroy());this.display=null}positionCheckboxes(){let o,l=this.group&&this.group.alignAttr,u=this.clipHeight||this.legendHeight,p=this.titleHeight;l&&(o=l.translateY,this.allItems.forEach(function(g){let _,C=g.checkbox;C&&(_=o+p+C.y+(this.scrollOffset||0)+3,YN(C,{left:l.translateX+g.checkboxOffset+C.x-20+"px",top:_+"px",display:this.proximate||_>o-6&&_<o+u-6?"":"none"}))},this))}renderTitle(){let o=this.options,l=this.padding,u=o.title,p,g=0;u.text&&(this.title||(this.title=this.chart.renderer.label(u.text,l-3,l-4,void 0,void 0,void 0,o.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(u.style),this.title.add(this.group)),u.width||this.title.css({width:this.maxLegendWidth+"px"}),g=(p=this.title.getBBox()).height,this.offsetWidth=p.width,this.contentGroup.attr({translateY:g})),this.titleHeight=g}setText(o){let l=this.options;o.legendItem.label.attr({text:l.labelFormat?qN(l.labelFormat,o,this.chart):l.labelFormatter.call(o)})}renderItem(o){let l=o.legendItem=o.legendItem||{},u=this.chart,p=u.renderer,g=this.options,_=g.layout==="horizontal",C=this.symbolWidth,T=g.symbolPadding||0,R=this.itemStyle,V=this.itemHiddenStyle,M=_?ws(g.itemDistance,20):0,B=!g.rtl,$=!o.series,W=!$&&o.series.drawLegendSymbol?o.series:o,X=W.options,J=!!this.createCheckboxForItem&&X&&X.showCheckbox,K=g.useHTML,ee=o.options.className,te=l.label,le=C+T+M+(J?20:0);!te&&(l.group=p.g("legend-item").addClass("highcharts-"+W.type+"-series highcharts-color-"+o.colorIndex+(ee?" "+ee:"")+($?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),l.label=te=p.text("",B?C+T:-T,this.baseline||0,K),u.styledMode||te.css(Na(o.visible?R:V)),te.attr({align:B?"left":"right",zIndex:2}).add(l.group),!this.baseline&&(this.fontMetrics=p.fontMetrics(te),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,te.attr("y",this.baseline),this.symbolHeight=ws(g.symbolHeight,this.fontMetrics.f),g.squareSymbol&&(this.symbolWidth=ws(g.symbolWidth,Math.max(this.symbolHeight,16)),le=this.symbolWidth+T+M+(J?20:0),B&&te.attr("x",this.symbolWidth+T))),W.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,te,K)),J&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),(u.styledMode||!R.width)&&te.css({width:(g.itemWidth||this.widthOption||u.spacingBox.width)-le+"px"}),this.setText(o);let he=te.getBBox(),ue=this.fontMetrics&&this.fontMetrics.h||0;o.itemWidth=o.checkboxOffset=g.itemWidth||l.labelWidth||he.width+le,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(l.labelHeight||(he.height>1.5*ue?he.height:ue))}layoutItem(o){let l=this.options,u=this.padding,p=l.layout==="horizontal",g=o.itemHeight,_=this.itemMarginBottom,C=this.itemMarginTop,T=p?ws(l.itemDistance,20):0,R=this.maxLegendWidth,V=l.alignColumns&&this.totalItemWidth>R?this.maxItemWidth:o.itemWidth,M=o.legendItem||{};p&&this.itemX-u+V>R&&(this.itemX=u,this.lastLineHeight&&(this.itemY+=C+this.lastLineHeight+_),this.lastLineHeight=0),this.lastItemY=C+this.itemY+_,this.lastLineHeight=Math.max(g,this.lastLineHeight),M.x=this.itemX,M.y=this.itemY,p?this.itemX+=V:(this.itemY+=C+g+_,this.lastLineHeight=g),this.offsetWidth=this.widthOption||Math.max((p?this.itemX-u-(o.checkbox?0:T):V)+u,this.offsetWidth)}getAllItems(){let o=[];return this.chart.series.forEach(function(l){let u=l&&l.options;l&&ws(u.showInLegend,!Zg(u.linkedTo)&&void 0,!0)&&(o=o.concat((l.legendItem||{}).labels||(u.legendType==="point"?l.data:l)))}),Hr(this,"afterGetAllItems",{allItems:o}),o}getAlignment(){let o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)}adjustMargins(o,l){let u=this.chart,p=this.options,g=this.getAlignment();g&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(_,C){_.test(g)&&!Zg(o[C])&&(u[lC[C]]=Math.max(u[lC[C]],u.legend[(C+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][C]*p[C%2?"x":"y"]+ws(p.margin,12)+l[C]+(u.titleOffset[C]||0)))})}proximatePositions(){let o,l=this.chart,u=[],p=this.options.align==="left";for(let g of(this.allItems.forEach(function(_){let C,T,R=p,V,M;_.yAxis&&(_.xAxis.options.reversed&&(R=!R),_.points&&(C=JN(R?_.points:_.points.slice(0).reverse(),function(B){return cC(B.plotY)})),T=this.itemMarginTop+_.legendItem.label.getBBox().height+this.itemMarginBottom,M=_.yAxis.top-l.plotTop,V=_.visible?(C?C.plotY:_.yAxis.height)+(M-.3*T):M+_.yAxis.height,u.push({target:V,size:T,item:_}))},this),GN(u,l.plotHeight)))o=g.item.legendItem||{},cC(g.pos)&&(o.y=l.plotTop-l.spacing[0]+g.pos)}render(){let o=this.chart,l=o.renderer,u=this.options,p=this.padding,g=this.getAllItems(),_,C,T,R=this.group,V,M=this.box;this.itemX=p,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=ZN(u.width,o.spacingBox.width-p),V=o.spacingBox.width-2*p-u.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(V/=2),this.maxLegendWidth=this.widthOption||V,R||(this.group=R=l.g("legend").addClass(u.className||"").attr({zIndex:7}).add(),this.contentGroup=l.g().attr({zIndex:1}).add(R),this.scrollGroup=l.g().add(this.contentGroup)),this.renderTitle(),eL(g,(B,$)=>(B.options&&B.options.legendIndex||0)-($.options&&$.options.legendIndex||0)),u.reversed&&g.reverse(),this.allItems=g,this.display=_=!!g.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,g.forEach(this.renderItem,this),g.forEach(this.layoutItem,this),C=(this.widthOption||this.offsetWidth)+p,T=this.lastItemY+this.lastLineHeight+this.titleHeight,T=this.handleOverflow(T)+p,M||(this.box=M=l.rect().addClass("highcharts-legend-box").attr({r:u.borderRadius}).add(R)),o.styledMode||M.attr({stroke:u.borderColor,"stroke-width":u.borderWidth||0,fill:u.backgroundColor||"none"}).shadow(u.shadow),C>0&&T>0&&M[M.placed?"animate":"attr"](M.crisp.call({},{x:0,y:0,width:C,height:T},M.strokeWidth())),R[_?"show":"hide"](),o.styledMode&&R.getStyle("display")==="none"&&(C=T=0),this.legendWidth=C,this.legendHeight=T,_&&this.align(),this.proximate||this.positionItems(),Hr(this,"afterRender")}align(o=this.chart.spacingBox){let l=this.chart,u=this.options,p=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&l.titleOffset[0]>0?p+=l.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&l.titleOffset[2]>0&&(p-=l.titleOffset[2]),p!==o.y&&(o=Na(o,{y:p})),l.hasRendered||(this.group.placed=!1),this.group.align(Na(u,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":u.verticalAlign}),!0,o)}handleOverflow(o){let l=this,u=this.chart,p=u.renderer,g=this.options,_=g.y,C=g.verticalAlign==="top",T=this.padding,R=g.maxHeight,V=g.navigation,M=ws(V.animation,!0),B=V.arrowSize||12,$=this.pages,W=this.allItems,X=function(fe){typeof fe=="number"?ue.attr({height:fe}):ue&&(l.clipRect=ue.destroy(),l.contentGroup.clip()),l.contentGroup.div&&(l.contentGroup.div.style.clip=fe?"rect("+T+"px,9999px,"+(T+fe)+"px,0)":"auto")},J=function(fe){return l[fe]=p.circle(0,0,1.3*B).translate(B/2,B/2).add(he),u.styledMode||l[fe].attr("fill","rgba(0,0,0,0.0001)"),l[fe]},K,ee,te,le=u.spacingBox.height+(C?-_:_)-T,he=this.nav,ue=this.clipRect;return g.layout!=="horizontal"||g.verticalAlign==="middle"||g.floating||(le/=2),R&&(le=Math.min(le,R)),$.length=0,o&&le>0&&o>le&&V.enabled!==!1?(this.clipHeight=K=Math.max(le-20-this.titleHeight-T,0),this.currentPage=ws(this.currentPage,1),this.fullHeight=o,W.forEach((fe,de)=>{let me=(te=fe.legendItem||{}).y||0,Te=Math.round(te.label.getBBox().height),ke=$.length;(!ke||me-$[ke-1]>K&&(ee||me)!==$[ke-1])&&($.push(ee||me),ke++),te.pageIx=ke-1,ee&&((W[de-1].legendItem||{}).pageIx=ke-1),de===W.length-1&&me+Te-$[ke-1]>K&&me>$[ke-1]&&($.push(me),te.pageIx=ke),me!==ee&&(ee=me)}),ue||(ue=l.clipRect=p.clipRect(0,T-2,9999,0),l.contentGroup.clip(ue)),X(K),he||(this.nav=he=p.g().attr({zIndex:1}).add(this.group),this.up=p.symbol("triangle",0,0,B,B).add(he),J("upTracker").on("click",function(){l.scroll(-1,M)}),this.pager=p.text("",15,10).addClass("highcharts-legend-navigation"),!u.styledMode&&V.style&&this.pager.css(V.style),this.pager.add(he),this.down=p.symbol("triangle-down",0,0,B,B).add(he),J("downTracker").on("click",function(){l.scroll(1,M)})),l.scroll(0),o=le):he&&(X(),this.nav=he.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o}scroll(o,l){let u=this.chart,p=this.pages,g=p.length,_=this.clipHeight,C=this.options.navigation,T=this.pager,R=this.padding,V=this.currentPage+o;V>g&&(V=g),V>0&&(l!==void 0&&zN(l,u),this.nav.attr({translateX:R,translateY:_+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(M){M.attr({class:V===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),T.attr({text:V+"/"+g}),[this.down,this.downTracker].forEach(function(M){M.attr({x:18+this.pager.getBBox().width,class:V===g?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),u.styledMode||(this.up.attr({fill:V===1?C.inactiveColor:C.activeColor}),this.upTracker.css({cursor:V===1?"default":"pointer"}),this.down.attr({fill:V===g?C.inactiveColor:C.activeColor}),this.downTracker.css({cursor:V===g?"default":"pointer"})),this.scrollOffset=-p[V-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=V,this.positionCheckboxes(),tL(()=>{Hr(this,"afterScroll",{currentPage:V})},$N(ws(l,u.renderer.globalAnimation,!0)).duration))}setItemEvents(o,l,u){let p=this,g=o.legendItem||{},_=p.chart.renderer.boxWrapper,C=o instanceof Oo,T=o instanceof os,R="highcharts-legend-"+(C?"point":"series")+"-active",V=p.chart.styledMode,M=u?[l,g.symbol]:[g.group],B=$=>{p.allItems.forEach(W=>{o!==W&&[W].concat(W.linkedSeries||[]).forEach(X=>{X.setState($,!C)})})};for(let $ of M)$&&$.on("mouseover",function(){o.visible&&B("inactive"),o.setState("hover"),o.visible&&_.addClass(R),V||l.css(p.options.itemHoverStyle)}).on("mouseout",function(){p.chart.styledMode||l.css(Na(o.visible?p.itemStyle:p.itemHiddenStyle)),B(""),_.removeClass(R),o.setState()}).on("click",function(W){let X=function(){o.setVisible&&o.setVisible(),B(o.visible?"inactive":"")};_.removeClass(R),Hr(p,"itemClick",{browserEvent:W,legendItem:o},X),C?o.firePointEvent("legendItemClick",{browserEvent:W}):T&&Hr(o,"legendItemClick",{browserEvent:W})})}createCheckboxForItem(o){o.checkbox=KN("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),wf(o.checkbox,"click",function(l){let u=l.target;Hr(o.series||o,"checkboxClick",{checked:u.checked,item:o},function(){o.select()})})}}(function(P){P.compose=function(o){QN(WN,"Core.Legend")&&wf(o,"beforeMargins",function(){this.legend=new P(this,this.options.legend)})}})(ey||(ey={}));let uC=ey,{animate:ty,animObject:nL,setAnimation:ny}=Cn,{defaultOptions:iy}=Kn,{numberFormat:iL}=Wi,{registerEventOptions:hC}=nf,{charts:La,doc:Mu,marginNames:dC,svg:sL,win:fC}=S,{seriesTypes:sy}=An,{addEvent:ry,attr:pC,createElement:oy,css:Hs,defined:Do,diffObjects:mC,discardElement:rL,erase:oL,error:ay,extend:No,find:ly,fireEvent:Lt,getAlignFactor:aL,getStyle:cy,isArray:lL,isNumber:Dl,isObject:cL,isString:Cf,merge:$r,objectEach:uy,pick:_i,pInt:uL,relativeLength:gC,removeEvent:yC,splat:xf,syncTimeout:hL,uniqueKey:dL}=Pe;class Lo{static chart(o,l,u){return new Lo(o,l,u)}constructor(o,l,u){this.sharedClips={};let p=[...arguments];(Cf(o)||o.nodeName)&&(this.renderTo=p.shift()),this.init(p[0],p[1])}setZoomOptions(){let o=this.options.chart,l=o.zooming;this.zooming={...l,type:_i(o.zoomType,l.type),key:_i(o.zoomKey,l.key),pinchType:_i(o.pinchType,l.pinchType),singleTouch:_i(o.zoomBySingleTouch,l.singleTouch,!1),resetButton:$r(l.resetButton,o.resetZoomButton)}}init(o,l){Lt(this,"init",{args:arguments},function(){var _;let u=$r(iy,o),p=u.chart,g=this.renderTo||p.renderTo;this.userOptions=No({},o),(this.renderTo=Cf(g)?Mu.getElementById(g):g)||ay(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=l,this.isResizing=0,this.options=u,this.axes=[],this.series=[],this.locale=u.lang.locale??((_=this.renderTo.closest("[lang]"))==null?void 0:_.lang),this.time=new Rt(No(u.time||{},{locale:this.locale})),u.time=this.time.options,this.numberFormatter=(p.numberFormatter||iL).bind(this),this.styledMode=p.styledMode,this.hasCartesianSeries=p.showAxes,this.index=La.length,La.push(this),S.chartCount++,hC(this,p),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Lt(this,"afterInit"),this.firstRender()})}initSeries(o){let l=this.options.chart,u=o.type||l.type,p=sy[u];p||ay(17,!0,this,{missingModuleFor:u});let g=new p;return typeof g.init=="function"&&g.init(this,o),g}setSortedData(){this.getSeriesOrderByLinks().forEach(function(o){o.points||o.data||!o.enabledDataSorting||o.setData(o.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(o,l){return o.linkedSeries.length||l.linkedSeries.length?l.linkedSeries.length-o.linkedSeries.length:0})}orderItems(o,l=0){let u=this[o],p=this.options[o]=xf(this.options[o]).slice(),g=this.userOptions[o]=this.userOptions[o]?xf(this.userOptions[o]).slice():[];if(this.hasRendered&&(p.splice(l),g.splice(l)),u)for(let _=l,C=u.length;_<C;++_){let T=u[_];T&&(T.index=_,T instanceof os&&(T.name=T.getName()),T.options.isInternal||(p[_]=T.options,g[_]=T.userOptions))}}isInsidePlot(o,l,u={}){var J;let{inverted:p,plotBox:g,plotLeft:_,plotTop:C,scrollablePlotBox:T}=this,{scrollLeft:R=0,scrollTop:V=0}=u.visiblePlotOnly&&((J=this.scrollablePlotArea)==null?void 0:J.scrollingContainer)||{},M=u.series,B=u.visiblePlotOnly&&T||g,$=u.inverted?l:o,W=u.inverted?o:l,X={x:$,y:W,isInsidePlot:!0,options:u};if(!u.ignoreX){let K=M&&(p&&!this.polar?M.yAxis:M.xAxis)||{pos:_,len:1/0},ee=u.paneCoordinates?K.pos+$:_+$;ee>=Math.max(R+_,K.pos)&&ee<=Math.min(R+_+B.width,K.pos+K.len)||(X.isInsidePlot=!1)}if(!u.ignoreY&&X.isInsidePlot){let K=!p&&u.axis&&!u.axis.isXAxis&&u.axis||M&&(p?M.xAxis:M.yAxis)||{pos:C,len:1/0},ee=u.paneCoordinates?K.pos+W:C+W;ee>=Math.max(V+C,K.pos)&&ee<=Math.min(V+C+B.height,K.pos+K.len)||(X.isInsidePlot=!1)}return Lt(this,"afterIsInsidePlot",X),X.isInsidePlot}redraw(o){Lt(this,"beforeRedraw");let l=this.hasCartesianSeries?this.axes:this.colorAxis||[],u=this.series,p=this.pointer,g=this.legend,_=this.userOptions.legend,C=this.renderer,T=C.isHidden(),R=[],V,M,B,$=this.isDirtyBox,W=this.isDirtyLegend,X;for(C.rootFontSize=C.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),ny(!!this.hasRendered&&o,this),T&&this.temporaryDisplay(),this.layOutTitles(!1),B=u.length;B--;)if(((X=u[B]).options.stacking||X.options.centerInCategory)&&(M=!0,X.isDirty)){V=!0;break}if(V)for(B=u.length;B--;)(X=u[B]).options.stacking&&(X.isDirty=!0);u.forEach(function(J){J.isDirty&&(J.options.legendType==="point"?(typeof J.updateTotals=="function"&&J.updateTotals(),W=!0):_&&(_.labelFormatter||_.labelFormat)&&(W=!0)),J.isDirtyData&&Lt(J,"updatedData")}),W&&g&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1),M&&this.getStacks(),l.forEach(function(J){J.updateNames(),J.setScale()}),this.getMargins(),l.forEach(function(J){J.isDirty&&($=!0)}),l.forEach(function(J){let K=J.min+","+J.max;J.extKey!==K&&(J.extKey=K,R.push(function(){Lt(J,"afterSetExtremes",No(J.eventArgs,J.getExtremes())),delete J.eventArgs})),($||M)&&J.redraw()}),$&&this.drawChartBox(),Lt(this,"predraw"),u.forEach(function(J){($||J.isDirty)&&J.visible&&J.redraw(),J.isDirtyData=!1}),p&&p.reset(!0),C.draw(),Lt(this,"redraw"),Lt(this,"render"),T&&this.temporaryDisplay(!0),R.forEach(function(J){J.call()})}get(o){let l=this.series;function u(g){return g.id===o||g.options&&g.options.id===o}let p=ly(this.axes,u)||ly(this.series,u);for(let g=0;!p&&g<l.length;g++)p=ly(l[g].points||[],u);return p}createAxes(){let o=this.userOptions;for(let l of(Lt(this,"createAxes"),["xAxis","yAxis"]))for(let u of o[l]=xf(o[l]||{}))new kl(this,u,l);Lt(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((o,l)=>(l.getPointsCollection().forEach(u=>{_i(u.selectedStaging,u.selected)&&o.push(u)}),o),[])}getSelectedSeries(){return this.series.filter(o=>o.selected)}setTitle(o,l,u){this.applyDescription("title",o),this.applyDescription("subtitle",l),this.applyDescription("caption",void 0),this.layOutTitles(u)}applyDescription(o,l){var _;let u=this,p=this.options[o]=$r(this.options[o],l),g=this[o];g&&l&&(this[o]=g=g.destroy()),p&&!g&&((g=this.renderer.text(p.text,0,0,p.useHTML).attr({align:p.align,class:"highcharts-"+o,zIndex:p.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(C,T){u.applyDescription(o,C),u.layOutTitles(T)},this.styledMode||g.css(No(o==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},p.style)),g.textPxLength=g.getBBox().width,g.css({whiteSpace:(_=p.style)==null?void 0:_.whiteSpace}),this[o]=g)}layOutTitles(o=!0){var C,T,R,V;let l=[0,0,0],{options:u,renderer:p,spacingBox:g}=this;["title","subtitle","caption"].forEach(M=>{var J;let B=this[M],$=this.options[M],W=$r(g),X=(B==null?void 0:B.textPxLength)||0;if(B&&$){Lt(this,"layOutTitle",{alignTo:W,key:M,textPxLength:X});let K=p.fontMetrics(B),ee=K.b,te=K.h,le=$.verticalAlign||"top",he=le==="top",ue=he&&$.minScale||1,fe=M==="title"?he?-3:0:he?l[0]+2:0,de=Math.min(W.width/X,1),me=Math.max(ue,de),Te=$r({y:le==="bottom"?ee:fe+ee},{align:M==="title"?de<ue?"left":"center":(J=this.title)==null?void 0:J.alignValue},$),ke=$.width||(de>ue?this.chartWidth:W.width)/me;B.alignValue!==Te.align&&(B.placed=!1);let Be=Math.round(B.css({width:`${ke}px`}).getBBox($.useHTML).height);if(Te.height=Be,B.align(Te,!1,W).attr({align:Te.align,scaleX:me,scaleY:me,"transform-origin":`${W.x+X*me*aL(Te.align)} ${te}`}),!$.floating){let Ee=Be*(Be<1.2*te?1:me);le==="top"?l[0]=Math.ceil(l[0]+Ee):le==="bottom"&&(l[2]=Math.ceil(l[2]+Ee))}}},this),l[0]&&(((C=u.title)==null?void 0:C.verticalAlign)||"top")==="top"&&(l[0]+=((T=u.title)==null?void 0:T.margin)||0),l[2]&&((R=u.caption)==null?void 0:R.verticalAlign)==="bottom"&&(l[2]+=((V=u.caption)==null?void 0:V.margin)||0);let _=!this.titleOffset||this.titleOffset.join(",")!==l.join(",");this.titleOffset=l,Lt(this,"afterLayOutTitles"),!this.isDirtyBox&&_&&(this.isDirtyBox=this.isDirtyLegend=_,this.hasRendered&&o&&this.isDirtyBox&&this.redraw())}getContainerBox(){let o=[].map.call(this.renderTo.children,u=>{if(u!==this.container){let p=u.style.display;return u.style.display="none",[u,p]}}),l={width:cy(this.renderTo,"width",!0)||0,height:cy(this.renderTo,"height",!0)||0};return o.filter(Boolean).forEach(([u,p])=>{u.style.display=p}),l}getChartSize(){var _;let o=this.options.chart,l=o.width,u=o.height,p=this.getContainerBox(),g=p.height<=1||!((_=this.renderTo.parentElement)!=null&&_.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,l||p.width||600),this.chartHeight=Math.max(0,gC(u,this.chartWidth)||(g?400:p.height)),this.containerBox=p}temporaryDisplay(o){let l=this.renderTo,u;if(o)for(;l&&l.style;)l.hcOrigStyle&&(Hs(l,l.hcOrigStyle),delete l.hcOrigStyle),l.hcOrigDetached&&(Mu.body.removeChild(l),l.hcOrigDetached=!1),l=l.parentNode;else for(;l&&l.style&&(Mu.body.contains(l)||l.parentNode||(l.hcOrigDetached=!0,Mu.body.appendChild(l)),(cy(l,"display",!1)==="none"||l.hcOricDetached)&&(l.hcOrigStyle={display:l.style.display,height:l.style.height,overflow:l.style.overflow},u={display:"block",overflow:"hidden"},l!==this.renderTo&&(u.height=0),Hs(l,u),l.offsetWidth||l.style.setProperty("display","block","important")),(l=l.parentNode)!==Mu.body););}setClassName(o){this.container.className="highcharts-container "+(o||"")}getContainer(){var B;let o,l=this.options,u=l.chart,p="data-highcharts-chart",g=dL(),_=this.renderTo,C=uL(pC(_,p));Dl(C)&&La[C]&&La[C].hasRendered&&La[C].destroy(),pC(_,p,this.index),_.innerHTML=on.emptyHTML,u.skipClone||_.offsetWidth||this.temporaryDisplay(),this.getChartSize();let T=this.chartHeight,R=this.chartWidth;Hs(_,{overflow:"hidden"}),this.styledMode||(o=No({position:"relative",overflow:"hidden",width:R+"px",height:T+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},u.style||{}));let V=oy("div",{id:g},o,_);this.container=V,this.getChartSize(),R===this.chartWidth||(R=this.chartWidth,this.styledMode||Hs(V,{width:_i((B=u.style)==null?void 0:B.width,R+"px")})),this.containerBox=this.getContainerBox(),this._cursor=V.style.cursor;let M=u.renderer||!sL?Eo.getRendererType(u.renderer):tf;if(this.renderer=new M(V,R,T,void 0,u.forExport,l.exporting&&l.exporting.allowHTML,this.styledMode),ny(void 0,this),this.setClassName(u.className),this.styledMode)for(let $ in l.defs)this.renderer.definition(l.defs[$]);else this.renderer.setStyle(u.style);this.renderer.chartIndex=this.index,Lt(this,"afterGetContainer")}getMargins(o){let{spacing:l,margin:u,titleOffset:p}=this;this.resetMargins(),p[0]&&!Do(u[0])&&(this.plotTop=Math.max(this.plotTop,p[0]+l[0])),p[2]&&!Do(u[2])&&(this.marginBottom=Math.max(this.marginBottom,p[2]+l[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(u,l),Lt(this,"getMargins"),o||this.getAxisMargins()}getAxisMargins(){let o=this,l=o.axisOffset=[0,0,0,0],u=o.colorAxis,p=o.margin,g=function(_){_.forEach(function(C){C.visible&&C.getOffset()})};o.hasCartesianSeries?g(o.axes):u&&u.length&&g(u),dC.forEach(function(_,C){Do(p[C])||(o[_]+=l[C])}),o.setChartSize()}getOptions(){return mC(this.userOptions,iy)}reflow(o){var g;let l=this,u=l.containerBox,p=l.getContainerBox();(g=l.pointer)==null||delete g.chartPosition,!l.isPrinting&&!l.isResizing&&u&&p.width&&((p.width!==u.width||p.height!==u.height)&&(Pe.clearTimeout(l.reflowTimeout),l.reflowTimeout=hL(function(){l.container&&l.setSize(void 0,void 0,!1)},o?100:0)),l.containerBox=p)}setReflow(){let o=this,l=u=>{var p;(p=o.options)!=null&&p.chart.reflow&&o.hasLoaded&&o.reflow(u)};if(typeof ResizeObserver=="function")new ResizeObserver(l).observe(o.renderTo);else{let u=ry(fC,"resize",l);ry(this,"destroy",u)}}setSize(o,l,u){let p=this,g=p.renderer;p.isResizing+=1,ny(u,p);let _=g.globalAnimation;p.oldChartHeight=p.chartHeight,p.oldChartWidth=p.chartWidth,o!==void 0&&(p.options.chart.width=o),l!==void 0&&(p.options.chart.height=l),p.getChartSize();let{chartWidth:C,chartHeight:T,scrollablePixelsX:R=0,scrollablePixelsY:V=0}=p;(p.isDirtyBox||C!==p.oldChartWidth||T!==p.oldChartHeight)&&(p.styledMode||(_?ty:Hs)(p.container,{width:`${C+R}px`,height:`${T+V}px`},_),p.setChartSize(!0),g.setSize(C,T,_),p.axes.forEach(function(M){M.isDirty=!0,M.setScale()}),p.isDirtyLegend=!0,p.isDirtyBox=!0,p.layOutTitles(),p.getMargins(),p.redraw(_),p.oldChartHeight=void 0,Lt(p,"resize"),setTimeout(()=>{p&&Lt(p,"endResize")},nL(_).duration)),p.isResizing-=1}setChartSize(o){let l,u,p,g,{chartHeight:_,chartWidth:C,inverted:T,spacing:R,renderer:V}=this,M=this.clipOffset,B=Math[T?"floor":"round"];this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=u=Math.round(this.plotTop),this.plotWidth=p=Math.max(0,Math.round(C-l-this.marginRight)),this.plotHeight=g=Math.max(0,Math.round(_-u-this.marginBottom)),this.plotSizeX=T?g:p,this.plotSizeY=T?p:g,this.spacingBox=V.spacingBox={x:R[3],y:R[0],width:C-R[3]-R[1],height:_-R[0]-R[2]},this.plotBox=V.plotBox={x:l,y:u,width:p,height:g},M&&(this.clipBox={x:B(M[3]),y:B(M[0]),width:B(this.plotSizeX-M[1]-M[3]),height:B(this.plotSizeY-M[0]-M[2])}),o||(this.axes.forEach(function($){$.setAxisSize(),$.setAxisTranslation()}),V.alignElements()),Lt(this,"afterSetChartSize",{skipAxes:o})}resetMargins(){Lt(this,"resetMargins");let o=this,l=o.options.chart,u=l.plotBorderWidth||0,p=u/2;["margin","spacing"].forEach(function(g){let _=l[g],C=cL(_)?_:[_,_,_,_];["Top","Right","Bottom","Left"].forEach(function(T,R){o[g][R]=_i(l[g+T],C[R])})}),dC.forEach(function(g,_){o[g]=_i(o.margin[_],o.spacing[_])}),o.axisOffset=[0,0,0,0],o.clipOffset=[p,p,p,p],o.plotBorderWidth=u}drawChartBox(){let o=this.options.chart,l=this.renderer,u=this.chartWidth,p=this.chartHeight,g=this.styledMode,_=this.plotBGImage,C=o.backgroundColor,T=o.plotBackgroundColor,R=o.plotBackgroundImage,V=this.plotLeft,M=this.plotTop,B=this.plotWidth,$=this.plotHeight,W=this.plotBox,X=this.clipRect,J=this.clipBox,K=this.chartBackground,ee=this.plotBackground,te=this.plotBorder,le,he,ue,fe="animate";K||(this.chartBackground=K=l.rect().addClass("highcharts-background").add(),fe="attr"),g?le=he=K.strokeWidth():(he=(le=o.borderWidth||0)+(o.shadow?8:0),ue={fill:C||"none"},(le||K["stroke-width"])&&(ue.stroke=o.borderColor,ue["stroke-width"]=le),K.attr(ue).shadow(o.shadow)),K[fe]({x:he/2,y:he/2,width:u-he-le%2,height:p-he-le%2,r:o.borderRadius}),fe="animate",ee||(fe="attr",this.plotBackground=ee=l.rect().addClass("highcharts-plot-background").add()),ee[fe](W),!g&&(ee.attr({fill:T||"none"}).shadow(o.plotShadow),R&&(_?(R!==_.attr("href")&&_.attr("href",R),_.animate(W)):this.plotBGImage=l.image(R,V,M,B,$).add())),X?X.animate({width:J.width,height:J.height}):this.clipRect=l.clipRect(J),fe="animate",te||(fe="attr",this.plotBorder=te=l.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),g||te.attr({stroke:o.plotBorderColor,"stroke-width":o.plotBorderWidth||0,fill:"none"}),te[fe](te.crisp({x:V,y:M,width:B,height:$},-te.strokeWidth())),this.isDirtyBox=!1,Lt(this,"afterDrawChartBox")}propFromSeries(){let o,l,u,p=this,g=p.options.chart,_=p.options.series;["inverted","angular","polar"].forEach(function(C){for(l=sy[g.type],u=g[C]||l&&l.prototype[C],o=_&&_.length;!u&&o--;)(l=sy[_[o].type])&&l.prototype[C]&&(u=!0);p[C]=u})}linkSeries(o){let l=this,u=l.series;u.forEach(function(p){p.linkedSeries.length=0}),u.forEach(function(p){let{linkedTo:g}=p.options;if(Cf(g)){let _;(_=g===":previous"?l.series[p.index-1]:l.get(g))&&_.linkedParent!==p&&(_.linkedSeries.push(p),p.linkedParent=_,_.enabledDataSorting&&p.setDataSortingOptions(),p.visible=_i(p.options.visible,_.options.visible,p.visible))}}),Lt(this,"afterLinkSeries",{isUpdating:o})}renderSeries(){this.series.forEach(function(o){o.translate(),o.render()})}render(){var V;let o=this.axes,l=this.colorAxis,u=this.renderer,p=this.options.chart.axisLayoutRuns||2,g=M=>{M.forEach(B=>{B.visible&&B.render()})},_=0,C=!0,T,R=0;for(let M of(this.setTitle(),Lt(this,"beforeMargins"),(V=this.getStacks)==null||V.call(this),this.getMargins(!0),this.setChartSize(),o)){let{options:B}=M,{labels:$}=B;if(this.hasCartesianSeries&&M.horiz&&M.visible&&$.enabled&&M.series.length&&M.coll!=="colorAxis"&&!this.polar){_=B.tickLength,M.createGroups();let W=new Sl(M,0,"",!0),X=W.createLabel("x",$);if(W.destroy(),X&&_i($.reserveSpace,!Dl(B.crossing))&&(_=X.getBBox().height+$.distance+Math.max(B.offset||0,0)),_){X==null||X.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-_,0);(C||T||p>1)&&R<p;){let M=this.plotWidth,B=this.plotHeight;for(let $ of o)R===0?$.setScale():($.horiz&&C||!$.horiz&&T)&&$.setTickInterval(!0);R===0?this.getAxisMargins():this.getMargins(),C=M/this.plotWidth>(R?1:1.1),T=B/this.plotHeight>(R?1:1.05),R++}this.drawChartBox(),this.hasCartesianSeries?g(o):l&&l.length&&g(l),this.seriesGroup||(this.seriesGroup=u.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(o){let l=this,u=$r(!0,this.options.credits,o);u.enabled&&!this.credits&&(this.credits=this.renderer.text(u.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){u.href&&(fC.location.href=u.href)}).attr({align:u.position.align,zIndex:8}),l.styledMode||this.credits.css(u.style),this.credits.add().align(u.position),this.credits.update=function(p){l.credits=l.credits.destroy(),l.addCredits(p)})}destroy(){let o,l=this,u=l.axes,p=l.series,g=l.container,_=g&&g.parentNode;for(Lt(l,"destroy"),l.renderer.forExport?oL(La,l):La[l.index]=void 0,S.chartCount--,l.renderTo.removeAttribute("data-highcharts-chart"),yC(l),o=u.length;o--;)u[o]=u[o].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),o=p.length;o--;)p[o]=p[o].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(C){let T=l[C];T&&T.destroy&&(l[C]=T.destroy())}),g&&(g.innerHTML=on.emptyHTML,yC(g),_&&rL(g)),uy(l,function(C,T){delete l[T]})}firstRender(){var p;let o=this,l=o.options;o.getContainer(),o.resetMargins(),o.setChartSize(),o.propFromSeries(),o.createAxes();let u=lL(l.series)?l.series:[];l.series=[],u.forEach(function(g){o.initSeries(g)}),o.linkSeries(),o.setSortedData(),Lt(o,"beforeRender"),o.render(),(p=o.pointer)==null||p.getChartPosition(),o.renderer.imgCount||o.hasLoaded||o.onload(),o.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(o){o&&this.index!==void 0&&o.apply(this,[this])},this),Lt(this,"load"),Lt(this,"render"),Do(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:o,title:l}=this;!o||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(l&&l.element.textContent||"").replace(/</g,"&lt;")}),o.accessibility&&o.accessibility.enabled===!1||ay('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(o,l,u){let p,g=this;return o&&(l=_i(l,!0),Lt(g,"addSeries",{options:o},function(){p=g.initSeries(o),g.isDirtyLegend=!0,g.linkSeries(),p.enabledDataSorting&&p.setData(o.data,!1),Lt(g,"afterAddSeries",{series:p}),l&&g.redraw(u)})),p}addAxis(o,l,u,p){return this.createAxis(l?"xAxis":"yAxis",{axis:o,redraw:u,animation:p})}addColorAxis(o,l,u){return this.createAxis("colorAxis",{axis:o,redraw:l,animation:u})}createAxis(o,l){let u=new kl(this,l.axis,o);return _i(l.redraw,!0)&&this.redraw(l.animation),u}showLoading(o){let l=this,u=l.options,p=u.loading,g=function(){_&&Hs(_,{left:l.plotLeft+"px",top:l.plotTop+"px",width:l.plotWidth+"px",height:l.plotHeight+"px"})},_=l.loadingDiv,C=l.loadingSpan;_||(l.loadingDiv=_=oy("div",{className:"highcharts-loading highcharts-loading-hidden"},null,l.container)),C||(l.loadingSpan=C=oy("span",{className:"highcharts-loading-inner"},null,_),ry(l,"redraw",g)),_.className="highcharts-loading",on.setElementHTML(C,_i(o,u.lang.loading,"")),l.styledMode||(Hs(_,No(p.style,{zIndex:10})),Hs(C,p.labelStyle),l.loadingShown||(Hs(_,{opacity:0,display:""}),ty(_,{opacity:p.style.opacity||.5},{duration:p.showDuration||0}))),l.loadingShown=!0,g()}hideLoading(){let o=this.options,l=this.loadingDiv;l&&(l.className="highcharts-loading highcharts-loading-hidden",this.styledMode||ty(l,{opacity:0},{duration:o.loading.hideDuration||100,complete:function(){Hs(l,{display:"none"})}})),this.loadingShown=!1}update(o,l,u,p){let g,_,C,T=this,R={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},V=o.isResponsiveOptions,M=[];Lt(T,"update",{options:o}),V||T.setResponsive(!1,!0),o=mC(o,T.options),T.userOptions=$r(T.userOptions,o);let B=o.chart;B&&($r(!0,T.options.chart,B),this.setZoomOptions(),"className"in B&&T.setClassName(B.className),("inverted"in B||"polar"in B||"type"in B)&&(T.propFromSeries(),g=!0),"alignTicks"in B&&(g=!0),"events"in B&&hC(this,B),uy(B,function(X,J){T.propsRequireUpdateSeries.indexOf("chart."+J)!==-1&&(_=!0),T.propsRequireDirtyBox.indexOf(J)!==-1&&(T.isDirtyBox=!0),T.propsRequireReflow.indexOf(J)===-1||(T.isDirtyBox=!0,V||(C=!0))}),!T.styledMode&&B.style&&T.renderer.setStyle(T.options.chart.style||{})),!T.styledMode&&o.colors&&(this.options.colors=o.colors),uy(o,function(X,J){T[J]&&typeof T[J].update=="function"?T[J].update(X,!1):typeof T[R[J]]=="function"?T[R[J]](X):J!=="colors"&&T.collectionsWithUpdate.indexOf(J)===-1&&$r(!0,T.options[J],o[J]),J!=="chart"&&T.propsRequireUpdateSeries.indexOf(J)!==-1&&(_=!0)}),this.collectionsWithUpdate.forEach(function(X){o[X]&&(xf(o[X]).forEach(function(J,K){let ee,te=Do(J.id);te&&(ee=T.get(J.id)),!ee&&T[X]&&(ee=T[X][_i(J.index,K)])&&(te&&Do(ee.options.id)||ee.options.isInternal)&&(ee=void 0),ee&&ee.coll===X&&(ee.update(J,!1),u&&(ee.touched=!0)),!ee&&u&&T.collectionsWithInit[X]&&(T.collectionsWithInit[X][0].apply(T,[J].concat(T.collectionsWithInit[X][1]||[]).concat([!1])).touched=!0)}),u&&T[X].forEach(function(J){J.touched||J.options.isInternal?delete J.touched:M.push(J)}))}),M.forEach(function(X){X.chart&&X.remove&&X.remove(!1)}),g&&T.axes.forEach(function(X){X.update({},!1)}),_&&T.getSeriesOrderByLinks().forEach(function(X){X.chart&&X.update({},!1)},this);let $=B&&B.width,W=B&&(Cf(B.height)?gC(B.height,$||T.chartWidth):B.height);C||Dl($)&&$!==T.chartWidth||Dl(W)&&W!==T.chartHeight?T.setSize($,W,p):_i(l,!0)&&T.redraw(p),Lt(T,"afterUpdate",{options:o,redraw:l,animation:p})}setSubtitle(o,l){this.applyDescription("subtitle",o),this.layOutTitles(l)}setCaption(o,l){this.applyDescription("caption",o),this.layOutTitles(l)}showResetZoom(){let o=this,l=iy.lang,u=o.zooming.resetButton,p=u.theme,g=u.relativeTo==="chart"||u.relativeTo==="spacingBox"?null:"plotBox";function _(){o.zoomOut()}Lt(this,"beforeShowResetZoom",null,function(){o.resetZoomButton=o.renderer.button(l.resetZoom,null,null,_,p).attr({align:u.position.align,title:l.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(u.position,!1,g)}),Lt(this,"afterShowResetZoom")}zoomOut(){Lt(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(o,l){let u=this,p=typeof l=="object"?l:{enabled:l,type:"x"},g=p.type,_=g&&u[{x:"xAxis",xy:"axes",y:"yAxis"}[g]].filter(T=>T.options.panningEnabled&&!T.options.isInternal),C=u.options.chart;C!=null&&C.panning&&(C.panning=p),Lt(this,"pan",{originalEvent:o},()=>{u.transform({axes:_,event:o,to:{x:o.chartX-(u.mouseDownX||0),y:o.chartY-(u.mouseDownY||0)},trigger:"pan"}),Hs(u.container,{cursor:"move"})})}transform(o){var W;let{axes:l=this.axes,event:u,from:p={},reset:g,selection:_,to:C={},trigger:T}=o,{inverted:R,time:V}=this,M=!1,B,$;for(let X of((W=this.hoverPoints)==null||W.forEach(J=>J.setState()),l)){let{horiz:J,len:K,minPointOffset:ee=0,options:te,reversed:le}=X,he=J?"width":"height",ue=J?"x":"y",fe=_i(C[he],X.len),de=_i(p[he],X.len),me=10>Math.abs(fe)?1:fe/de,Te=(p[ue]||0)+de/2-X.pos,ke=Te-((C[ue]??X.pos)+fe/2-X.pos)/me,Be=le&&!R||!le&&R?-1:1;if(!g&&(Te<0||Te>X.len))continue;let Ee=X.toValue(ke,!0)+(_||X.isOrdinal?0:ee*Be),Ve=X.toValue(ke+K/me,!0)-(_||X.isOrdinal?0:ee*Be||0),tt=X.allExtremes;if(Ee>Ve&&([Ee,Ve]=[Ve,Ee]),me===1&&!g&&X.coll==="yAxis"&&!tt){for(let Sn of X.series){let Qn=Sn.getExtremes(Sn.getProcessedData(!0).modified.getColumn("y")||[],!0);tt??(tt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),Dl(Qn.dataMin)&&Dl(Qn.dataMax)&&(tt.dataMin=Math.min(Qn.dataMin,tt.dataMin),tt.dataMax=Math.max(Qn.dataMax,tt.dataMax))}X.allExtremes=tt}let{dataMin:wt,dataMax:Qe,min:yt,max:Xe}=No(X.getExtremes(),tt||{}),it=V.parse(te.min),ft=V.parse(te.max),Kt=wt??it,ln=Qe??ft,kt=Ve-Ee,Ot=X.categories?0:Math.min(kt,ln-Kt),en=Kt-Ot*(Do(it)?0:te.minPadding),wi=ln+Ot*(Do(ft)?0:te.maxPadding),jn=X.allowZoomOutside||me===1||T!=="zoom"&&me>1,hi=Math.min(it??en,en,jn?yt:en),Hn=Math.max(ft??wi,wi,jn?Xe:wi);(!X.isOrdinal||X.options.overscroll||me!==1||g)&&(Ee<hi&&(Ee=hi,me>=1&&(Ve=Ee+kt)),Ve>Hn&&(Ve=Hn,me>=1&&(Ee=Ve-kt)),(g||X.series.length&&(Ee!==yt||Ve!==Xe)&&Ee>=hi&&Ve<=Hn)&&(_?_[X.coll].push({axis:X,min:Ee,max:Ve}):(X.isPanning=T!=="zoom",X.isPanning&&($=!0),X.setExtremes(g?void 0:Ee,g?void 0:Ve,!1,!1,{move:ke,trigger:T,scale:me}),!g&&(Ee>hi||Ve<Hn)&&T!=="mousewheel"&&(B=!0)),M=!0),u&&(this[J?"mouseDownX":"mouseDownY"]=u[J?"chartX":"chartY"]))}return M&&(_?Lt(this,"selection",_,()=>{delete o.selection,o.trigger="zoom",this.transform(o)}):(!B||$||this.resetZoomButton?!B&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(T==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),M}}No(Lo.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Lo.prototype.addAxis,[!0]],yAxis:[Lo.prototype.addAxis,[!1]],series:[Lo.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:fL}=Cn,{composed:pL}=S,{addEvent:Vo,createElement:Ef,css:hy,defined:dy,erase:mL,merge:vC,pushUnique:bC}=Pe;function gL(){let P=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!P&&(this.scrollablePlotArea=P=new Du(this)),P==null||P.applyFixed()}function _C(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class Du{static compose(o,l,u){bC(pL,this.compose)&&(Vo(o,"afterInit",_C),Vo(l,"afterSetChartSize",p=>this.afterSetSize(p.target,p)),Vo(l,"render",gL),Vo(u,"show",_C))}static afterSetSize(o,l){let u,p,g,{minWidth:_,minHeight:C}=o.options.chart.scrollablePlotArea||{},{clipBox:T,plotBox:R,inverted:V,renderer:M}=o;if(!M.forExport&&(_?(o.scrollablePixelsX=u=Math.max(0,_-o.chartWidth),u&&(o.scrollablePlotBox=vC(o.plotBox),R.width=o.plotWidth+=u,T[V?"height":"width"]+=u,g=!0)):C&&(o.scrollablePixelsY=p=Math.max(0,C-o.chartHeight),dy(p)&&(o.scrollablePlotBox=vC(o.plotBox),R.height=o.plotHeight+=p,T[V?"width":"height"]+=p,g=!1)),dy(g)&&!l.skipAxes))for(let B of o.axes)(B.horiz===g||o.hasParallelCoordinates&&B.coll==="yAxis")&&(B.setAxisSize(),B.setAxisTranslation())}constructor(o){var $;let l,u=o.options.chart,p=Eo.getRendererType(),g=u.scrollablePlotArea||{},_=this.moveFixedElements.bind(this),C={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};o.scrollablePixelsX&&(C.overflowX="auto"),o.scrollablePixelsY&&(C.overflowY="auto"),this.chart=o;let T=this.parentDiv=Ef("div",{className:"highcharts-scrolling-parent"},{position:"relative"},o.renderTo),R=this.scrollingContainer=Ef("div",{className:"highcharts-scrolling"},C,T),V=this.innerContainer=Ef("div",{className:"highcharts-inner-container"},void 0,R),M=this.fixedDiv=Ef("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:((($=u.style)==null?void 0:$.zIndex)||0)+2,top:0},void 0,!0),B=this.fixedRenderer=new p(M,o.chartWidth,o.chartHeight,u.style);this.mask=B.path().attr({fill:u.backgroundColor||"#fff","fill-opacity":g.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),R.parentNode.insertBefore(M,R),hy(o.renderTo,{overflow:"visible"}),Vo(o,"afterShowResetZoom",_),Vo(o,"afterApplyDrilldown",_),Vo(o,"afterLayOutTitles",_),Vo(R,"scroll",()=>{let{pointer:W,hoverPoint:X}=o;W&&(delete W.chartPosition,X&&(l=X),W.runPointActions(void 0,l,!0))}),V.appendChild(o.container)}applyFixed(){var Te;let{chart:o,fixedRenderer:l,isDirty:u,scrollingContainer:p}=this,{axisOffset:g,chartWidth:_,chartHeight:C,container:T,plotHeight:R,plotLeft:V,plotTop:M,plotWidth:B,scrollablePixelsX:$=0,scrollablePixelsY:W=0}=o,{scrollPositionX:X=0,scrollPositionY:J=0}=o.options.chart.scrollablePlotArea||{},K=_+$,ee=C+W;l.setSize(_,C),(u??!0)&&(this.isDirty=!1,this.moveFixedElements()),fL(o.container),hy(T,{width:`${K}px`,height:`${ee}px`}),o.renderer.boxWrapper.attr({width:K,height:ee,viewBox:[0,0,K,ee].join(" ")}),(Te=o.chartBackground)==null||Te.attr({width:K,height:ee}),hy(p,{width:`${_}px`,height:`${C}px`}),dy(u)||(p.scrollLeft=$*X,p.scrollTop=W*J);let te=M-g[0]-1,le=V-g[3]-1,he=M+R+g[2]+1,ue=V+B+g[1]+1,fe=V+B-$,de=M+R-W,me=[["M",0,0]];$?me=[["M",0,te],["L",V-1,te],["L",V-1,he],["L",0,he],["Z"],["M",fe,te],["L",_,te],["L",_,he],["L",fe,he],["Z"]]:W&&(me=[["M",le,0],["L",le,M-1],["L",ue,M-1],["L",ue,0],["Z"],["M",le,de],["L",le,C],["L",ue,C],["L",ue,de],["Z"]]),o.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:me})}moveFixedElements(){let o,{container:l,inverted:u,scrollablePixelsX:p,scrollablePixelsY:g}=this.chart,_=this.fixedRenderer,C=Du.fixedSelectors;if(p&&!u?o=".highcharts-yaxis":p&&u||g&&!u?o=".highcharts-xaxis":g&&u&&(o=".highcharts-yaxis"),o&&!(this.chart.hasParallelCoordinates&&o===".highcharts-yaxis"))for(let T of[`${o}:not(.highcharts-radial-axis)`,`${o}-labels:not(.highcharts-radial-axis-labels)`])bC(C,T);else for(let T of[".highcharts-xaxis",".highcharts-yaxis"])for(let R of[`${T}:not(.highcharts-radial-axis)`,`${T}-labels:not(.highcharts-radial-axis-labels)`])mL(C,R);for(let T of C)[].forEach.call(l.querySelectorAll(T),R=>{(R.namespaceURI===_.SVG_NS?_.box:_.box.parentNode).appendChild(R),R.style.pointerEvents="auto"})}}Du.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:yL}=Wi,{series:vL}=An,{destroyObjectProperties:bL,fireEvent:wC,getAlignFactor:fy,isNumber:py,pick:Nu}=Pe,CC=class{constructor(P,o,l,u,p){let g=P.chart.inverted,_=P.reversed;this.axis=P;let C=this.isNegative=!!l!=!!_;this.options=o=o||{},this.x=u,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=p,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:o.align||(g?C?"left":"right":"center"),verticalAlign:o.verticalAlign||(g?"middle":C?"bottom":"top"),y:o.y,x:o.x},this.textAlign=o.textAlign||(g?C?"right":"left":"center")}destroy(){bL(this,this.axis)}render(P){let o=this.axis.chart,l=this.options,u=l.format,p=u?yL(u,this,o):l.formatter.call(this);if(this.label)this.label.attr({text:p,visibility:"hidden"});else{this.label=o.renderer.label(p,null,void 0,l.shape,void 0,void 0,l.useHTML,!1,"stack-labels");let g={r:l.borderRadius||0,text:p,padding:Nu(l.padding,5),visibility:"hidden"};o.styledMode||(g.fill=l.backgroundColor,g.stroke=l.borderColor,g["stroke-width"]=l.borderWidth,this.label.css(l.style||{})),this.label.attr(g),this.label.added||this.label.add(P)}this.label.labelrank=o.plotSizeY,wC(this,"afterRender")}setOffset(P,o,l,u,p,g){let{alignOptions:_,axis:C,label:T,options:R,textAlign:V}=this,M=C.chart,B=this.getStackBox({xOffset:P,width:o,boxBottom:l,boxTop:u,defaultX:p,xAxis:g}),{verticalAlign:$}=_;if(T&&B){let W=T.getBBox(void 0,0),X=T.padding,J=Nu(R.overflow,"justify")==="justify",K;_.x=R.x||0,_.y=R.y||0;let{x:ee,y:te}=this.adjustStackPosition({labelBox:W,verticalAlign:$,textAlign:V});B.x-=ee,B.y-=te,T.align(_,!1,B),(K=M.isInsidePlot(T.alignAttr.x+_.x+ee,T.alignAttr.y+_.y+te))||(J=!1),J&&vL.prototype.justifyDataLabel.call(C,T,_,T.alignAttr,W,B),T.attr({x:T.alignAttr.x,y:T.alignAttr.y,rotation:R.rotation,rotationOriginX:W.width*fy(R.textAlign||"center"),rotationOriginY:W.height/2}),Nu(!J&&R.crop,!0)&&(K=py(T.x)&&py(T.y)&&M.isInsidePlot(T.x-X+(T.width||0),T.y)&&M.isInsidePlot(T.x+X,T.y)),T[K?"show":"hide"]()}wC(this,"afterSetOffset",{xOffset:P,width:o})}adjustStackPosition({labelBox:P,verticalAlign:o,textAlign:l}){return{x:P.width/2+P.width/2*(2*fy(l)-1),y:P.height/2*2*(1-fy(o))}}getStackBox(P){let o=this.axis,l=o.chart,{boxTop:u,defaultX:p,xOffset:g,width:_,boxBottom:C}=P,T=o.stacking.usePercentage?100:Nu(u,this.total,0),R=o.toPixels(T),V=P.xAxis||l.xAxis[0],M=Nu(p,V.translate(this.x))+g,B=Math.abs(R-o.toPixels(C||py(o.min)&&o.logarithmic&&o.logarithmic.lin2log(o.min)||0)),$=l.inverted,W=this.isNegative;return $?{x:(W?R:R-B)-l.plotLeft,y:V.height-M-_+V.top-l.plotTop,width:B,height:_}:{x:M+V.transB-l.plotLeft,y:(W?R-B:R)-l.plotTop,width:_,height:B}}},{getDeferredAnimation:_L}=Cn,{series:{prototype:wL}}=An,{addEvent:xC,correctFloat:Lu,defined:EC,destroyObjectProperties:CL,fireEvent:xL,isNumber:my,objectEach:Va,pick:gy}=Pe;function EL(){let P=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let l=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,gy(o.options.stack,""),P?l.top:l.left,P?l.height:l.width].join(","))})}function TL(){var o;let P=this.stacking;if(P){let l=P.stacks;Va(l,(u,p)=>{CL(u),delete l[p]}),(o=P.stackTotalGroup)==null||o.destroy()}}function SL(){this.stacking||(this.stacking=new OL(this))}function kL(P,o,l,u){return!EC(P)||P.x!==o||u&&P.stackKey!==u?P={x:o,index:0,key:u,stackKey:u}:P.index++,P.key=[l,o,P.index].join(","),P}function IL(){let P,o=this,l=o.yAxis,u=o.stackKey||"",p=l.stacking.stacks,g=o.getColumn("x",!0),_=o.options.stacking,C=o[_+"Stacker"];C&&[u,"-"+u].forEach(T=>{var $;let R=g.length,V,M,B;for(;R--;)V=g[R],P=o.getStackIndicator(P,V,o.index,T),M=($=p[T])==null?void 0:$[V],(B=M==null?void 0:M.points[P.key||""])&&C.call(o,B,M,R)})}function AL(P,o,l){let u=o.total?100/o.total:0;P[0]=Lu(P[0]*u),P[1]=Lu(P[1]*u),this.stackedYData[l]=P[1]}function PL(P){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?wL.setStackedPoints.call(this,P,"group"):P.stacking.resetStacks())}function RL(P,o){var de,me;let l,u,p,g,_,C,T,R=o||this.options.stacking;if(!R||!this.reserveSpace()||({group:"xAxis"}[R]||"yAxis")!==P.coll)return;let V=this.getColumn("x",!0),M=this.getColumn(this.pointValKey||"y",!0),B=[],$=M.length,W=this.options,X=W.threshold||0,J=W.startFromThreshold?X:0,K=W.stack,ee=o?`${this.type},${R}`:this.stackKey||"",te="-"+ee,le=this.negStacks,he=P.stacking,ue=he.stacks,fe=he.oldStacks;for(he.stacksTouched+=1,T=0;T<$;T++){let Te=V[T]||0,ke=M[T],Be=my(ke)&&ke||0;C=(l=this.getStackIndicator(l,Te,this.index)).key||"",ue[_=(u=le&&Be<(J?0:X))?te:ee]||(ue[_]={}),ue[_][Te]||((de=fe[_])!=null&&de[Te]?(ue[_][Te]=fe[_][Te],ue[_][Te].total=null):ue[_][Te]=new CC(P,P.options.stackLabels,!!u,Te,K)),p=ue[_][Te],ke!==null?(p.points[C]=p.points[this.index]=[gy(p.cumulative,J)],EC(p.cumulative)||(p.base=C),p.touched=he.stacksTouched,l.index>0&&this.singleStacks===!1&&(p.points[C][0]=p.points[this.index+","+Te+",0"][0])):(delete p.points[C],delete p.points[this.index]);let Ee=p.total||0;R==="percent"?(g=u?ee:te,Ee=le&&((me=ue[g])!=null&&me[Te])?(g=ue[g][Te]).total=Math.max(g.total||0,Ee)+Math.abs(Be):Lu(Ee+Math.abs(Be))):R==="group"?my(ke)&&Ee++:Ee=Lu(Ee+Be),R==="group"?p.cumulative=(Ee||1)-1:p.cumulative=Lu(gy(p.cumulative,J)+Be),p.total=Ee,ke!==null&&(p.points[C].push(p.cumulative),B[T]=p.cumulative,p.hasValidPoints=!0)}R==="percent"&&(he.usePercentage=!0),R!=="group"&&(this.stackedYData=B),he.oldStacks={}}class OL{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,l,u=this.axis,p=u.series,g=u.coll==="xAxis",_=u.options.reversedStacks,C=p.length;for(this.resetStacks(),this.usePercentage=!1,l=C;l--;)o=p[_?l:C-l-1],g&&o.setGroupedPoints(u),o.setStackedPoints(u);if(!g)for(l=0;l<C;l++)p[l].modifyStacks();xL(u,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Va(this.stacks,o=>{Va(o,l=>{l.cumulative=l.total})}))}resetStacks(){Va(this.stacks,o=>{Va(o,(l,u)=>{my(l.touched)&&l.touched<this.stacksTouched?(l.destroy(),delete o[u]):(l.total=null,l.cumulative=null)})})}renderStackTotals(){var C;let o=this.axis,l=o.chart,u=l.renderer,p=this.stacks,g=_L(l,((C=o.options.stackLabels)==null?void 0:C.animation)||!1),_=this.stackTotalGroup=this.stackTotalGroup||u.g("stack-labels").attr({zIndex:6,opacity:0}).add();_.translate(l.plotLeft,l.plotTop),Va(p,T=>{Va(T,R=>{R.render(_)})}),_.animate({opacity:1},g)}}(y||(y={})).compose=function(P,o,l){let u=o.prototype,p=l.prototype;u.getStacks||(xC(P,"init",SL),xC(P,"destroy",TL),u.getStacks=EL,p.getStackIndicator=kL,p.modifyStacks=IL,p.percentStacker=AL,p.setGroupedPoints=PL,p.setStackedPoints=RL)};let ML=y,{defined:DL,merge:TC,isObject:NL}=Pe;class SC extends os{drawGraph(){let o=this.options,l=(this.gappedPath||this.getGraphPath).call(this),u=this.chart.styledMode;[this,...this.zones].forEach((p,g)=>{let _,C=p.graph,T=C?"animate":"attr",R=p.dashStyle||o.dashStyle;C?(C.endX=this.preventGraphAnimation?null:l.xMap,C.animate({d:l})):l.length&&(p.graph=C=this.chart.renderer.path(l).addClass("highcharts-graph"+(g?` highcharts-zone-graph-${g-1} `:" ")+(g&&p.className||"")).attr({zIndex:1}).add(this.group)),C&&!u&&(_={stroke:!g&&o.lineColor||p.color||this.color||"#cccccc","stroke-width":o.lineWidth||0,fill:this.fillGraph&&this.color||"none"},R?_.dashstyle=R:o.linecap!=="square"&&(_["stroke-linecap"]=_["stroke-linejoin"]="round"),C[T](_).shadow(o.shadow&&TC({filterUnits:"userSpaceOnUse"},NL(o.shadow)?o.shadow:{}))),C&&(C.startX=l.xMap,C.isArea=l.isArea)})}getGraphPath(o,l,u){let p=this,g=p.options,_=[],C=[],T,R=g.step,V=(o=o||p.points).reversed;return V&&o.reverse(),(R={right:1,center:2}[R]||R&&3)&&V&&(R=4-R),(o=this.getValidPoints(o,!1,!(g.connectNulls&&!l&&!u))).forEach(function(M,B){let $,W=M.plotX,X=M.plotY,J=o[B-1],K=M.isNull||typeof X!="number";(M.leftCliff||J&&J.rightCliff)&&!u&&(T=!0),K&&!DL(l)&&B>0?T=!g.connectNulls:K&&!l?T=!0:(B===0||T?$=[["M",M.plotX,M.plotY]]:p.getPointSpline?$=[p.getPointSpline(o,M,B)]:R?($=R===1?[["L",J.plotX,X]]:R===2?[["L",(J.plotX+W)/2,J.plotY],["L",(J.plotX+W)/2,X]]:[["L",W,J.plotY]]).push(["L",W,X]):$=[["L",W,X]],C.push(M.x),R&&(C.push(M.x),R===2&&C.push(M.x)),_.push.apply(_,$),T=!1)}),_.xMap=C,p.graphPath=_,_}}SC.defaultOptions=TC(os.defaultOptions,{legendSymbol:"lineMarker"}),An.registerSeriesType("line",SC);let{seriesTypes:{line:yy}}=An,{extend:LL,merge:VL,objectEach:FL,pick:Tf}=Pe;class vy extends yy{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:o,options:l}=this;[this,...this.zones].forEach((u,p)=>{let g={},_=u.fillColor||l.fillColor,C=u.area,T=C?"animate":"attr";C?(C.endX=this.preventGraphAnimation?null:o.xMap,C.animate({d:o})):(g.zIndex=0,(C=u.area=this.chart.renderer.path(o).addClass("highcharts-area"+(p?` highcharts-zone-area-${p-1} `:" ")+(p&&u.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(g.fill=_||u.color||this.color,g["fill-opacity"]=_?1:l.fillOpacity??.75,C.css({pointerEvents:this.stickyTracking?"none":"auto"})),C[T](g),C.startX=o.xMap,C.shiftUnit=l.step?2:1})}getGraphPath(o){let l,u,p,g=yy.prototype.getGraphPath,_=this.options,C=_.stacking,T=this.yAxis,R=[],V=[],M=this.index,B=T.stacking.stacks[this.stackKey],$=_.threshold,W=Math.round(T.getThreshold(_.threshold)),X=Tf(_.connectNulls,C==="percent"),J=function(ue,fe,de){let me=o[ue],Te=C&&B[me.x].points[M],ke=me[de+"Null"]||0,Be=me[de+"Cliff"]||0,Ee,Ve,tt=!0;Be||ke?(Ee=(ke?Te[0]:Te[1])+Be,Ve=Te[0]+Be,tt=!!ke):!C&&o[fe]&&o[fe].isNull&&(Ee=Ve=$),Ee!==void 0&&(V.push({plotX:l,plotY:Ee===null?W:T.getThreshold(Ee),isNull:tt,isCliff:!0}),R.push({plotX:l,plotY:Ve===null?W:T.getThreshold(Ve),doCurve:!1}))};o=o||this.points,C&&(o=this.getStackPoints(o));for(let ue=0,fe=o.length;ue<fe;++ue)C||(o[ue].leftCliff=o[ue].rightCliff=o[ue].leftNull=o[ue].rightNull=void 0),u=o[ue].isNull,l=Tf(o[ue].rectPlotX,o[ue].plotX),p=C?Tf(o[ue].yBottom,W):W,u&&!X||(X||J(ue,ue-1,"left"),u&&!C&&X||(V.push(o[ue]),R.push({x:ue,plotX:l,plotY:p})),X||J(ue,ue+1,"right"));let K=g.call(this,V,!0,!0);R.reversed=!0;let ee=g.call(this,R,!0,!0),te=ee[0];te&&te[0]==="M"&&(ee[0]=["L",te[1],te[2]]);let le=K.concat(ee);le.length&&le.push(["Z"]);let he=g.call(this,V,!1,X);return this.chart.series.length>1&&C&&V.some(ue=>ue.isCliff)&&(le.hasStackedCliffs=he.hasStackedCliffs=!0),le.xMap=K.xMap,this.areaPath=le,he}getStackPoints(o){let l=this,u=[],p=[],g=this.xAxis,_=this.yAxis,C=_.stacking.stacks[this.stackKey],T={},R=_.series,V=R.length,M=_.options.reversedStacks?1:-1,B=R.indexOf(l);if(o=o||this.points,this.options.stacking){for(let W=0;W<o.length;W++)o[W].leftNull=o[W].rightNull=void 0,T[o[W].x]=o[W];FL(C,function(W,X){W.total!==null&&p.push(X)}),p.sort(function(W,X){return W-X});let $=R.map(W=>W.visible);p.forEach(function(W,X){let J=0,K,ee;if(T[W]&&!T[W].isNull)u.push(T[W]),[-1,1].forEach(function(te){let le=te===1?"rightNull":"leftNull",he=C[p[X+te]],ue=0;if(he){let fe=B;for(;fe>=0&&fe<V;){let de=R[fe].index;!(K=he.points[de])&&(de===l.index?T[W][le]=!0:$[fe]&&(ee=C[W].points[de])&&(ue-=ee[1]-ee[0])),fe+=M}}T[W][te===1?"rightCliff":"leftCliff"]=ue});else{let te=B;for(;te>=0&&te<V;){let le=R[te].index;if(K=C[W].points[le]){J=K[1];break}te+=M}J=Tf(J,0),J=_.translate(J,0,1,0,1),u.push({isNull:!0,plotX:g.translate(W,0,0,0,1),x:W,plotY:J,yBottom:J})}})}return u}}vy.defaultOptions=VL(yy.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),LL(vy.prototype,{singleStacks:!1}),An.registerSeriesType("area",vy);let{line:kC}=An.seriesTypes,{merge:BL,pick:Sf}=Pe;class by extends kC{getPointSpline(o,l,u){let p,g,_,C,T=l.plotX||0,R=l.plotY||0,V=o[u-1],M=o[u+1];function B(W){return W&&!W.isNull&&W.doCurve!==!1&&!l.isCliff}if(B(V)&&B(M)){let W=V.plotX||0,X=V.plotY||0,J=M.plotX||0,K=M.plotY||0,ee=0;p=(1.5*T+W)/2.5,g=(1.5*R+X)/2.5,_=(1.5*T+J)/2.5,C=(1.5*R+K)/2.5,_!==p&&(ee=(C-g)*(_-T)/(_-p)+R-C),g+=ee,C+=ee,g>X&&g>R?(g=Math.max(X,R),C=2*R-g):g<X&&g<R&&(g=Math.min(X,R),C=2*R-g),C>K&&C>R?(C=Math.max(K,R),g=2*R-C):C<K&&C<R&&(C=Math.min(K,R),g=2*R-C),l.rightContX=_,l.rightContY=C,l.controlPoints={low:[p,g],high:[_,C]}}let $=["C",Sf(V.rightContX,V.plotX,0),Sf(V.rightContY,V.plotY,0),Sf(p,T,0),Sf(g,R,0),T,R];return V.rightContX=V.rightContY=void 0,$}}by.defaultOptions=BL(kC.defaultOptions),An.registerSeriesType("spline",by);let IC=by,{area:UL,area:{prototype:_y}}=An.seriesTypes,{extend:jL,merge:HL}=Pe;class wy extends IC{}wy.defaultOptions=HL(IC.defaultOptions,UL.defaultOptions),jL(wy.prototype,{getGraphPath:_y.getGraphPath,getStackPoints:_y.getStackPoints,drawGraph:_y.drawGraph}),An.registerSeriesType("areaspline",wy);let{animObject:$L}=Cn,{parse:zL}=In,{noop:WL}=S,{clamp:kf,crisp:If,defined:AC,extend:PC,fireEvent:RC,isArray:OC,isNumber:Af,merge:Cy,pick:Nl,objectEach:GL}=Pe;class Pf extends os{animate(o){let l,u,p=this,g=this.yAxis,_=g.pos,C=g.reversed,T=p.options,{clipOffset:R,inverted:V}=this.chart,M={},B=V?"translateX":"translateY";o&&R?(M.scaleY=.001,u=kf(g.toPixels(T.threshold||0),_,_+g.len),V?(u+=C?-Math.floor(R[0]):Math.ceil(R[2]),M.translateX=u-g.len):(u+=C?Math.ceil(R[0]):-Math.floor(R[2]),M.translateY=u),p.clipBox&&p.setClip(),p.group.attr(M)):(l=Number(p.group.attr(B)),p.group.animate({scaleY:1},PC($L(p.options.animation),{step:function($,W){p.group&&(M[B]=l+W.pos*(_-l),p.group.attr(M))}})))}init(o,l){super.init.apply(this,arguments);let u=this;(o=u.chart).hasRendered&&o.series.forEach(function(p){p.type===u.type&&(p.isDirty=!0)})}getColumnMetrics(){var X,J;let o=this,l=o.options,u=o.xAxis,p=o.yAxis,g=u.options.reversedStacks,_=u.reversed&&!g||!u.reversed&&g,C={},T,R=0;l.grouping===!1?R=1:o.chart.series.forEach(function(K){let ee,te=K.yAxis,le=K.options;K.type===o.type&&K.reserveSpace()&&p.len===te.len&&p.pos===te.pos&&(le.stacking&&le.stacking!=="group"?(C[T=K.stackKey]===void 0&&(C[T]=R++),ee=C[T]):le.grouping!==!1&&(ee=R++),K.columnIndex=ee)});let V=Math.min(Math.abs(u.transA)*(!((X=u.brokenAxis)!=null&&X.hasBreaks)&&((J=u.ordinal)==null?void 0:J.slope)||l.pointRange||u.closestPointRange||u.tickInterval||1),u.len),M=V*l.groupPadding,B=(V-2*M)/(R||1),$=Math.min(l.maxPointWidth||u.len,Nl(l.pointWidth,B*(1-2*l.pointPadding))),W=(o.columnIndex||0)+(_?1:0);return o.columnMetrics={width:$,offset:(B-$)/2+(M+W*B-V/2)*(_?-1:1),paddedWidth:B,columnCount:R},o.columnMetrics}crispCol(o,l,u,p){let g=this.borderWidth,_=this.chart.inverted;return p=If(l+p,g,_)-(l=If(l,g,_)),this.options.crisp&&(u=If(o+u,g)-(o=If(o,g))),{x:o,y:l,width:u,height:p}}adjustForMissingColumns(o,l,u,p){var g;if(!u.isNull&&p.columnCount>1){let _=this.xAxis.series.filter(V=>V.visible).map(V=>V.index),C=0,T=0;GL((g=this.xAxis.stacking)==null?void 0:g.stacks,V=>{var W;let M=typeof u.x=="number"?(W=V[u.x.toString()])==null?void 0:W.points:void 0,B=M==null?void 0:M[this.index],$={};if(M&&OC(B)){let X=this.index,J=Object.keys(M).filter(K=>!K.match(",")&&M[K]&&M[K].length>1).map(parseFloat).filter(K=>_.indexOf(K)!==-1).filter(K=>{let ee=this.chart.series[K].options,te=ee.stacking&&ee.stack;if(AC(te)){if(Af($[te]))return X===K&&(X=$[te]),!1;$[te]=K}return!0}).sort((K,ee)=>ee-K);C=J.indexOf(X),T=J.length}}),C=this.xAxis.reversed?T-1-C:C;let R=(T-1)*p.paddedWidth+l;o=(u.plotX||0)+R/2-l-C*p.paddedWidth}return o}translate(){let o=this,l=o.chart,u=o.options,p=o.dense=o.closestPointRange*o.xAxis.transA<2,g=o.borderWidth=Nl(u.borderWidth,p?0:1),_=o.xAxis,C=o.yAxis,T=u.threshold,R=Nl(u.minPointLength,5),V=o.getColumnMetrics(),M=V.width,B=o.pointXOffset=V.offset,$=o.dataMin,W=o.dataMax,X=o.translatedThreshold=C.getThreshold(T),J=o.barW=Math.max(M,1+2*g);u.pointPadding&&u.crisp&&(J=Math.ceil(J)),os.prototype.translate.apply(o),o.points.forEach(function(K){let ee=Nl(K.yBottom,X),te=999+Math.abs(ee),le=K.plotX||0,he=kf(K.plotY,-te,C.len+te),ue,fe=Math.min(he,ee),de=Math.max(he,ee)-fe,me=M,Te=le+B,ke=J;R&&Math.abs(de)<R&&(de=R,ue=!C.reversed&&!K.negative||C.reversed&&K.negative,Af(T)&&Af(W)&&K.y===T&&W<=T&&(C.min||0)<T&&($!==W||(C.max||0)<=T)&&(ue=!ue,K.negative=!K.negative),fe=Math.abs(fe-X)>R?ee-R:X-(ue?R:0)),AC(K.options.pointWidth)&&(Te-=Math.round(((me=ke=Math.ceil(K.options.pointWidth))-M)/2)),u.centerInCategory&&(Te=o.adjustForMissingColumns(Te,me,K,V)),K.barX=Te,K.pointWidth=me,K.tooltipPos=l.inverted?[kf(C.len+C.pos-l.plotLeft-he,C.pos-l.plotLeft,C.len+C.pos-l.plotLeft),_.len+_.pos-l.plotTop-Te-ke/2,de]:[_.left-l.plotLeft+Te+ke/2,kf(he+C.pos-l.plotTop,C.pos-l.plotTop,C.len+C.pos-l.plotTop),de],K.shapeType=o.pointClass.prototype.shapeType||"roundedRect",K.shapeArgs=o.crispCol(Te,K.isNull?X:fe,ke,K.isNull?0:de)}),RC(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(o,l){let u=this.options,p=this.pointAttrToOptions||{},g=p.stroke||"borderColor",_=p["stroke-width"]||"borderWidth",C,T,R,V=o&&o.color||this.color,M=o&&o[g]||u[g]||V,B=o&&o.options.dashStyle||u.dashStyle,$=o&&o[_]||u[_]||this[_]||0,W=Nl(o&&o.opacity,u.opacity,1);o&&this.zones.length&&(T=o.getZone(),V=o.options.color||T&&(T.color||o.nonZonedColor)||this.color,T&&(M=T.borderColor||M,B=T.dashStyle||B,$=T.borderWidth||$)),l&&o&&(R=(C=Cy(u.states[l],o.options.states&&o.options.states[l]||{})).brightness,V=C.color||R!==void 0&&zL(V).brighten(C.brightness).get()||V,M=C[g]||M,$=C[_]||$,B=C.dashStyle||B,W=Nl(C.opacity,W));let X={fill:V,stroke:M,"stroke-width":$,opacity:W};return B&&(X.dashstyle=B),X}drawPoints(o=this.points){let l,u=this,p=this.chart,g=u.options,_=p.renderer,C=g.animationLimit||250;o.forEach(function(T){let R=T.plotY,V=T.graphic,M=!!V,B=V&&p.pointCount<C?"animate":"attr";Af(R)&&T.y!==null?(l=T.shapeArgs,V&&T.hasNewShapeType()&&(V=V.destroy()),u.enabledDataSorting&&(T.startXPos=u.xAxis.reversed?-(l&&l.width||0):u.xAxis.width),!V&&(T.graphic=V=_[T.shapeType](l).add(T.group||u.group),V&&u.enabledDataSorting&&p.hasRendered&&p.pointCount<C&&(V.attr({x:T.startXPos}),M=!0,B="animate")),V&&M&&V[B](Cy(l)),p.styledMode||V[B](u.pointAttribs(T,T.selected&&"select")).shadow(T.allowShadow!==!1&&g.shadow),V&&(V.addClass(T.getClassName(),!0),V.attr({visibility:T.visible?"inherit":"hidden"}))):V&&(T.graphic=V.destroy())})}drawTracker(o=this.points){let l,u=this,p=u.chart,g=p.pointer,_=function(C){g==null||g.normalize(C);let T=g==null?void 0:g.getPointFromEvent(C),R=!p.scrollablePlotArea||p.isInsidePlot(C.chartX-p.plotLeft,C.chartY-p.plotTop,{visiblePlotOnly:!0});g&&T&&u.options.enableMouseTracking&&R&&(g.isDirectTouch=!0,T.onMouseOver(C))};o.forEach(function(C){l=OC(C.dataLabels)?C.dataLabels:C.dataLabel?[C.dataLabel]:[],C.graphic&&(C.graphic.element.point=C),l.forEach(function(T){(T.div||T.element).point=C})}),u._hasTracking||(u.trackerGroups.forEach(function(C){u[C]&&(u[C].addClass("highcharts-tracker").on("mouseover",_).on("mouseout",function(T){g==null||g.onTrackerMouseOut(T)}).on("touchstart",_),!p.styledMode&&u.options.cursor&&u[C].css({cursor:u.options.cursor}))}),u._hasTracking=!0),RC(this,"afterDrawTracker")}remove(){let o=this,l=o.chart;l.hasRendered&&l.series.forEach(function(u){u.type===o.type&&(u.isDirty=!0)}),os.prototype.remove.apply(o,arguments)}}Pf.defaultOptions=Cy(os.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),PC(Pf.prototype,{directTouch:!0,getSymbol:WL,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),An.registerSeriesType("column",Pf);let Rf=Pf,{getDeferredAnimation:qL}=Cn,{format:KL}=Wi,{defined:Fa,extend:MC,fireEvent:xy,getAlignFactor:DC,isArray:Fo,isString:Ey,merge:Vu,objectEach:YL,pick:Fu,pInt:XL,splat:NC}=Pe;(function(P){function o(){return T(this).some(V=>V==null?void 0:V.enabled)}function l(V,M,B,$,W){var Te;let{chart:X,enabledDataSorting:J}=this,K=this.isCartesian&&X.inverted,ee=V.plotX,te=V.plotY,le=B.rotation||0,he=Fa(ee)&&Fa(te)&&X.isInsidePlot(ee,Math.round(te),{inverted:K,paneCoordinates:!0,series:this}),ue=le===0&&Fu(B.overflow,J?"none":"justify")==="justify",fe=this.visible&&V.visible!==!1&&Fa(ee)&&(V.series.forceDL||J&&!ue||he||Fu(B.inside,!!this.options.stacking)&&$&&X.isInsidePlot(ee,K?$.x+1:$.y+$.height-1,{inverted:K,paneCoordinates:!0,series:this})),de=V.pos();if(fe&&de){var me;let ke=M.getBBox(),Be=M.getBBox(void 0,0);if($=MC({x:de[0],y:Math.round(de[1]),width:0,height:0},$||{}),B.alignTo==="plotEdges"&&this.isCartesian&&($[K?"x":"y"]=0,$[K?"width":"height"]=((Te=this.yAxis)==null?void 0:Te.len)||0),MC(B,{width:ke.width,height:ke.height}),me=$,J&&this.xAxis&&!ue&&this.setDataLabelStartPos(V,M,W,he,me),M.align(Vu(B,{width:Be.width,height:Be.height}),!1,$,!1),M.alignAttr.x+=DC(B.align)*(Be.width-ke.width),M.alignAttr.y+=DC(B.verticalAlign)*(Be.height-ke.height),M.attr({"text-align":M.alignAttr["text-align"]||"center"})[M.placed?"animate":"attr"]({x:M.alignAttr.x+(ke.width-Be.width)/2,y:M.alignAttr.y+(ke.height-Be.height)/2,rotationOriginX:(M.width||0)/2,rotationOriginY:(M.height||0)/2}),ue&&$.height>=0)this.justifyDataLabel(M,B,M.alignAttr,ke,$,W);else if(Fu(B.crop,!0)){let{x:Ee,y:Ve}=M.alignAttr;fe=X.isInsidePlot(Ee,Ve,{paneCoordinates:!0,series:this})&&X.isInsidePlot(Ee+ke.width-1,Ve+ke.height-1,{paneCoordinates:!0,series:this})}B.shape&&!le&&M[W?"attr":"animate"]({anchorX:de[0],anchorY:de[1]})}W&&J&&(M.placed=!1),fe||J&&!ue?(M.show(),M.placed=!0):(M.hide(),M.placed=!1)}function u(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function p(V){let M=this.hasRendered||0,B=this.initDataLabelsGroup().attr({opacity:+M});return!M&&B&&(this.visible&&B.show(),this.options.animation?B.animate({opacity:1},V):B.attr({opacity:1})),B}function g(V){var fe;let M;V=V||this.points;let B=this,$=B.chart,W=B.options,X=$.renderer,{backgroundColor:J,plotBackgroundColor:K}=$.options.chart,ee=X.getContrast(Ey(K)&&K||Ey(J)&&J||"#000000"),te=T(B),{animation:le,defer:he}=te[0],ue=he?qL($,le,B):{defer:0,duration:0};xy(this,"drawDataLabels"),(fe=B.hasDataLabels)!=null&&fe.call(B)&&(M=this.initDataLabels(ue),V.forEach(de=>{var ke,Be;let me=de.dataLabels||[];NC(C(te,de.dlOptions||((ke=de.options)==null?void 0:ke.dataLabels))).forEach((Ee,Ve)=>{let tt=Ee.enabled&&(de.visible||de.dataLabelOnHidden)&&(!de.isNull||de.dataLabelOnNull)&&function(wi,jn){let hi=jn.filter;if(hi){let Hn=hi.operator,Sn=wi[hi.property],Qn=hi.value;return Hn===">"&&Sn>Qn||Hn==="<"&&Sn<Qn||Hn===">="&&Sn>=Qn||Hn==="<="&&Sn<=Qn||Hn==="=="&&Sn==Qn||Hn==="==="&&Sn===Qn||Hn==="!="&&Sn!=Qn||Hn==="!=="&&Sn!==Qn}return!0}(de,Ee),{backgroundColor:wt,borderColor:Qe,distance:yt,style:Xe={}}=Ee,it,ft,Kt,ln={},kt=me[Ve],Ot=!kt,en;tt&&(ft=Fa(it=Fu(Ee[de.formatPrefix+"Format"],Ee.format))?KL(it,de,$):(Ee[de.formatPrefix+"Formatter"]||Ee.formatter).call(de,Ee),Kt=Ee.rotation,!$.styledMode&&(Xe.color=Fu(Ee.color,Xe.color,Ey(B.color)?B.color:void 0,"#000000"),Xe.color==="contrast"?(wt!=="none"&&(en=wt),de.contrastColor=X.getContrast(en!=="auto"&&en||de.color||B.color),Xe.color=en||!Fa(yt)&&Ee.inside||0>XL(yt||0)||W.stacking?de.contrastColor:ee):delete de.contrastColor,W.cursor&&(Xe.cursor=W.cursor)),ln={r:Ee.borderRadius||0,rotation:Kt,padding:Ee.padding,zIndex:1},$.styledMode||(ln.fill=wt==="auto"?de.color:wt,ln.stroke=Qe==="auto"?de.color:Qe,ln["stroke-width"]=Ee.borderWidth),YL(ln,(wi,jn)=>{wi===void 0&&delete ln[jn]})),!kt||tt&&Fa(ft)&&!!kt.div==!!Ee.useHTML&&(kt.rotation&&Ee.rotation||kt.rotation===Ee.rotation)||(kt=void 0,Ot=!0),tt&&Fa(ft)&&(kt?ln.text=ft:(kt=X.label(ft,0,0,Ee.shape,void 0,void 0,Ee.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+de.colorIndex+" "+(Ee.className||"")+(Ee.useHTML?" highcharts-tracker":"")),kt&&(kt.options=Ee,kt.attr(ln),$.styledMode?Xe.width&&kt.css({width:Xe.width,textOverflow:Xe.textOverflow,whiteSpace:Xe.whiteSpace}):kt.css(Xe).shadow(Ee.shadow),xy(kt,"beforeAddingDataLabel",{labelOptions:Ee,point:de}),kt.added||kt.add(M),B.alignDataLabel(de,kt,Ee,void 0,Ot),kt.isActive=!0,me[Ve]&&me[Ve]!==kt&&me[Ve].destroy(),me[Ve]=kt))});let Te=me.length;for(;Te--;)me[Te]&&me[Te].isActive?me[Te].isActive=!1:((Be=me[Te])==null||Be.destroy(),me.splice(Te,1));de.dataLabel=me[0],de.dataLabels=me})),xy(this,"afterDrawDataLabels")}function _(V,M,B,$,W,X){let J=this.chart,K=M.align,ee=M.verticalAlign,te=V.box?0:V.padding||0,le=J.inverted?this.yAxis:this.xAxis,he=le?le.left-J.plotLeft:0,ue=J.inverted?this.xAxis:this.yAxis,fe=ue?ue.top-J.plotTop:0,{x:de=0,y:me=0}=M,Te,ke;return(Te=(B.x||0)+te+he)<0&&(K==="right"&&de>=0?(M.align="left",M.inside=!0):de-=Te,ke=!0),(Te=(B.x||0)+$.width-te+he)>J.plotWidth&&(K==="left"&&de<=0?(M.align="right",M.inside=!0):de+=J.plotWidth-Te,ke=!0),(Te=B.y+te+fe)<0&&(ee==="bottom"&&me>=0?(M.verticalAlign="top",M.inside=!0):me-=Te,ke=!0),(Te=(B.y||0)+$.height-te+fe)>J.plotHeight&&(ee==="top"&&me<=0?(M.verticalAlign="bottom",M.inside=!0):me+=J.plotHeight-Te,ke=!0),ke&&(M.x=de,M.y=me,V.placed=!X,V.align(M,void 0,W)),ke}function C(V,M){let B=[],$;if(Fo(V)&&!Fo(M))B=V.map(function(W){return Vu(W,M)});else if(Fo(M)&&!Fo(V))B=M.map(function(W){return Vu(V,W)});else if(Fo(V)||Fo(M)){if(Fo(V)&&Fo(M))for($=Math.max(V.length,M.length);$--;)B[$]=Vu(V[$],M[$])}else B=Vu(V,M);return B}function T(V){var B,$;let M=V.chart.options.plotOptions;return NC(C(C((B=M==null?void 0:M.series)==null?void 0:B.dataLabels,($=M==null?void 0:M[V.type])==null?void 0:$.dataLabels),V.options.dataLabels))}function R(V,M,B,$,W){let X=this.chart,J=X.inverted,K=this.xAxis,ee=K.reversed,te=((J?M.height:M.width)||0)/2,le=V.pointWidth,he=le?le/2:0;M.startXPos=J?W.x:ee?-te-he:K.width-te+he,M.startYPos=J?ee?this.yAxis.height-te+he:-te-he:W.y,$?M.visibility==="hidden"&&(M.show(),M.attr({opacity:0}).animate({opacity:1})):M.attr({opacity:1}).animate({opacity:0},void 0,M.hide),X.hasRendered&&(B&&M.attr({x:M.startXPos,y:M.startYPos}),M.placed=!0)}P.compose=function(V){let M=V.prototype;M.initDataLabels||(M.initDataLabels=p,M.initDataLabelsGroup=u,M.alignDataLabel=l,M.drawDataLabels=g,M.justifyDataLabel=_,M.setDataLabelStartPos=R,M.hasDataLabels=o)}})(v||(v={}));let Of=v,{composed:JL}=S,{series:LC}=An,{merge:QL,pick:Bu,pushUnique:ZL}=Pe;(function(P){function o(l,u,p,g,_){let C=this.chart.inverted,T=l.series,R=(T.xAxis?T.xAxis.len:this.chart.plotSizeX)||0,V=(T.yAxis?T.yAxis.len:this.chart.plotSizeY)||0,M=l.dlBox||l.shapeArgs,B=Bu(l.below,l.plotY>Bu(this.translatedThreshold,V)),$=Bu(p.inside,!!this.options.stacking);if(M){if(g=QL(M),!(p.overflow==="allow"&&p.crop===!1)){g.y<0&&(g.height+=g.y,g.y=0);let W=g.y+g.height-V;W>0&&W<g.height-1&&(g.height-=W)}C&&(g={x:V-g.y-g.height,y:R-g.x-g.width,width:g.height,height:g.width}),$||(C?(g.x+=B?0:g.width,g.width=0):(g.y+=B?g.height:0,g.height=0))}p.align=Bu(p.align,!C||$?"center":B?"right":"left"),p.verticalAlign=Bu(p.verticalAlign,C||$?"middle":B?"top":"bottom"),LC.prototype.alignDataLabel.call(this,l,u,p,g,_),p.inside&&l.contrastColor&&u.css({color:l.contrastColor})}P.compose=function(l){Of.compose(LC),ZL(JL,"ColumnDataLabel")&&(l.prototype.alignDataLabel=o)}})(x||(x={}));let eV=x,{extend:tV,merge:nV}=Pe;class Ty extends Rf{}Ty.defaultOptions=nV(Rf.defaultOptions,{}),tV(Ty.prototype,{inverted:!0}),An.registerSeriesType("bar",Ty);let{column:iV,line:VC}=An.seriesTypes,{addEvent:sV,extend:rV,merge:oV}=Pe;class Mf extends VC{applyJitter(){let o=this,l=this.options.jitter,u=this.points.length;l&&this.points.forEach(function(p,g){["x","y"].forEach(function(_,C){if(l[_]&&!p.isNull){let T=`plot${_.toUpperCase()}`,R=o[`${_}Axis`],V=l[_]*R.transA;if(R&&!R.logarithmic){let M=Math.max(0,(p[T]||0)-V),B=Math.min(R.len,(p[T]||0)+V);p[T]=M+(B-M)*function($){let W=1e4*Math.sin($);return W-Math.floor(W)}(g+C*u),_==="x"&&(p.clientX=p.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Mf.defaultOptions=oV(VC.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),rV(Mf.prototype,{drawTracker:iV.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),sV(Mf,"afterTranslate",function(){this.applyJitter()}),An.registerSeriesType("scatter",Mf);let{deg2rad:FC}=S,{fireEvent:aV,isNumber:Sy,pick:Df,relativeLength:lV}=Pe;(function(P){P.getCenter=function(){let o=this.options,l=this.chart,u=2*(o.slicedOffset||0),p=l.plotWidth-2*u,g=l.plotHeight-2*u,_=o.center,C=Math.min(p,g),T=o.thickness,R,V=o.size,M=o.innerSize||0,B,$;typeof V=="string"&&(V=parseFloat(V)),typeof M=="string"&&(M=parseFloat(M));let W=[Df(_==null?void 0:_[0],"50%"),Df(_==null?void 0:_[1],"50%"),Df(V&&V<0?void 0:o.size,"100%"),Df(M&&M<0?void 0:o.innerSize||0,"0%")];for(!l.angular||this instanceof os||(W[3]=0),B=0;B<4;++B)$=W[B],R=B<2||B===2&&/%$/.test($),W[B]=lV($,[p,g,C,W[2]][B])+(R?u:0);return W[3]>W[2]&&(W[3]=W[2]),Sy(T)&&2*T<W[2]&&T>0&&(W[3]=W[2]-2*T),aV(this,"afterGetCenter",{positions:W}),W},P.getStartAndEndRadians=function(o,l){let u=Sy(o)?o:0,p=Sy(l)&&l>u&&l-u<360?l:u+360;return{start:FC*(u+-90),end:FC*(p+-90)}}})(k||(k={}));let BC=k,{setAnimation:cV}=Cn,{addEvent:UC,defined:uV,extend:hV,isNumber:dV,pick:fV,relativeLength:pV}=Pe;class jC extends Oo{getConnectorPath(o){let l=o.dataLabelPosition,u=o.options||{},p=u.connectorShape,g=this.connectorShapes[p]||p;return l&&g.call(this,{...l.computed,alignment:l.alignment},l.connectorPosition,u)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(o){let l=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(l.x,l.y,l.r+o,l.r+o,{innerR:l.r-1,start:l.start,end:l.end,borderRadius:l.borderRadius})}constructor(o,l,u){super(o,l,u),this.half=0,this.name??(this.name="Slice");let p=g=>{this.slice(g.type==="select")};UC(this,"select",p),UC(this,"unselect",p)}isValid(){return dV(this.y)&&this.y>=0}setVisible(o,l=!0){o!==this.visible&&this.update({visible:o??!this.visible},l,void 0,!1)}slice(o,l,u){let p=this.series;cV(u,p.chart),l=fV(l,!0),this.sliced=this.options.sliced=o=uV(o)?o:!this.sliced,p.options.data[p.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}hV(jC.prototype,{connectorShapes:{fixedOffset:function(P,o,l){let u=o.breakAt,p=o.touchingSliceAt,g=l.softConnector?["C",P.x+(P.alignment==="left"?-5:5),P.y,2*u.x-p.x,2*u.y-p.y,u.x,u.y]:["L",u.x,u.y];return[["M",P.x,P.y],g,["L",p.x,p.y]]},straight:function(P,o){let l=o.touchingSliceAt;return[["M",P.x,P.y],["L",l.x,l.y]]},crookedLine:function(P,o,l){let{angle:u=this.angle||0,breakAt:p,touchingSliceAt:g}=o,{series:_}=this,[C,T,R]=_.center,V=R/2,{plotLeft:M,plotWidth:B}=_.chart,$=P.alignment==="left",{x:W,y:X}=P,J=p.x;if(l.crookDistance){let ee=pV(l.crookDistance,1);J=$?C+V+(B+M-C-V)*(1-ee):M+(C-V)*ee}else J=C+(T-X)*Math.tan(u-Math.PI/2);let K=[["M",W,X]];return($?J<=W&&J>=p.x:J>=W&&J<=p.x)&&K.push(["L",J,X]),K.push(["L",p.x,p.y],["L",g.x,g.y]),K}}});let{getStartAndEndRadians:mV}=BC,{noop:HC}=S,{clamp:gV,extend:yV,fireEvent:$C,merge:ky,pick:vV}=Pe;class Iy extends os{animate(o){let l=this,u=l.points,p=l.startAngleRad;o||u.forEach(function(g){let _=g.graphic,C=g.shapeArgs;_&&C&&(_.attr({r:vV(g.startR,l.center&&l.center[3]/2),start:p,end:p}),_.animate({r:C.r,start:C.start,end:C.end},l.options.animation))})}drawEmpty(){let o,l,u=this.startAngleRad,p=this.endAngleRad,g=this.options;this.total===0&&this.center?(o=this.center[0],l=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(o,l,this.center[1]/2,0,u,p).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Tu.arc(o,l,this.center[2]/2,0,{start:u,end:p,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":g.borderWidth,fill:g.fillColor||"none",stroke:g.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let o=this.chart.renderer;this.points.forEach(function(l){l.graphic&&l.hasNewShapeType()&&(l.graphic=l.graphic.destroy()),l.graphic||(l.graphic=o[l.shapeType](l.shapeArgs).add(l.series.group),l.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(o,l,u,p){let g=this.center,_=this.radii?this.radii[u.index]||0:g[2]/2,C=p.dataLabelPosition,T=(C==null?void 0:C.distance)||0,R=Math.asin(gV((o-g[1])/(_+T),-1,1));return g[0]+Math.cos(R)*(_+T)*(l?-1:1)+(T>0?(l?-1:1)*(p.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let o,l,u,p,g=this,_=g.chart;this.drawEmpty(),g.group&&!_.styledMode&&g.group.shadow(g.options.shadow),g.points.forEach(function(C){let T={};l=C.graphic,!C.isNull&&l?(p=C.shapeArgs,o=C.getTranslate(),_.styledMode||(u=g.pointAttribs(C,C.selected&&"select")),C.delayedRendering?(l.setRadialReference(g.center).attr(p).attr(o),_.styledMode||l.attr(u).attr({"stroke-linejoin":"round"}),C.delayedRendering=!1):(l.setRadialReference(g.center),_.styledMode||ky(!0,T,u),ky(!0,T,p,o),l.animate(T)),l.attr({visibility:C.visible?"inherit":"hidden"}),l.addClass(C.getClassName(),!0)):l&&(C.graphic=l.destroy())})}sortByAngle(o,l){o.sort(function(u,p){return u.angle!==void 0&&(p.angle-u.angle)*l})}translate(o){$C(this,"translate"),this.generatePoints();let l=this.options,u=l.slicedOffset,p=mV(l.startAngle,l.endAngle),g=this.startAngleRad=p.start,_=(this.endAngleRad=p.end)-g,C=this.points,T=l.ignoreHiddenPoint,R=C.length,V,M,B,$,W,X,J,K=0;for(o||(this.center=o=this.getCenter()),X=0;X<R;X++){J=C[X],V=g+K*_,J.isValid()&&(!T||J.visible)&&(K+=J.percentage/100),M=g+K*_;let ee={x:o[0],y:o[1],r:o[2]/2,innerR:o[3]/2,start:Math.round(1e3*V)/1e3,end:Math.round(1e3*M)/1e3};J.shapeType="arc",J.shapeArgs=ee,(B=(M+V)/2)>1.5*Math.PI?B-=2*Math.PI:B<-Math.PI/2&&(B+=2*Math.PI),J.slicedTranslation={translateX:Math.round(Math.cos(B)*u),translateY:Math.round(Math.sin(B)*u)},$=Math.cos(B)*o[2]/2,W=Math.sin(B)*o[2]/2,J.tooltipPos=[o[0]+.7*$,o[1]+.7*W],J.half=B<-Math.PI/2||B>Math.PI/2?1:0,J.angle=B}$C(this,"afterTranslate")}updateTotals(){let o=this.points,l=o.length,u=this.options.ignoreHiddenPoint,p,g,_=0;for(p=0;p<l;p++)(g=o[p]).isValid()&&(!u||g.visible)&&(_+=g.y);for(p=0,this.total=_;p<l;p++)(g=o[p]).percentage=_>0&&(g.visible||!u)?g.y/_*100:0,g.total=_}}Iy.defaultOptions=ky(os.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),yV(Iy.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:Rf.prototype.drawTracker,getCenter:BC.getCenter,getSymbol:HC,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:Rf.prototype.pointAttribs,pointClass:jC,requireSorting:!1,searchPoint:HC,trackerGroups:["group","dataLabelsGroup"]}),An.registerSeriesType("pie",Iy);let{composed:bV,noop:_V}=S,{distribute:wV}=Br,{series:zC}=An,{arrayMax:CV,clamp:WC,defined:GC,pick:xV,pushUnique:EV,relativeLength:qC}=Pe;(function(P){let o={radialDistributionY:function(_,C){var T;return(((T=C.dataLabelPosition)==null?void 0:T.top)||0)+_.distributeBox.pos},radialDistributionX:function(_,C,T,R,V){let M=V.dataLabelPosition;return _.getX(T<((M==null?void 0:M.top)||0)+2||T>((M==null?void 0:M.bottom)||0)-2?R:T,C.half,C,V)},justify:function(_,C,T,R){var V;return R[0]+(_.half?-1:1)*(T+(((V=C.dataLabelPosition)==null?void 0:V.distance)||0))},alignToPlotEdges:function(_,C,T,R){let V=_.getBBox().width;return C?V+R:T-V-R},alignToConnectors:function(_,C,T,R){let V=0,M;return _.forEach(function(B){(M=B.dataLabel.getBBox().width)>V&&(V=M)}),C?V+R:T-V-R}};function l(_,C){let T=Math.PI/2,{start:R=0,end:V=0}=_.shapeArgs||{},M=_.angle||0;C>0&&R<T&&V>T&&M>T/2&&M<1.5*T&&(M=M<=T?Math.max(T/2,(R+T)/2):Math.min(1.5*T,(T+V)/2));let{center:B,options:$}=this,W=B[2]/2,X=Math.cos(M),J=Math.sin(M),K=B[0]+X*W,ee=B[1]+J*W,te=Math.min(($.slicedOffset||0)+($.borderWidth||0),C/5);return{natural:{x:K+X*C,y:ee+J*C},computed:{},alignment:C<0?"center":_.half?"right":"left",connectorPosition:{angle:M,breakAt:{x:K+X*te,y:ee+J*te},touchingSliceAt:{x:K,y:ee}},distance:C}}function u(){var fe;let _=this,C=_.points,T=_.chart,R=T.plotWidth,V=T.plotHeight,M=T.plotLeft,B=Math.round(T.chartWidth/3),$=_.center,W=$[2]/2,X=$[1],J=[[],[]],K=[0,0,0,0],ee=_.dataLabelPositioners,te,le,he,ue=0;_.visible&&((fe=_.hasDataLabels)!=null&&fe.call(_))&&(C.forEach(de=>{(de.dataLabels||[]).forEach(me=>{me.shortened&&(me.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),me.shortened=!1)})}),zC.prototype.drawDataLabels.apply(_),C.forEach(de=>{(de.dataLabels||[]).forEach((me,Te)=>{var Ve;let ke=$[2]/2,Be=me.options,Ee=qC((Be==null?void 0:Be.distance)||0,ke);Te===0&&J[de.half].push(de),!GC((Ve=Be==null?void 0:Be.style)==null?void 0:Ve.width)&&me.getBBox().width>B&&(me.css({width:Math.round(.7*B)+"px"}),me.shortened=!0),me.dataLabelPosition=this.getDataLabelPosition(de,Ee),ue=Math.max(ue,Ee)})}),J.forEach((de,me)=>{let Te=de.length,ke=[],Be,Ee,Ve=0,tt;Te&&(_.sortByAngle(de,me-.5),ue>0&&(Be=Math.max(0,X-W-ue),Ee=Math.min(X+W+ue,T.plotHeight),de.forEach(wt=>{(wt.dataLabels||[]).forEach(Qe=>{var Xe;let yt=Qe.dataLabelPosition;yt&&yt.distance>0&&(yt.top=Math.max(0,X-W-yt.distance),yt.bottom=Math.min(X+W+yt.distance,T.plotHeight),Ve=Qe.getBBox().height||21,Qe.lineHeight=T.renderer.fontMetrics(Qe.text||Qe).h+2*Qe.padding,wt.distributeBox={target:(((Xe=Qe.dataLabelPosition)==null?void 0:Xe.natural.y)||0)-yt.top+Qe.lineHeight/2,size:Ve,rank:wt.y},ke.push(wt.distributeBox))})}),wV(ke,tt=Ee+Ve-Be,tt/5)),de.forEach(wt=>{(wt.dataLabels||[]).forEach(Qe=>{let yt=Qe.options||{},Xe=wt.distributeBox,it=Qe.dataLabelPosition,ft=(it==null?void 0:it.natural.y)||0,Kt=yt.connectorPadding||0,ln=Qe.lineHeight||21,kt=(ln-Qe.getBBox().height)/2,Ot=0,en=ft,wi="inherit";if(it){if(ke&&GC(Xe)&&it.distance>0&&(Xe.pos===void 0?wi="hidden":(he=Xe.size,en=ee.radialDistributionY(wt,Qe))),yt.justify)Ot=ee.justify(wt,Qe,W,$);else switch(yt.alignTo){case"connectors":Ot=ee.alignToConnectors(de,me,R,M);break;case"plotEdges":Ot=ee.alignToPlotEdges(Qe,me,R,M);break;default:Ot=ee.radialDistributionX(_,wt,en-kt,ft,Qe)}if(it.attribs={visibility:wi,align:it.alignment},it.posAttribs={x:Ot+(yt.x||0)+({left:Kt,right:-Kt}[it.alignment]||0),y:en+(yt.y||0)-ln/2},it.computed.x=Ot,it.computed.y=en-kt,xV(yt.crop,!0)){let jn;Ot-(le=Qe.getBBox().width)<Kt&&me===1?(jn=Math.round(le-Ot+Kt),K[3]=Math.max(jn,K[3])):Ot+le>R-Kt&&me===0&&(jn=Math.round(Ot+le-R+Kt),K[1]=Math.max(jn,K[1])),en-he/2<0?K[0]=Math.max(Math.round(-en+he/2),K[0]):en+he/2>V&&(K[2]=Math.max(Math.round(en+he/2-V),K[2])),it.sideOverflow=jn}}})}))}),(CV(K)===0||this.verifyDataLabelOverflow(K))&&(this.placeDataLabels(),this.points.forEach(de=>{(de.dataLabels||[]).forEach(me=>{var Ee;let{connectorColor:Te,connectorWidth:ke=1}=me.options||{},Be=me.dataLabelPosition;if(ke){let Ve;te=me.connector,Be&&Be.distance>0?(Ve=!te,te||(me.connector=te=T.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+de.colorIndex+(de.className?" "+de.className:"")).add(_.dataLabelsGroup)),T.styledMode||te.attr({"stroke-width":ke,stroke:Te||de.color||"#666666"}),te[Ve?"attr":"animate"]({d:de.getConnectorPath(me)}),te.attr({visibility:(Ee=Be.attribs)==null?void 0:Ee.visibility})):te&&(me.connector=te.destroy())}})})))}function p(){this.points.forEach(_=>{(_.dataLabels||[]).forEach(C=>{var R;let T=C.dataLabelPosition;T?(T.sideOverflow&&(C.css({width:Math.max(C.getBBox().width-T.sideOverflow,0)+"px",textOverflow:(((R=C.options)==null?void 0:R.style)||{}).textOverflow||"ellipsis"}),C.shortened=!0),C.attr(T.attribs),C[C.moved?"animate":"attr"](T.posAttribs),C.moved=!0):C&&C.attr({y:-9999})}),delete _.distributeBox},this)}function g(_){let C=this.center,T=this.options,R=T.center,V=T.minSize||80,M=V,B=T.size!==null;return!B&&(R[0]!==null?M=Math.max(C[2]-Math.max(_[1],_[3]),V):(M=Math.max(C[2]-_[1]-_[3],V),C[0]+=(_[3]-_[1])/2),R[1]!==null?M=WC(M,V,C[2]-Math.max(_[0],_[2])):(M=WC(M,V,C[2]-_[0]-_[2]),C[1]+=(_[0]-_[2])/2),M<C[2]?(C[2]=M,C[3]=Math.min(T.thickness?Math.max(0,M-2*T.thickness):Math.max(0,qC(T.innerSize||0,M)),M),this.translate(C),this.drawDataLabels&&this.drawDataLabels()):B=!0),B}P.compose=function(_){if(Of.compose(zC),EV(bV,"PieDataLabel")){let C=_.prototype;C.dataLabelPositioners=o,C.alignDataLabel=_V,C.drawDataLabels=u,C.getDataLabelPosition=l,C.placeDataLabels=p,C.verifyDataLabelOverflow=g}}})(I||(I={}));let TV=I;(function(P){P.getCenterOfPoints=function(o){let l=o.reduce((u,p)=>(u.x+=p.x,u.y+=p.y,u),{x:0,y:0});return{x:l.x/o.length,y:l.y/o.length}},P.getDistanceBetweenPoints=function(o,l){return Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2))},P.getAngleBetweenPoints=function(o,l){return Math.atan2(l.x-o.x,l.y-o.y)},P.pointInPolygon=function({x:o,y:l},u){let p=u.length,g,_,C=!1;for(g=0,_=p-1;g<p;_=g++){let[T,R]=u[g],[V,M]=u[_];R>l!=M>l&&o<(V-T)*(l-R)/(M-R)+T&&(C=!C)}return C}})(D||(D={}));let{pointInPolygon:SV}=D,{addEvent:kV,fireEvent:KC,objectEach:YC,pick:IV}=Pe;function AV(P){let o=P.length,l=(V,M)=>!(M.x>=V.x+V.width||M.x+M.width<=V.x||M.y>=V.y+V.height||M.y+M.height<=V.y),u=(V,M)=>{for(let B of V)if(SV({x:B[0],y:B[1]},M))return!0;return!1},p,g,_,C,T,R=!1;for(let V=0;V<o;V++)(p=P[V])&&(p.oldOpacity=p.opacity,p.newOpacity=1,p.absoluteBox=function(M){var B,$;if(M&&(!M.alignAttr||M.placed)){let W=M.box?0:M.padding||0,X=M.alignAttr||{x:M.attr("x"),y:M.attr("y")},J=M.getBBox();return M.width=J.width,M.height=J.height,{x:X.x+(((B=M.parentGroup)==null?void 0:B.translateX)||0)+W,y:X.y+((($=M.parentGroup)==null?void 0:$.translateY)||0)+W,width:(M.width||0)-2*W,height:(M.height||0)-2*W,polygon:J==null?void 0:J.polygon}}}(p));P.sort((V,M)=>(M.labelrank||0)-(V.labelrank||0));for(let V=0;V<o;++V){C=(g=P[V])&&g.absoluteBox;let M=C==null?void 0:C.polygon;for(let B=V+1;B<o;++B){T=(_=P[B])&&_.absoluteBox;let $=!1;if(C&&T&&g!==_&&g.newOpacity!==0&&_.newOpacity!==0&&g.visibility!=="hidden"&&_.visibility!=="hidden"){let W=T.polygon;if(M&&W&&M!==W?u(M,W)&&($=!0):l(C,T)&&($=!0),$){let X=g.labelrank<_.labelrank?g:_,J=X.text;X.newOpacity=0,J!=null&&J.element.querySelector("textPath")&&J.hide()}}}}for(let V of P)XC(V,this)&&(R=!0);R&&KC(this,"afterHideAllOverlappingLabels")}function XC(P,o){let l,u,p=!1;return P&&(u=P.newOpacity,P.oldOpacity!==u&&(P.hasClass("highcharts-data-label")?(P[u?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=function(){o.styledMode||P.css({pointerEvents:u?"auto":"none"})},p=!0,P[P.isOld?"animate":"attr"]({opacity:u},void 0,l),KC(o,"afterHideOverlappingLabel")):P.attr({opacity:u})),P.isOld=!0),p}function PV(){var l;let P=this,o=[];for(let u of P.labelCollectors||[])o=o.concat(u());for(let u of P.yAxis||[])u.stacking&&u.options.stackLabels&&!u.options.stackLabels.allowOverlap&&YC(u.stacking.stacks,p=>{YC(p,g=>{g.label&&o.push(g.label)})});for(let u of P.series||[])if(u.visible&&((l=u.hasDataLabels)!=null&&l.call(u))){let p=g=>{for(let _ of g)_.visible&&(_.dataLabels||[]).forEach(C=>{var R;let T=C.options||{};C.labelrank=IV(T.labelrank,_.labelrank,(R=_.shapeArgs)==null?void 0:R.height),T.allowOverlap??Number(T.distance)>0?(C.oldOpacity=C.opacity,C.newOpacity=1,XC(C,P)):o.push(C)})};p(u.nodes||[]),p(u.points)}this.hideOverlappingLabels(o)}let JC={compose:function(P){let o=P.prototype;o.hideOverlappingLabels||(o.hideOverlappingLabels=AV,kV(P,"render",PV))}},{defaultOptions:RV}=Kn,{noop:QC}=S,{addEvent:ZC,extend:OV,isObject:ex,merge:MV,relativeLength:Ay}=Pe,DV={radius:0,scope:"stack",where:void 0},tx=QC,nx=QC;function NV(P,o,l,u,p={}){let g=tx(P,o,l,u,p),{innerR:_=0,r:C=l,start:T=0,end:R=0}=p;if(p.open||!p.borderRadius)return g;let V=R-T,M=Math.sin(V/2),B=Math.max(Math.min(Ay(p.borderRadius||0,C-_),(C-_)/2,C*M/(1+M)),0),$=Math.min(B,V/Math.PI*2*_),W=g.length-1;for(;W--;)(function(X,J,K){let ee,te,le,he=X[J],ue=X[J+1];if(ue[0]==="Z"&&(ue=X[0]),(he[0]==="M"||he[0]==="L")&&ue[0]==="A"?(ee=he,te=ue,le=!0):he[0]==="A"&&(ue[0]==="M"||ue[0]==="L")&&(ee=ue,te=he),ee&&te&&te.params){let fe=te[1],de=te[5],me=te.params,{start:Te,end:ke,cx:Be,cy:Ee}=me,Ve=de?fe-K:fe+K,tt=Ve?Math.asin(K/Ve):0,wt=de?tt:-tt,Qe=Math.cos(tt)*Ve;le?(me.start=Te+wt,ee[1]=Be+Qe*Math.cos(Te),ee[2]=Ee+Qe*Math.sin(Te),X.splice(J+1,0,["A",K,K,0,0,1,Be+fe*Math.cos(me.start),Ee+fe*Math.sin(me.start)])):(me.end=ke-wt,te[6]=Be+fe*Math.cos(me.end),te[7]=Ee+fe*Math.sin(me.end),X.splice(J+1,0,["A",K,K,0,0,1,Be+Qe*Math.cos(ke),Ee+Qe*Math.sin(ke)])),te[4]=Math.abs(me.end-me.start)<Math.PI?0:1}})(g,W,W>1?$:B);return g}function LV(){var P,o;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:l,yAxis:u}=this,p=l.stacking==="percent",g=(o=(P=RV.plotOptions)==null?void 0:P[this.type])==null?void 0:o.borderRadius,_=Py(l.borderRadius,ex(g)?g:{}),C=u.options.reversed;for(let T of this.points){let{shapeArgs:R}=T;if(T.shapeType==="roundedRect"&&R){let{width:V=0,height:M=0,y:B=0}=R,$=B,W=M;if(_.scope==="stack"&&T.stackTotal){let ee=u.translate(p?100:T.stackTotal,!1,!0,!1,!0),te=u.translate(l.threshold||0,!1,!0,!1,!0),le=this.crispCol(0,Math.min(ee,te),0,Math.abs(ee-te));$=le.y,W=le.height}let X=(T.negative?-1:1)*(C?-1:1)==-1,J=_.where;!J&&this.is("waterfall")&&Math.abs((T.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(J="all"),J||(J="end");let K=Math.min(Ay(_.radius,V),V/2,J==="all"?M/2:1/0)||0;J==="end"&&(X&&($-=K),W+=K),OV(R,{brBoxHeight:W,brBoxY:$,r:K})}}}}function Py(P,o){return ex(P)||(P={radius:P||0}),MV(DV,o,P)}function VV(){let P=Py(this.options.borderRadius);for(let o of this.points){let l=o.shapeArgs;l&&(l.borderRadius=Ay(P.radius,(l.r||0)-(l.innerR||0)))}}function FV(P,o,l,u,p={}){let g=nx(P,o,l,u,p),{r:_=0,brBoxHeight:C=u,brBoxY:T=o}=p,R=o-T,V=T+C-(o+u),M=R-_>-.1?0:_,B=V-_>-.1?0:_,$=Math.max(M&&R,0),W=Math.max(B&&V,0),X=[P+M,o],J=[P+l-M,o],K=[P+l,o+M],ee=[P+l,o+u-B],te=[P+l-B,o+u],le=[P+B,o+u],he=[P,o+u-B],ue=[P,o+M],fe=(de,me)=>Math.sqrt(Math.pow(de,2)-Math.pow(me,2));if($){let de=fe(M,M-$);X[0]-=de,J[0]+=de,K[1]=ue[1]=o+M-$}if(u<M-$){let de=fe(M,M-$-u);K[0]=ee[0]=P+l-M+de,te[0]=Math.min(K[0],te[0]),le[0]=Math.max(ee[0],le[0]),he[0]=ue[0]=P+M-de,K[1]=ue[1]=o+u}if(W){let de=fe(B,B-W);te[0]+=de,le[0]-=de,ee[1]=he[1]=o+u-B+W}if(u<B-W){let de=fe(B,B-W-u);K[0]=ee[0]=P+l-B+de,J[0]=Math.min(K[0],J[0]),X[0]=Math.max(ee[0],X[0]),he[0]=ue[0]=P+B-de,ee[1]=he[1]=o}return g.length=0,g.push(["M",...X],["L",...J],["A",M,M,0,0,1,...K],["L",...ee],["A",B,B,0,0,1,...te],["L",...le],["A",B,B,0,0,1,...he],["L",...ue],["A",M,M,0,0,1,...X],["Z"]),g}let{diffObjects:BV,extend:UV,find:jV,merge:HV,pick:Nf,uniqueKey:$V}=Pe;(function(P){function o(u,p){let g=u.condition;(g.callback||function(){return this.chartWidth<=Nf(g.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Nf(g.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Nf(g.minWidth,0)&&this.chartHeight>=Nf(g.minHeight,0)}).call(this)&&p.push(u._id)}function l(u,p){let g=this.options.responsive,_=this.currentResponsive,C=[],T;!p&&g&&g.rules&&g.rules.forEach(M=>{M._id===void 0&&(M._id=$V()),this.matchResponsiveRule(M,C)},this);let R=HV(...C.map(M=>jV((g||{}).rules||[],B=>B._id===M)).map(M=>M&&M.chartOptions));R.isResponsiveOptions=!0,C=C.toString()||void 0;let V=_&&_.ruleIds;C===V||(_&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(_.undoOptions,u,!0),this.updatingResponsive=!1),C?((T=BV(R,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:C,mergedOptions:R,undoOptions:T},this.updatingResponsive||this.update(R,u,!0)):this.currentResponsive=void 0)}P.compose=function(u){let p=u.prototype;return p.matchResponsiveRule||UV(p,{matchResponsiveRule:o,setResponsive:l}),u}})(N||(N={}));let zV=N;S.AST=on,S.Axis=kl,S.Chart=Lo,S.Color=In,S.DataLabel=Of,S.DataTableCore=vf,S.Fx=li,S.HTMLElement=Pu,S.Legend=uC,S.LegendSymbol=Xw,S.OverlappingDataLabels=S.OverlappingDataLabels||JC,S.PlotLineOrBand=hf,S.Point=Oo,S.Pointer=qw,S.RendererRegistry=Eo,S.Series=os,S.SeriesRegistry=An,S.StackItem=CC,S.SVGElement=is,S.SVGRenderer=tf,S.Templating=Wi,S.Tick=Sl,S.Time=Rt,S.Tooltip=Hw,S.animate=Cn.animate,S.animObject=Cn.animObject,S.chart=Lo.chart,S.color=In.parse,S.dateFormat=Wi.dateFormat,S.defaultOptions=Kn.defaultOptions,S.distribute=Br.distribute,S.format=Wi.format,S.getDeferredAnimation=Cn.getDeferredAnimation,S.getOptions=Kn.getOptions,S.numberFormat=Wi.numberFormat,S.seriesType=An.seriesType,S.setAnimation=Cn.setAnimation,S.setOptions=Kn.setOptions,S.stop=Cn.stop,S.time=Kn.defaultTime,S.timers=li.timers,{compose:function(P,o,l){let u=P.types.pie;if(!o.symbolCustomAttribs.includes("borderRadius")){let p=l.prototype.symbols;ZC(P,"afterColumnTranslate",LV,{order:9}),ZC(u,"afterTranslate",VV),o.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),tx=p.arc,nx=p.roundedRect,p.arc=NV,p.roundedRect=FV}},optionsToObject:Py}.compose(S.Series,S.SVGElement,S.SVGRenderer),eV.compose(S.Series.types.column),Of.compose(S.Series),ND.compose(S.Axis),Pu.compose(S.SVGRenderer),uC.compose(S.Chart),FD.compose(S.Axis),JC.compose(S.Chart),TV.compose(S.Series.types.pie),hf.compose(S.Chart,S.Axis),qw.compose(S.Chart),zV.compose(S.Chart),Du.compose(S.Axis,S.Chart,S.Series),ML.compose(S.Axis,S.Chart,S.Series),Hw.compose(S.Pointer),Pe.extend(S,Pe);let WV=S;return O.default})())})(JM);var D7=JM.exports;const N7=$_(D7);var QM={exports:{}};(function(t){(function(e){t.exports?(e.default=e,t.exports=e):e(typeof Dashboards<"u"?Dashboards:void 0)})(function(e){var n=e?e._modules:{};function i(s,r,a,c){s.hasOwnProperty(r)||(s[r]=c.apply(null,a),typeof CustomEvent=="function"&&e.win.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:r,module:s[r]}})))}i(n,"Dashboards/EditMode/EditRenderer.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"]],function(s,r){let{merge:a,createElement:c,defined:h}=r;function d(D,N){let F,O=N.options.contextMenu;return O&&(F=c("button",{className:s.classNames.contextMenuBtn,onclick:function(S){S.stopPropagation(),N.onContextBtnClick()}},{},D),O.icon&&c("img",{src:O.icon,className:s.classNames.icon},{},F),O.text&&c("span",{className:s.classNames.contextMenuBtnText,textContent:O.text},{},F),F.setAttribute("aria-label",N.lang.accessibility.contextMenu.button),F.setAttribute("aria-expanded","false")),F}function f(D,N){let F,{name:O,showToggle:S,onchange:A,isEnabled:L,isNested:U,isStandalone:z,lang:G}=N,H=c("div",{className:s.classNames[U?"accordionNestedWrapper":"accordionContainer"]+" "+(z?s.classNames.accordionStandaloneWrapper:"")+" "+s.classNames.collapsableContentHeader},{},D),q=c("div",{className:s.classNames.accordionHeader},{},H);if((!z||S)&&(F=c(z&&S?"span":"button",{className:s.classNames[z?"accordionHeaderWrapper":"accordionHeaderBtn"]},{},q)),c("span",{textContent:G[O]||O},{},F),S&&q&&b(q,{enabledOnOffLabels:!0,id:O,name:"",onchange:A,value:L||!1,lang:G}),!z){let ie=c("span",{className:s.classNames.accordionHeaderIcon+" "+s.classNames.collapsedElement},{},F);F==null||F.addEventListener("click",function(){Z.classList.toggle(s.classNames.hiddenElement),ie==null||ie.classList.toggle(s.classNames.collapsedElement)})}let Z=c("div",{className:s.classNames.accordionContent+" "+(z?s.classNames.standaloneElement:s.classNames.hiddenElement)},{},H);return{outerElement:H,content:Z}}function m(D,N){let F;if(!D)return;N.name&&w(D,{title:N.name,isLabel:!0});let O=N.iconsURLPrefix||"",S=c("div",{className:s.classNames.dropdown+" "+s.classNames.collapsableContentHeader},{},D),A=c("button",{className:s.classNames.dropdownButton},{},S),L=c("div",{className:s.classNames.dropdownButtonContent},{},A),U=(r.find(N.selectOptions,q=>q.name===N.value)||{}).iconURL;U&&(F=c("img",{src:O+U,className:s.classNames.icon},{},L));let z=c("span",{textContent:N.value,id:N.id||""},{},L),G=c("img",{className:s.classNames.dropdownIcon+" "+s.classNames.collapsedElement,src:O+"dropdown-pointer.svg"},{},A),H=c("ul",{className:s.classNames.dropdownContent+" "+s.classNames.hiddenElement},{},S);A.addEventListener("click",function(){H.classList.toggle(s.classNames.hiddenElement),G.classList.toggle(s.classNames.collapsedElement)});for(let q=0,Z=N.selectOptions.length;q<Z;++q)(function(ie,oe,ce,ve,we,be,Ce){let De=ie.iconsURLPrefix+ie.iconURL,We=c("li",{},{},oe),rt=c("button",{className:s.classNames.customSelectButton},{},We);ie.iconURL&&c("img",{src:De},{},rt),c("span",{textContent:ie.name||""},{},rt),rt.addEventListener("click",function(){if(oe.classList.add(s.classNames.hiddenElement),we.classList.toggle(s.classNames.collapsedElement),ce.textContent=ie.name||"",be&&ie.iconURL&&(be.src=De),Ce)return Ce(ie.name)})})(a(N.selectOptions[q]||{},{iconsURLPrefix:O}),H,z,N.id,G,F,N.onchange);return S}function b(D,N){if(!D)return;let F=N.lang,O=N.value,S=N.title||N.name,A=N.langKey,L=c("button",{className:s.classNames.toggleContainer,type:"button",role:"switch",ariaChecked:!1,ariaLabel:A?F.accessibility[A][N.name]:""},{},D);S&&w(L,{title:S}),N.enabledOnOffLabels&&w(L,{title:F.off,className:s.classNames.toggleLabels});let U=c("label",{className:s.classNames.toggleWrapper+" "+(N.className||"")},{},L),z=k(U,O),G=N.onchange;G&&L.addEventListener("click",q=>{G(!z.checked),z.checked=!z.checked,L.setAttribute("aria-checked",z.checked),q.stopPropagation()});let H=c("span",{className:s.classNames.toggleSlider},{},U);return G&&H.addEventListener("click",q=>{q.preventDefault()}),N.enabledOnOffLabels&&w(L,{title:F.on,className:s.classNames.toggleLabels}),L}function w(D,N){let F,{title:O,className:S,isLabel:A}=N;if(D){let L=A?{htmlFor:O}:{};F=c(A?"label":"div",{className:s.classNames.labelText+" "+(S||""),textContent:O,...L},{},D)}return F}function y(D,N){let{icon:F,callback:O}=N;if(!D)return;let S=c("div",{onclick:O,className:N.className||""},{},D);S.style["background-image"]="url("+F+")";let A=N.mousedown,L=N.click;return A&&(S.onmousedown=function(){A.apply(this,arguments)}),L&&S.addEventListener("click",function(){L.apply(this,arguments)}),S}function v(D,N){if(!D)return;N.name&&w(D,{title:N.name,isLabel:!0});let F=c("input",{type:"text",onclick:N.callback,id:N.id||"",name:N.name||"",value:h(N.value)&&N.value.toString().replace(/\"/g,"")||""},{},D),O=N.onchange;return O&&F.addEventListener("change",function(S){O(S.target.value)}),F}function x(D,N){if(!D)return;N.name&&w(D,{title:N.name,isLabel:!0});let F=c("textarea",{id:N.id,name:N.name,value:N.value||""},{},D),O=N.onchange;return O&&F.addEventListener("change",function(S){O(S.target.value)}),F}function k(D,N){let F;return D&&(F=c("input",{type:"checkbox",checked:!!N},{},D)),F}function I(D,N){if(!D)return;let F=c("button",{className:s.classNames.button+" "+(N.className||""),onclick:N.callback,textContent:N.text},N.style||{},D);return N.icon&&(F.style["background-image"]="url("+N.icon+")"),F}return{renderSelect:m,renderToggle:b,renderText:w,renderCollapseHeader:f,renderIcon:y,renderContextButton:d,renderInput:v,renderTextarea:x,renderCheckbox:k,renderButton:I,getRendererFunction:function(D){return{select:m,toggle:b,text:w,collapse:f,icon:y,contextButton:d,input:v,textarea:x,checkbox:k,button:I}[D]}}}),i(n,"Dashboards/EditMode/Menu/MenuItem.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/EditRenderer.js"]],function(s,r,a){let{createElement:c,merge:h}=r;class d{constructor(m,b){this.menu=m,this.isActive=!1,this.options=h(d.defaultOptions,b),this.container=this.setContainer(),this.innerElement=this.setInnerElement()}setContainer(){let m=this.options,b=s.classNames.menuItem;return this.menu.options.itemsClassName&&(b+=" "+this.menu.options.itemsClassName),m.className&&(b+=" "+m.className),c("div",{className:b||""},h(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var y,v,x,k,I,D,N,F;let m=this.options,b=this.container,w=m.langKey;return m.type==="toggle"?a.renderToggle(b,{id:m.id,name:m.id,title:w?this.menu.editMode.lang[w]:m.text,value:!!(m.getValue&&m.getValue(this)),lang:this.menu.editMode.lang,langKey:w,onchange:(v=(y=m.events)==null?void 0:y.click)==null?void 0:v.bind(this)}):m.type==="text"?a.renderText(b,{title:w?this.menu.editMode.lang[w]:m.text||"",className:m.className||""}):m.type==="icon"?a.renderIcon(b,{icon:m.icon||"",mousedown:(k=(x=m.events)==null?void 0:x.onmousedown)==null?void 0:k.bind(this),click:(D=(I=m.events)==null?void 0:I.click)==null?void 0:D.bind(this)}):m.type==="button"?a.renderButton(b,{callback:(F=(N=m.events)==null?void 0:N.click)==null?void 0:F.bind(this),className:m.className||"",style:m.style||{},text:w?this.menu.editMode.lang[w]:m.text||""}):void 0}update(){let m=this.options;m.events&&m.events.update&&m.events.update.apply(this,arguments)}activate(){this.update(),this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}return d.defaultOptions={type:"text"},d}),i(n,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){let s=this.menu.editMode.board.fullscreen;s&&s.toggle()}}}}}),i(n,"Dashboards/EditMode/Menu/Menu.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/Menu/MenuItem.js"],n["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(s,r,a,c){let{createElement:h,merge:d}=r;class f{constructor(b,w,y,v){this.parentElement=b,this.isVisible=!1,this.activeItems=[],this.options=w,this.items={},this.editMode=y,v&&(this.parent=v),this.container=this.setContainer()}setContainer(){return h("div",{className:s.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(b,w){let y,v,x,k,I=this.options.items||[];for(let D=0,N=I.length;D<N;++D)y=typeof(v=I[D])=="string"?b[v]:v.id?b[v.id]:{},(k=typeof v=="string"?d(y,{id:v}):d(y,v)).id&&(x=new a(this,k),this.items[x.options.id]=x,w&&(x.activate(),this.activeItems.push(x)))}setActiveItems(b){let w;for(let y=0,v=this.activeItems.length;y<v;++y)b.indexOf(this.activeItems[y].options.id)===-1&&this.activeItems[y].deactivate();this.activeItems.length=0;for(let y=0,v=b.length;y<v;++y)(w=this.items[b[y]])&&(w.isActive?w.update():w.activate(),this.activeItems.push(w))}deactivateActiveItems(){for(let b=0,w=this.activeItems.length;b<w;++b)this.activeItems[b].deactivate()}updateActiveItems(){let b=this.activeItems;for(let w=0,y=b.length;w<y;++w)b[w].update()}destroy(){this.activeItems.length=0,this.container.remove(),this.items={},this.options={}}}return f.items=c,f}),i(n,"Dashboards/EditMode/Toolbar/EditToolbar.js",[n["Core/Utilities.js"],n["Dashboards/EditMode/Menu/Menu.js"]],function(s,r){let{defined:a,createElement:c,css:h}=s;return class{constructor(d,f){this.container=c("div",{className:f.className},void 0,d.board.container),this.editMode=d,this.iconURLPrefix=d.iconsURLPrefix,this.menu=new r(this.container,f.menu,d,this),this.options=f,this.isVisible=!1,this.options.outline&&(this.outline=c("div",{className:f.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(d,f,m,b=0){let w=(m||{}).container;this.outline&&w&&h(this.outline,{display:"block",left:d-b+"px",top:f-b+"px",width:w.offsetWidth+2*b+"px",height:w.offsetHeight+2*b+"px"})}hideOutline(){this.outline&&(this.outline.style.display="none")}setPosition(d,f){this.container&&h(this.container,{left:(d||"-9999")+"px",top:(f||"-9999")+"px"}),this.isVisible=a(d)&&a(f)}}}),i(n,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/Toolbar/EditToolbar.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r,a,c,h){let{merge:d,fireEvent:f,objectEach:m}=h;class b extends a{static getItemsConfig(y,v){var k,I;let x=[];return(k=y.dragDrop)!=null&&k.enabled&&x.push({id:"drag",type:"icon",icon:v+"drag.svg",events:{onmousedown:function(D){let N=this.menu.parent,F=N.editMode.dragDrop;F&&N.cell&&N.cell instanceof s&&F.onDragStart(D,N.cell)}}}),(I=y.settings)!=null&&I.enabled&&x.push({id:"settings",type:"icon",icon:v+"settings.svg",events:{click:function(){this.menu.parent.editMode.setEditOverlay(),this.menu.parent.onCellOptions()}}}),x.push({id:"destroy",type:"icon",className:r.classNames.menuDestroy,icon:v+"destroy.svg",events:{click:function(){let D=this.menu.parent,N=this.menu.parent.editMode,F=N.confirmationPopup;F.show({confirmButton:{value:N.lang.confirmButton,callback:D.onCellDestroy,context:D},cancelButton:{value:N.lang.cancelButton,callback:()=>{F.closePopup()}},text:N.lang.confirmDestroyCell})}}}),x}constructor(y){super(y,d(b.defaultOptions,(y.options.toolbars||{}).cell,{menu:{items:b.getItemsConfig(y.options,y.iconsURLPrefix)}})),y.customHTMLMode&&this.filterOptionsAvailableInCustomHTMLMode(),this.menu.initItems({})}showToolbar(y){let v=y.container,x=this.editMode.cellToolbar;if(x)if(v&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){let k=c.getOffsets(y,this.editMode.board.container),I=k.right-30-10,D=k.top+10;m(this.menu.items,N=>{var O,S,A;if(!((S=(O=y.options)==null?void 0:O.editMode)!=null&&S.toolbarItems)){N.activate();return}if(((A=y.options.editMode.toolbarItems[N.options.id])==null?void 0:A.enabled)===!1){N.deactivate();return}N.activate()}),this.setPosition(I,D),this.cell=y,this.refreshOutline(),x.isVisible=!0}else this.isVisible&&(this.hide(),x.isVisible=!1)}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){let y=this.editMode;y.sidebar&&(y.sidebar.show(this.cell),this.highlightCell())}onCellDestroy(){if(this.cell&&this.cell instanceof s){let y=this.cell.row,v=this.cell.id;this.resetEditedCell(),this.cell.destroy(),this.cell=void 0,this.editMode.hideToolbars(["cell","row"]),y&&y.cells&&y.cells.length&&(f(this.editMode.board,"cellResize",{cell:y.cells[0]}),f(y,"cellChange",{cell:y.cells[0],row:y}),f(this.editMode,"layoutChanged",{type:"cellDestroyed",target:v,board:this.editMode.board}))}}resetEditedCell(){this.editedCell=void 0}filterOptionsAvailableInCustomHTMLMode(){var y;this.options.menu.items=(y=this.options.menu.items)==null?void 0:y.filter(v=>typeof v!="string"&&v.id==="settings")}highlightCell(){this.cell&&(this.cell.setHighlight?this.cell.setHighlight():(this.cell.container.classList.add(r.classNames.cellEditHighlight),this.editMode.board.container.classList.add(r.classNames.dashboardCellEditHighlightActive)))}}return b.defaultOptions={enabled:!0,className:r.classNames.editToolbar,outline:!1,outlineClassName:r.classNames.editToolbarCellOutline,menu:{className:r.classNames.editToolbarCell,itemsClassName:r.classNames.editToolbarItem,items:[]}},b}),i(n,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[n["Core/Utilities.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/Toolbar/EditToolbar.js"],n["Dashboards/Layout/GUIElement.js"]],function(s,r,a,c){let{fireEvent:h,merge:d,objectEach:f}=s;class m extends a{static getMenuItemsConfig(w,y){var x;let v=[];return(x=w.dragDrop)!=null&&x.enabled&&v.push({id:"drag",type:"icon",icon:y+"drag.svg",events:{onmousedown:function(k){let I=this.menu.parent,D=I.editMode.dragDrop;k.preventDefault(),D&&I.row&&D.onDragStart(k,I.row)}}}),v.push({id:"destroy",type:"icon",className:r.classNames.menuDestroy,icon:y+"destroy.svg",events:{click:function(){let k=this.menu.parent,I=this.menu.parent.editMode,D=I.confirmationPopup;D.show({confirmButton:{value:I.lang.confirmButton,callback:k.onRowDestroy,context:k},cancelButton:{value:I.lang.cancelButton,callback:()=>{D.closePopup()}},text:I.lang.confirmDestroyRow})}}}),v}constructor(w){super(w,d(m.defaultOptions,(w.options.toolbars||{}).row,{menu:{items:m.getMenuItemsConfig(w.options,w.iconsURLPrefix)}})),this.menu.initItems({})}refreshOutline(w,y){this.row&&this.row.container&&super.refreshOutline(w,y,this.row,2)}showToolbar(w){let y,v,x,k=w.container,I=this.editMode.rowToolbar;if(I)if(k&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){let D=c.getOffsets(w,this.editMode.board.container),N=D.right-D.left;f(this.menu.items,F=>{var S,A,L;if(!((A=(S=w.options)==null?void 0:S.editMode)!=null&&A.toolbarItems)){F.activate();return}if(((L=w.options.editMode.toolbarItems[F.options.id])==null?void 0:L.enabled)===!1){F.deactivate();return}F.activate()}),x=N/2-this.container.clientWidth/2,y=D.left+x,v=D.top-this.container.clientHeight,this.setPosition(y,v),this.row=w,this.refreshOutline(-x,this.container.clientHeight),I.isVisible=!0}else this.isVisible&&(this.hide(),I.isVisible=!1)}onRowOptions(){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(){if(this.row){let w=this.row.options.id||-1;this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]),h(this.editMode,"layoutChanged",{type:"rowDestroyed",target:w,board:this.editMode.board})}}resetEditedRow(){this.editedRow=void 0}}return m.defaultOptions={enabled:!0,className:r.classNames.editToolbar,outline:!0,outlineClassName:r.classNames.editToolbarRowOutline,menu:{className:r.classNames.editToolbarRow,itemsClassName:r.classNames.editToolbarItem,items:[]}},m}),i(n,"Shared/BaseForm.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Utilities.js"]],function(s,r){let{addEvent:a,createElement:c}=r;return class{constructor(h,d){this.iconsURL=d,this.container=this.createPopupContainer(h),this.closeButton=this.addCloseButton()}createPopupContainer(h,d="highcharts-popup highcharts-no-tooltip"){return c("div",{className:d},void 0,h)}addCloseButton(h="highcharts-popup-close"){let d=this,f=this.iconsURL,m=c("button",{className:h},void 0,this.container);return m.style["background-image"]="url("+(f.match(/png|svg|jpeg|jpg|gif/ig)?f:f+"close.svg")+")",["click","touchstart"].forEach(b=>{a(m,b,d.closeButtonEvents.bind(d))}),a(document,"keydown",function(b){b.code==="Escape"&&d.closeButtonEvents()}),m}closeButtonEvents(){this.closePopup()}showPopup(h="highcharts-annotation-toolbar"){let d=this.container,f=this.closeButton;this.type=void 0,d.innerHTML=s.emptyHTML,d.className.indexOf(h)>=0&&(d.classList.remove(h),d.removeAttribute("style")),d.appendChild(f),d.style.display="block",d.style.height=""}closePopup(){this.container.style.display="none"}}}),i(n,"Dashboards/EditMode/ConfirmationPopup.js",[n["Core/Utilities.js"],n["Shared/BaseForm.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/EditRenderer.js"]],function(s,r,a,c){let{createElement:h}=s;return class extends r{constructor(d,f,m,b){super(d,f=b&&b.close&&b.close.icon?b.close.icon:f),this.editMode=m,this.options=b}createPopupContainer(d,f=a.classNames.confirmationPopup){return super.createPopupContainer(d,f)}addCloseButton(d=a.classNames.popupCloseButton){return super.addCloseButton(d)}closeButtonEvents(){var f;let d=(f=this.contentOptions)==null?void 0:f.cancelButton.callback;d&&d()}renderContent(){let d=this.contentOptions;if(!d)return;this.contentContainer=h("div",{className:a.classNames.popupContentContainer},{},this.container);let f=this.contentContainer.parentNode;f.style.marginTop="0px";let m=f.getBoundingClientRect().top;f.style.marginTop=(m<0?Math.abs(m-200):200)+"px",c.renderText(this.contentContainer,{title:d.text||""}),this.buttonContainer=h("div",{className:a.classNames.popupButtonContainer},{},this.container),c.renderButton(this.buttonContainer,{text:d.cancelButton.value,className:a.classNames.popupCancelBtn,callback:d.cancelButton.callback}),c.renderButton(this.buttonContainer,{text:d.confirmButton.value,className:a.classNames.popupConfirmBtn,callback:()=>{d.confirmButton.callback.call(d.confirmButton.context),this.closePopup()}})}show(d){this.contentOptions=d,this.showPopup(),this.renderContent(),this.editMode.setEditOverlay()}closePopup(){super.closePopup(),this.editMode.setEditOverlay(!0)}}}),i(n,"Dashboards/EditMode/AccordionMenu.js",[n["Dashboards/EditMode/EditRenderer.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/ConfirmationPopup.js"]],function(s,r,a,c){let{createElement:h,merge:d,error:f,fireEvent:m}=r;return class{constructor(b,w){this.changedOptions={},this.chartOptionsJSON={},this.oldOptionsBuffer={},this.waitingForConfirmation=!1,this.iconsURLPrefix=b,this.closeSidebar=w}renderContent(b,w,y){var F,O,S;let v,x,{editMode:k}=w.board,I=w.editableOptions.getOptions();this.component=w,this.oldOptionsBuffer=w.getEditableOptions(),k&&(this.confirmationPopup=new c(w.board.container,k.iconsURLPrefix,k,{close:{icon:""}}));let D=h("div",{className:a.classNames.accordionMenu},{},b);for(let A=0,L=I.length;A<L;A++)v=I[A],x=s.renderCollapseHeader(D,d({iconsURLPrefix:this.iconsURLPrefix,lang:(((F=w.board)==null?void 0:F.editMode)||a).lang},v)).content,this.renderAccordion(v,x,w);let N=h("div",{className:a.classNames.accordionMenuButtonsContainer},{},y);s.renderButton(N,{text:(((O=w.board)==null?void 0:O.editMode)||a).lang.confirmButton,className:a.classNames.popupConfirmBtn,callback:async()=>{await this.confirmChanges(),m(k,"confirmEditing")}}),s.renderButton(N,{text:(((S=w.board)==null?void 0:S.editMode)||a).lang.cancelButton,className:a.classNames.popupCancelBtn,callback:()=>{this.cancelChanges(),m(k,"cancelEditing")}}),y.appendChild(N)}updateOptions(b,w){var F,O,S;let y,v,x,k,I=b.length-1,D=this.changedOptions;if(I===0&&b[0]==="chartOptions")try{let A=JSON.parse(w);this.chartOptionsJSON=A}catch(A){f(`Dashboards Error: Wrong JSON config structure passed as a chart options. 
____________
${A}`)}for(let A=0;A<I;A++){let L=b[A];if(D[L]||(D[L]={}),D=D[L],L==="dataGridOptions"){let U=(F=this.component.dataGrid)==null?void 0:F.options;if(U){let z=this.oldOptionsBuffer;z.dataGridOptions||(z.dataGridOptions={}),k=z.dataGridOptions,x=U}}else x&&k&&(x=x[L],k[L]===void 0&&(k[L]={}),k=k[L]);if(L==="chartOptions"){let U=(O=this.component.chart)==null?void 0:O.options;if(U){let z=this.oldOptionsBuffer;z.chartOptions||(z.chartOptions={}),v=z.chartOptions,y=U}}else y&&v&&(y=y[L],v[L]===void 0&&(v[L]={}),v=v[L])}let N=b[I];D[N]=w,v&&y&&(v[N]=v[N]??y[N]),(S=this.component)==null||S.update(this.changedOptions)}renderAccordion(b,w,y){if(b.type==="nested")return this.renderNested(w,b,y);let v=s.getRendererFunction(b.type);v&&v(w,{...b,iconsURLPrefix:this.iconsURLPrefix,value:y.getEditableOptionValue(b.propertyPath),onchange:x=>this.updateOptions(b.propertyPath||[],x)})}renderNested(b,w,y){var x;if(!b||!w.nestedOptions)return;let v=w.nestedOptions;for(let k=0,I=v.length;k<I;++k){let D=v[k].name,N=v[k].options,F=!!v[k].showToggle,O=v[k].propertyPath||[],S=s.renderCollapseHeader(b,{name:D,isEnabled:!!y.getEditableOptionValue(O),iconsURLPrefix:this.iconsURLPrefix,showToggle:F,onchange:A=>this.updateOptions(O,A),isNested:!!N,isStandalone:!N,lang:(((x=y.board)==null?void 0:x.editMode)||a).lang});for(let A=0,L=N==null?void 0:N.length;A<L;++A)this.renderAccordion(N[A],S.content,y)}}cancelChanges(){Object.keys(this.changedOptions).length<1?this.closeSidebar():this.showCancelConfirmationPopup()}async confirmChanges(){let b=this.component;if(b){if(b.type==="Highcharts"&&Object.keys(this.chartOptionsJSON).length)await b.update({chartOptions:this.chartOptionsJSON});else if(b.type==="HTML"){let w=this.changedOptions;await b.update(w,!0)}m(b.board.editMode,"componentChanged",{target:b,changedOptions:d({},this.changedOptions),oldOptions:d({},this.oldOptionsBuffer)}),this.changedOptions={},this.chartOptionsJSON={},this.closeSidebar()}}async discardChanges(){let b=this.component;b&&(await b.update(this.oldOptionsBuffer),m(b.board.editMode,"componentChangesDiscarded",{target:b,changedOptions:d({},this.changedOptions),oldOptions:d({},this.oldOptionsBuffer)}),this.changedOptions={},this.chartOptionsJSON={})}showCancelConfirmationPopup(){var y,v;let b=this.confirmationPopup,w=(v=(y=this.component)==null?void 0:y.board)==null?void 0:v.editMode;b&&w&&!this.waitingForConfirmation&&(this.waitingForConfirmation=!0,b.show({text:w.lang.confirmDiscardChanges,confirmButton:{value:w.lang.confirmButton,callback:async()=>{await this.discardChanges(),this.waitingForConfirmation=!1,this.closeSidebar()},context:this},cancelButton:{value:w.lang.cancelButton,callback:()=>{b.closePopup(),w.setEditOverlay(),setTimeout(()=>{this.waitingForConfirmation=!1},100)}}}))}}}),i(n,"Dashboards/EditMode/SidebarPopup.js",[n["Core/Renderer/HTML/AST.js"],n["Dashboards/Layout/CellHTML.js"],n["Dashboards/EditMode/AccordionMenu.js"],n["Shared/BaseForm.js"],n["Dashboards/Actions/Bindings.js"],n["Dashboards/Layout/Cell.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/EditRenderer.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Layout/Layout.js"],n["Core/Utilities.js"]],function(s,r,a,c,h,d,f,m,b,w,y){let{addEvent:v,createElement:x,fireEvent:k,merge:I}=y;class D extends c{constructor(F,O,S){var A;super(F,O),this.options={components:["HTML","row","Highcharts","DataGrid","KPI"]},this.isVisible=!1,this.componentsList=[],this.editMode=S,this.options=I(this.options,((A=S.options.toolbars)==null?void 0:A.sidebar)||{}),this.componentsList=this.getComponentsList(this.options.components||[]),this.accordionMenu=new a(this.iconsURL,this.hide.bind(this))}detectRightSidebar(F){let O=this.editMode,S=O.customHTMLMode?O.board.container:O.board.layoutsWrapper;return!!S&&b.getOffsets(F,S).left<S.offsetWidth/2-10}removeClassNames(){let F=f.classNames,O=this.container.classList;O.remove(F.editSidebarShow),O.remove(F.editSidebarRightShow)}addClassNames(F){let O=this.container.classList;F?O.add(f.classNames.editSidebarRight):O.remove(f.classNames.editSidebarRight),setTimeout(()=>{O.add(f.classNames[F?"editSidebarRightShow":"editSidebarShow"])})}show(F){let O=this.editMode,S=!!(F&&this.detectRightSidebar(F));this.showPopup(f.classNames.editSidebarShow),this.addClassNames(S),O.resizer&&O.resizer.disableResizer(),O.editCellContext instanceof d&&O.editCellContext.row&&O.editCellContext.row.setHighlight(),O.hideToolbars(["cell","row"]),O.stopContextDetection(),this.isVisible=!0,this.generateContent(F)}generateContent(F){if(this.container.innerHTML=s.emptyHTML,this.renderHeader(F?this.editMode.lang.settings:this.editMode.lang.addComponent,""),this.sidebarWrapper=x("div",{className:f.classNames.editSidebarWrapper},void 0,this.container),!F){this.renderAddComponentsList();return}if(this.type=F.getType(),this.type==="cell-html"||this.type==="cell"){let O=F.mountedComponent;if(!O)return;this.accordionMenu.renderContent(this.sidebarWrapper,O,this.container)}}renderAddComponentsList(){let F,O=this,S=this.componentsList,A=x("div",{className:f.classNames.editGridItems},{},O.sidebarWrapper);for(let L=0,U=S.length;L<U;++L)(F=x("div",{},{},A)).addEventListener("mousedown",z=>{if(z.preventDefault(),O.editMode.dragDrop){let G=q=>{let Z=O.container.getBoundingClientRect();(q.clientX<Z.left||q.clientX>Z.right||q.clientY<Z.top||q.clientY>Z.bottom)&&(O.hide(),document.removeEventListener("mousemove",G))},H=()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",H),O.editMode.dragDrop.onDragStart(z,void 0,q=>{if(this.editMode.board.layouts.length===0){let ie=this.editMode.board,oe=new w(ie,{id:b.getElementId("layout"),copyId:"",parentContainerId:ie.container.id,rows:[{}],style:{}});oe&&ie.layouts.push(oe),q=oe.rows[0]}let Z=S[L].onDrop(O,q);Z&&(O.editMode.setEditCellContext(Z),O.show(Z),Z.setHighlight()),document.removeEventListener("mousemove",G)})}}),F.innerHTML=S[L].text}onDropNewComponent(F,O){let S=this.editMode.dragDrop;if(S){let A=(F.getType()==="cell"?F.row:F).addCell({id:b.getElementId("col")});S.onCellDragEnd(A);let L=I(O,{cell:A.id}),U=h.addComponent(L,this.editMode.board,A);return this.editMode.setEditOverlay(),(async()=>{let z=await U;z&&k(this.editMode,"layoutChanged",{type:"newComponent",target:z})})(),A}}hide(){let F=this.editMode,O=F.editCellContext;this.removeClassNames(),this.container.style.display="none",F.isEditOverlayActive&&F.setEditOverlay(!0),O instanceof d&&O.row?(F.showToolbars(["cell","row"],O),O.row.setHighlight(),O.setHighlight(!0)):O instanceof r&&F.cellToolbar&&(F.cellToolbar.showToolbar(O),O.setHighlight()),F.isContextDetectionActive=!0,this.isVisible=!1}closeButtonEvents(){this.type==="cell"||this.type==="cell-html"?this.accordionMenu.cancelChanges():this.hide()}renderHeader(F,O){var L;if(!this.container)return;let S=x("div",{className:f.classNames.editSidebarHeader},{},this.container);this.container.appendChild(S),this.headerWrapper=S;let A=m.renderIcon(this.headerWrapper,{icon:O,className:f.classNames.editSidebarTitle});A&&(A.textContent=F),(L=this.headerWrapper)==null||L.appendChild(this.closeButton)}getComponentsList(F){let O=this.editMode,S=O.board.componentTypes,A=[];return F.forEach(L=>{var z;let U=S[L];U?A.push({text:((z=O.lang)==null?void 0:z.sidebar[L])||U.name,onDrop:function(G,H){let q=U.prototype.getOptionsOnDrop(G);if(q)return G.onDropNewComponent(H,q)}}):L==="row"&&A.push(D.addRow)}),A}addCloseButton(F=f.classNames.popupCloseButton){return v(document,"click",O=>{O.stopPropagation(),this.container.style.display==="block"&&!this.container.contains(O.target)&&this.container.classList.value.includes("show")&&(this.type==="cell"||this.type==="cell-html"?this.accordionMenu.cancelChanges():this.hide())}),super.addCloseButton.call(this,F)}createPopupContainer(F,O=f.classNames.editSidebar){return super.createPopupContainer.call(this,F,O)}}return D.addRow={text:f.lang.sidebar.row,onDrop:function(N,F){if(!F)return;let O=(F.getType()==="cell"?F.row:F).layout.board,S=b.getElementId("layout"),A=b.getElementId("cell"),L=new w(O,{id:S,copyId:"",parentContainerId:O.container.id,rows:[{cells:[{id:A}]}],style:{}});L&&(O.layouts.push(L),k(O.editMode,"layoutChanged",{type:"newLayout",target:L,board:O})),h.addComponent({type:"HTML",cell:A,className:"highcharts-dashboards-component-placeholder",html:`
                            <h2> Placeholder </h2>
                            <span> This placeholder can be deleted when you add extra
                                components to this row.
                            </span>
                            `},O)}},D}),i(n,"Dashboards/EditMode/EditContextMenu.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Core/Utilities.js"],n["Dashboards/EditMode/Menu/Menu.js"]],function(s,r,a){let{addEvent:c,merge:h}=r;class d extends a{constructor(m,b,w){var y;if(super(w.board.container,h(d.defaultOptions,b||{}),w),this.editMode=w,this.options=h(d.defaultOptions,b||{}),(y=this.editMode.board.layoutsWrapper)==null||y.parentNode.insertBefore(this.container,this.editMode.board.layoutsWrapper),this.container.style.width=this.options.width+"px",super.initItems(d.items),this.options.items){let v=[];for(let x=0,k=this.options.items.length;x<k;++x)typeof this.options.items[x]=="string"?v.push(this.options.items[x]):this.options.items[x].id&&v.push(this.options.items[x].id);this.setActiveItems(v)}this.initEvents()}initEvents(){let m=this;c(document,"click",b=>{b.target!==this.container&&b.target!==m.editMode.tools.contextButtonElement&&!b.target.classList.contains(s.classNames.toggleSlider)&&b.target.tagName!=="INPUT"&&this.isVisible&&this.setVisible(!1)})}setVisible(m){let b=this.editMode.tools.contextButtonElement;this.container&&b&&(m?(this.container.style.display="block",this.isVisible=!0,b.setAttribute("aria-expanded","true")):(this.container.style.display="none",this.isVisible=!1,b.setAttribute("aria-expanded","false")))}updatePosition(m,b,w){let y=this.options.width||0,v=m?m.offsetLeft-y+m.offsetWidth:b,x=m?m.offsetTop+m.offsetHeight:w;v&&x&&(this.container.style.left=v+"px",this.container.style.top=x+"px")}}return d.defaultOptions={enabled:!0,width:150,className:s.classNames.contextMenu,itemsClassName:s.classNames.contextMenuItem,items:["editMode"]},d.items=h(a.items,{editMode:{id:"editMode",type:"toggle",getValue:function(f){return f.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.toggleEditMode()}}}}),d}),i(n,"Dashboards/Actions/ContextDetection.js",[n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r){let{defined:a}=r;class c{static isGUIElementOnParentEdge(d,f){let m=f==="top"||f==="bottom"?d.row.layout.getVisibleRows():f==="left"||f==="right"?d.row.getVisibleCells():[],b=m.length-1;return m[b]===d&&f==="right"||m[b]===d.row&&f==="bottom"||m[0]===d&&f==="left"||m[0]===d.row&&f==="top"}static getContextLevel(d,f,m,b){let w=d.getOverlappingLevels(b,f/2),y=f/w.length,v=w[w.length-1],x=d.row.layout.level-Math.floor(m/y);return x<v?v:x>d.row.layout.level?d.row.layout.level:x}static getContext(d,f,m){var N;let b,w=s.getOffsets(d),{width:y,height:v}=s.getDimFromOffsets(w);y<2*m&&(m=y/2);let x=f.clientX-w.left,k=f.clientY-w.top,I="bottom";switch(x>=-m&&x<=m?I="left":x-y>=-m&&x-y<=m?I="right":k>=-m&&k<=m?I="top":k-v>=-m&&k-v<=m&&(I="bottom"),I){case"right":b=x-y+m;break;case"left":b=m-x;break;case"top":b=m-k;break;case"bottom":b=k-v+m}let D={cell:d,side:I};if((N=d.row)!=null&&N.layout.level&&I&&c.isGUIElementOnParentEdge(d,I)&&a(b)){let F=c.getContextLevel(d,m,b,I),O=d.getParentCell(F);O&&(D.cell=O)}return D}}return c}),i(n,"Dashboards/Actions/DragDrop.js",[n["Core/Utilities.js"],n["Dashboards/Globals.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Actions/ContextDetection.js"]],function(s,r,a,c,h){let{addEvent:d,merge:f,css:m,fireEvent:b,createElement:w}=s;class y{constructor(x,k){this.editMode=x,this.options=f(y.defaultOptions,k),this.mockElement=w("div",{className:a.classNames.dragMock},{},x.board.container),this.dropPointer={isVisible:!1,align:"",element:w("div",{className:a.classNames.dropPointer},{},x.board.container)},this.isActive=!1,this.initEvents()}showDropPointer(x,k,I,D){this.dropPointer.isVisible=!0,m(this.dropPointer.element,{display:"block",left:x+"px",top:k+"px",height:D+"px",width:I+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(x){let k=this.editMode.board.container.getBoundingClientRect(),I=this.mockElement.clientWidth/2,D=x.clientX-k.left-I,N=x.clientY-k.top-I;m(this.mockElement,{left:D+"px",top:N+"px"})}initEvents(){d(document,"mousemove",this.onDrag.bind(this)),d(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(x,k,I){this.isActive=!0,this.editMode.hideToolbars(["cell","row"]),this.editMode.resizer&&this.editMode.resizer.disableResizer(),this.setMockElementPosition(x),k?(this.context=k,k.hide(),k.getType()===r.guiElementType.cell&&(b(this.editMode.board,"cellResize",{cell:k}),b(k.row,"cellChange",{cell:k,row:k.row}))):I&&(this.dragEndCallback=I),m(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(x){this.isActive&&(x.preventDefault(),this.setMockElementPosition(x),this.context?this.context.getType()===r.guiElementType.cell?this.onCellDrag(x):this.context.getType()===r.guiElementType.row&&this.onRowDrag(x):this.dragEndCallback&&this.onCellDrag(x))}onDragEnd(){this.isActive&&(this.isActive=!1,m(this.mockElement,{cursor:"grab",display:"none"}),this.context?(this.context.getType()===r.guiElementType.cell?this.onCellDragEnd():this.context.getType()===r.guiElementType.row&&this.onRowDragEnd(),this.context=void 0,this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))):this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer()))}onRowDrag(x,k){let I=this.mouseCellContext,D=this.options.dropPointerSize||0,N=this.options.rowDropOffset||0,F=!1;if(I){let O=k||h.getContext(I,x,N),S=O.side;if((this.dropPointer.align!==S||this.dropContext!==O.cell.row)&&(F=!0,this.dropPointer.align=S,this.dropContext=O.cell.row),S){let A=c.getOffsets(this.dropContext,this.editMode.board.container),{width:L,height:U}=c.getDimFromOffsets(A);(!this.dropPointer.isVisible||F)&&this.showDropPointer(A.left,A.top+(this.dropPointer.align==="bottom"?U:0)-D/2,L,D)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){let x=this.context,k=this.dropContext;this.dropPointer.align&&(x.layout.unmountRow(x),x.layout.rows.length===0&&x.layout.destroy(),k.layout.mountRow(x,(k.layout.getRowIndex(k)||0)+(this.dropPointer.align==="bottom"?1:0)),x.cells[0]&&(b(this.editMode.board,"cellResize",{cell:x.cells[0]}),b(x,"cellChange",{cell:x.cells[0],row:x}))),this.hideDropPointer(),x.show(),b(this.editMode,"layoutChanged",{type:"rowDragEnd",target:x,board:this.editMode.board})}onCellDrag(x,k){let I=this.mouseCellContext,D=this.options.cellDropOffset||0;I||k?this.onCellDragCellCtx(x,k||h.getContext(I,x,D)):this.mouseRowContext&&this.onCellDragRowCtx(x,this.mouseRowContext)}onCellDragCellCtx(x,k){let I=this.options.dropPointerSize||0,D=k.side,N=!1;if((this.dropPointer.align!==D||this.dropContext!==k.cell)&&(N=!0,this.dropPointer.align=D,this.dropContext=k.cell),D==="right"||D==="left"){let F=c.getOffsets(this.dropContext,this.editMode.board.container),{width:O,height:S}=c.getDimFromOffsets(F);if(!this.dropPointer.isVisible||N){let A=this.dropContext.row.getRowLevelInfo(x.clientY),L=A?A.rowLevel.bottom-A.rowLevel.top:S;this.showDropPointer(F.left+(D==="right"?O:0)-I/2,F.top,I,L)}}else if(D==="top"||D==="bottom"){let F=c.getOffsets(this.dropContext),O=this.dropContext.row.getRowLevelInfo(F.top);O&&(O.index===0&&D==="top"||O.index===O.rowLevels.length-1&&D==="bottom")&&this.onRowDrag(x,k)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(x,k){let I,D,N=this.options.dropPointerSize||0,F=c.getOffsets(k),O=k.getRowLevelInfo(x.clientY);if(O)for(let S=0,A=O.rowLevel.cells.length;S<A;++S){I=O.rowLevel.cells[S],D=c.getOffsets(I);let{width:L,height:U}=c.getDimFromOffsets(D),z=this.editMode.board.container.getBoundingClientRect(),G=O.rowLevel.bottom-O.rowLevel.top;if(I.isVisible){if(U<.8*G&&D.left<=x.clientX&&D.right>=x.clientX)D.top>x.clientY||D.bottom<x.clientY&&(this.showDropPointer(D.left-z.left,D.top-z.top+U,L,G-U),this.dropPointer.align="nestedBottom",this.dropContext=I),S=A;else if(S===0&&D.left>x.clientX||S===A-1&&D.right<x.clientX){if(!(D.left>x.clientX)){if(D.right<x.clientX){let H=F.right-D.right;this.showDropPointer(D.left+(S===0&&D.left>x.clientX?0:L)-N/2-z.left,D.top-z.top,H>N?H:N,G||U),this.dropPointer.align="right",this.dropContext=I}}S=A}}else I.isVisible||I!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(x){let k=x||this.context,I=this.dropContext;if(this.dropPointer.align&&I&&k)if(k.row.unmountCell(k),k.row.cells.length===0&&k.row.destroy(),(this.dropPointer.align==="top"||this.dropPointer.align==="bottom")&&I.getType()===r.guiElementType.row)I.layout.addRow({},void 0,(I.layout.getRowIndex(I)||0)+(this.dropPointer.align==="bottom"?1:0)).mountCell(k,0);else if(this.dropPointer.align==="nestedBottom"&&I.getType()===r.guiElementType.cell){let D=I.row,N=D.getCellIndex(I);D.unmountCell(I);let F=D.addCell({id:c.getElementId("col-nested"),layout:{rows:[{},{}]}},void 0,N);F.nestedLayout&&(F.nestedLayout.rows[0].mountCell(I),F.nestedLayout.rows[1].mountCell(k))}else I.getType()===r.guiElementType.cell&&I.row.mountCell(k,(I.row.getCellIndex(I)||0)+(this.dropPointer.align==="right"?1:0));b(this.editMode.board,"cellResize",{cell:k}),b(k.row,"cellChange",{cell:k,row:k.row}),this.hideDropPointer(),k.show(),b(this.editMode,"layoutChanged",{type:"cellDragEnd",target:k,board:this.editMode.board})}}return y.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16},y}),i(n,"Dashboards/Actions/Resizer.js",[n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/Layout/GUIElement.js"],n["Core/Utilities.js"]],function(s,r,a){let{merge:c,addEvent:h,createElement:d,fireEvent:f,removeEvent:m}=a;class b{static fromJSON(y,v){return new b(y,v.options)}constructor(y,v){this.editMode=y,this.options=c({},b.defaultOptions,y.options.resize,v),this.currentCell=void 0,this.isX=this.options.type.indexOf("x")>-1,this.isY=this.options.type.indexOf("y")>-1,this.isActive=!1,this.startX=0,this.tempSiblingsWidth=[],this.addSnaps()}addSnaps(){let y=this.editMode.iconsURLPrefix,v=this.options.snap.width||0,x=this.options.snap.height||0,k=this.editMode.board.container;this.snapRight=d("img",{className:s.classNames.resizeSnap+" "+s.classNames.resizeSnapX,src:y+"resize-handle.svg"},{width:v+"px",height:x+"px",left:"-9999px"},k),this.snapBottom=d("img",{className:s.classNames.resizeSnap+" "+s.classNames.resizeSnapY,src:y+"resize-handle.svg"},{width:v+"px",height:x+"px",top:"-9999px",left:"0px"},k),this.addResizeEvents()}disableResizer(){this.isActive=!1,this.currentDimension=void 0,this.currentCell=void 0,this.snapRight&&(this.snapRight.style.left="-9999px"),this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(y){this.currentCell=y;let v=r.getOffsets(y,this.editMode.board.container),x=v.left||0,k=v.top||0,{width:I,height:D}=r.getDimFromOffsets(v),N=this.options.snap.width||0,F=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=x+I-N+"px",this.snapRight.style.top=k+D/2-F/2+"px"),this.snapBottom&&(this.snapBottom.style.top=k+D-F+"px",this.snapBottom.style.left=x+I/2-N/2+"px")}setTempWidthSiblings(){let y=this.currentCell;if(y){let v,x,k=r.getOffsets(y),I=y.row.getRowLevelInfo(k.top),D=I&&I.rowLevel.cells||[];for(let N=0,F=D.length;N<F&&(v=(x=D[N]).container,x!==y);++N)v&&(v.style.flex="0 0 "+v.offsetWidth+"px",this.tempSiblingsWidth.push(x))}}revertSiblingsAutoWidth(){let y,v,x=this.tempSiblingsWidth;for(let k=0,I=x.length;k<I;++k)(y=x[k].container)&&(y.style.flex="1 1 0%",v=x[k]);this.tempSiblingsWidth=[],v&&(f(this.editMode.board,"cellResize",{cell:v}),f(v.row,"cellChange",{cell:v,row:v.row}))}addResizeEvents(){let y,v,x,k,I=this;I.mouseDownSnapX=y=function(N){I.isActive=!0,I.currentDimension="x",I.editMode.hideToolbars(["row","cell"]),I.setTempWidthSiblings(),I.startX=N.clientX},I.mouseDownSnapY=v=function(){I.isActive=!0,I.currentDimension="y",I.editMode.hideToolbars(["row","cell"])},I.mouseMoveSnap=x=function(N){I.isActive&&I.onMouseMove(N)},I.mouseUpSnap=k=function(){I.isActive&&(I.isActive=!1,I.currentDimension=void 0,I.revertSiblingsAutoWidth(),I.editMode.showToolbars(["row","cell"],I.currentCell),I.currentCell&&I.setSnapPositions(I.currentCell))},h(this.snapRight,"mousedown",y),h(this.snapBottom,"mousedown",v),h(document,"mousemove",x),h(document,"mouseup",k);let D=()=>{I.currentCell&&I.setSnapPositions(I.currentCell)};if(typeof ResizeObserver=="function")this.resizeObserver=new ResizeObserver(D),this.resizeObserver.observe(I.editMode.board.container);else{let N=h(window,"resize",D);h(this,"destroy",N)}}onMouseMove(y){let v=this.currentCell,x=v&&v.container,k=this.currentDimension;if(v&&x&&!((v.row.layout.board.editMode||{}).dragDrop||{}).isActive){let I=r.getOffsets(v),{width:D}=r.getDimFromOffsets(r.getOffsets(v.row));if(k==="x"){let N=Math.min(y.clientX-I.left,D)/D*100+"%";v.setSize(N),this.startX=y.clientX}k==="y"&&v.setSize(void 0,y.clientY-I.top),f(this.editMode.board,"cellResize",{cell:v}),f(v.row,"cellChange",{cell:v,row:v.row}),this.setSnapPositions(v)}}destroy(){var x;let y,v=["snapRight","snapBottom"];m(document,"mousemove"),m(document,"mouseup"),(x=this.resizeObserver)==null||x.unobserve(this.editMode.board.container);for(let k=0,I=v.length;k<I;++k)m(y=this[v[k]],"mousedown"),y.remove()}toJSON(){let y=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:y.enabled,styles:{minWidth:y.styles.minWidth,minHeight:y.styles.minHeight},type:y.type,snap:{width:y.snap.width,height:y.snap.height}}}}}return b.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:9,height:17}},b}),i(n,"Dashboards/EditMode/EditMode.js",[n["Dashboards/Layout/Cell.js"],n["Dashboards/Layout/CellHTML.js"],n["Dashboards/EditMode/EditGlobals.js"],n["Dashboards/EditMode/EditRenderer.js"],n["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],n["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],n["Dashboards/EditMode/SidebarPopup.js"],n["Dashboards/EditMode/EditContextMenu.js"],n["Dashboards/Actions/DragDrop.js"],n["Dashboards/Actions/Resizer.js"],n["Dashboards/EditMode/ConfirmationPopup.js"],n["Dashboards/Layout/GUIElement.js"],n["Dashboards/Globals.js"],n["Dashboards/Layout/Layout.js"],n["Core/Utilities.js"]],function(s,r,a,c,h,d,f,m,b,w,y,v,x,k,I){let{addEvent:D,createElement:N,css:F,merge:O}=I;return class{constructor(S,A){this.active=!1,this.customHTMLMode=!1,this.iconsURLPrefix="https://code.highcharts.com/dashboards/3.1.0/gfx/dashboards-icons/",this.iconsURLPrefix=A&&A.iconsURLPrefix||this.iconsURLPrefix,this.options=O({confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}},contextMenu:{icon:this.iconsURLPrefix+"menu.svg"},dragDrop:{enabled:!0},enabled:!0,resize:{enabled:!0},settings:{enabled:!0},toolbars:{cell:{enabled:!0},row:{enabled:!0}},tools:{addComponentBtn:{enabled:!0,icon:this.iconsURLPrefix+"add.svg"}}},A||{}),this.board=S,this.lang=O({},a.lang,this.options.lang),S.boardWrapper=S.container,S.guiEnabled&&this.initLayout(),this.isInitialized=!1,this.isContextDetectionActive=!1,this.tools={},S.editModeEnabled&&(this.customHTMLMode=!this.board.layoutsWrapper,this.contextPointer={isVisible:!1,element:N("div",{className:a.classNames.contextDetectionPointer},{},S.container)},this.createTools(),this.confirmationPopup=new y(S.container,this.iconsURLPrefix,this,this.options.confirmationPopup),this.editOverlay=N("div",{className:a.classNames.editOverlay},{},S.container),this.isEditOverlayActive=!1,S.fullscreen=new e.FullScreen(S),this.customHTMLMode&&S.container.classList.add(x.classNames.boardContainer))}onContextBtnClick(){this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}toggleEditMode(){this.active?this.deactivate():this.activate()}init(){var S,A,L,U,z;(S=this.options.resize)!=null&&S.enabled&&!this.customHTMLMode&&(this.resizer=new w(this,this.options.resize)),this.dragDrop=new b(this,this.options.dragDrop),!((L=(A=this.options.toolbars)==null?void 0:A.row)!=null&&L.enabled)||this.rowToolbar||this.customHTMLMode||(this.rowToolbar=new d(this)),(z=(U=this.options.toolbars)==null?void 0:U.cell)!=null&&z.enabled&&!this.cellToolbar&&(this.cellToolbar=new h(this)),this.sidebar||(this.sidebar=new f(this.board.container,this.iconsURLPrefix,this)),this.isInitialized=!0}initEvents(){let S=this,A=S.board;if(this.customHTMLMode){let U=A.mountedComponents.length;for(let z=0;z<U;++z)S.setCellEvents(A.mountedComponents[z].cell)}else for(let U=0,z=A.layouts.length;U<z;++U)S.setLayoutEvents(A.layouts[U]);S.cellToolbar&&(D(S.cellToolbar.container,"mouseenter",function(){S.stopContextDetection()}),D(S.cellToolbar.container,"mouseleave",function(){S.isContextDetectionActive=!0})),S.rowToolbar&&(D(S.rowToolbar.container,"mouseenter",function(){S.stopContextDetection()}),D(S.rowToolbar.container,"mouseleave",function(){S.isContextDetectionActive=!0}));let L=this.customHTMLMode?A.container:A.layoutsWrapper;D(L,"mousemove",S.onDetectContext.bind(S)),D(L,"click",S.onContextConfirm.bind(S)),D(L,"mouseleave",()=>{S.hideContextPointer()})}initLayout(){let S=this.board;S.container.innerHTML="",S.container=N("div",{className:x.classNames.boardContainer},{},S.boardWrapper),S.layoutsWrapper=N("div",{className:x.classNames.layoutsWrapper},{},S.container),S.options.gui&&this.setLayouts(S.options.gui),S.options.layoutsJSON&&!S.layouts.length&&this.setLayoutsFromJSON(S.options.layoutsJSON)}setLayouts(S){let A=this.board,L=S.layouts;for(let U=0,z=L.length;U<z;++U)A.layouts.push(new k(A,O({},S.layoutOptions,L[U])))}setLayoutsFromJSON(S){let A,L=this.board;for(let U=0,z=S.length;U<z;++U)(A=k.fromJSON(S[U],L))&&L.layouts.push(A)}setLayoutEvents(S){for(let A=0,L=S.rows.length;A<L;++A){let U=S.rows[A];this.setRowEvents(U);for(let z=0,G=U.cells.length;z<G;++z)this.setCellEvents(U.cells[z])}}setRowEvents(S){let A=this;if(A.dragDrop){let L=A.dragDrop;D(S.container,"mouseenter",function(){A.isContextDetectionActive&&(A.mouseRowContext=S)}),D(S.container,"mousemove",function(U){L.isActive&&U.target===S.container&&(L.mouseRowContext=S)}),D(S.container,"mouseleave",function(){L.isActive&&L.mouseRowContext===S&&(L.mouseRowContext=void 0),A.isContextDetectionActive&&(A.mouseRowContext=void 0)})}}setCellEvents(S){let A=this;if(S instanceof r)D(S.container,"mouseenter",function(){A.isContextDetectionActive&&(A.mouseCellContext=S)});else if(S.nestedLayout)A.setLayoutEvents(S.nestedLayout);else if(A.cellToolbar&&S.container&&(D(S.container,"mouseenter",function(){A.isContextDetectionActive&&(A.mouseCellContext=S)}),A.dragDrop||A.resizer)){let L=A.dragDrop;D(S.container,"mousemove",function(U){L&&L.isActive&&U.target===S.container&&(L.mouseCellContext=S,L.mouseRowContext=void 0)}),D(S.container,"mouseleave",function(){L&&L.isActive&&L.mouseCellContext===S&&(L.mouseCellContext=void 0),A.isContextDetectionActive&&(A.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents()),this.board.container.classList.add(a.classNames.editModeEnabled),this.addComponentBtn&&(this.addComponentBtn.style.display="block"),this.active=!0,this.isContextDetectionActive=!0}deactivate(){var S;this.board.container.classList.remove(a.classNames.editModeEnabled),this.hideToolbars(),this.editCellContext&&this.editCellContext instanceof s&&((S=this.editCellContext.row)==null||S.setHighlight()),this.addComponentBtn&&(this.addComponentBtn.style.display="none"),this.resizer&&this.resizer.disableResizer(),this.board.layoutsWrapper&&(this.board.layoutsWrapper.style.width="100%"),this.board.reflow(),this.active=!1,this.stopContextDetection(),this.editCellContext=void 0,this.potentialCellContext=void 0}isActive(){return this.active}hideToolbars(S){let A=S||["cell","row","sidebar"];for(let L=0,U=A.length;L<U;++L)switch(A[L]){case"cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case"row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case"sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(S,A){let L=S||["cell","row","sidebar"];for(let U=0,z=L.length;U<z;++U)switch(L[U]){case"cell":A&&this.cellToolbar&&this.cellToolbar.showToolbar(A);break;case"row":A&&A.row&&this.rowToolbar&&this.rowToolbar.showToolbar(A.row);break;case"sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var z,G,H,q;let S=this,{board:A,options:L,tools:U}=S;if(U.container=document.createElement("div"),U.container.classList.add(a.classNames.editTools),A.layoutsWrapper?A.layoutsWrapper.parentNode.insertBefore(U.container,A.layoutsWrapper):A.container.insertBefore(U.container,A.container.firstChild),L.contextMenu&&L.contextMenu.enabled&&(U.contextButtonElement=c.renderContextButton(U.container,S),S.tools.contextMenu||(S.tools.contextMenu=new m(S.board.container,S.options.contextMenu||{},S))),((G=(z=L.tools)==null?void 0:z.addComponentBtn)==null?void 0:G.enabled)&&((q=(H=L.toolbars)==null?void 0:H.cell)==null?void 0:q.enabled)&&!this.customHTMLMode){let Z=L.tools.addComponentBtn.icon;this.addComponentBtn=c.renderButton(U.container,{className:a.classNames.editToolsBtn,icon:Z,text:this.lang.addComponent,callback:()=>{S.sidebar&&(S.sidebar.show(),S.setEditOverlay())},style:{display:"none"}})}}onDetectContext(){let S;if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive&&(this.mouseCellContext?S=this.mouseCellContext:this.mouseRowContext&&(S=this.mouseRowContext.layout.parentCell),this.potentialCellContext=S,S)){let A=v.getOffsets(S,this.board.container),{width:L,height:U}=v.getDimFromOffsets(A);this.showContextPointer(A.left,A.top,L,U)}}stopContextDetection(){this.isContextDetectionActive=!1,this.dragDrop&&(this.dragDrop.mouseCellContext=void 0),this.mouseCellContext=void 0,this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(S,A){var L;if(S instanceof r||A instanceof r)this.editCellContext=S,(L=this.cellToolbar)==null||L.showToolbar(S);else{let U=A==null?void 0:A.row;this.editCellContext=S,this.showToolbars(["row","cell"],S),(!U||U!==S.row)&&(U&&U.setHighlight(),S.row&&S.row.setHighlight()),this.resizer&&this.resizer.setSnapPositions(S)}}showContextPointer(S,A,L,U){this.contextPointer&&(this.contextPointer.isVisible=!0,F(this.contextPointer.element,{display:"block",left:S+"px",top:A+"px",height:U+"px",width:L+"px"}))}hideContextPointer(){var S;(S=this.contextPointer)!=null&&S.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(S){let A=this.editOverlay,L=A==null?void 0:A.classList.contains(a.classNames.editOverlayActive);S||L?S&&L&&(A==null||A.classList.remove(a.classNames.editOverlayActive),this.isEditOverlayActive=!1):(A==null||A.classList.add(a.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}}),i(n,"Dashboards/EditMode/Fullscreen.js",[n["Core/Utilities.js"],n["Dashboards/Globals.js"]],function(s,r){let{addEvent:a}=s;return class{constructor(c){this.isOpen=!1,this.board=c,this.board.boardWrapper.classList.add(r.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(this.isOpen)return;let c=this,h=c.board,d=a(h.boardWrapper.ownerDocument,"fullscreenchange",function(){c.isOpen?(c.isOpen=!1,c.close()):(c.isOpen=!0,c.setButtonText())});c.unbindFullscreenEvent=()=>{d()},h.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.")})}close(){let c=this.board;this.isOpen&&c.boardWrapper.ownerDocument instanceof Document&&c.boardWrapper.ownerDocument.exitFullscreen(),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),this.isOpen=!1,this.setButtonText()}setButtonText(){let c=this.board.editMode,h=c&&c.tools.contextMenu,d=h&&h.items.viewFullscreen;if(d&&d.innerElement){let f=c.lang;d.innerElement.innerHTML=(this.isOpen?f.exitFullscreen:f.viewFullscreen)||""}}}}),i(n,"masters/modules/layout.src.js",[n["Dashboards/Globals.js"],n["Dashboards/EditMode/EditMode.js"],n["Dashboards/EditMode/Fullscreen.js"]],function(s,r,a){return s.EditMode=r,s.FullScreen=a,s})})})(QM);var L7=QM.exports;const V7=$_(L7);function F7(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:s,onRegisteredSW:r,onRegisterError:a}=t;let c,h;const d=async(m=!0)=>{await h};async function f(){if("serviceWorker"in navigator){if(c=await Wo(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/prod/sw.js",{scope:"/prod/",type:"classic"})).catch(m=>{a==null||a(m)}),!c)return;c.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),c.addEventListener("installed",m=>{m.isUpdate||i==null||i()}),c.register({immediate:e}).then(m=>{r?r("/prod/sw.js",m):s==null||s(m)}).catch(m=>{a==null||a(m)})}}return h=f(),d}F7({immediate:!0});const Ag=wB(g7);D5(Ag);Ag.use(O7);Im.HighchartsPlugin.custom.connectHighcharts(N7);Im.PluginHandler.addPlugin(Im.HighchartsPlugin);V7(Im);const B7=DI({projectId:"cloud-porsche",apiKey:"AIzaSyBMKjAnTXRxswz9NFQlDRXMieSyBDLZepk",authDomain:"cloud-porsche.firebaseapp.com"});Ag.use(d5,{firebaseApp:B7,modules:[u5({dependencies:{persistence:[dA],popupRedirectResolver:CA}})]});Ag.mount("#app");export{O5 as $,q7 as A,Ck as B,Xh as C,lw as D,ei as E,jO as F,ZO as G,N7 as H,Y7 as I,ua as J,cr as K,as as L,cK as M,d1 as N,cw as O,Dt as P,tI as Q,At as R,_I as S,sl as T,Gh as U,KS as V,Ps as W,Gq as X,Cg as Y,Vv as Z,aw as _,Es as a,SF as a$,Sh as a0,XR as a1,nJ as a2,vS as a3,bX as a4,Le as a5,Nt as a6,Mr as a7,Fn as a8,nt as a9,gi as aA,$5 as aB,bn as aC,Mq as aD,ow as aE,Dq as aF,id as aG,xd as aH,cn as aI,Cd as aJ,Ms as aK,zt as aL,uY as aM,Oq as aN,qM as aO,F5 as aP,Nq as aQ,Vm as aR,Jr as aS,Yc as aT,I1 as aU,G_ as aV,X7 as aW,ti as aX,H7 as aY,k8 as aZ,Om as a_,Nr as aa,Dr as ab,pt as ac,H_ as ad,db as ae,G7 as af,gK as ag,Cm as ah,K0 as ai,Tm as aj,J7 as ak,g$ as al,lM as am,Is as an,oM as ao,Jc as ap,rn as aq,pw as ar,oJ as as,U5 as at,o1 as au,HY as av,aM as aw,lt as ax,VY as ay,Zc as az,qi as b,tw as b$,xg as b0,UO as b1,ht as b2,Qi as b3,yi as b4,K7 as b5,_t as b6,uo as b7,fa as b8,Zi as b9,nO as bA,Gn as bB,oi as bC,VO as bD,ec as bE,ym as bF,wo as bG,ma as bH,Id as bI,eO as bJ,JR as bK,P7 as bL,b1 as bM,Y8 as bN,K8 as bO,DI as bP,Yp as bQ,v$ as bR,sJ as bS,Ig as bT,pr as bU,z7 as bV,j7 as bW,W2 as bX,Ar as bY,yg as bZ,bl as b_,Rr as ba,xS as bb,Ct as bc,mg as bd,mi as be,Or as bf,ho as bg,fJ as bh,iJ as bi,es as bj,Ji as bk,fw as bl,BY as bm,iw as bn,hn as bo,Ir as bp,kO as bq,Mm as br,$7 as bs,Wo as bt,U1 as bu,fs as bv,Zh as bw,fX as bx,pX as by,sM as bz,Pn as c,wd as c0,z5 as c1,rJ as c2,Wn as c3,As as c4,Tq as c5,e7 as c6,mw as c7,wg as c8,nM as c9,mJ as ca,QO as cb,C7 as cc,W5 as cd,lJ as ce,dJ as cf,DY as cg,pm as ch,ds as ci,rw as cj,Pr as ck,Ed as cl,vg as cm,sw as cn,NY as co,hJ as cp,Nc as cq,yo as cr,K_ as cs,uJ as ct,cJ as cu,Hb as cv,aJ as cw,nw as cx,mo as d,Yi as e,W_ as f,re as g,ps as h,dt as i,yc as j,Q as k,v1 as l,SO as m,Ei as n,Qt as o,RM as p,kn as q,Ye as r,tc as s,rl as t,He as u,rd as v,Tt as w,M7 as x,pc as y,W7 as z};
